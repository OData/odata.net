Î˜
7D:\odata.net\src\Microsoft.Spatial\..\PlatformHelper.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal11 
static11 
class11 
PlatformHelper11 (
{22 
[66 	
System66	 
.66 
Diagnostics66 
.66 
CodeAnalysis66 (
.66( )
SuppressMessage66) 8
(668 9
$str669 P
,66P Q
$str66R s
,66s t
Justification	66u ‚
=
66ƒ „
$str
66… 
)
66 ‚
]
66‚ ƒ
internal77 
static77 
readonly77  
Type77! %
[77% &
]77& '

EmptyTypes77( 2
=773 4
new775 8
Type779 =
[77= >
$num77> ?
]77? @
;77@ A
internal<< 
static<< 
readonly<<  
Regex<<! &
DateValidator<<' 4
=<<5 6
CreateCompiled<<7 E
(<<E F
$str<<F {
,<<{ |
RegexOptions	<<} ‰
.
<<‰ Š

Singleline
<<Š ”
)
<<” •
;
<<• –
internalAA 
staticAA 
readonlyAA  
RegexAA! &
TimeOfDayValidatorAA' 9
=AA: ;
CreateCompiledAA< J
(AAJ K
$str	AAK 
,
AA 
RegexOptions
AA œ
.
AAœ 

Singleline
AA §
)
AA§ ¨
;
AA¨ ©
internalFF 
staticFF 
readonlyFF  
RegexFF! &,
 PotentialDateTimeOffsetValidatorFF' G
=FFH I
CreateCompiledFFJ X
(FFX Y
$str	FFY –
,
FF– —
RegexOptions
FF˜ ¤
.
FF¤ ¥

Singleline
FF¥ ¯
)
FF¯ °
;
FF° ±
internalLL 
staticLL 
readonlyLL  
stringLL! '
UriSchemeHttpLL( 5
=LL6 7
$strLL8 >
;LL> ?
internalQQ 
staticQQ 
readonlyQQ  
stringQQ! '
UriSchemeHttpsQQ( 6
=QQ7 8
$strQQ9 @
;QQ@ A
[gg 	
Systemgg	 
.gg 
Diagnosticsgg 
.gg 
CodeAnalysisgg (
.gg( )
SuppressMessagegg) 8
(gg8 9
$strgg9 P
,ggP Q
$strggR s
,ggs t
Justification	ggu ‚
=
ggƒ „
$str
gg… 
)
gg ‚
]
gg‚ ƒ
internalhh 
statichh 
Assemblyhh  
GetAssemblyhh! ,
(hh, -
thishh- 1
Typehh2 6
typehh7 ;
)hh; <
{ii 	
returnkk 
typekk 
.kk 
GetTypeInfokk #
(kk# $
)kk$ %
.kk% &
Assemblykk& .
;kk. /
}oo 	
[vv 	
Systemvv	 
.vv 
Diagnosticsvv 
.vv 
CodeAnalysisvv (
.vv( )
SuppressMessagevv) 8
(vv8 9
$strvv9 P
,vvP Q
$strvvR s
,vvs t
Justification	vvu ‚
=
vvƒ „
$str
vv… 
)
vv ‚
]
vv‚ ƒ
internalww 
staticww 
boolww 
IsValueTypeww (
(ww( )
thisww) -
Typeww. 2
typeww3 7
)ww7 8
{xx 	
returnzz 
typezz 
.zz 
GetTypeInfozz #
(zz# $
)zz$ %
.zz% &
IsValueTypezz& 1
;zz1 2
}~~ 	
[
…… 	
System
……	 
.
…… 
Diagnostics
…… 
.
…… 
CodeAnalysis
…… (
.
……( )
SuppressMessage
……) 8
(
……8 9
$str
……9 P
,
……P Q
$str
……R s
,
……s t
Justification……u ‚
=……ƒ „
$str……… 
)…… ‚
]……‚ ƒ
internal
†† 
static
†† 
bool
†† 

IsAbstract
†† '
(
††' (
this
††( ,
Type
††- 1
type
††2 6
)
††6 7
{
‡‡ 	
return
‰‰ 
type
‰‰ 
.
‰‰ 
GetTypeInfo
‰‰ #
(
‰‰# $
)
‰‰$ %
.
‰‰% &

IsAbstract
‰‰& 0
;
‰‰0 1
}
 	
[
”” 	
System
””	 
.
”” 
Diagnostics
”” 
.
”” 
CodeAnalysis
”” (
.
””( )
SuppressMessage
””) 8
(
””8 9
$str
””9 P
,
””P Q
$str
””R s
,
””s t
Justification””u ‚
=””ƒ „
$str””… 
)”” ‚
]””‚ ƒ
internal
•• 
static
•• 
bool
•• 
IsGenericType
•• *
(
••* +
this
••+ /
Type
••0 4
type
••5 9
)
••9 :
{
–– 	
return
˜˜ 
type
˜˜ 
.
˜˜ 
GetTypeInfo
˜˜ #
(
˜˜# $
)
˜˜$ %
.
˜˜% &
IsGenericType
˜˜& 3
;
˜˜3 4
}
œœ 	
[
££ 	
System
££	 
.
££ 
Diagnostics
££ 
.
££ 
CodeAnalysis
££ (
.
££( )
SuppressMessage
££) 8
(
££8 9
$str
££9 P
,
££P Q
$str
££R s
,
££s t
Justification££u ‚
=££ƒ „
$str££… 
)££ ‚
]££‚ ƒ
internal
¤¤ 
static
¤¤ 
bool
¤¤ %
IsGenericTypeDefinition
¤¤ 4
(
¤¤4 5
this
¤¤5 9
Type
¤¤: >
type
¤¤? C
)
¤¤C D
{
¥¥ 	
return
§§ 
type
§§ 
.
§§ 
GetTypeInfo
§§ #
(
§§# $
)
§§$ %
.
§§% &%
IsGenericTypeDefinition
§§& =
;
§§= >
}
«« 	
[
²² 	
System
²²	 
.
²² 
Diagnostics
²² 
.
²² 
CodeAnalysis
²² (
.
²²( )
SuppressMessage
²²) 8
(
²²8 9
$str
²²9 P
,
²²P Q
$str
²²R s
,
²²s t
Justification²²u ‚
=²²ƒ „
$str²²… 
)²² ‚
]²²‚ ƒ
internal
³³ 
static
³³ 
bool
³³ 
	IsVisible
³³ &
(
³³& '
this
³³' +
Type
³³, 0
type
³³1 5
)
³³5 6
{
´´ 	
return
¶¶ 
type
¶¶ 
.
¶¶ 
GetTypeInfo
¶¶ #
(
¶¶# $
)
¶¶$ %
.
¶¶% &
	IsVisible
¶¶& /
;
¶¶/ 0
}
ºº 	
[
ÁÁ 	
System
ÁÁ	 
.
ÁÁ 
Diagnostics
ÁÁ 
.
ÁÁ 
CodeAnalysis
ÁÁ (
.
ÁÁ( )
SuppressMessage
ÁÁ) 8
(
ÁÁ8 9
$str
ÁÁ9 P
,
ÁÁP Q
$str
ÁÁR s
,
ÁÁs t
JustificationÁÁu ‚
=ÁÁƒ „
$strÁÁ… 
)ÁÁ ‚
]ÁÁ‚ ƒ
internal
ÂÂ 
static
ÂÂ 
bool
ÂÂ 
IsInterface
ÂÂ (
(
ÂÂ( )
this
ÂÂ) -
Type
ÂÂ. 2
type
ÂÂ3 7
)
ÂÂ7 8
{
ÃÃ 	
return
ÅÅ 
type
ÅÅ 
.
ÅÅ 
GetTypeInfo
ÅÅ #
(
ÅÅ# $
)
ÅÅ$ %
.
ÅÅ% &
IsInterface
ÅÅ& 1
;
ÅÅ1 2
}
ÉÉ 	
[
ĞĞ 	
System
ĞĞ	 
.
ĞĞ 
Diagnostics
ĞĞ 
.
ĞĞ 
CodeAnalysis
ĞĞ (
.
ĞĞ( )
SuppressMessage
ĞĞ) 8
(
ĞĞ8 9
$str
ĞĞ9 P
,
ĞĞP Q
$str
ĞĞR s
,
ĞĞs t
JustificationĞĞu ‚
=ĞĞƒ „
$strĞĞ… 
)ĞĞ ‚
]ĞĞ‚ ƒ
internal
ÑÑ 
static
ÑÑ 
bool
ÑÑ 
IsClass
ÑÑ $
(
ÑÑ$ %
this
ÑÑ% )
Type
ÑÑ* .
type
ÑÑ/ 3
)
ÑÑ3 4
{
ÒÒ 	
return
ÔÔ 
type
ÔÔ 
.
ÔÔ 
GetTypeInfo
ÔÔ #
(
ÔÔ# $
)
ÔÔ$ %
.
ÔÔ% &
IsClass
ÔÔ& -
;
ÔÔ- .
}
ØØ 	
[
ßß 	
System
ßß	 
.
ßß 
Diagnostics
ßß 
.
ßß 
CodeAnalysis
ßß (
.
ßß( )
SuppressMessage
ßß) 8
(
ßß8 9
$str
ßß9 P
,
ßßP Q
$str
ßßR s
,
ßßs t
Justificationßßu ‚
=ßßƒ „
$strßß… 
)ßß ‚
]ßß‚ ƒ
internal
àà 
static
àà 
bool
àà 
IsEnum
àà #
(
àà# $
this
àà$ (
Type
àà) -
type
àà. 2
)
àà2 3
{
áá 	
return
ãã 
type
ãã 
.
ãã 
GetTypeInfo
ãã #
(
ãã# $
)
ãã$ %
.
ãã% &
IsEnum
ãã& ,
;
ãã, -
}
çç 	
[
îî 	
System
îî	 
.
îî 
Diagnostics
îî 
.
îî 
CodeAnalysis
îî (
.
îî( )
SuppressMessage
îî) 8
(
îî8 9
$str
îî9 P
,
îîP Q
$str
îîR s
,
îîs t
Justificationîîu ‚
=îîƒ „
$strîî… 
)îî ‚
]îî‚ ƒ
internal
ïï 
static
ïï 
Type
ïï 
GetBaseType
ïï (
(
ïï( )
this
ïï) -
Type
ïï. 2
type
ïï3 7
)
ïï7 8
{
ğğ 	
return
òò 
type
òò 
.
òò 
GetTypeInfo
òò #
(
òò# $
)
òò$ %
.
òò% &
BaseType
òò& .
;
òò. /
}
öö 	
[
ıı 	
System
ıı	 
.
ıı 
Diagnostics
ıı 
.
ıı 
CodeAnalysis
ıı (
.
ıı( )
SuppressMessage
ıı) 8
(
ıı8 9
$str
ıı9 P
,
ııP Q
$str
ııR s
,
ııs t
Justificationııu ‚
=ııƒ „
$strıı… 
)ıı ‚
]ıı‚ ƒ
internal
şş 
static
şş 
bool
şş '
ContainsGenericParameters
şş 6
(
şş6 7
this
şş7 ;
Type
şş< @
type
şşA E
)
şşE F
{
ÿÿ 	
return
 
type
 
.
 
GetTypeInfo
 #
(
# $
)
$ %
.
% &'
ContainsGenericParameters
& ?
;
? @
}
…… 	
internal
°° 
static
°° 
DateTimeOffset
°° &+
ConvertStringToDateTimeOffset
°°' D
(
°°D E
string
°°E K
text
°°L P
)
°°P Q
{
±± 	
text
²² 
=
²² (
AddSecondsPaddingIfMissing
²² -
(
²²- .
text
²². 2
)
²²2 3
;
²²3 4
DateTimeOffset
³³ 
dateTimeOffset
³³ )
=
³³* +

XmlConvert
³³, 6
.
³³6 7
ToDateTimeOffset
³³7 G
(
³³G H
text
³³H L
)
³³L M
;
³³M N?
1ValidateTimeZoneInformationInDateTimeOffsetString
¶¶ =
(
¶¶= >
text
¶¶> B
)
¶¶B C
;
¶¶C D
return
¸¸ 
dateTimeOffset
¸¸ !
;
¸¸! "
}
¹¹ 	
[
ßß 	
System
ßß	 
.
ßß 
Diagnostics
ßß 
.
ßß 
CodeAnalysis
ßß (
.
ßß( )
SuppressMessage
ßß) 8
(
ßß8 9
$str
ßß9 P
,
ßßP Q
$str
ßßR s
,
ßßs t
Justificationßßu ‚
=ßßƒ „
$strßß… 
)ßß ‚
]ßß‚ ƒ
private
àà 
static
àà 
void
àà ?
1ValidateTimeZoneInformationInDateTimeOffsetString
àà M
(
ààM N
string
ààN T
text
ààU Y
)
ààY Z
{
áá 	
if
çç 
(
çç 
text
çç 
.
çç 
Length
çç 
>
çç 
$num
çç 
&&
çç  "
(
çç# $
text
çç$ (
[
çç( )
text
çç) -
.
çç- .
Length
çç. 4
-
çç5 6
$num
çç7 8
]
çç8 9
==
çç: <
$char
çç= @
||
ççA C
text
ççD H
[
ççH I
text
ççI M
.
ççM N
Length
ççN T
-
ççU V
$num
ççW X
]
ççX Y
==
ççZ \
$char
çç] `
)
çç` a
)
çça b
{
èè 
return
éé 
;
éé 
}
êê 
const
íí 
int
íí  
timeZoneSignOffset
íí (
=
íí) *
$num
íí+ ,
;
íí, -
if
îî 
(
îî 
text
îî 
.
îî 
Length
îî 
>
îî  
timeZoneSignOffset
îî 0
&&
îî1 3
(
îî4 5
text
îî5 9
[
îî9 :
text
îî: >
.
îî> ?
Length
îî? E
-
îîF G 
timeZoneSignOffset
îîH Z
]
îîZ [
==
îî\ ^
$char
îî_ b
||
îîc e
text
îîf j
[
îîj k
text
îîk o
.
îîo p
Length
îîp v
-
îîw x!
timeZoneSignOffsetîîy ‹
]îî‹ Œ
==îî 
$charîî “
)îî“ ”
)îî” •
{
ïï 
return
ğğ 
;
ğğ 
}
ññ 
throw
ôô 
new
ôô 
FormatException
ôô %
(
ôô% &
Strings
ôô& -
.
ôô- .>
0PlatformHelper_DateTimeOffsetMustContainTimeZone
ôô. ^
(
ôô^ _
text
ôô_ c
)
ôôc d
)
ôôd e
;
ôôe f
}
õõ 	
internal
üü 
static
üü 
string
üü (
AddSecondsPaddingIfMissing
üü 9
(
üü9 :
string
üü: @
text
üüA E
)
üüE F
{
ıı 	
int
şş 
indexOfT
şş 
=
şş 
text
şş 
.
şş  
IndexOf
şş  '
(
şş' (
$str
şş( +
,
şş+ ,
System
şş- 3
.
şş3 4
StringComparison
şş4 D
.
şşD E
Ordinal
şşE L
)
şşL M
;
şşM N
const
ÿÿ 
int
ÿÿ &
ColonBeforeSecondsOffset
ÿÿ .
=
ÿÿ/ 0
$num
ÿÿ1 2
;
ÿÿ2 3
int
€€ '
indexOfColonBeforeSeconds
€€ )
=
€€* +
indexOfT
€€, 4
+
€€5 6&
ColonBeforeSecondsOffset
€€7 O
;
€€O P
if
ƒƒ 
(
ƒƒ 
indexOfT
ƒƒ 
>
ƒƒ 
$num
ƒƒ 
&&
ƒƒ 
(
„„ 
text
„„ 
.
„„ 
Length
„„ 
==
„„ '
indexOfColonBeforeSeconds
„„  9
||
„„: <
text
„„= A
.
„„A B
Length
„„B H
>
„„I J'
indexOfColonBeforeSeconds
„„K d
&&
„„e g
text
„„h l
[
„„l m(
indexOfColonBeforeSeconds„„m †
]„„† ‡
!=„„ˆ Š
$char„„‹ 
)„„ 
)„„ 
{
…… 
text
†† 
=
†† 
text
†† 
.
†† 
Insert
†† "
(
††" #'
indexOfColonBeforeSeconds
††# <
,
††< =
$str
††> C
)
††C D
;
††D E
}
‡‡ 
return
‰‰ 
text
‰‰ 
;
‰‰ 
}
ŠŠ 	
[
’’ 	
System
’’	 
.
’’ 
Diagnostics
’’ 
.
’’ 
CodeAnalysis
’’ (
.
’’( )
SuppressMessage
’’) 8
(
’’8 9
$str
’’9 P
,
’’P Q
$str
’’R s
,
’’s t
Justification’’u ‚
=’’ƒ „
$str’’… 
)’’ ‚
]’’‚ ƒ
internal
““ 
static
““ 
Type
““ 
GetTypeOrThrow
““ +
(
““+ ,
string
““, 2
typeName
““3 ;
)
““; <
{
”” 	
return
•• 
Type
•• 
.
•• 
GetType
•• 
(
••  
typeName
••  (
,
••( )
true
••* .
)
••. /
;
••/ 0
}
–– 	
internal
¡¡ 
static
¡¡ 
UnicodeCategory
¡¡ ' 
GetUnicodeCategory
¡¡( :
(
¡¡: ;
Char
¡¡; ?
c
¡¡@ A
)
¡¡A B
{
¢¢ 	
return
¥¥ 
CharUnicodeInfo
¥¥ "
.
¥¥" # 
GetUnicodeCategory
¥¥# 5
(
¥¥5 6
c
¥¥6 7
)
¥¥7 8
;
¥¥8 9
}
©© 	
[
°° 	
System
°°	 
.
°° 
Diagnostics
°° 
.
°° 
CodeAnalysis
°° (
.
°°( )
SuppressMessage
°°) 8
(
°°8 9
$str
°°9 P
,
°°P Q
$str
°°R s
,
°°s t
Justification°°u ‚
=°°ƒ „
$str°°… 
)°° ‚
]°°‚ ƒ
internal
±± 
static
±± 
bool
±± 

IsProperty
±± '
(
±±' (

MemberInfo
±±( 2
member
±±3 9
)
±±9 :
{
²² 	
return
´´ 
member
´´ 
is
´´ 
PropertyInfo
´´ )
;
´´) *
}
¸¸ 	
[
¿¿ 	
System
¿¿	 
.
¿¿ 
Diagnostics
¿¿ 
.
¿¿ 
CodeAnalysis
¿¿ (
.
¿¿( )
SuppressMessage
¿¿) 8
(
¿¿8 9
$str
¿¿9 P
,
¿¿P Q
$str
¿¿R s
,
¿¿s t
Justification¿¿u ‚
=¿¿ƒ „
$str¿¿… 
)¿¿ ‚
]¿¿‚ ƒ
internal
ÀÀ 
static
ÀÀ 
bool
ÀÀ 
IsPrimitive
ÀÀ (
(
ÀÀ( )
this
ÀÀ) -
Type
ÀÀ. 2
type
ÀÀ3 7
)
ÀÀ7 8
{
ÁÁ 	
return
ÃÃ 
type
ÃÃ 
.
ÃÃ 
GetTypeInfo
ÃÃ #
(
ÃÃ# $
)
ÃÃ$ %
.
ÃÃ% &
IsPrimitive
ÃÃ& 1
;
ÃÃ1 2
}
ÇÇ 	
[
ÎÎ 	
System
ÎÎ	 
.
ÎÎ 
Diagnostics
ÎÎ 
.
ÎÎ 
CodeAnalysis
ÎÎ (
.
ÎÎ( )
SuppressMessage
ÎÎ) 8
(
ÎÎ8 9
$str
ÎÎ9 P
,
ÎÎP Q
$str
ÎÎR s
,
ÎÎs t
JustificationÎÎu ‚
=ÎÎƒ „
$strÎÎ… 
)ÎÎ ‚
]ÎÎ‚ ƒ
internal
ÏÏ 
static
ÏÏ 
bool
ÏÏ 
IsSealed
ÏÏ %
(
ÏÏ% &
this
ÏÏ& *
Type
ÏÏ+ /
type
ÏÏ0 4
)
ÏÏ4 5
{
ĞĞ 	
return
ÒÒ 
type
ÒÒ 
.
ÒÒ 
GetTypeInfo
ÒÒ #
(
ÒÒ# $
)
ÒÒ$ %
.
ÒÒ% &
IsSealed
ÒÒ& .
;
ÒÒ. /
}
ÖÖ 	
[
İİ 	
System
İİ	 
.
İİ 
Diagnostics
İİ 
.
İİ 
CodeAnalysis
İİ (
.
İİ( )
SuppressMessage
İİ) 8
(
İİ8 9
$str
İİ9 P
,
İİP Q
$str
İİR s
,
İİs t
Justificationİİu ‚
=İİƒ „
$strİİ… 
)İİ ‚
]İİ‚ ƒ
internal
ŞŞ 
static
ŞŞ 
bool
ŞŞ 
IsMethod
ŞŞ %
(
ŞŞ% &

MemberInfo
ŞŞ& 0
member
ŞŞ1 7
)
ŞŞ7 8
{
ßß 	
return
áá 
member
áá 
is
áá 

MethodInfo
áá '
;
áá' (
}
åå 	
[
îî 	
System
îî	 
.
îî 
Diagnostics
îî 
.
îî 
CodeAnalysis
îî (
.
îî( )
SuppressMessage
îî) 8
(
îî8 9
$str
îî9 P
,
îîP Q
$str
îîR s
,
îîs t
Justificationîîu ‚
=îîƒ „
$strîî… 
)îî ‚
]îî‚ ƒ
internal
ïï 
static
ïï 
bool
ïï 
AreMembersEqual
ïï ,
(
ïï, -

MemberInfo
ïï- 7
member1
ïï8 ?
,
ïï? @

MemberInfo
ïïA K
member2
ïïL S
)
ïïS T
{
ğğ 	
return
òò 
member1
òò 
==
òò 
member2
òò %
;
òò% &
}
öö 	
[
şş 	
System
şş	 
.
şş 
Diagnostics
şş 
.
şş 
CodeAnalysis
şş (
.
şş( )
SuppressMessage
şş) 8
(
şş8 9
$str
şş9 P
,
şşP Q
$str
şşR s
,
şşs t
Justificationşşu ‚
=şşƒ „
$strşş… 
)şş ‚
]şş‚ ƒ
internal
ÿÿ 
static
ÿÿ 
IEnumerable
ÿÿ #
<
ÿÿ# $
PropertyInfo
ÿÿ$ 0
>
ÿÿ0 1!
GetPublicProperties
ÿÿ2 E
(
ÿÿE F
this
ÿÿF J
Type
ÿÿK O
type
ÿÿP T
,
ÿÿT U
bool
ÿÿV Z
instanceOnly
ÿÿ[ g
)
ÿÿg h
{
€€ 	
return
 !
GetPublicProperties
 &
(
& '
type
' +
,
+ ,
instanceOnly
- 9
,
9 :
false
; @
)
Q R
;
R S
}
‚‚ 	
[
‹‹ 	
System
‹‹	 
.
‹‹ 
Diagnostics
‹‹ 
.
‹‹ 
CodeAnalysis
‹‹ (
.
‹‹( )
SuppressMessage
‹‹) 8
(
‹‹8 9
$str
‹‹9 P
,
‹‹P Q
$str
‹‹R s
,
‹‹s t
Justification‹‹u ‚
=‹‹ƒ „
$str‹‹… 
)‹‹ ‚
]‹‹‚ ƒ
internal
ŒŒ 
static
ŒŒ 
IEnumerable
ŒŒ #
<
ŒŒ# $
PropertyInfo
ŒŒ$ 0
>
ŒŒ0 1!
GetPublicProperties
ŒŒ2 E
(
ŒŒE F
this
ŒŒF J
Type
ŒŒK O
type
ŒŒP T
,
ŒŒT U
bool
ŒŒV Z
instanceOnly
ŒŒ[ g
,
ŒŒg h
bool
ŒŒi m
declaredOnly
ŒŒn z
)
ŒŒz {
{
 	
IEnumerable
““ 
<
““ 
PropertyInfo
““ $
>
““$ %

properties
““& 0
=
““1 2
declaredOnly
““3 ?
?
““@ A
type
““B F
.
““F G
GetTypeInfo
““G R
(
““R S
)
““S T
.
““T U 
DeclaredProperties
““U g
:
““h i
type
““j n
.
““n o#
GetRuntimeProperties““o ƒ
(““ƒ „
)““„ …
;““… †
return
”” 

properties
”” 
.
”” 
Where
”” #
(
””# $
p
””$ %
=>
””& (
IsPublic
””) 1
(
””1 2
p
””2 3
)
””3 4
&&
””5 7
(
””8 9
!
””9 :
instanceOnly
””: F
||
””G I

IsInstance
””J T
(
””T U
p
””U V
)
””V W
)
””W X
)
””X Y
;
””Y Z
}
££ 	
internal
¬¬ 
static
¬¬ 
IEnumerable
¬¬ #
<
¬¬# $
PropertyInfo
¬¬$ 0
>
¬¬0 1$
GetNonPublicProperties
¬¬2 H
(
¬¬H I
this
¬¬I M
Type
¬¬N R
type
¬¬S W
,
¬¬W X
bool
¬¬Y ]
instanceOnly
¬¬^ j
,
¬¬j k
bool
¬¬l p
declaredOnly
¬¬q }
)
¬¬} ~
{
­­ 	
IEnumerable
³³ 
<
³³ 
PropertyInfo
³³ $
>
³³$ %

properties
³³& 0
=
³³1 2
declaredOnly
³³3 ?
?
³³@ A
type
³³B F
.
³³F G
GetTypeInfo
³³G R
(
³³R S
)
³³S T
.
³³T U 
DeclaredProperties
³³U g
:
³³h i
type
³³j n
.
³³n o#
GetRuntimeProperties³³o ƒ
(³³ƒ „
)³³„ …
;³³… †
return
´´ 

properties
´´ 
.
´´ 
Where
´´ #
(
´´# $
p
´´$ %
=>
´´& (
!
´´) *
IsPublic
´´* 2
(
´´2 3
p
´´3 4
)
´´4 5
&&
´´6 8
(
´´9 :
!
´´: ;
instanceOnly
´´; G
||
´´H J

IsInstance
´´K U
(
´´U V
p
´´V W
)
´´W X
)
´´X Y
)
´´Y Z
;
´´Z [
}
ÃÃ 	
[
ËË 	
System
ËË	 
.
ËË 
Diagnostics
ËË 
.
ËË 
CodeAnalysis
ËË (
.
ËË( )
SuppressMessage
ËË) 8
(
ËË8 9
$str
ËË9 P
,
ËËP Q
$str
ËËR s
,
ËËs t
JustificationËËu ‚
=ËËƒ „
$strËË… 
)ËË ‚
]ËË‚ ƒ
internal
ÌÌ 
static
ÌÌ 
IEnumerable
ÌÌ #
<
ÌÌ# $
ConstructorInfo
ÌÌ$ 3
>
ÌÌ3 4%
GetInstanceConstructors
ÌÌ5 L
(
ÌÌL M
this
ÌÌM Q
Type
ÌÌR V
type
ÌÌW [
,
ÌÌ[ \
bool
ÌÌ] a
isPublic
ÌÌb j
)
ÌÌj k
{
ÍÍ 	
return
ÏÏ 
type
ÏÏ 
.
ÏÏ 
GetTypeInfo
ÏÏ #
(
ÏÏ# $
)
ÏÏ$ %
.
ÏÏ% &"
DeclaredConstructors
ÏÏ& :
.
ÏÏ: ;
Where
ÏÏ; @
(
ÏÏ@ A
c
ÏÏA B
=>
ÏÏC E
!
ÏÏF G
c
ÏÏG H
.
ÏÏH I
IsStatic
ÏÏI Q
&&
ÏÏR T
isPublic
ÏÏU ]
==
ÏÏ^ `
c
ÏÏa b
.
ÏÏb c
IsPublic
ÏÏc k
)
ÏÏk l
;
ÏÏl m
}
ÕÕ 	
[
ŞŞ 	
System
ŞŞ	 
.
ŞŞ 
Diagnostics
ŞŞ 
.
ŞŞ 
CodeAnalysis
ŞŞ (
.
ŞŞ( )
SuppressMessage
ŞŞ) 8
(
ŞŞ8 9
$str
ŞŞ9 P
,
ŞŞP Q
$str
ŞŞR s
,
ŞŞs t
JustificationŞŞu ‚
=ŞŞƒ „
$strŞŞ… 
)ŞŞ ‚
]ŞŞ‚ ƒ
internal
ßß 
static
ßß 
ConstructorInfo
ßß '$
GetInstanceConstructor
ßß( >
(
ßß> ?
this
ßß? C
Type
ßßD H
type
ßßI M
,
ßßM N
bool
ßßO S
isPublic
ßßT \
,
ßß\ ]
Type
ßß^ b
[
ßßb c
]
ßßc d
argTypes
ßße m
)
ßßm n
{
àà 	
return
ââ %
GetInstanceConstructors
ââ *
(
ââ* +
type
ââ+ /
,
ââ/ 0
isPublic
ââ1 9
)
ââ9 :
.
ââ: ;
SingleOrDefault
ââ; J
(
ââJ K
c
ââK L
=>
ââM O
CheckTypeArgs
ââP ]
(
ââ] ^
c
ââ^ _
,
ââ_ `
argTypes
ââa i
)
ââi j
)
ââj k
;
ââk l
}
éé 	
internal
òò 
static
òò 
bool
òò 
TryGetMethod
òò )
(
òò) *
this
òò* .
Type
òò/ 3
type
òò4 8
,
òò8 9
string
òò: @
name
òòA E
,
òòE F
Type
òòG K
[
òòK L
]
òòL M
parameterTypes
òòN \
,
òò\ ]
out
òò^ a

MethodInfo
òòb l
foundMethod
òòm x
)
òòx y
{
óó 	
foundMethod
ôô 
=
ôô 
null
ôô 
;
ôô 
try
õõ 
{
öö 
foundMethod
÷÷ 
=
÷÷ 
type
÷÷ "
.
÷÷" #
	GetMethod
÷÷# ,
(
÷÷, -
name
÷÷- 1
,
÷÷1 2
parameterTypes
÷÷3 A
)
÷÷A B
;
÷÷B C
return
øø 
foundMethod
øø "
!=
øø# %
null
øø& *
;
øø* +
}
ùù 
catch
úú 
(
úú #
ArgumentNullException
úú (
)
úú( )
{
ûû 
return
üü 
false
üü 
;
üü 
}
ıı 
}
şş 	
internal
…… 
static
…… 
IEnumerable
…… #
<
……# $

MethodInfo
……$ .
>
……. /

GetMethods
……0 :
(
……: ;
this
……; ?
Type
……@ D
type
……E I
)
……I J
{
†† 	
return
ˆˆ 
type
ˆˆ 
.
ˆˆ 
GetRuntimeMethods
ˆˆ )
(
ˆˆ) *
)
ˆˆ* +
;
ˆˆ+ ,
}
ŒŒ 	
[
–– 	
System
––	 
.
–– 
Diagnostics
–– 
.
–– 
CodeAnalysis
–– (
.
––( )
SuppressMessage
––) 8
(
––8 9
$str
––9 P
,
––P Q
$str
––R s
,
––s t
Justification––u ‚
=––ƒ „
$str––… 
)–– ‚
]––‚ ƒ
internal
—— 
static
—— 

MethodInfo
—— "
	GetMethod
——# ,
(
——, -
this
——- 1
Type
——2 6
type
——7 ;
,
——; <
string
——= C
name
——D H
,
——H I
bool
——J N
isPublic
——O W
,
——W X
bool
——Y ]
isStatic
——^ f
)
——f g
{
˜˜ 	
return
 
type
 
.
 
GetRuntimeMethods
 )
(
) *
)
* +
.
 
Where
 
(
 
m
ŸŸ 
=>
ŸŸ 
m
   
.
   
Name
   
==
   !
name
  " &
&&
  ' )
isPublic
¡¡  
==
¡¡! #
m
¡¡$ %
.
¡¡% &
IsPublic
¡¡& .
&&
¡¡/ 1
isStatic
¢¢  
==
¢¢! #
m
¢¢$ %
.
¢¢% &
IsStatic
¢¢& .
)
¢¢. /
.
££ 
SingleOrDefault
££  
(
££  !
)
££! "
;
££" #
}
ªª 	
[
µµ 	
System
µµ	 
.
µµ 
Diagnostics
µµ 
.
µµ 
CodeAnalysis
µµ (
.
µµ( )
SuppressMessage
µµ) 8
(
µµ8 9
$str
µµ9 P
,
µµP Q
$str
µµR s
,
µµs t
Justificationµµu ‚
=µµƒ „
$strµµ… 
)µµ ‚
]µµ‚ ƒ
internal
¶¶ 
static
¶¶ 

MethodInfo
¶¶ "
	GetMethod
¶¶# ,
(
¶¶, -
this
¶¶- 1
Type
¶¶2 6
type
¶¶7 ;
,
¶¶; <
string
¶¶= C
name
¶¶D H
,
¶¶H I
Type
¶¶J N
[
¶¶N O
]
¶¶O P
types
¶¶Q V
,
¶¶V W
bool
¶¶X \
isPublic
¶¶] e
,
¶¶e f
bool
¶¶g k
isStatic
¶¶l t
)
¶¶t u
{
·· 	

MethodInfo
¹¹ 

methodInfo
¹¹ !
=
¹¹" #
type
¹¹$ (
.
¹¹( )
	GetMethod
¹¹) 2
(
¹¹2 3
name
¹¹3 7
,
¹¹7 8
types
¹¹9 >
)
¹¹> ?
;
¹¹? @
if
ºº 
(
ºº 
isPublic
ºº 
==
ºº 

methodInfo
ºº &
.
ºº& '
IsPublic
ºº' /
&&
ºº0 2
isStatic
ºº3 ;
==
ºº< >

methodInfo
ºº? I
.
ººI J
IsStatic
ººJ R
)
ººR S
{
»» 
return
¼¼ 

methodInfo
¼¼ !
;
¼¼! "
}
½½ 
return
¿¿ 
null
¿¿ 
;
¿¿ 
}
ÆÆ 	
[
ÍÍ 	
System
ÍÍ	 
.
ÍÍ 
Diagnostics
ÍÍ 
.
ÍÍ 
CodeAnalysis
ÍÍ (
.
ÍÍ( )
SuppressMessage
ÍÍ) 8
(
ÍÍ8 9
$str
ÍÍ9 P
,
ÍÍP Q
$str
ÍÍR s
,
ÍÍs t
JustificationÍÍu ‚
=ÍÍƒ „
$strÍÍ… 
)ÍÍ ‚
]ÍÍ‚ ƒ
internal
ÎÎ 
static
ÎÎ 
IEnumerable
ÎÎ #
<
ÎÎ# $

MethodInfo
ÎÎ$ .
>
ÎÎ. /$
GetPublicStaticMethods
ÎÎ0 F
(
ÎÎF G
this
ÎÎG K
Type
ÎÎL P
type
ÎÎQ U
)
ÎÎU V
{
ÏÏ 	
return
ÑÑ 
type
ÑÑ 
.
ÑÑ 
GetRuntimeMethods
ÑÑ )
(
ÑÑ) *
)
ÑÑ* +
.
ÑÑ+ ,
Where
ÑÑ, 1
(
ÑÑ1 2
m
ÑÑ2 3
=>
ÑÑ4 6
m
ÑÑ7 8
.
ÑÑ8 9
IsPublic
ÑÑ9 A
&&
ÑÑB D
m
ÑÑE F
.
ÑÑF G
IsStatic
ÑÑG O
)
ÑÑO P
;
ÑÑP Q
}
ÕÕ 	
[
ÜÜ 	
System
ÜÜ	 
.
ÜÜ 
Diagnostics
ÜÜ 
.
ÜÜ 
CodeAnalysis
ÜÜ (
.
ÜÜ( )
SuppressMessage
ÜÜ) 8
(
ÜÜ8 9
$str
ÜÜ9 P
,
ÜÜP Q
$str
ÜÜR s
,
ÜÜs t
JustificationÜÜu ‚
=ÜÜƒ „
$strÜÜ… 
)ÜÜ ‚
]ÜÜ‚ ƒ
internal
İİ 
static
İİ 
IEnumerable
İİ #
<
İİ# $
Type
İİ$ (
>
İİ( )%
GetNonPublicNestedTypes
İİ* A
(
İİA B
this
İİB F
Type
İİG K
type
İİL P
)
İİP Q
{
ŞŞ 	
return
àà 
type
àà 
.
àà 
GetTypeInfo
àà #
(
àà# $
)
àà$ %
.
àà% &!
DeclaredNestedTypes
àà& 9
.
àà9 :
Where
àà: ?
(
àà? @
t
àà@ A
=>
ààB D
!
ààE F
t
ààF G
.
ààG H
IsNestedPublic
ààH V
)
ààV W
.
ààW X
Select
ààX ^
(
àà^ _
t
àà_ `
=>
ààa c
t
ààd e
.
ààe f
AsType
ààf l
(
ààl m
)
ààm n
)
ààn o
;
àào p
}
ää 	
private
îî 
static
îî 
bool
îî 
CheckTypeArgs
îî )
(
îî) *
ConstructorInfo
îî* 9
constructorInfo
îî: I
,
îîI J
Type
îîK O
[
îîO P
]
îîP Q
types
îîR W
)
îîW X
{
ïï 	
Debug
ğğ 
.
ğğ 
Assert
ğğ 
(
ğğ 
types
ğğ 
!=
ğğ !
null
ğğ" &
,
ğğ& '
$strğğ( Ÿ
)ğğŸ  
;ğğ  ¡
ParameterInfo
òò 
[
òò 
]
òò 

parameters
òò &
=
òò' (
constructorInfo
òò) 8
.
òò8 9
GetParameters
òò9 F
(
òòF G
)
òòG H
;
òòH I
if
óó 
(
óó 

parameters
óó 
.
óó 
Length
óó !
!=
óó" $
types
óó% *
.
óó* +
Length
óó+ 1
)
óó1 2
{
ôô 
return
õõ 
false
õõ 
;
õõ 
}
öö 
for
øø 
(
øø 
int
øø 
i
øø 
=
øø 
$num
øø 
;
øø 
i
øø 
<
øø 

parameters
øø  *
.
øø* +
Length
øø+ 1
;
øø1 2
i
øø3 4
++
øø4 6
)
øø6 7
{
ùù 
if
úú 
(
úú 

parameters
úú 
[
úú 
i
úú  
]
úú  !
.
úú! "
ParameterType
úú" /
!=
úú0 2
types
úú3 8
[
úú8 9
i
úú9 :
]
úú: ;
)
úú; <
{
ûû 
return
üü 
false
üü  
;
üü  !
}
ıı 
}
şş 
return
€€ 
true
€€ 
;
€€ 
}
 	
internal
ŠŠ 
static
ŠŠ 
bool
ŠŠ 
IsAssignableFrom
ŠŠ -
(
ŠŠ- .
this
ŠŠ. 2
Type
ŠŠ3 7
thisType
ŠŠ8 @
,
ŠŠ@ A
Type
ŠŠB F
	otherType
ŠŠG P
)
ŠŠP Q
{
‹‹ 	
return
ŒŒ 
thisType
ŒŒ 
.
ŒŒ 
GetTypeInfo
ŒŒ '
(
ŒŒ' (
)
ŒŒ( )
.
ŒŒ) *
IsAssignableFrom
ŒŒ* :
(
ŒŒ: ;
	otherType
ŒŒ; D
.
ŒŒD E
GetTypeInfo
ŒŒE P
(
ŒŒP Q
)
ŒŒQ R
)
ŒŒR S
;
ŒŒS T
}
 	
internal
™™ 
static
™™ 
bool
™™ 
IsSubclassOf
™™ )
(
™™) *
this
™™* .
Type
™™/ 3
thisType
™™4 <
,
™™< =
Type
™™> B
	otherType
™™C L
)
™™L M
{
šš 	
if
££ 
(
££ 
thisType
££ 
==
££ 
	otherType
££ %
)
££% &
{
¤¤ 
return
¥¥ 
false
¥¥ 
;
¥¥ 
}
¦¦ 
Type
¨¨ 
type
¨¨ 
=
¨¨ 
thisType
¨¨  
.
¨¨  !
GetTypeInfo
¨¨! ,
(
¨¨, -
)
¨¨- .
.
¨¨. /
BaseType
¨¨/ 7
;
¨¨7 8
while
©© 
(
©© 
type
©© 
!=
©© 
null
©© 
)
©©  
{
ªª 
if
«« 
(
«« 
type
«« 
==
«« 
	otherType
«« %
)
««% &
{
¬¬ 
return
­­ 
true
­­ 
;
­­  
}
®® 
type
°° 
=
°° 
type
°° 
.
°° 
GetTypeInfo
°° '
(
°°' (
)
°°( )
.
°°) *
BaseType
°°* 2
;
°°2 3
}
±± 
return
³³ 
false
³³ 
;
³³ 
}
´´ 	
internal
¼¼ 
static
¼¼ 

MethodInfo
¼¼ "
	GetMethod
¼¼# ,
(
¼¼, -
this
¼¼- 1
Type
¼¼2 6
type
¼¼7 ;
,
¼¼; <
string
¼¼= C
name
¼¼D H
)
¼¼H I
{
½½ 	
return
¾¾ 
type
¾¾ 
.
¾¾ 
GetRuntimeMethods
¾¾ )
(
¾¾) *
)
¾¾* +
.
¾¾+ ,
Where
¾¾, 1
(
¾¾1 2
m
¾¾2 3
=>
¾¾4 6
m
¾¾7 8
.
¾¾8 9
IsPublic
¾¾9 A
&&
¾¾B D
m
¾¾E F
.
¾¾F G
Name
¾¾G K
==
¾¾L N
name
¾¾O S
)
¾¾S T
.
¾¾T U
SingleOrDefault
¾¾U d
(
¾¾d e
)
¾¾e f
;
¾¾f g
}
¿¿ 	
internal
ÈÈ 
static
ÈÈ 

MethodInfo
ÈÈ "
	GetMethod
ÈÈ# ,
(
ÈÈ, -
this
ÈÈ- 1
Type
ÈÈ2 6
type
ÈÈ7 ;
,
ÈÈ; <
string
ÈÈ= C
name
ÈÈD H
,
ÈÈH I
Type
ÈÈJ N
[
ÈÈN O
]
ÈÈO P
types
ÈÈQ V
)
ÈÈV W
{
ÉÉ 	
return
ËË 
type
ËË 
.
ËË 
GetRuntimeMethod
ËË (
(
ËË( )
name
ËË) -
,
ËË- .
types
ËË/ 4
)
ËË4 5
;
ËË5 6
}
ÌÌ 	
internal
×× 
static
×× 

MethodInfo
×× "&
GetMethodWithGenericArgs
××# ;
(
××; <
this
××< @
Type
××A E
type
××F J
,
××J K
string
××L R
name
××S W
,
××W X
bool
××Y ]
isPublic
××^ f
,
××f g
bool
××h l
isStatic
××m u
,
××u v
int
××w z
genericArgCount××{ Š
)××Š ‹
{
ØØ 	
return
ÙÙ 
type
ÙÙ 
.
ÙÙ 
GetRuntimeMethods
ÙÙ )
(
ÙÙ) *
)
ÙÙ* +
.
ÙÙ+ ,
Single
ÙÙ, 2
(
ÙÙ2 3
m
ÙÙ3 4
=>
ÙÙ5 7
m
ÙÙ8 9
.
ÙÙ9 :
Name
ÙÙ: >
==
ÙÙ? A
name
ÙÙB F
&&
ÙÙG I
m
ÙÙJ K
.
ÙÙK L
IsPublic
ÙÙL T
==
ÙÙU W
isPublic
ÙÙX `
&&
ÙÙa c
m
ÙÙd e
.
ÙÙe f
IsStatic
ÙÙf n
==
ÙÙo q
isStatic
ÙÙr z
&&
ÙÙ{ }
m
ÙÙ~ 
.ÙÙ €#
GetGenericArgumentsÙÙ€ “
(ÙÙ“ ”
)ÙÙ” •
.ÙÙ• –
CountÙÙ– ›
(ÙÙ› œ
)ÙÙœ 
==ÙÙ  
genericArgCountÙÙ¡ °
)ÙÙ° ±
;ÙÙ± ²
}
ÚÚ 	
internal
ãã 
static
ãã 
PropertyInfo
ãã $
GetProperty
ãã% 0
(
ãã0 1
this
ãã1 5
Type
ãã6 :
type
ãã; ?
,
ãã? @
string
ããA G
name
ããH L
,
ããL M
Type
ããN R

returnType
ããS ]
)
ãã] ^
{
ää 	
PropertyInfo
ææ 
propertyInfo
ææ %
=
ææ& '
type
ææ( ,
.
ææ, - 
GetRuntimeProperty
ææ- ?
(
ææ? @
name
ææ@ D
)
ææD E
;
ææE F
if
çç 
(
çç 
propertyInfo
çç 
!=
çç 
null
çç  $
&&
çç% '
propertyInfo
çç( 4
.
çç4 5
PropertyType
çç5 A
==
ççB D

returnType
ççE O
)
ççO P
{
èè 
return
éé 
propertyInfo
éé #
;
éé# $
}
êê 
return
ìì 
null
ìì 
;
ìì 
}
íí 	
internal
õõ 
static
õõ 
PropertyInfo
õõ $
GetProperty
õõ% 0
(
õõ0 1
this
õõ1 5
Type
õõ6 :
type
õõ; ?
,
õõ? @
string
õõA G
name
õõH L
)
õõL M
{
öö 	
return
øø 
type
øø 
.
øø  
GetRuntimeProperty
øø *
(
øø* +
name
øø+ /
)
øø/ 0
;
øø0 1
}
ùù 	
internal
€€ 
static
€€ 

MethodInfo
€€ "
GetGetMethod
€€# /
(
€€/ 0
this
€€0 4
PropertyInfo
€€5 A
propertyInfo
€€B N
)
€€N O
{
 	

MethodInfo
‚‚ 
	getMethod
‚‚  
=
‚‚! "
propertyInfo
‚‚# /
.
‚‚/ 0
	GetMethod
‚‚0 9
;
‚‚9 :
if
ƒƒ 
(
ƒƒ 
	getMethod
ƒƒ 
!=
ƒƒ 
null
ƒƒ !
&&
ƒƒ" $
	getMethod
ƒƒ% .
.
ƒƒ. /
IsPublic
ƒƒ/ 7
)
ƒƒ7 8
{
„„ 
return
…… 
	getMethod
……  
;
……  !
}
†† 
return
ˆˆ 
null
ˆˆ 
;
ˆˆ 
}
‰‰ 	
internal
 
static
 

MethodInfo
 "
GetSetMethod
# /
(
/ 0
this
0 4
PropertyInfo
5 A
propertyInfo
B N
)
N O
{
‘‘ 	

MethodInfo
’’ 
	setMethod
’’  
=
’’! "
propertyInfo
’’# /
.
’’/ 0
	SetMethod
’’0 9
;
’’9 :
if
““ 
(
““ 
	setMethod
““ 
!=
““ 
null
““ !
&&
““" $
	setMethod
““% .
.
““. /
IsPublic
““/ 7
)
““7 8
{
”” 
return
•• 
	setMethod
••  
;
••  !
}
–– 
return
˜˜ 
null
˜˜ 
;
˜˜ 
}
™™ 	
internal
   
static
   

MethodInfo
   "
GetBaseDefinition
  # 4
(
  4 5
this
  5 9

MethodInfo
  : D

methodInfo
  E O
)
  O P
{
¡¡ 	
return
¢¢ 

methodInfo
¢¢ 
.
¢¢ &
GetRuntimeBaseDefinition
¢¢ 6
(
¢¢6 7
)
¢¢7 8
;
¢¢8 9
}
££ 	
internal
ªª 
static
ªª 
IEnumerable
ªª #
<
ªª# $
PropertyInfo
ªª$ 0
>
ªª0 1
GetProperties
ªª2 ?
(
ªª? @
this
ªª@ D
Type
ªªE I
type
ªªJ N
)
ªªN O
{
«« 	
return
¬¬ !
GetPublicProperties
¬¬ &
(
¬¬& '
type
¬¬' +
,
¬¬+ ,
false
¬¬- 2
)
¬¬C D
;
¬¬D E
}
­­ 	
internal
´´ 
static
´´ 
IEnumerable
´´ #
<
´´# $
	FieldInfo
´´$ -
>
´´- .
	GetFields
´´/ 8
(
´´8 9
this
´´9 =
Type
´´> B
type
´´C G
)
´´G H
{
µµ 	
return
·· 
type
·· 
.
·· 
GetRuntimeFields
·· (
(
··( )
)
··) *
.
¸¸ 
Where
¸¸ 
(
¸¸ 
m
¸¸ 
=>
¸¸ 
m
¸¸ 
.
¸¸ 
IsPublic
¸¸ &
)
¸¸& '
;
¸¸' (
}
¹¹ 	
internal
ÂÂ 
static
ÂÂ 
IEnumerable
ÂÂ #
<
ÂÂ# $
object
ÂÂ$ *
>
ÂÂ* +!
GetCustomAttributes
ÂÂ, ?
(
ÂÂ? @
this
ÂÂ@ D
Type
ÂÂE I
type
ÂÂJ N
,
ÂÂN O
Type
ÂÂP T
attributeType
ÂÂU b
,
ÂÂb c
bool
ÂÂd h
inherit
ÂÂi p
)
ÂÂp q
{
ÃÃ 	
return
ÄÄ 
type
ÄÄ 
.
ÄÄ 
GetTypeInfo
ÄÄ #
(
ÄÄ# $
)
ÄÄ$ %
.
ÄÄ% &!
GetCustomAttributes
ÄÄ& 9
(
ÄÄ9 :
attributeType
ÄÄ: G
,
ÄÄG H
inherit
ÄÄI P
)
ÄÄP Q
;
ÄÄQ R
}
ÅÅ 	
internal
ÍÍ 
static
ÍÍ 
IEnumerable
ÍÍ #
<
ÍÍ# $
object
ÍÍ$ *
>
ÍÍ* +!
GetCustomAttributes
ÍÍ, ?
(
ÍÍ? @
this
ÍÍ@ D
Type
ÍÍE I
type
ÍÍJ N
,
ÍÍN O
bool
ÍÍP T
inherit
ÍÍU \
)
ÍÍ\ ]
{
ÎÎ 	
return
ÏÏ 
type
ÏÏ 
.
ÏÏ 
GetTypeInfo
ÏÏ #
(
ÏÏ# $
)
ÏÏ$ %
.
ÏÏ% &!
GetCustomAttributes
ÏÏ& 9
(
ÏÏ9 :
inherit
ÏÏ: A
)
ÏÏA B
;
ÏÏB C
}
ĞĞ 	
internal
×× 
static
×× 
Type
×× 
[
×× 
]
×× !
GetGenericArguments
×× 2
(
××2 3
this
××3 7
Type
××8 <
type
××= A
)
××A B
{
ØØ 	
if
ÙÙ 
(
ÙÙ 
type
ÙÙ 
.
ÙÙ 
GetTypeInfo
ÙÙ  
(
ÙÙ  !
)
ÙÙ! "
.
ÙÙ" #%
IsGenericTypeDefinition
ÙÙ# :
)
ÙÙ: ;
{
ÚÚ 
return
ÛÛ 
type
ÛÛ 
.
ÛÛ 
GetTypeInfo
ÛÛ '
(
ÛÛ' (
)
ÛÛ( )
.
ÛÛ) *#
GenericTypeParameters
ÛÛ* ?
;
ÛÛ? @
}
ÜÜ 
else
İİ 
{
ŞŞ 
return
ßß 
type
ßß 
.
ßß "
GenericTypeArguments
ßß 0
;
ßß0 1
}
àà 
}
áá 	
internal
èè 
static
èè 
IEnumerable
èè #
<
èè# $
Type
èè$ (
>
èè( )
GetInterfaces
èè* 7
(
èè7 8
this
èè8 <
Type
èè= A
type
èèB F
)
èèF G
{
éé 	
return
êê 
type
êê 
.
êê 
GetTypeInfo
êê #
(
êê# $
)
êê$ %
.
êê% &#
ImplementedInterfaces
êê& ;
;
êê; <
}
ëë 	
internal
óó 
static
óó 
bool
óó 
IsInstanceOfType
óó -
(
óó- .
this
óó. 2
Type
óó3 7
type
óó8 <
,
óó< =
object
óó> D
obj
óóE H
)
óóH I
{
ôô 	
return
õõ 
type
õõ 
.
õõ 
GetTypeInfo
õõ #
(
õõ# $
)
õõ$ %
.
õõ% &
IsAssignableFrom
õõ& 6
(
õõ6 7
obj
õõ7 :
.
õõ: ;
GetType
õõ; B
(
õõB C
)
õõC D
.
õõD E
GetTypeInfo
õõE P
(
õõP Q
)
õõQ R
)
õõR S
;
õõS T
}
öö 	
internal
ƒƒ 
static
ƒƒ 
Type
ƒƒ 
GetType
ƒƒ $
(
ƒƒ$ %
this
ƒƒ% )
Assembly
ƒƒ* 2
assembly
ƒƒ3 ;
,
ƒƒ; <
string
ƒƒ= C
typeName
ƒƒD L
,
ƒƒL M
bool
ƒƒN R
throwOnError
ƒƒS _
)
ƒƒ_ `
{
„„ 	
Type
…… 
type
…… 
=
…… 
assembly
……  
.
……  !
GetType
……! (
(
……( )
typeName
……) 1
)
……1 2
;
……2 3
if
†† 
(
†† 
type
†† 
==
†† 
null
†† 
&&
†† 
throwOnError
††  ,
)
††, -
{
‡‡ 
throw
ˆˆ 
new
ˆˆ 
TypeLoadException
ˆˆ +
(
ˆˆ+ ,
)
ˆˆ, -
;
ˆˆ- .
}
‰‰ 
return
‹‹ 
type
‹‹ 
;
‹‹ 
}
ŒŒ 	
internal
““ 
static
““ 
IEnumerable
““ #
<
““# $
Type
““$ (
>
““( )
GetTypes
““* 2
(
““2 3
this
““3 7
Assembly
““8 @
assembly
““A I
)
““I J
{
”” 	
return
•• 
assembly
•• 
.
•• 
DefinedTypes
•• (
.
••( )
Select
••) /
(
••/ 0
dt
••0 2
=>
••3 5
dt
••6 8
.
••8 9
AsType
••9 ?
(
••? @
)
••@ A
)
••A B
;
••B C
}
–– 	
internal
 
static
 
	FieldInfo
 !
GetField
" *
(
* +
this
+ /
Type
0 4
type
5 9
,
9 :
string
; A
name
B F
)
F G
{
ŸŸ 	
return
   
type
   
.
   
	GetFields
   !
(
  ! "
)
  " #
.
  # $
SingleOrDefault
  $ 3
(
  3 4
field
  4 9
=>
  : <
field
  = B
.
  B C
Name
  C G
==
  H J
name
  K O
)
  O P
;
  P Q
}
¡¡ 	
private
¨¨ 
static
¨¨ 
bool
¨¨ 

IsInstance
¨¨ &
(
¨¨& '
PropertyInfo
¨¨' 3
propertyInfo
¨¨4 @
)
¨¨@ A
{
©© 	
return
ªª 
(
ªª 
propertyInfo
ªª  
.
ªª  !
	GetMethod
ªª! *
!=
ªª+ -
null
ªª. 2
&&
ªª3 5
!
ªª6 7
propertyInfo
ªª7 C
.
ªªC D
	GetMethod
ªªD M
.
ªªM N
IsStatic
ªªN V
)
ªªV W
||
ªªX Z
(
ªª[ \
propertyInfo
ªª\ h
.
ªªh i
	SetMethod
ªªi r
!=
ªªs u
null
ªªv z
&&
ªª{ }
!
ªª~ 
propertyInfoªª ‹
.ªª‹ Œ
	SetMethodªªŒ •
.ªª• –
IsStaticªª– 
)ªª Ÿ
;ªªŸ  
}
«« 	
private
²² 
static
²² 
bool
²² 
IsPublic
²² $
(
²²$ %
PropertyInfo
²²% 1
propertyInfo
²²2 >
)
²²> ?
{
³³ 	
return
´´ 
(
´´ 
propertyInfo
´´  
.
´´  !
	GetMethod
´´! *
!=
´´+ -
null
´´. 2
&&
´´3 5
propertyInfo
´´6 B
.
´´B C
	GetMethod
´´C L
.
´´L M
IsPublic
´´M U
)
´´U V
||
´´W Y
(
´´Z [
propertyInfo
´´[ g
.
´´g h
	SetMethod
´´h q
!=
´´r t
null
´´u y
&&
´´z |
propertyInfo´´} ‰
.´´‰ Š
	SetMethod´´Š “
.´´“ ”
IsPublic´´” œ
)´´œ 
;´´ 
}
µµ 	
public
ÀÀ 
static
ÀÀ 
Regex
ÀÀ 
CreateCompiled
ÀÀ *
(
ÀÀ* +
string
ÀÀ+ 1
pattern
ÀÀ2 9
,
ÀÀ9 :
RegexOptions
ÀÀ; G
options
ÀÀH O
)
ÀÀO P
{
ÁÁ 	
options
ÃÃ 
=
ÃÃ 
options
ÃÃ 
|
ÃÃ 
RegexOptions
ÃÃ  ,
.
ÃÃ, -
None
ÃÃ- 1
;
ÃÃ1 2
return
ÇÇ 
new
ÇÇ 
Regex
ÇÇ 
(
ÇÇ 
pattern
ÇÇ $
,
ÇÇ$ %
options
ÇÇ& -
)
ÇÇ- .
;
ÇÇ. /
}
ÈÈ 	
}
ÉÉ 
}ÊÊ ó
:D:\odata.net\src\Microsoft.Spatial\WrappedGeoJsonWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
sealed 
class  
WrappedGeoJsonWriter .
:/ 0
GeoJsonWriterBase1 B
{ 
private 
readonly 
IGeoJsonWriter '
writer( .
;. /
public  
WrappedGeoJsonWriter #
(# $
IGeoJsonWriter$ 2
writer3 9
)9 :
{ 	
this 
. 
writer 
= 
writer  
;  !
}   	
	protected'' 
override'' 
void'' 
StartObjectScope''  0
(''0 1
)''1 2
{(( 	
writer)) 
.)) 
StartObjectScope)) #
())# $
)))$ %
;))% &
}** 	
	protected// 
override// 
void// 
StartArrayScope//  /
(/// 0
)//0 1
{00 	
writer11 
.11 
StartArrayScope11 "
(11" #
)11# $
;11$ %
}22 	
	protected88 
override88 
void88 
AddPropertyName88  /
(88/ 0
String880 6
name887 ;
)88; <
{99 	
writer:: 
.:: 
AddPropertyName:: "
(::" #
name::# '
)::' (
;::( )
};; 	
	protectedAA 
overrideAA 
voidAA 
AddValueAA  (
(AA( )
StringAA) /
valueAA0 5
)AA5 6
{BB 	
writerCC 
.CC 
AddValueCC 
(CC 
valueCC !
)CC! "
;CC" #
}DD 	
	protectedJJ 
overrideJJ 
voidJJ 
AddValueJJ  (
(JJ( )
doubleJJ) /
valueJJ0 5
)JJ5 6
{KK 	
writerLL 
.LL 
AddValueLL 
(LL 
valueLL !
)LL! "
;LL" #
}MM 	
	protectedRR 
overrideRR 
voidRR 
EndArrayScopeRR  -
(RR- .
)RR. /
{SS 	
writerTT 
.TT 
EndArrayScopeTT  
(TT  !
)TT! "
;TT" #
}UU 	
	protectedZZ 
overrideZZ 
voidZZ 
EndObjectScopeZZ  .
(ZZ. /
)ZZ/ 0
{[[ 	
writer\\ 
.\\ 
EndObjectScope\\ !
(\\! "
)\\" #
;\\# $
}]] 	
}`` 
}aa û%
JD:\odata.net\src\Microsoft.Spatial\GeoJsonObjectFormatterImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 0
$GeoJsonObjectFormatterImplementation 7
:8 9"
GeoJsonObjectFormatter: P
{ 
private 
readonly !
SpatialImplementation .
creator/ 6
;6 7
private 
SpatialBuilder 
builder &
;& '
private 
SpatialPipeline 
parsePipeline  -
;- .
public## 0
$GeoJsonObjectFormatterImplementation## 3
(##3 4!
SpatialImplementation##4 I
creator##J Q
)##Q R
{$$ 	
this%% 
.%% 
creator%% 
=%% 
creator%% "
;%%" #
}&& 	
public.. 
override.. 
T.. 
Read.. 
<.. 
T..  
>..  !
(..! "
IDictionary.." -
<..- .
string... 4
,..4 5
object..6 <
>..< =
source..> D
)..D E
{// 	
this00 
.00 
EnsureParsePipeline00 $
(00$ %
)00% &
;00& '
if11 
(11 
typeof11 
(11 
Geometry11 
)11  
.11  !
IsAssignableFrom11! 1
(111 2
typeof112 8
(118 9
T119 :
)11: ;
)11; <
)11< =
{22 
new33 
GeoJsonObjectReader33 '
(33' (
this33( ,
.33, -
builder33- 4
)334 5
.335 6
ReadGeometry336 B
(33B C
source33C I
)33I J
;33J K
return44 
this44 
.44 
builder44 #
.44# $
ConstructedGeometry44$ 7
as448 :
T44; <
;44< =
}55 
new77 
GeoJsonObjectReader77 #
(77# $
this77$ (
.77( )
builder77) 0
)770 1
.771 2
ReadGeography772 ?
(77? @
source77@ F
)77F G
;77G H
return88 
this88 
.88 
builder88 
.88   
ConstructedGeography88  4
as885 7
T888 9
;889 :
}99 	
public@@ 
override@@ 
IDictionary@@ #
<@@# $
string@@$ *
,@@* +
object@@, 2
>@@2 3
Write@@4 9
(@@9 :
ISpatial@@: B
value@@C H
)@@H I
{AA 	
varBB 
writerBB 
=BB 
newBB 
GeoJsonObjectWriterBB 0
(BB0 1
)BB1 2
;BB2 3
valueCC 
.CC 
SendToCC 
(CC 
newCC 
ForwardingSegmentCC .
(CC. /
writerCC/ 5
)CC5 6
)CC6 7
;CC7 8
returnDD 
writerDD 
.DD 

JsonObjectDD $
;DD$ %
}EE 	
publicJJ 
overrideJJ 
SpatialPipelineJJ '
CreateWriterJJ( 4
(JJ4 5
IGeoJsonWriterJJ5 C
writerJJD J
)JJJ K
{KK 	
returnLL 
newLL 
ForwardingSegmentLL (
(LL( )
newLL) , 
WrappedGeoJsonWriterLL- A
(LLA B
writerLLB H
)LLH I
)LLI J
;LLJ K
}MM 	
privateRR 
voidRR 
EnsureParsePipelineRR (
(RR( )
)RR) *
{SS 	
ifTT 
(TT 
thisTT 
.TT 
parsePipelineTT "
==TT# %
nullTT& *
)TT* +
{UU 
thisVV 
.VV 
builderVV 
=VV 
thisVV #
.VV# $
creatorVV$ +
.VV+ ,
CreateBuilderVV, 9
(VV9 :
)VV: ;
;VV; <
thisWW 
.WW 
parsePipelineWW "
=WW# $
thisWW% )
.WW) *
creatorWW* 1
.WW1 2
CreateValidatorWW2 A
(WWA B
)WWB C
.WWC D
ChainToWWD K
(WWK L
thisWWL P
.WWP Q
builderWWQ X
)WWX Y
;WWY Z
}XX 
elseYY 
{ZZ 
this[[ 
.[[ 
parsePipeline[[ "
.[[" #
GeographyPipeline[[# 4
.[[4 5
Reset[[5 :
([[: ;
)[[; <
;[[< =
this\\ 
.\\ 
parsePipeline\\ "
.\\" #
GeometryPipeline\\# 3
.\\3 4
Reset\\4 9
(\\9 :
)\\: ;
;\\; <
}]] 
}^^ 	
}__ 
}`` ¨H
9D:\odata.net\src\Microsoft.Spatial\GeoJsonObjectWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
sealed 
class 
GeoJsonObjectWriter -
:. /
GeoJsonWriterBase0 A
{ 
private 
readonly 
Stack 
< 
object %
>% &

containers' 1
=2 3
new4 7
Stack8 =
<= >
object> D
>D E
(E F
)F G
;G H
private 
string 
currentPropertyName *
;* +
private   
object   
lastCompletedObject   *
;  * +
internal%% 
IDictionary%% 
<%% 
String%% #
,%%# $
Object%%% +
>%%+ ,

JsonObject%%- 7
{&& 	
get'' 
{(( 
return)) 
lastCompletedObject)) *
as))+ -
IDictionary)). 9
<))9 :
String)): @
,))@ A
Object))B H
>))H I
;))I J
}** 
}++ 	
private00 
bool00 
IsArray00 
{11 	
get22 
{22 
return22 
this22 
.22 

containers22 (
.22( )
Peek22) -
(22- .
)22. /
is220 2
IList223 8
;228 9
}22: ;
}33 	
	protected88 
override88 
void88 
StartObjectScope88  0
(880 1
)881 2
{99 	
object:: 

jsonObject:: 
=:: 
new::  #

Dictionary::$ .
<::. /
String::/ 5
,::5 6
Object::7 =
>::= >
(::> ?
StringComparer::? M
.::M N
Ordinal::N U
)::U V
;::V W
if<< 
(<< 
this<< 
.<< 

containers<< 
.<<  
Count<<  %
><<& '
$num<<( )
)<<) *
{== 
this>> 
.>> 

AddToScope>> 
(>>  

jsonObject>>  *
)>>* +
;>>+ ,
}?? 
thisBB 
.BB 

containersBB 
.BB 
PushBB  
(BB  !

jsonObjectBB! +
)BB+ ,
;BB, -
}CC 	
	protectedHH 
overrideHH 
voidHH 
StartArrayScopeHH  /
(HH/ 0
)HH0 1
{II 	
DebugJJ 
.JJ 
AssertJJ 
(JJ 
thisJJ 
.JJ 

containersJJ (
.JJ( )
CountJJ) .
>JJ/ 0
$numJJ1 2
,JJ2 3
$strJJ4 f
)JJf g
;JJg h
objectKK 

jsonObjectKK 
=KK 
newKK  #
ListKK$ (
<KK( )
ObjectKK) /
>KK/ 0
(KK0 1
)KK1 2
;KK2 3
thisLL 
.LL 

AddToScopeLL 
(LL 

jsonObjectLL &
)LL& '
;LL' (
thisMM 
.MM 

containersMM 
.MM 
PushMM  
(MM  !

jsonObjectMM! +
)MM+ ,
;MM, -
}NN 	
	protectedTT 
overrideTT 
voidTT 
AddPropertyNameTT  /
(TT/ 0
StringTT0 6
nameTT7 ;
)TT; <
{UU 	
DebugVV 
.VV 
AssertVV 
(VV 
thisVV 
.VV 
currentPropertyNameVV 1
==VV2 4
nullVV5 9
,VV9 :
$strVV; s
)VVs t
;VVt u
thisWW 
.WW 
currentPropertyNameWW $
=WW% &
nameWW' +
;WW+ ,
}XX 	
	protected^^ 
override^^ 
void^^ 
AddValue^^  (
(^^( )
String^^) /
value^^0 5
)^^5 6
{__ 	
this`` 
.`` 

AddToScope`` 
(`` 
value`` !
)``! "
;``" #
}aa 	
	protectedgg 
overridegg 
voidgg 
AddValuegg  (
(gg( )
doublegg) /
valuegg0 5
)gg5 6
{hh 	
thisii 
.ii 

AddToScopeii 
(ii 
valueii !
)ii! "
;ii" #
}jj 	
	protectedoo 
overrideoo 
voidoo 
EndArrayScopeoo  -
(oo- .
)oo. /
{pp 	
thisqq 
.qq 

containersqq 
.qq 
Popqq 
(qq  
)qq  !
;qq! "
}rr 	
	protectedww 
overrideww 
voidww 
EndObjectScopeww  .
(ww. /
)ww/ 0
{xx 	
objectyy 
oyy 
=yy 
thisyy 
.yy 

containersyy &
.yy& '
Popyy' *
(yy* +
)yy+ ,
;yy, -
if{{ 
({{ 
this{{ 
.{{ 

containers{{ 
.{{  
Count{{  %
=={{& (
$num{{) *
){{* +
{|| 
this}} 
.}} 
lastCompletedObject}} (
=}}) *
o}}+ ,
;}}, -
}~~ 
} 	
private
…… 
void
…… 

AddToScope
…… 
(
……  
object
……  &

jsonObject
……' 1
)
……1 2
{
†† 	
Debug
‡‡ 
.
‡‡ 
Assert
‡‡ 
(
‡‡ 
this
‡‡ 
.
‡‡ 

containers
‡‡ (
.
‡‡( )
Count
‡‡) .
>
‡‡/ 0
$num
‡‡1 2
,
‡‡2 3
$str
‡‡4 O
)
‡‡O P
;
‡‡P Q
if
‰‰ 
(
‰‰ 
this
‰‰ 
.
‰‰ 
IsArray
‰‰ 
)
‰‰ 
{
ŠŠ 
Debug
‹‹ 
.
‹‹ 
Assert
‹‹ 
(
‹‹ 
this
‹‹ !
.
‹‹! ",
GetAndClearCurrentPropertyName
‹‹" @
(
‹‹@ A
)
‹‹A B
==
‹‹C E
null
‹‹F J
,
‹‹J K
$str
‹‹L n
)
‹‹n o
;
‹‹o p
this
ŒŒ 
.
ŒŒ 
AsList
ŒŒ 
(
ŒŒ 
)
ŒŒ 
.
ŒŒ 
Add
ŒŒ !
(
ŒŒ! "

jsonObject
ŒŒ" ,
)
ŒŒ, -
;
ŒŒ- .
}
 
else
 
{
 
string
 
name
 
=
 
this
 "
.
" #,
GetAndClearCurrentPropertyName
# A
(
A B
)
B C
;
C D
Debug
‘‘ 
.
‘‘ 
Assert
‘‘ 
(
‘‘ 
name
‘‘ !
!=
‘‘" $
null
‘‘% )
,
‘‘) *
$str
‘‘+ P
)
‘‘P Q
;
‘‘Q R
this
’’ 
.
’’ 
AsDictionary
’’ !
(
’’! "
)
’’" #
.
’’# $
Add
’’$ '
(
’’' (
name
’’( ,
,
’’, -

jsonObject
’’. 8
)
’’8 9
;
’’9 :
}
““ 
}
”” 	
private
   
String
   ,
GetAndClearCurrentPropertyName
   5
(
  5 6
)
  6 7
{
¡¡ 	
String
¢¢ 
name
¢¢ 
=
¢¢ 
this
¢¢ 
.
¢¢ !
currentPropertyName
¢¢ 2
;
¢¢2 3
this
££ 
.
££ !
currentPropertyName
££ $
=
££% &
null
££' +
;
££+ ,
return
¤¤ 
name
¤¤ 
;
¤¤ 
}
¥¥ 	
private
«« 
IList
«« 
AsList
«« 
(
«« 
)
«« 
{
¬¬ 	
var
­­ 
ret
­­ 
=
­­ 
this
­­ 
.
­­ 

containers
­­ %
.
­­% &
Peek
­­& *
(
­­* +
)
­­+ ,
as
­­- /
IList
­­0 5
;
­­5 6
Debug
®® 
.
®® 
Assert
®® 
(
®® 
ret
®® 
!=
®® 
null
®®  $
,
®®$ %
$str
®®& V
)
®®V W
;
®®W X
return
¯¯ 
ret
¯¯ 
;
¯¯ 
}
°° 	
private
¶¶ 
IDictionary
¶¶ 
<
¶¶ 
String
¶¶ "
,
¶¶" #
Object
¶¶$ *
>
¶¶* +
AsDictionary
¶¶, 8
(
¶¶8 9
)
¶¶9 :
{
·· 	
var
¸¸ 
ret
¸¸ 
=
¸¸ 
this
¸¸ 
.
¸¸ 

containers
¸¸ %
.
¸¸% &
Peek
¸¸& *
(
¸¸* +
)
¸¸+ ,
as
¸¸- /
IDictionary
¸¸0 ;
<
¸¸; <
String
¸¸< B
,
¸¸B C
Object
¸¸D J
>
¸¸J K
;
¸¸K L
Debug
¹¹ 
.
¹¹ 
Assert
¹¹ 
(
¹¹ 
ret
¹¹ 
!=
¹¹ 
null
¹¹  $
,
¹¹$ %
$str
¹¹& b
)
¹¹b c
;
¹¹c d
return
ºº 
ret
ºº 
;
ºº 
}
»» 	
}
¼¼ 
}½½ İ±
7D:\odata.net\src\Microsoft.Spatial\GeoJsonWriterBase.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
GeoJsonWriterBase -
:. /
DrawBoth0 8
{ 
private 
readonly 
Stack 
< 
SpatialType *
>* +
stack, 1
;1 2
private 
CoordinateSystem  #
currentCoordinateSystem! 8
;8 9
private 
bool 
figureDrawn  
;  !
public$$ 
GeoJsonWriterBase$$  
($$  !
)$$! "
{%% 	
this&& 
.&& 
stack&& 
=&& 
new&& 
Stack&& "
<&&" #
SpatialType&&# .
>&&. /
(&&/ 0
)&&0 1
;&&1 2
}'' 	
private,, 
bool,, 
ShapeHasObjectScope,, (
{-- 	
get.. 
{// 
return00 
this00 
.00 

IsTopLevel00 &
||00' )
this00* .
.00. /
stack00/ 4
.004 5
Peek005 9
(009 :
)00: ;
==00< >
SpatialType00? J
.00J K

Collection00K U
;00U V
}11 
}22 	
private77 
bool77 

IsTopLevel77 
{88 	
get99 
{:: 
return;; 
this;; 
.;; 
stack;; !
.;;! "
Count;;" '
==;;( *
$num;;+ ,
;;;, -
}<< 
}== 	
privateBB 
boolBB 
FigureHasArrayScopeBB (
{CC 	
getDD 
{EE 
returnFF 
thisFF 
.FF 
stackFF !
.FF! "
PeekFF" &
(FF& '
)FF' (
!=FF) +
SpatialTypeFF, 7
.FF7 8
PointFF8 =
;FF= >
}GG 
}HH 	
	protectedSS 
overrideSS 
GeographyPositionSS ,
OnLineToSS- 5
(SS5 6
GeographyPositionSS6 G
positionSSH P
)SSP Q
{TT 	
WriteControlPointVV 
(VV 
positionVV &
.VV& '
	LongitudeVV' 0
,VV0 1
positionVV2 :
.VV: ;
LatitudeVV; C
,VVC D
positionVVE M
.VVM N
ZVVN O
,VVO P
positionVVQ Y
.VVY Z
MVVZ [
)VV[ \
;VV\ ]
returnWW 
positionWW 
;WW 
}XX 	
	protectedaa 
overrideaa 
GeometryPositionaa +
OnLineToaa, 4
(aa4 5
GeometryPositionaa5 E
positionaaF N
)aaN O
{bb 	
thiscc 
.cc 
WriteControlPointcc "
(cc" #
positioncc# +
.cc+ ,
Xcc, -
,cc- .
positioncc/ 7
.cc7 8
Ycc8 9
,cc9 :
positioncc; C
.ccC D
ZccD E
,ccE F
positionccG O
.ccO P
MccP Q
)ccQ R
;ccR S
returndd 
positiondd 
;dd 
}ee 	
	protectednn 
overridenn 
SpatialTypenn &
OnBeginGeographynn' 7
(nn7 8
SpatialTypenn8 C
typennD H
)nnH I
{oo 	

BeginShapepp 
(pp 
typepp 
,pp 
CoordinateSystempp -
.pp- .
DefaultGeographypp. >
)pp> ?
;pp? @
returnqq 
typeqq 
;qq 
}rr 	
	protected{{ 
override{{ 
SpatialType{{ &
OnBeginGeometry{{' 6
({{6 7
SpatialType{{7 B
type{{C G
){{G H
{|| 	

BeginShape}} 
(}} 
type}} 
,}} 
CoordinateSystem}} -
.}}- .
DefaultGeometry}}. =
)}}= >
;}}> ?
return~~ 
type~~ 
;~~ 
} 	
	protected
†† 
override
†† 
GeographyPosition
†† ,
OnBeginFigure
††- :
(
††: ;
GeographyPosition
††; L
position
††M U
)
††U V
{
‡‡ 	
BeginFigure
ˆˆ 
(
ˆˆ 
)
ˆˆ 
;
ˆˆ 
WriteControlPoint
‰‰ 
(
‰‰ 
position
‰‰ &
.
‰‰& '
	Longitude
‰‰' 0
,
‰‰0 1
position
‰‰2 :
.
‰‰: ;
Latitude
‰‰; C
,
‰‰C D
position
‰‰E M
.
‰‰M N
Z
‰‰N O
,
‰‰O P
position
‰‰Q Y
.
‰‰Y Z
M
‰‰Z [
)
‰‰[ \
;
‰‰\ ]
return
ŠŠ 
position
ŠŠ 
;
ŠŠ 
}
‹‹ 	
	protected
’’ 
override
’’ 
GeometryPosition
’’ +
OnBeginFigure
’’, 9
(
’’9 :
GeometryPosition
’’: J
position
’’K S
)
’’S T
{
““ 	
BeginFigure
”” 
(
”” 
)
”” 
;
”” 
this
•• 
.
•• 
WriteControlPoint
•• "
(
••" #
position
••# +
.
••+ ,
X
••, -
,
••- .
position
••/ 7
.
••7 8
Y
••8 9
,
••9 :
position
••; C
.
••C D
Z
••D E
,
••E F
position
••G O
.
••O P
M
••P Q
)
••Q R
;
••R S
return
–– 
position
–– 
;
–– 
}
—— 	
	protected
œœ 
override
œœ 
void
œœ 
OnEndFigure
œœ  +
(
œœ+ ,
)
œœ, -
{
 	
	EndFigure
 
(
 
)
 
;
 
}
ŸŸ 	
	protected
¤¤ 
override
¤¤ 
void
¤¤ 
OnEndGeography
¤¤  .
(
¤¤. /
)
¤¤/ 0
{
¥¥ 	
EndShape
¦¦ 
(
¦¦ 
)
¦¦ 
;
¦¦ 
}
§§ 	
	protected
¬¬ 
override
¬¬ 
void
¬¬ 
OnEndGeometry
¬¬  -
(
¬¬- .
)
¬¬. /
{
­­ 	
EndShape
®® 
(
®® 
)
®® 
;
®® 
}
¯¯ 	
	protected
¸¸ 
override
¸¸ 
CoordinateSystem
¸¸ +#
OnSetCoordinateSystem
¸¸, A
(
¸¸A B
CoordinateSystem
¸¸B R
coordinateSystem
¸¸S c
)
¸¸c d
{
¹¹ 	!
SetCoordinateSystem
ºº 
(
ºº  
coordinateSystem
ºº  0
)
ºº0 1
;
ºº1 2
return
»» 
coordinateSystem
»» #
;
»»# $
}
¼¼ 	
	protected
ÁÁ 
override
ÁÁ 
void
ÁÁ 
OnReset
ÁÁ  '
(
ÁÁ' (
)
ÁÁ( )
{
ÂÂ 	
Reset
ÃÃ 
(
ÃÃ 
)
ÃÃ 
;
ÃÃ 
}
ÄÄ 	
	protected
ÎÎ 
abstract
ÎÎ 
void
ÎÎ 
AddPropertyName
ÎÎ  /
(
ÎÎ/ 0
String
ÎÎ0 6
name
ÎÎ7 ;
)
ÎÎ; <
;
ÎÎ< =
	protected
ÔÔ 
abstract
ÔÔ 
void
ÔÔ 
AddValue
ÔÔ  (
(
ÔÔ( )
String
ÔÔ) /
value
ÔÔ0 5
)
ÔÔ5 6
;
ÔÔ6 7
	protected
ÚÚ 
abstract
ÚÚ 
void
ÚÚ 
AddValue
ÚÚ  (
(
ÚÚ( )
double
ÚÚ) /
value
ÚÚ0 5
)
ÚÚ5 6
;
ÚÚ6 7
	protected
ßß 
abstract
ßß 
void
ßß 
StartObjectScope
ßß  0
(
ßß0 1
)
ßß1 2
;
ßß2 3
	protected
ää 
abstract
ää 
void
ää 
StartArrayScope
ää  /
(
ää/ 0
)
ää0 1
;
ää1 2
	protected
éé 
abstract
éé 
void
éé 
EndObjectScope
éé  .
(
éé. /
)
éé/ 0
;
éé0 1
	protected
îî 
abstract
îî 
void
îî 
EndArrayScope
îî  -
(
îî- .
)
îî. /
;
îî/ 0
	protected
õõ 
virtual
õõ 
void
õõ 
Reset
õõ $
(
õõ$ %
)
õõ% &
{
öö 	
this
÷÷ 
.
÷÷ 
stack
÷÷ 
.
÷÷ 
Clear
÷÷ 
(
÷÷ 
)
÷÷ 
;
÷÷ 
this
øø 
.
øø %
currentCoordinateSystem
øø (
=
øø) *
default
øø+ 2
(
øø2 3
CoordinateSystem
øø3 C
)
øøC D
;
øøD E
}
ùù 	
private
‚‚ 
static
‚‚ 
string
‚‚  
GetSpatialTypeName
‚‚ 0
(
‚‚0 1
SpatialType
‚‚1 <
type
‚‚= A
)
‚‚A B
{
ƒƒ 	
switch
„„ 
(
„„ 
type
„„ 
)
„„ 
{
…… 
case
†† 
SpatialType
††  
.
††  !
Point
††! &
:
††& '
return
‡‡ 
GeoJsonConstants
‡‡ +
.
‡‡+ ,"
TypeMemberValuePoint
‡‡, @
;
‡‡@ A
case
ˆˆ 
SpatialType
ˆˆ  
.
ˆˆ  !

LineString
ˆˆ! +
:
ˆˆ+ ,
return
‰‰ 
GeoJsonConstants
‰‰ +
.
‰‰+ ,'
TypeMemberValueLineString
‰‰, E
;
‰‰E F
case
ŠŠ 
SpatialType
ŠŠ  
.
ŠŠ  !
Polygon
ŠŠ! (
:
ŠŠ( )
return
‹‹ 
GeoJsonConstants
‹‹ +
.
‹‹+ ,$
TypeMemberValuePolygon
‹‹, B
;
‹‹B C
case
ŒŒ 
SpatialType
ŒŒ  
.
ŒŒ  !

MultiPoint
ŒŒ! +
:
ŒŒ+ ,
return
 
GeoJsonConstants
 +
.
+ ,'
TypeMemberValueMultiPoint
, E
;
E F
case
 
SpatialType
  
.
  !
MultiLineString
! 0
:
0 1
return
 
GeoJsonConstants
 +
.
+ ,,
TypeMemberValueMultiLineString
, J
;
J K
case
 
SpatialType
  
.
  !
MultiPolygon
! -
:
- .
return
‘‘ 
GeoJsonConstants
‘‘ +
.
‘‘+ ,)
TypeMemberValueMultiPolygon
‘‘, G
;
‘‘G H
case
’’ 
SpatialType
’’  
.
’’  !

Collection
’’! +
:
’’+ ,
return
““ 
GeoJsonConstants
““ +
.
““+ ,/
!TypeMemberValueGeometryCollection
““, M
;
““M N
default
”” 
:
”” 
Debug
•• 
.
•• 
Assert
••  
(
••  !
false
••! &
,
••& '
$str
••( 6
+
••7 8
type
••9 =
+
••> ?
$str
••@ o
)
••o p
;
••p q
throw
–– 
new
–– %
NotImplementedException
–– 5
(
––5 6
)
––6 7
;
––7 8
}
—— 
}
˜˜ 	
private
ŸŸ 
static
ŸŸ 
string
ŸŸ 
GetDataName
ŸŸ )
(
ŸŸ) *
SpatialType
ŸŸ* 5
type
ŸŸ6 :
)
ŸŸ: ;
{
   	
switch
¡¡ 
(
¡¡ 
type
¡¡ 
)
¡¡ 
{
¢¢ 
case
££ 
SpatialType
££  
.
££  !
Point
££! &
:
££& '
case
¤¤ 
SpatialType
¤¤  
.
¤¤  !

LineString
¤¤! +
:
¤¤+ ,
case
¥¥ 
SpatialType
¥¥  
.
¥¥  !
Polygon
¥¥! (
:
¥¥( )
case
¦¦ 
SpatialType
¦¦  
.
¦¦  !

MultiPoint
¦¦! +
:
¦¦+ ,
case
§§ 
SpatialType
§§  
.
§§  !
MultiLineString
§§! 0
:
§§0 1
case
¨¨ 
SpatialType
¨¨  
.
¨¨  !
MultiPolygon
¨¨! -
:
¨¨- .
return
©© 
GeoJsonConstants
©© +
.
©©+ ,#
CoordinatesMemberName
©©, A
;
©©A B
case
ªª 
SpatialType
ªª  
.
ªª  !

Collection
ªª! +
:
ªª+ ,
return
«« 
GeoJsonConstants
«« +
.
««+ ,"
GeometriesMemberName
««, @
;
««@ A
default
¬¬ 
:
¬¬ 
Debug
­­ 
.
­­ 
Assert
­­  
(
­­  !
false
­­! &
,
­­& '
$str
­­( 6
+
­­7 8
type
­­9 =
+
­­> ?
$str
­­@ o
)
­­o p
;
­­p q
throw
®® 
new
®® %
NotImplementedException
®® 5
(
®®5 6
)
®®6 7
;
®®7 8
}
¯¯ 
}
°° 	
private
·· 
static
·· 
bool
·· 
TypeHasArrayScope
·· -
(
··- .
SpatialType
··. 9
type
··: >
)
··> ?
{
¸¸ 	
return
¹¹ 
type
¹¹ 
!=
¹¹ 
SpatialType
¹¹ &
.
¹¹& '
Point
¹¹' ,
&&
¹¹- /
type
¹¹0 4
!=
¹¹5 7
SpatialType
¹¹8 C
.
¹¹C D

LineString
¹¹D N
;
¹¹N O
}
ºº 	
private
ÀÀ 
void
ÀÀ !
SetCoordinateSystem
ÀÀ (
(
ÀÀ( )
CoordinateSystem
ÀÀ) 9
coordinateSystem
ÀÀ: J
)
ÀÀJ K
{
ÁÁ 	
this
ÂÂ 
.
ÂÂ %
currentCoordinateSystem
ÂÂ (
=
ÂÂ) *
coordinateSystem
ÂÂ+ ;
;
ÂÂ; <
}
ÃÃ 	
private
ÊÊ 
void
ÊÊ 

BeginShape
ÊÊ 
(
ÊÊ  
SpatialType
ÊÊ  +
type
ÊÊ, 0
,
ÊÊ0 1
CoordinateSystem
ÊÊ2 B%
defaultCoordinateSystem
ÊÊC Z
)
ÊÊZ [
{
ËË 	
if
ÌÌ 
(
ÌÌ 
this
ÌÌ 
.
ÌÌ %
currentCoordinateSystem
ÌÌ ,
==
ÌÌ- /
null
ÌÌ0 4
)
ÌÌ4 5
{
ÍÍ 
this
ÎÎ 
.
ÎÎ %
currentCoordinateSystem
ÎÎ ,
=
ÎÎ- .%
defaultCoordinateSystem
ÎÎ/ F
;
ÎÎF G
}
ÏÏ 
if
ÑÑ 
(
ÑÑ 
this
ÑÑ 
.
ÑÑ !
ShapeHasObjectScope
ÑÑ (
)
ÑÑ( )
{
ÒÒ 
this
ÓÓ 
.
ÓÓ 
WriteShapeHeader
ÓÓ %
(
ÓÓ% &
type
ÓÓ& *
)
ÓÓ* +
;
ÓÓ+ ,
}
ÔÔ 
if
ÖÖ 
(
ÖÖ 
TypeHasArrayScope
ÖÖ !
(
ÖÖ! "
type
ÖÖ" &
)
ÖÖ& '
)
ÖÖ' (
{
×× 
this
ØØ 
.
ØØ 
StartArrayScope
ØØ $
(
ØØ$ %
)
ØØ% &
;
ØØ& '
}
ÙÙ 
this
ÛÛ 
.
ÛÛ 
stack
ÛÛ 
.
ÛÛ 
Push
ÛÛ 
(
ÛÛ 
type
ÛÛ  
)
ÛÛ  !
;
ÛÛ! "
this
ÜÜ 
.
ÜÜ 
figureDrawn
ÜÜ 
=
ÜÜ 
false
ÜÜ $
;
ÜÜ$ %
}
İİ 	
private
ãã 
void
ãã 
WriteShapeHeader
ãã %
(
ãã% &
SpatialType
ãã& 1
type
ãã2 6
)
ãã6 7
{
ää 	
this
åå 
.
åå 
StartObjectScope
åå !
(
åå! "
)
åå" #
;
åå# $
this
ææ 
.
ææ 
AddPropertyName
ææ  
(
ææ  !
GeoJsonConstants
ææ! 1
.
ææ1 2
TypeMemberName
ææ2 @
)
ææ@ A
;
ææA B
this
çç 
.
çç 
AddValue
çç 
(
çç  
GetSpatialTypeName
çç ,
(
çç, -
type
çç- 1
)
çç1 2
)
çç2 3
;
çç3 4
this
èè 
.
èè 
AddPropertyName
èè  
(
èè  !
GetDataName
èè! ,
(
èè, -
type
èè- 1
)
èè1 2
)
èè2 3
;
èè3 4
}
éé 	
private
îî 
void
îî 
BeginFigure
îî  
(
îî  !
)
îî! "
{
ïï 	
if
ğğ 
(
ğğ 
this
ğğ 
.
ğğ !
FigureHasArrayScope
ğğ (
)
ğğ( )
{
ññ 
this
òò 
.
òò 
StartArrayScope
òò $
(
òò$ %
)
òò% &
;
òò& '
}
óó 
this
õõ 
.
õõ 
figureDrawn
õõ 
=
õõ 
true
õõ #
;
õõ# $
}
öö 	
private
ÿÿ 
void
ÿÿ 
WriteControlPoint
ÿÿ &
(
ÿÿ& '
double
ÿÿ' -
first
ÿÿ. 3
,
ÿÿ3 4
double
ÿÿ5 ;
second
ÿÿ< B
,
ÿÿB C
double
ÿÿD J
?
ÿÿJ K
z
ÿÿL M
,
ÿÿM N
double
ÿÿO U
?
ÿÿU V
m
ÿÿW X
)
ÿÿX Y
{
€€ 	
this
 
.
 
StartArrayScope
  
(
  !
)
! "
;
" #
this
‚‚ 
.
‚‚ 
AddValue
‚‚ 
(
‚‚ 
first
‚‚ 
)
‚‚  
;
‚‚  !
this
ƒƒ 
.
ƒƒ 
AddValue
ƒƒ 
(
ƒƒ 
second
ƒƒ  
)
ƒƒ  !
;
ƒƒ! "
if
…… 
(
…… 
z
…… 
.
…… 
HasValue
…… 
)
…… 
{
†† 
this
‡‡ 
.
‡‡ 
AddValue
‡‡ 
(
‡‡ 
z
‡‡ 
.
‡‡  
Value
‡‡  %
)
‡‡% &
;
‡‡& '
if
‰‰ 
(
‰‰ 
m
‰‰ 
.
‰‰ 
HasValue
‰‰ 
)
‰‰ 
{
ŠŠ 
this
‹‹ 
.
‹‹ 
AddValue
‹‹ !
(
‹‹! "
m
‹‹" #
.
‹‹# $
Value
‹‹$ )
)
‹‹) *
;
‹‹* +
}
ŒŒ 
}
 
else
 
if
 
(
 
m
 
.
 
HasValue
 
)
  
{
 
this
 
.
 
AddValue
 
(
 
null
 "
)
" #
;
# $
this
‘‘ 
.
‘‘ 
AddValue
‘‘ 
(
‘‘ 
m
‘‘ 
.
‘‘  
Value
‘‘  %
)
‘‘% &
;
‘‘& '
}
’’ 
this
”” 
.
”” 
EndArrayScope
”” 
(
”” 
)
””  
;
””  !
}
•• 	
private
šš 
void
šš 
	EndFigure
šš 
(
šš 
)
šš  
{
›› 	
if
œœ 
(
œœ 
this
œœ 
.
œœ !
FigureHasArrayScope
œœ (
)
œœ( )
{
 
this
 
.
 
EndArrayScope
 "
(
" #
)
# $
;
$ %
}
ŸŸ 
}
   	
private
¥¥ 
void
¥¥ 
EndShape
¥¥ 
(
¥¥ 
)
¥¥ 
{
¦¦ 	
SpatialType
§§ 
type
§§ 
=
§§ 
this
§§ #
.
§§# $
stack
§§$ )
.
§§) *
Pop
§§* -
(
§§- .
)
§§. /
;
§§/ 0
if
©© 
(
©© 
TypeHasArrayScope
©© !
(
©©! "
type
©©" &
)
©©& '
)
©©' (
{
ªª 
this
«« 
.
«« 
EndArrayScope
«« "
(
««" #
)
««# $
;
««$ %
}
¬¬ 
else
­­ 
if
­­ 
(
­­ 
!
­­ 
this
­­ 
.
­­ 
figureDrawn
­­ &
)
­­& '
{
®® 
this
°° 
.
°° 
StartArrayScope
°° $
(
°°$ %
)
°°% &
;
°°& '
this
±± 
.
±± 
EndArrayScope
±± "
(
±±" #
)
±±# $
;
±±$ %
}
²² 
if
´´ 
(
´´ 
this
´´ 
.
´´ 

IsTopLevel
´´ 
)
´´  
{
µµ 
this
¶¶ 
.
¶¶ 
WriteCrs
¶¶ 
(
¶¶ 
)
¶¶ 
;
¶¶  
}
·· 
if
¹¹ 
(
¹¹ 
this
¹¹ 
.
¹¹ !
ShapeHasObjectScope
¹¹ (
)
¹¹( )
{
ºº 
this
»» 
.
»» 
EndObjectScope
»» #
(
»»# $
)
»»$ %
;
»»% &
}
¼¼ 
}
½½ 	
private
ÂÂ 
void
ÂÂ 
WriteCrs
ÂÂ 
(
ÂÂ 
)
ÂÂ 
{
ÃÃ 	
this
ÊÊ 
.
ÊÊ 
AddPropertyName
ÊÊ  
(
ÊÊ  !
GeoJsonConstants
ÊÊ! 1
.
ÊÊ1 2
CrsMemberName
ÊÊ2 ?
)
ÊÊ? @
;
ÊÊ@ A
this
ËË 
.
ËË 
StartObjectScope
ËË !
(
ËË! "
)
ËË" #
;
ËË# $
this
ÌÌ 
.
ÌÌ 
AddPropertyName
ÌÌ  
(
ÌÌ  !
GeoJsonConstants
ÌÌ! 1
.
ÌÌ1 2
TypeMemberName
ÌÌ2 @
)
ÌÌ@ A
;
ÌÌA B
this
ÍÍ 
.
ÍÍ 
AddValue
ÍÍ 
(
ÍÍ 
GeoJsonConstants
ÍÍ *
.
ÍÍ* + 
CrsTypeMemberValue
ÍÍ+ =
)
ÍÍ= >
;
ÍÍ> ?
this
ÎÎ 
.
ÎÎ 
AddPropertyName
ÎÎ  
(
ÎÎ  !
GeoJsonConstants
ÎÎ! 1
.
ÎÎ1 2%
CrsPropertiesMemberName
ÎÎ2 I
)
ÎÎI J
;
ÎÎJ K
this
ÏÏ 
.
ÏÏ 
StartObjectScope
ÏÏ !
(
ÏÏ! "
)
ÏÏ" #
;
ÏÏ# $
this
ĞĞ 
.
ĞĞ 
AddPropertyName
ĞĞ  
(
ĞĞ  !
GeoJsonConstants
ĞĞ! 1
.
ĞĞ1 2 
CrsTypeMemberValue
ĞĞ2 D
)
ĞĞD E
;
ĞĞE F
this
ÑÑ 
.
ÑÑ 
AddValue
ÑÑ 
(
ÑÑ 
String
ÑÑ  
.
ÑÑ  !
Concat
ÑÑ! '
(
ÑÑ' (
GeoJsonConstants
ÑÑ( 8
.
ÑÑ8 9
CrsValuePrefix
ÑÑ9 G
,
ÑÑG H
$char
ÑÑI L
,
ÑÑL M
this
ÑÑN R
.
ÑÑR S%
currentCoordinateSystem
ÑÑS j
.
ÑÑj k
Id
ÑÑk m
)
ÑÑm n
)
ÑÑn o
;
ÑÑo p
this
ÒÒ 
.
ÒÒ 
EndObjectScope
ÒÒ 
(
ÒÒ  
)
ÒÒ  !
;
ÒÒ! "
this
ÓÓ 
.
ÓÓ 
EndObjectScope
ÓÓ 
(
ÓÓ  
)
ÓÓ  !
;
ÓÓ! "
}
ÔÔ 	
}
×× 
}ØØ í
4D:\odata.net\src\Microsoft.Spatial\IGeoJsonWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

	interface 
IGeoJsonWriter #
{ 
void 
StartObjectScope 
( 
) 
;  
void 
EndObjectScope 
( 
) 
; 
void 
StartArrayScope 
( 
) 
; 
void   
EndArrayScope   
(   
)   
;   
void&& 
AddPropertyName&& 
(&& 
string&& #
name&&$ (
)&&( )
;&&) *
void,, 
AddValue,, 
(,, 
double,, 
value,, "
),," #
;,,# $
void22 
AddValue22 
(22 
string22 
value22 "
)22" #
;22# $
}33 
}44 æ 
JD:\odata.net\src\Microsoft.Spatial\TypeWashedToGeographyLatLongPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 0
$TypeWashedToGeographyLatLongPipeline 7
:8 9
TypeWashedPipeline: L
{ 
private 
readonly 
GeographyPipeline *
output+ 1
;1 2
public 0
$TypeWashedToGeographyLatLongPipeline 3
(3 4
SpatialPipeline4 C
outputD J
)J K
{ 	
this 
. 
output 
= 
output  
;  !
} 	
public"" 
override"" 
bool"" 
IsGeography"" (
{## 	
get$$ 
{$$ 
return$$ 
true$$ 
;$$ 
}$$  
}%% 	
internal++ 
override++ 
void++ 
SetCoordinateSystem++ 2
(++2 3
int++3 6
?++6 7
epsgId++8 >
)++> ?
{,, 	
var-- 
coordinateSystem--  
=--! "
CoordinateSystem--# 3
.--3 4
	Geography--4 =
(--= >
epsgId--> D
)--D E
;--E F
this.. 
... 
output.. 
... 
SetCoordinateSystem.. +
(..+ ,
coordinateSystem.., <
)..< =
;..= >
}// 	
internal44 
override44 
void44 
Reset44 $
(44$ %
)44% &
{55 	
output66 
.66 
Reset66 
(66 
)66 
;66 
}77 	
internal== 
override== 
void== 
BeginGeo== '
(==' (
SpatialType==( 3
type==4 8
)==8 9
{>> 	
this?? 
.?? 
output?? 
.?? 
BeginGeography?? &
(??& '
type??' +
)??+ ,
;??, -
}@@ 	
internalII 
overrideII 
voidII 
BeginFigureII *
(II* +
doubleII+ 1
coordinate1II2 =
,II= >
doubleII? E
coordinate2IIF Q
,IIQ R
doubleIIS Y
?IIY Z
coordinate3II[ f
,IIf g
doubleIIh n
?IIn o
coordinate4IIp {
)II{ |
{JJ 	
thisKK 
.KK 
outputKK 
.KK 
BeginFigureKK #
(KK# $
newKK$ '
GeographyPositionKK( 9
(KK9 :
coordinate1KK: E
,KKE F
coordinate2KKG R
,KKR S
coordinate3KKT _
,KK_ `
coordinate4KKa l
)KKl m
)KKm n
;KKn o
}LL 	
internalUU 
overrideUU 
voidUU 
LineToUU %
(UU% &
doubleUU& ,
coordinate1UU- 8
,UU8 9
doubleUU: @
coordinate2UUA L
,UUL M
doubleUUN T
?UUT U
coordinate3UUV a
,UUa b
doubleUUc i
?UUi j
coordinate4UUk v
)UUv w
{VV 	
thisWW 
.WW 
outputWW 
.WW 
LineToWW 
(WW 
newWW "
GeographyPositionWW# 4
(WW4 5
coordinate1WW5 @
,WW@ A
coordinate2WWB M
,WWM N
coordinate3WWO Z
,WWZ [
coordinate4WW\ g
)WWg h
)WWh i
;WWi j
}XX 	
internal]] 
override]] 
void]] 
	EndFigure]] (
(]]( )
)]]) *
{^^ 	
this__ 
.__ 
output__ 
.__ 
	EndFigure__ !
(__! "
)__" #
;__# $
}`` 	
internalee 
overrideee 
voidee 
EndGeoee %
(ee% &
)ee& '
{ff 	
thisgg 
.gg 
outputgg 
.gg 
EndGeographygg $
(gg$ %
)gg% &
;gg& '
}hh 	
}ii 
}jj æ 
JD:\odata.net\src\Microsoft.Spatial\TypeWashedToGeographyLongLatPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 0
$TypeWashedToGeographyLongLatPipeline 7
:8 9
TypeWashedPipeline: L
{ 
private 
readonly 
GeographyPipeline *
output+ 1
;1 2
public 0
$TypeWashedToGeographyLongLatPipeline 3
(3 4
SpatialPipeline4 C
outputD J
)J K
{ 	
this 
. 
output 
= 
output  
;  !
} 	
public"" 
override"" 
bool"" 
IsGeography"" (
{## 	
get$$ 
{$$ 
return$$ 
true$$ 
;$$ 
}$$  
}%% 	
internal++ 
override++ 
void++ 
SetCoordinateSystem++ 2
(++2 3
int++3 6
?++6 7
epsgId++8 >
)++> ?
{,, 	
var-- 
coordinateSystem--  
=--! "
CoordinateSystem--# 3
.--3 4
	Geography--4 =
(--= >
epsgId--> D
)--D E
;--E F
this.. 
... 
output.. 
... 
SetCoordinateSystem.. +
(..+ ,
coordinateSystem.., <
)..< =
;..= >
}// 	
internal44 
override44 
void44 
Reset44 $
(44$ %
)44% &
{55 	
output66 
.66 
Reset66 
(66 
)66 
;66 
}77 	
internal== 
override== 
void== 
BeginGeo== '
(==' (
SpatialType==( 3
type==4 8
)==8 9
{>> 	
this?? 
.?? 
output?? 
.?? 
BeginGeography?? &
(??& '
type??' +
)??+ ,
;??, -
}@@ 	
internalII 
overrideII 
voidII 
BeginFigureII *
(II* +
doubleII+ 1
coordinate1II2 =
,II= >
doubleII? E
coordinate2IIF Q
,IIQ R
doubleIIS Y
?IIY Z
coordinate3II[ f
,IIf g
doubleIIh n
?IIn o
coordinate4IIp {
)II{ |
{JJ 	
thisKK 
.KK 
outputKK 
.KK 
BeginFigureKK #
(KK# $
newKK$ '
GeographyPositionKK( 9
(KK9 :
coordinate2KK: E
,KKE F
coordinate1KKG R
,KKR S
coordinate3KKT _
,KK_ `
coordinate4KKa l
)KKl m
)KKm n
;KKn o
}LL 	
internalUU 
overrideUU 
voidUU 
LineToUU %
(UU% &
doubleUU& ,
coordinate1UU- 8
,UU8 9
doubleUU: @
coordinate2UUA L
,UUL M
doubleUUN T
?UUT U
coordinate3UUV a
,UUa b
doubleUUc i
?UUi j
coordinate4UUk v
)UUv w
{VV 	
thisWW 
.WW 
outputWW 
.WW 
LineToWW 
(WW 
newWW "
GeographyPositionWW# 4
(WW4 5
coordinate2WW5 @
,WW@ A
coordinate1WWB M
,WWM N
coordinate3WWO Z
,WWZ [
coordinate4WW\ g
)WWg h
)WWh i
;WWi j
}XX 	
internal]] 
override]] 
void]] 
	EndFigure]] (
(]]( )
)]]) *
{^^ 	
this__ 
.__ 
output__ 
.__ 
	EndFigure__ !
(__! "
)__" #
;__# $
}`` 	
internalee 
overrideee 
voidee 
EndGeoee %
(ee% &
)ee& '
{ff 	
thisgg 
.gg 
outputgg 
.gg 
EndGeographygg $
(gg$ %
)gg% &
;gg& '
}hh 	
}ii 
}jj  “
9D:\odata.net\src\Microsoft.Spatial\GeoJsonObjectReader.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
GeoJsonObjectReader &
:' (
SpatialReader) 6
<6 7
IDictionary7 B
<B C
stringC I
,I J
objectK Q
>Q R
>R S
{ 
internal 
GeoJsonObjectReader $
($ %
SpatialPipeline% 4
destination5 @
)@ A
: 
base 
( 
destination 
) 
{ 	
} 	
	protected!! 
override!! 
void!! '
ReadGeographyImplementation!!  ;
(!!; <
IDictionary!!< G
<!!G H
string!!H N
,!!N O
object!!P V
>!!V W
input!!X ]
)!!] ^
{"" 	
TypeWashedPipeline## 
pipeline## '
=##( )
new##* -0
$TypeWashedToGeographyLongLatPipeline##. R
(##R S
Destination##S ^
)##^ _
;##_ `
new$$ $
SendToTypeWashedPipeline$$ (
($$( )
pipeline$$) 1
)$$1 2
.$$2 3
SendToPipeline$$3 A
($$A B
input$$B G
,$$G H
true$$I M
)$$M N
;$$N O
}%% 	
	protected++ 
override++ 
void++ &
ReadGeometryImplementation++  :
(++: ;
IDictionary++; F
<++F G
string++G M
,++M N
object++O U
>++U V
input++W \
)++\ ]
{,, 	
TypeWashedPipeline-- 
pipeline-- '
=--( )
new--* -(
TypeWashedToGeometryPipeline--. J
(--J K
Destination--K V
)--V W
;--W X
new.. $
SendToTypeWashedPipeline.. (
(..( )
pipeline..) 1
)..1 2
...2 3
SendToPipeline..3 A
(..A B
input..B G
,..G H
true..I M
)..M N
;..N O
}// 	
private44 
class44 $
SendToTypeWashedPipeline44 .
{55 	
private99 
TypeWashedPipeline99 &
pipeline99' /
;99/ 0
internal?? $
SendToTypeWashedPipeline?? -
(??- .
TypeWashedPipeline??. @
pipeline??A I
)??I J
{@@ 
thisAA 
.AA 
pipelineAA 
=AA 
pipelineAA  (
;AA( )
}BB 
internalII 
voidII 
SendToPipelineII (
(II( )
IDictionaryII) 4
<II4 5
stringII5 ;
,II; <
objectII= C
>IIC D
membersIIE L
,IIL M
boolIIN R!
requireSetCoordinatesIIS h
)IIh i
{JJ 
SpatialTypeKK 
spatialTypeKK '
=KK( )
GetSpatialTypeKK* 8
(KK8 9
membersKK9 @
)KK@ A
;KKA B
intMM 
?MM 
epsgIdMM 
;MM 
ifNN 
(NN 
!NN $
TryGetCoordinateSystemIdNN -
(NN- .
membersNN. 5
,NN5 6
outNN7 :
epsgIdNN; A
)NNA B
)NNB C
{OO 
epsgIdPP 
=PP 
nullPP !
;PP! "
}QQ 
ifSS 
(SS !
requireSetCoordinatesSS )
||SS* ,
epsgIdSS- 3
!=SS4 6
nullSS7 ;
)SS; <
{TT 
thisZZ 
.ZZ 
pipelineZZ !
.ZZ! "
SetCoordinateSystemZZ" 5
(ZZ5 6
epsgIdZZ6 <
)ZZ< =
;ZZ= >
}[[ 
String]] 
contentMemberName]] (
;]]( )
if__ 
(__ 
spatialType__ 
==__  "
SpatialType__# .
.__. /

Collection__/ 9
)__9 :
{`` 
contentMemberNameaa %
=aa& '
GeoJsonConstantsaa( 8
.aa8 9 
GeometriesMemberNameaa9 M
;aaM N
}bb 
elsecc 
{dd 
contentMemberNameee %
=ee& '
GeoJsonConstantsee( 8
.ee8 9!
CoordinatesMemberNameee9 N
;eeN O
}ff 
IEnumerablehh 
memberObjecthh (
=hh) *%
GetMemberValueAsJsonArrayhh+ D
(hhD E
membershhE L
,hhL M
contentMemberNamehhN _
)hh_ `
;hh` a
	SendShapeii 
(ii 
spatialTypeii %
,ii% &
memberObjectii' 3
)ii3 4
;ii4 5
}jj 
privateqq 
staticqq 
voidqq 
SendArrayOfArrayqq  0
(qq0 1
IEnumerableqq1 <
arrayqq= B
,qqB C
ActionqqD J
<qqJ K
IEnumerableqqK V
>qqV W
sendqqX \
)qq\ ]
{rr 
foreachss 
(ss 
objectss 
elementss  '
inss( *
arrayss+ 0
)ss0 1
{tt 
IEnumerableuu 
arrayElementuu  ,
=uu- .
ValueAsJsonArrayuu/ ?
(uu? @
elementuu@ G
)uuG H
;uuH I
sendvv 
(vv 
arrayElementvv %
)vv% &
;vv& '
}ww 
}xx 
private 
static 
double !
?! "!
ValueAsNullableDouble# 8
(8 9
object9 ?
value@ E
)E F
{
€€ 
return
 
value
 
==
 
null
  $
?
% &
null
' +
:
, -
(
. /
double
/ 5
?
5 6
)
6 7
ValueAsDouble
7 D
(
D E
value
E J
)
J K
;
K L
}
‚‚ 
private
‰‰ 
static
‰‰ 
double
‰‰ !
ValueAsDouble
‰‰" /
(
‰‰/ 0
object
‰‰0 6
value
‰‰7 <
)
‰‰< =
{
ŠŠ 
if
‹‹ 
(
‹‹ 
value
‹‹ 
==
‹‹ 
null
‹‹ !
)
‹‹! "
{
ŒŒ 
throw
 
new
 
FormatException
 -
(
- .
Strings
. 5
.
5 6.
 GeoJsonReader_InvalidNullElement
6 V
)
V W
;
W X
}
 
if
‘‘ 
(
‘‘ 
value
‘‘ 
is
‘‘ 
String
‘‘ #
||
‘‘$ &
value
‘‘' ,
is
‘‘- /
IDictionary
‘‘0 ;
<
‘‘; <
string
‘‘< B
,
‘‘B C
object
‘‘D J
>
‘‘J K
||
‘‘L N
value
‘‘O T
is
‘‘U W
IEnumerable
‘‘X c
||
‘‘d f
value
‘‘g l
is
‘‘m o
bool
‘‘p t
)
‘‘t u
{
’’ 
throw
““ 
new
““ 
FormatException
““ -
(
““- .
Strings
““. 5
.
““5 6+
GeoJsonReader_ExpectedNumeric
““6 S
)
““S T
;
““T U
}
”” 
return
—— 
Convert
—— 
.
—— 
ToDouble
—— '
(
——' (
value
——( -
,
——- .
CultureInfo
——/ :
.
——: ;
InvariantCulture
——; K
)
——K L
;
——L M
}
˜˜ 
private
ŸŸ 
static
ŸŸ 
IEnumerable
ŸŸ &
ValueAsJsonArray
ŸŸ' 7
(
ŸŸ7 8
object
ŸŸ8 >
value
ŸŸ? D
)
ŸŸD E
{
   
if
¡¡ 
(
¡¡ 
value
¡¡ 
==
¡¡ 
null
¡¡ !
)
¡¡! "
{
¢¢ 
return
££ 
null
££ 
;
££  
}
¤¤ 
if
§§ 
(
§§ 
value
§§ 
is
§§ 
string
§§ #
)
§§# $
{
¨¨ 
throw
©© 
new
©© 
FormatException
©© -
(
©©- .
Strings
©©. 5
.
©©5 6)
GeoJsonReader_ExpectedArray
©©6 Q
)
©©Q R
;
©©R S
}
ªª 
if
¬¬ 
(
¬¬ 
value
¬¬ 
is
¬¬ 
IDictionary
¬¬ (
||
¬¬) +
value
¬¬, 1
is
¬¬2 4
IDictionary
¬¬5 @
<
¬¬@ A
string
¬¬A G
,
¬¬G H
object
¬¬I O
>
¬¬O P
)
¬¬P Q
{
­­ 
throw
°° 
new
°° 
FormatException
°° -
(
°°- .
Strings
°°. 5
.
°°5 6)
GeoJsonReader_ExpectedArray
°°6 Q
)
°°Q R
;
°°R S
}
±± 
IEnumerable
³³ 
array
³³ !
=
³³" #
value
³³$ )
as
³³* ,
IEnumerable
³³- 8
;
³³8 9
if
´´ 
(
´´ 
array
´´ 
!=
´´ 
null
´´ !
)
´´! "
{
µµ 
return
¶¶ 
array
¶¶  
;
¶¶  !
}
·· 
throw
¹¹ 
new
¹¹ 
FormatException
¹¹ )
(
¹¹) *
Strings
¹¹* 1
.
¹¹1 2)
GeoJsonReader_ExpectedArray
¹¹2 M
)
¹¹M N
;
¹¹N O
}
ºº 
private
ÁÁ 
static
ÁÁ 
IDictionary
ÁÁ &
<
ÁÁ& '
string
ÁÁ' -
,
ÁÁ- .
object
ÁÁ/ 5
>
ÁÁ5 6
ValueAsJsonObject
ÁÁ7 H
(
ÁÁH I
object
ÁÁI O
value
ÁÁP U
)
ÁÁU V
{
ÂÂ 
if
ÃÃ 
(
ÃÃ 
value
ÃÃ 
==
ÃÃ 
null
ÃÃ !
)
ÃÃ! "
{
ÄÄ 
return
ÅÅ 
null
ÅÅ 
;
ÅÅ  
}
ÆÆ 
IDictionary
ÈÈ 
<
ÈÈ 
string
ÈÈ "
,
ÈÈ" #
object
ÈÈ$ *
>
ÈÈ* +
	castValue
ÈÈ, 5
=
ÈÈ6 7
value
ÈÈ8 =
as
ÈÈ> @
IDictionary
ÈÈA L
<
ÈÈL M
string
ÈÈM S
,
ÈÈS T
object
ÈÈU [
>
ÈÈ[ \
;
ÈÈ\ ]
if
ÉÉ 
(
ÉÉ 
	castValue
ÉÉ 
!=
ÉÉ  
null
ÉÉ! %
)
ÉÉ% &
{
ÊÊ 
return
ËË 
	castValue
ËË $
;
ËË$ %
}
ÌÌ 
throw
ÎÎ 
new
ÎÎ 
FormatException
ÎÎ )
(
ÎÎ) *
Strings
ÎÎ* 1
.
ÎÎ1 2>
0JsonReaderExtensions_CannotReadValueAsJsonObject
ÎÎ2 b
(
ÎÎb c
value
ÎÎc h
)
ÎÎh i
)
ÎÎi j
;
ÎÎj k
}
ÏÏ 
private
×× 
static
×× 
string
×× !
ValueAsString
××" /
(
××/ 0
string
××0 6
propertyName
××7 C
,
××C D
object
××E K
value
××L Q
)
××Q R
{
ØØ 
if
ÙÙ 
(
ÙÙ 
value
ÙÙ 
==
ÙÙ 
null
ÙÙ !
)
ÙÙ! "
{
ÚÚ 
return
ÛÛ 
null
ÛÛ 
;
ÛÛ  
}
ÜÜ 
string
ŞŞ 
	castValue
ŞŞ  
=
ŞŞ! "
value
ŞŞ# (
as
ŞŞ) +
string
ŞŞ, 2
;
ŞŞ2 3
if
ßß 
(
ßß 
	castValue
ßß 
!=
ßß  
null
ßß! %
)
ßß% &
{
àà 
return
áá 
	castValue
áá $
;
áá$ %
}
ââ 
throw
ää 
new
ää 
FormatException
ää )
(
ää) *
Strings
ää* 1
.
ää1 2B
4JsonReaderExtensions_CannotReadPropertyValueAsString
ää2 f
(
ääf g
value
ääg l
,
ääl m
propertyName
ään z
)
ääz {
)
ää{ |
;
ää| }
}
åå 
private
ìì 
static
ìì 
SpatialType
ìì &
GetSpatialType
ìì' 5
(
ìì5 6
IDictionary
ìì6 A
<
ììA B
string
ììB H
,
ììH I
object
ììJ P
>
ììP Q
geoJsonObject
ììR _
)
ìì_ `
{
íí 
object
îî 
typeName
îî 
;
îî  
if
ïï 
(
ïï 
geoJsonObject
ïï !
.
ïï! "
TryGetValue
ïï" -
(
ïï- .
GeoJsonConstants
ïï. >
.
ïï> ?
TypeMemberName
ïï? M
,
ïïM N
out
ïïO R
typeName
ïïS [
)
ïï[ \
)
ïï\ ]
{
ğğ 
return
ññ 
ReadTypeName
ññ '
(
ññ' (
ValueAsString
ññ( 5
(
ññ5 6
GeoJsonConstants
ññ6 F
.
ññF G
TypeMemberName
ññG U
,
ññU V
typeName
ññW _
)
ññ_ `
)
ññ` a
;
ñña b
}
òò 
else
óó 
{
ôô 
throw
õõ 
new
õõ 
FormatException
õõ -
(
õõ- .
Strings
õõ. 5
.
õõ5 61
#GeoJsonReader_MissingRequiredMember
õõ6 Y
(
õõY Z
GeoJsonConstants
õõZ j
.
õõj k
TypeMemberName
õõk y
)
õõy z
)
õõz {
;
õõ{ |
}
öö 
}
÷÷ 
private
ÿÿ 
static
ÿÿ 
bool
ÿÿ &
TryGetCoordinateSystemId
ÿÿ  8
(
ÿÿ8 9
IDictionary
ÿÿ9 D
<
ÿÿD E
string
ÿÿE K
,
ÿÿK L
object
ÿÿM S
>
ÿÿS T
geoJsonObject
ÿÿU b
,
ÿÿb c
out
ÿÿd g
int
ÿÿh k
?
ÿÿk l
epsgId
ÿÿm s
)
ÿÿs t
{
€€ 
object
 
crsValue
 
;
  
if
‚‚ 
(
‚‚ 
!
‚‚ 
geoJsonObject
‚‚ "
.
‚‚" #
TryGetValue
‚‚# .
(
‚‚. /
GeoJsonConstants
‚‚/ ?
.
‚‚? @
CrsMemberName
‚‚@ M
,
‚‚M N
out
‚‚O R
crsValue
‚‚S [
)
‚‚[ \
)
‚‚\ ]
{
ƒƒ 
epsgId
„„ 
=
„„ 
null
„„ !
;
„„! "
return
…… 
false
……  
;
……  !
}
†† 
IDictionary
ˆˆ 
<
ˆˆ 
string
ˆˆ "
,
ˆˆ" #
object
ˆˆ$ *
>
ˆˆ* +

crsMembers
ˆˆ, 6
=
ˆˆ7 8
ValueAsJsonObject
ˆˆ9 J
(
ˆˆJ K
crsValue
ˆˆK S
)
ˆˆS T
;
ˆˆT U
epsgId
‰‰ 
=
‰‰ *
GetCoordinateSystemIdFromCrs
‰‰ 5
(
‰‰5 6

crsMembers
‰‰6 @
)
‰‰@ A
;
‰‰A B
return
ŠŠ 
true
ŠŠ 
;
ŠŠ 
}
‹‹ 
private
’’ 
static
’’ 
int
’’ *
GetCoordinateSystemIdFromCrs
’’ ;
(
’’; <
IDictionary
’’< G
<
’’G H
string
’’H N
,
’’N O
object
’’P V
>
’’V W
crsJsonObject
’’X e
)
’’e f
{
““ 
object
•• 
	typeValue
••  
;
••  !
if
–– 
(
–– 
!
–– 
crsJsonObject
–– "
.
––" #
TryGetValue
––# .
(
––. /
GeoJsonConstants
––/ ?
.
––? @
TypeMemberName
––@ N
,
––N O
out
––P S
	typeValue
––T ]
)
––] ^
)
––^ _
{
—— 
throw
˜˜ 
new
˜˜ 
FormatException
˜˜ -
(
˜˜- .
Strings
˜˜. 5
.
˜˜5 61
#GeoJsonReader_MissingRequiredMember
˜˜6 Y
(
˜˜Y Z
GeoJsonConstants
˜˜Z j
.
˜˜j k
TypeMemberName
˜˜k y
)
˜˜y z
)
˜˜z {
;
˜˜{ |
}
™™ 
var
œœ 

typeString
œœ 
=
œœ  
ValueAsString
œœ! .
(
œœ. /
GeoJsonConstants
œœ/ ?
.
œœ? @
TypeMemberName
œœ@ N
,
œœN O
	typeValue
œœP Y
)
œœY Z
;
œœZ [
if
ŸŸ 
(
ŸŸ 
!
ŸŸ 
string
ŸŸ 
.
ŸŸ 
Equals
ŸŸ "
(
ŸŸ" #

typeString
ŸŸ# -
,
ŸŸ- .
GeoJsonConstants
ŸŸ/ ?
.
ŸŸ? @ 
CrsTypeMemberValue
ŸŸ@ R
,
ŸŸR S
StringComparison
ŸŸT d
.
ŸŸd e
Ordinal
ŸŸe l
)
ŸŸl m
)
ŸŸm n
{
   
throw
¡¡ 
new
¡¡ 
FormatException
¡¡ -
(
¡¡- .
Strings
¡¡. 5
.
¡¡5 6*
GeoJsonReader_InvalidCrsType
¡¡6 R
(
¡¡R S

typeString
¡¡S ]
)
¡¡] ^
)
¡¡^ _
;
¡¡_ `
}
¢¢ 
object
¥¥ 
propertiesValue
¥¥ &
;
¥¥& '
if
¦¦ 
(
¦¦ 
!
¦¦ 
crsJsonObject
¦¦ "
.
¦¦" #
TryGetValue
¦¦# .
(
¦¦. /
GeoJsonConstants
¦¦/ ?
.
¦¦? @%
CrsPropertiesMemberName
¦¦@ W
,
¦¦W X
out
¦¦Y \
propertiesValue
¦¦] l
)
¦¦l m
)
¦¦m n
{
§§ 
throw
¨¨ 
new
¨¨ 
FormatException
¨¨ -
(
¨¨- .
Strings
¨¨. 5
.
¨¨5 61
#GeoJsonReader_MissingRequiredMember
¨¨6 Y
(
¨¨Y Z
GeoJsonConstants
¨¨Z j
.
¨¨j k&
CrsPropertiesMemberName¨¨k ‚
)¨¨‚ ƒ
)¨¨ƒ „
;¨¨„ …
}
©© 
var
«« 

properties
«« 
=
««  
ValueAsJsonObject
««! 2
(
««2 3
propertiesValue
««3 B
)
««B C
;
««C D
object
®® 
	nameValue
®®  
;
®®  !
if
¯¯ 
(
¯¯ 
!
¯¯ 

properties
¯¯ 
.
¯¯  
TryGetValue
¯¯  +
(
¯¯+ ,
GeoJsonConstants
¯¯, <
.
¯¯< =
CrsNameMemberName
¯¯= N
,
¯¯N O
out
¯¯P S
	nameValue
¯¯T ]
)
¯¯] ^
)
¯¯^ _
{
°° 
throw
±± 
new
±± 
FormatException
±± -
(
±±- .
Strings
±±. 5
.
±±5 61
#GeoJsonReader_MissingRequiredMember
±±6 Y
(
±±Y Z
GeoJsonConstants
±±Z j
.
±±j k
CrsNameMemberName
±±k |
)
±±| }
)
±±} ~
;
±±~ 
}
²² 
var
µµ 

nameString
µµ 
=
µµ  
ValueAsString
µµ! .
(
µµ. /
GeoJsonConstants
µµ/ ?
.
µµ? @
CrsNameMemberName
µµ@ Q
,
µµQ R
	nameValue
µµS \
)
µµ\ ]
;
µµ] ^
var
¸¸ 
offset
¸¸ 
=
¸¸ 
GeoJsonConstants
¸¸ -
.
¸¸- .
CrsValuePrefix
¸¸. <
.
¸¸< =
Length
¸¸= C
;
¸¸C D
int
¹¹ 
epsgId
¹¹ 
;
¹¹ 
if
ºº 
(
ºº 

nameString
ºº 
==
ºº !
null
ºº" &
||
»» 
!
»» 

nameString
»» "
.
»»" #

StartsWith
»»# -
(
»»- .
GeoJsonConstants
»». >
.
»»> ?
CrsValuePrefix
»»? M
,
»»M N
StringComparison
»»O _
.
»»_ `
Ordinal
»»` g
)
»»g h
||
¼¼ 

nameString
¼¼ !
.
¼¼! "
Length
¼¼" (
==
¼¼) +
offset
¼¼, 2
||
½½ 

nameString
½½ !
[
½½! "
offset
½½" (
]
½½( )
!=
½½* ,
$char
½½- 0
||
¾¾ 
!
¾¾ 
int
¾¾ 
.
¾¾ 
TryParse
¾¾ $
(
¾¾$ %

nameString
¾¾% /
.
¾¾/ 0
	Substring
¾¾0 9
(
¾¾9 :
offset
¾¾: @
+
¾¾A B
$num
¾¾C D
)
¾¾D E
,
¾¾E F
out
¾¾G J
epsgId
¾¾K Q
)
¾¾Q R
)
¾¾R S
{
¿¿ 
throw
ÀÀ 
new
ÀÀ 
FormatException
ÀÀ -
(
ÀÀ- .
Strings
ÀÀ. 5
.
ÀÀ5 6*
GeoJsonReader_InvalidCrsName
ÀÀ6 R
(
ÀÀR S

nameString
ÀÀS ]
)
ÀÀ] ^
)
ÀÀ^ _
;
ÀÀ_ `
}
ÁÁ 
return
ÃÃ 
epsgId
ÃÃ 
;
ÃÃ 
}
ÄÄ 
private
ÌÌ 
static
ÌÌ 
IEnumerable
ÌÌ &'
GetMemberValueAsJsonArray
ÌÌ' @
(
ÌÌ@ A
IDictionary
ÌÌA L
<
ÌÌL M
string
ÌÌM S
,
ÌÌS T
object
ÌÌU [
>
ÌÌ[ \
geoJsonObject
ÌÌ] j
,
ÌÌj k
String
ÌÌl r

memberName
ÌÌs }
)
ÌÌ} ~
{
ÍÍ 
object
ÎÎ 
coordinates
ÎÎ "
;
ÎÎ" #
if
ÏÏ 
(
ÏÏ 
geoJsonObject
ÏÏ !
.
ÏÏ! "
TryGetValue
ÏÏ" -
(
ÏÏ- .

memberName
ÏÏ. 8
,
ÏÏ8 9
out
ÏÏ: =
coordinates
ÏÏ> I
)
ÏÏI J
)
ÏÏJ K
{
ĞĞ 
return
ÑÑ 
ValueAsJsonArray
ÑÑ +
(
ÑÑ+ ,
coordinates
ÑÑ, 7
)
ÑÑ7 8
;
ÑÑ8 9
}
ÒÒ 
else
ÓÓ 
{
ÔÔ 
throw
ÕÕ 
new
ÕÕ 
FormatException
ÕÕ -
(
ÕÕ- .
Strings
ÕÕ. 5
.
ÕÕ5 61
#GeoJsonReader_MissingRequiredMember
ÕÕ6 Y
(
ÕÕY Z

memberName
ÕÕZ d
)
ÕÕd e
)
ÕÕe f
;
ÕÕf g
}
ÖÖ 
}
×× 
private
ŞŞ 
static
ŞŞ 
bool
ŞŞ 
EnumerableAny
ŞŞ  -
(
ŞŞ- .
IEnumerable
ŞŞ. 9

enumerable
ŞŞ: D
)
ŞŞD E
{
ßß 
IEnumerator
àà 

enumerator
àà &
=
àà' (

enumerable
àà) 3
.
àà3 4
GetEnumerator
àà4 A
(
ààA B
)
ààB C
;
ààC D
return
áá 

enumerator
áá !
.
áá! "
MoveNext
áá" *
(
áá* +
)
áá+ ,
;
áá, -
}
ââ 
private
éé 
static
éé 
SpatialType
éé &
ReadTypeName
éé' 3
(
éé3 4
string
éé4 :
typeName
éé; C
)
ééC D
{
êê 
switch
ëë 
(
ëë 
typeName
ëë  
)
ëë  !
{
ìì 
case
íí 
GeoJsonConstants
íí )
.
íí) *"
TypeMemberValuePoint
íí* >
:
íí> ?
return
îî 
SpatialType
îî *
.
îî* +
Point
îî+ 0
;
îî0 1
case
ïï 
GeoJsonConstants
ïï )
.
ïï) *'
TypeMemberValueLineString
ïï* C
:
ïïC D
return
ğğ 
SpatialType
ğğ *
.
ğğ* +

LineString
ğğ+ 5
;
ğğ5 6
case
ññ 
GeoJsonConstants
ññ )
.
ññ) *$
TypeMemberValuePolygon
ññ* @
:
ññ@ A
return
òò 
SpatialType
òò *
.
òò* +
Polygon
òò+ 2
;
òò2 3
case
óó 
GeoJsonConstants
óó )
.
óó) *'
TypeMemberValueMultiPoint
óó* C
:
óóC D
return
ôô 
SpatialType
ôô *
.
ôô* +

MultiPoint
ôô+ 5
;
ôô5 6
case
õõ 
GeoJsonConstants
õõ )
.
õõ) *,
TypeMemberValueMultiLineString
õõ* H
:
õõH I
return
öö 
SpatialType
öö *
.
öö* +
MultiLineString
öö+ :
;
öö: ;
case
÷÷ 
GeoJsonConstants
÷÷ )
.
÷÷) *)
TypeMemberValueMultiPolygon
÷÷* E
:
÷÷E F
return
øø 
SpatialType
øø *
.
øø* +
MultiPolygon
øø+ 7
;
øø7 8
case
ùù 
GeoJsonConstants
ùù )
.
ùù) */
!TypeMemberValueGeometryCollection
ùù* K
:
ùùK L
return
úú 
SpatialType
úú *
.
úú* +

Collection
úú+ 5
;
úú5 6
default
ûû 
:
ûû 
throw
üü 
new
üü !
FormatException
üü" 1
(
üü1 2
Strings
üü2 9
.
üü9 :+
GeoJsonReader_InvalidTypeName
üü: W
(
üüW X
typeName
üüX `
)
üü` a
)
üüa b
;
üüb c
}
ıı 
}
şş 
private
…… 
void
…… 
	SendShape
…… "
(
……" #
SpatialType
……# .
spatialType
……/ :
,
……: ;
IEnumerable
……< G
contentMembers
……H V
)
……V W
{
†† 
this
‡‡ 
.
‡‡ 
pipeline
‡‡ 
.
‡‡ 
BeginGeo
‡‡ &
(
‡‡& '
spatialType
‡‡' 2
)
‡‡2 3
;
‡‡3 4
SendCoordinates
ˆˆ 
(
ˆˆ  
spatialType
ˆˆ  +
,
ˆˆ+ ,
contentMembers
ˆˆ- ;
)
ˆˆ; <
;
ˆˆ< =
this
‰‰ 
.
‰‰ 
pipeline
‰‰ 
.
‰‰ 
EndGeo
‰‰ $
(
‰‰$ %
)
‰‰% &
;
‰‰& '
}
ŠŠ 
private
‘‘ 
void
‘‘ 
SendCoordinates
‘‘ (
(
‘‘( )
SpatialType
‘‘) 4
spatialType
‘‘5 @
,
‘‘@ A
IEnumerable
‘‘B M
contentMembers
‘‘N \
)
‘‘\ ]
{
’’ 
if
““ 
(
““ 
EnumerableAny
““ !
(
““! "
contentMembers
““" 0
)
““0 1
)
““1 2
{
”” 
switch
–– 
(
–– 
spatialType
–– '
)
––' (
{
—— 
case
˜˜ 
SpatialType
˜˜ (
.
˜˜( )
Point
˜˜) .
:
˜˜. /
	SendPoint
™™ %
(
™™% &
contentMembers
™™& 4
)
™™4 5
;
™™5 6
break
šš !
;
šš! "
case
›› 
SpatialType
›› (
.
››( )

LineString
››) 3
:
››3 4
SendLineString
œœ *
(
œœ* +
contentMembers
œœ+ 9
)
œœ9 :
;
œœ: ;
break
 !
;
! "
case
 
SpatialType
 (
.
( )
Polygon
) 0
:
0 1
SendPolygon
ŸŸ '
(
ŸŸ' (
contentMembers
ŸŸ( 6
)
ŸŸ6 7
;
ŸŸ7 8
break
   !
;
  ! "
case
¡¡ 
SpatialType
¡¡ (
.
¡¡( )

MultiPoint
¡¡) 3
:
¡¡3 4
SendMultiShape
¢¢ *
(
¢¢* +
SpatialType
¢¢+ 6
.
¢¢6 7
Point
¢¢7 <
,
¢¢< =
contentMembers
¢¢> L
)
¢¢L M
;
¢¢M N
break
££ !
;
££! "
case
¤¤ 
SpatialType
¤¤ (
.
¤¤( )
MultiLineString
¤¤) 8
:
¤¤8 9
SendMultiShape
¥¥ *
(
¥¥* +
SpatialType
¥¥+ 6
.
¥¥6 7

LineString
¥¥7 A
,
¥¥A B
contentMembers
¥¥C Q
)
¥¥Q R
;
¥¥R S
break
¦¦ !
;
¦¦! "
case
§§ 
SpatialType
§§ (
.
§§( )
MultiPolygon
§§) 5
:
§§5 6
SendMultiShape
¨¨ *
(
¨¨* +
SpatialType
¨¨+ 6
.
¨¨6 7
Polygon
¨¨7 >
,
¨¨> ?
contentMembers
¨¨@ N
)
¨¨N O
;
¨¨O P
break
©© !
;
©©! "
case
ªª 
SpatialType
ªª (
.
ªª( )

Collection
ªª) 3
:
ªª3 4
foreach
«« #
(
««$ %
IDictionary
««% 0
<
««0 1
string
««1 7
,
««7 8
object
««9 ?
>
««? @
collectionMember
««A Q
in
««R T
contentMembers
««U c
)
««c d
{
¬¬ 
SendToPipeline
­­  .
(
­­. /
collectionMember
­­/ ?
,
­­? @
false
­­A F
)
­­F G
;
­­G H
}
®® 
break
°° !
;
°°! "
default
±± 
:
±±  
Debug
²² !
.
²²! "
Assert
²²" (
(
²²( )
false
²²) .
,
²². /
$str
²²0 k
+
²²l m
spatialType
²²n y
)
²²y z
;
²²z {
break
³³ !
;
³³! "
}
´´ 
}
µµ 
}
¶¶ 
private
¼¼ 
void
¼¼ 
	SendPoint
¼¼ "
(
¼¼" #
IEnumerable
¼¼# .
coordinates
¼¼/ :
)
¼¼: ;
{
½½ 
SendPosition
¾¾ 
(
¾¾ 
coordinates
¾¾ (
,
¾¾( )
true
¾¾* .
)
¾¾. /
;
¾¾/ 0
this
¿¿ 
.
¿¿ 
pipeline
¿¿ 
.
¿¿ 
	EndFigure
¿¿ '
(
¿¿' (
)
¿¿( )
;
¿¿) *
}
ÀÀ 
private
ÆÆ 
void
ÆÆ 
SendLineString
ÆÆ '
(
ÆÆ' (
IEnumerable
ÆÆ( 3
coordinates
ÆÆ4 ?
)
ÆÆ? @
{
ÇÇ 
SendPositionArray
ÈÈ !
(
ÈÈ! "
coordinates
ÈÈ" -
)
ÈÈ- .
;
ÈÈ. /
}
ÉÉ 
private
ÏÏ 
void
ÏÏ 
SendPolygon
ÏÏ $
(
ÏÏ$ %
IEnumerable
ÏÏ% 0
coordinates
ÏÏ1 <
)
ÏÏ< =
{
ĞĞ 
SendArrayOfArray
ÑÑ  
(
ÑÑ  !
coordinates
ÑÑ! ,
,
ÑÑ, -
(
ÑÑ. /
positionArray
ÑÑ/ <
)
ÑÑ< =
=>
ÑÑ> @
this
ÑÑA E
.
ÑÑE F
SendPositionArray
ÑÑF W
(
ÑÑW X
positionArray
ÑÑX e
)
ÑÑe f
)
ÑÑf g
;
ÑÑg h
}
ÒÒ 
private
ÙÙ 
void
ÙÙ 
SendMultiShape
ÙÙ '
(
ÙÙ' (
SpatialType
ÙÙ( 3"
containedSpatialType
ÙÙ4 H
,
ÙÙH I
IEnumerable
ÙÙJ U
coordinates
ÙÙV a
)
ÙÙa b
{
ÚÚ 
Debug
ÛÛ 
.
ÛÛ 
Assert
ÛÛ 
(
ÛÛ "
containedSpatialType
ÜÜ (
==
ÜÜ) +
SpatialType
ÜÜ, 7
.
ÜÜ7 8
Point
ÜÜ8 =
||
ÜÜ> @"
containedSpatialType
İİ (
==
İİ) +
SpatialType
İİ, 7
.
İİ7 8

LineString
İİ8 B
||
İİC E"
containedSpatialType
ŞŞ (
==
ŞŞ) +
SpatialType
ŞŞ, 7
.
ŞŞ7 8
Polygon
ŞŞ8 ?
,
ŞŞ? @
$str
ßß j
)
ßßj k
;
ßßk l
SendArrayOfArray
áá  
(
áá  !
coordinates
áá! ,
,
áá, -
(
áá. /'
containedShapeCoordinates
áá/ H
)
ááH I
=>
ááJ L
this
ááM Q
.
ááQ R
	SendShape
ááR [
(
áá[ \"
containedSpatialType
áá\ p
,
ááp q(
containedShapeCoordinatesáár ‹
)áá‹ Œ
)ááŒ 
;áá 
}
ââ 
private
èè 
void
èè 
SendPositionArray
èè *
(
èè* +
IEnumerable
èè+ 6
positionArray
èè7 D
)
èèD E
{
éé 
bool
êê 
first
êê 
=
êê 
true
êê !
;
êê! "
SendArrayOfArray
ìì  
(
ìì  !
positionArray
íí !
,
íí! "
(
îî 
array
îî 
)
îî 
=>
îî 
{
ïï 
SendPosition
ğğ $
(
ğğ$ %
array
ğğ% *
,
ğğ* +
first
ğğ, 1
)
ğğ1 2
;
ğğ2 3
if
ññ 
(
ññ 
first
ññ !
)
ññ! "
{
òò 
first
óó !
=
óó" #
false
óó$ )
;
óó) *
}
ôô 
}
õõ 
)
õõ 
;
õõ 
this
÷÷ 
.
÷÷ 
pipeline
÷÷ 
.
÷÷ 
	EndFigure
÷÷ '
(
÷÷' (
)
÷÷( )
;
÷÷) *
}
øø 
private
ÿÿ 
void
ÿÿ 
SendPosition
ÿÿ %
(
ÿÿ% &
IEnumerable
ÿÿ& 1
positionElements
ÿÿ2 B
,
ÿÿB C
bool
ÿÿD H
first
ÿÿI N
)
ÿÿN O
{
€€ 
int
 
count
 
=
 
$num
 
;
 
double
‚‚ 
x
‚‚ 
=
‚‚ 
$num
‚‚ 
;
‚‚ 
double
ƒƒ 
y
ƒƒ 
=
ƒƒ 
$num
ƒƒ 
;
ƒƒ 
double
„„ 
?
„„ 
z
„„ 
=
„„ 
null
„„  
;
„„  !
double
…… 
?
…… 
m
…… 
=
…… 
null
……  
;
……  !
foreach
‡‡ 
(
‡‡ 
object
‡‡ 
element
‡‡  '
in
‡‡( *
positionElements
‡‡+ ;
)
‡‡; <
{
ˆˆ 
count
‰‰ 
++
‰‰ 
;
‰‰ 
switch
ŒŒ 
(
ŒŒ 
count
ŒŒ !
)
ŒŒ! "
{
 
case
 
$num
 
:
 
x
 
=
 
ValueAsDouble
  -
(
- .
element
. 5
)
5 6
;
6 7
break
 !
;
! "
case
‘‘ 
$num
‘‘ 
:
‘‘ 
y
’’ 
=
’’ 
ValueAsDouble
’’  -
(
’’- .
element
’’. 5
)
’’5 6
;
’’6 7
break
““ !
;
““! "
case
”” 
$num
”” 
:
”” 
z
•• 
=
•• #
ValueAsNullableDouble
••  5
(
••5 6
element
••6 =
)
••= >
;
••> ?
break
–– !
;
––! "
case
—— 
$num
—— 
:
—— 
m
˜˜ 
=
˜˜ #
ValueAsNullableDouble
˜˜  5
(
˜˜5 6
element
˜˜6 =
)
˜˜= >
;
˜˜> ?
break
™™ !
;
™™! "
default
šš 
:
šš  
break
œœ !
;
œœ! "
}
 
}
 
if
   
(
   
count
   
<
   
$num
   
||
    
count
  ! &
>
  ' (
$num
  ) *
)
  * +
{
¡¡ 
throw
¢¢ 
new
¢¢ 
FormatException
¢¢ -
(
¢¢- .
Strings
¢¢. 5
.
¢¢5 6+
GeoJsonReader_InvalidPosition
¢¢6 S
)
¢¢S T
;
¢¢T U
}
££ 
if
¥¥ 
(
¥¥ 
first
¥¥ 
)
¥¥ 
{
¦¦ 
this
§§ 
.
§§ 
pipeline
§§ !
.
§§! "
BeginFigure
§§" -
(
§§- .
x
§§. /
,
§§/ 0
y
§§1 2
,
§§2 3
z
§§4 5
,
§§5 6
m
§§7 8
)
§§8 9
;
§§9 :
}
¨¨ 
else
©© 
{
ªª 
this
«« 
.
«« 
pipeline
«« !
.
««! "
LineTo
««" (
(
««( )
x
««) *
,
««* +
y
««, -
,
««- .
z
««/ 0
,
««0 1
m
««2 3
)
««3 4
;
««4 5
}
¬¬ 
}
­­ 
}
®® 	
}
¯¯ 
}°° ¯!
2D:\odata.net\src\Microsoft.Spatial\CompositeKey.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
CompositeKey 
<  
T1  "
," #
T2$ &
>& '
:( )

IEquatable* 4
<4 5
CompositeKey5 A
<A B
T1B D
,D E
T2F H
>H I
>I J
{ 
private 
readonly 
T1 
first !
;! "
private 
readonly 
T2 
second "
;" #
public!! 
CompositeKey!! 
(!! 
T1!! 
first!! $
,!!$ %
T2!!& (
second!!) /
)!!/ 0
{"" 	
this## 
.## 
first## 
=## 
first## 
;## 
this$$ 
.$$ 
second$$ 
=$$ 
second$$  
;$$  !
}%% 	
public// 
static// 
bool// 
operator// #
==//$ &
(//& '
CompositeKey//' 3
<//3 4
T1//4 6
,//6 7
T2//8 :
>//: ;
left//< @
,//@ A
CompositeKey//B N
<//N O
T1//O Q
,//Q R
T2//S U
>//U V
right//W \
)//\ ]
{00 	
return11 
Equals11 
(11 
left11 
,11 
right11  %
)11% &
;11& '
}22 	
public<< 
static<< 
bool<< 
operator<< #
!=<<$ &
(<<& '
CompositeKey<<' 3
<<<3 4
T1<<4 6
,<<6 7
T2<<8 :
><<: ;
left<<< @
,<<@ A
CompositeKey<<B N
<<<N O
T1<<O Q
,<<Q R
T2<<S U
><<U V
right<<W \
)<<\ ]
{== 	
return>> 
!>> 
Equals>> 
(>> 
left>> 
,>>  
right>>! &
)>>& '
;>>' (
}?? 	
publicHH 
boolHH 
EqualsHH 
(HH 
CompositeKeyHH '
<HH' (
T1HH( *
,HH* +
T2HH, .
>HH. /
otherHH0 5
)HH5 6
{II 	
ifJJ 
(JJ 
ReferenceEqualsJJ 
(JJ  
nullJJ  $
,JJ$ %
otherJJ& +
)JJ+ ,
)JJ, -
{KK 
returnLL 
falseLL 
;LL 
}MM 
ifOO 
(OO 
ReferenceEqualsOO 
(OO  
thisOO  $
,OO$ %
otherOO& +
)OO+ ,
)OO, -
{PP 
returnQQ 
trueQQ 
;QQ 
}RR 
returnTT 
EqualsTT 
(TT 
otherTT 
.TT  
firstTT  %
,TT% &
thisTT' +
.TT+ ,
firstTT, 1
)TT1 2
&&TT3 5
EqualsTT6 <
(TT< =
otherTT= B
.TTB C
secondTTC I
,TTI J
thisTTK O
.TTO P
secondTTP V
)TTV W
;TTW X
}UU 	
public__ 
override__ 
bool__ 
Equals__ #
(__# $
object__$ *
obj__+ .
)__. /
{`` 	
returnaa 
Equalsaa 
(aa 
objaa 
asaa  
CompositeKeyaa! -
<aa- .
T1aa. 0
,aa0 1
T2aa2 4
>aa4 5
)aa5 6
;aa6 7
}bb 	
publicjj 
overridejj 
intjj 
GetHashCodejj '
(jj' (
)jj( )
{kk 	
	uncheckedll 
{mm 
returnnn 
(nn 
thisnn 
.nn 
firstnn "
.nn" #
GetHashCodenn# .
(nn. /
)nn/ 0
*nn1 2
$numnn3 6
)nn6 7
^nn8 9
thisnn: >
.nn> ?
secondnn? E
.nnE F
GetHashCodennF Q
(nnQ R
)nnR S
;nnS T
}oo 
}pp 	
}qq 
}rr ó
9D:\odata.net\src\Microsoft.Spatial\FormatterExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

static 
class 
FormatterExtensions +
{ 
public 
static 
String 
Write "
(" #
this# '
SpatialFormatter( 8
<8 9

TextReader9 C
,C D

TextWriterE O
>O P
	formatterQ Z
,Z [
ISpatial\ d
spatiale l
)l m
{ 	
Util 
. 
CheckArgumentNull "
(" #
	formatter# ,
,, -
$str. 9
)9 :
;: ;
StringBuilder 
builder !
=" #
new$ '
StringBuilder( 5
(5 6
)6 7
;7 8
using 
( 

TextWriter 
writer $
=% &
new' *
StringWriter+ 7
(7 8
builder8 ?
,? @
CultureInfoA L
.L M
InvariantCultureM ]
)] ^
)^ _
{ 
	formatter 
. 
Write 
(  
spatial  '
,' (
writer) /
)/ 0
;0 1
} 
return   
builder   
.   
ToString   #
(  # $
)  $ %
;  % &
}!! 	
public'' 
static'' 
String'' 
Write'' "
(''" #
this''# '
SpatialFormatter''( 8
<''8 9
	XmlReader''9 B
,''B C
	XmlWriter''D M
>''M N
	formatter''O X
,''X Y
ISpatial''Z b
spatial''c j
)''j k
{(( 	
Util)) 
.)) 
CheckArgumentNull)) "
())" #
	formatter))# ,
,)), -
$str)). 9
)))9 :
;)): ;
StringBuilder++ 
builder++ !
=++" #
new++$ '
StringBuilder++( 5
(++5 6
)++6 7
;++7 8
XmlWriterSettings,, 
settings,, &
=,,' (
new,,) ,
XmlWriterSettings,,- >
(,,> ?
),,? @
{,,A B
OmitXmlDeclaration,,C U
=,,V W
true,,X \
},,] ^
;,,^ _
using-- 
(-- 
	XmlWriter-- 
writer-- #
=--$ %
	XmlWriter--& /
.--/ 0
Create--0 6
(--6 7
builder--7 >
,--> ?
settings--@ H
)--H I
)--I J
{.. 
	formatter// 
.// 
Write// 
(//  
spatial//  '
,//' (
writer//) /
)/// 0
;//0 1
}00 
return22 
builder22 
.22 
ToString22 #
(22# $
)22$ %
;22% &
}33 	
}44 
}55 û

7D:\odata.net\src\Microsoft.Spatial\GeographyPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyPipeline

 +
{ 
public 
abstract 
void 
BeginGeography +
(+ ,
SpatialType, 7
type8 <
)< =
;= >
public 
abstract 
void 
BeginFigure (
(( )
GeographyPosition) :
position; C
)C D
;D E
public 
abstract 
void 
LineTo #
(# $
GeographyPosition$ 5
position6 >
)> ?
;? @
public 
abstract 
void 
	EndFigure &
(& '
)' (
;( )
public 
abstract 
void 
EndGeography )
() *
)* +
;+ ,
public   
abstract   
void   
SetCoordinateSystem   0
(  0 1
CoordinateSystem  1 A
coordinateSystem  B R
)  R S
;  S T
public## 
abstract## 
void## 
Reset## "
(##" #
)### $
;##$ %
}$$ 
}%% µ
8D:\odata.net\src\Microsoft.Spatial\GeographyFullGlobe.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyFullGlobe

 ,
:

- .
GeographySurface

/ ?
{ 
	protected 
GeographyFullGlobe $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$str	g 
)
 
]
 
public 
bool 
Equals 
( 
GeographyFullGlobe -
other. 3
)3 4
{ 	
return 
this 
. 

BaseEquals "
(" #
other# (
)( )
??* ,
true- 1
;1 2
} 	
public!! 
override!! 
bool!! 
Equals!! #
(!!# $
object!!$ *
obj!!+ .
)!!. /
{"" 	
return## 
this## 
.## 
Equals## 
(## 
obj## "
as### %
GeographyFullGlobe##& 8
)##8 9
;##9 :
}$$ 	
public(( 
override(( 
int(( 
GetHashCode(( '
(((' (
)((( )
{)) 	
return** 
	Microsoft** 
.** 
Spatial** $
.**$ %
	Geography**% .
.**. /
ComputeHashCodeFor**/ A
(**A B
this**B F
.**F G
CoordinateSystem**G W
,**W X
new**Y \
[**\ ]
]**] ^
{**_ `
$num**a b
}**c d
)**d e
;**e f
}++ 	
},, 
}-- °
4D:\odata.net\src\Microsoft.Spatial\GeographyCurve.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyCurve

 (
:

) *
	Geography

+ 4
{ 
	protected 
GeographyCurve  
(  !
CoordinateSystem! 1
coordinateSystem2 B
,B C!
SpatialImplementationD Y
creatorZ a
)a b
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} ë
9D:\odata.net\src\Microsoft.Spatial\GeographyLineString.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeographyLineString -
:. /
GeographyCurve0 >
{ 
	protected 
GeographyLineString %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyPoint+ 9
>9 :
Points; A
{B C
getD G
;G H
}I J
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( 
GeographyLineString .
other/ 4
)4 5
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Points!!2 8
.!!8 9
SequenceEqual!!9 F
(!!F G
other!!G L
.!!L M
Points!!M S
)!!S T
;!!T U
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeographyLineString))& 9
)))9 :
;)): ;
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Geography00 
.00 
ComputeHashCodeFor00 /
(00/ 0
this000 4
.004 5
CoordinateSystem005 E
,00E F
this00G K
.00K L
Points00L R
)00R S
;00S T
}11 	
}22 
}33 É
9D:\odata.net\src\Microsoft.Spatial\GeographyMultiCurve.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyMultiCurve

 -
:

. /
GeographyCollection

0 C
{ 
	protected 
GeographyMultiCurve %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} ì
>D:\odata.net\src\Microsoft.Spatial\GeographyMultiLineString.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class $
GeographyMultiLineString 2
:3 4
GeographyMultiCurve5 H
{ 
	protected $
GeographyMultiLineString *
(* +
CoordinateSystem+ ;
coordinateSystem< L
,L M!
SpatialImplementationN c
creatord k
)k l
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyLineString+ >
>> ?
LineStrings@ K
{L M
getN Q
;Q R
}S T
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( $
GeographyMultiLineString 3
other4 9
)9 :
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
LineStrings!!2 =
.!!= >
SequenceEqual!!> K
(!!K L
other!!L Q
.!!Q R
LineStrings!!R ]
)!!] ^
;!!^ _
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %$
GeographyMultiLineString))& >
)))> ?
;))? @
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
LineStrings00^ i
)00i j
;00j k
}11 	
}22 
}33 º
9D:\odata.net\src\Microsoft.Spatial\GeographyMultiPoint.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeographyMultiPoint -
:. /
GeographyCollection0 C
{ 
	protected 
GeographyMultiPoint %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyPoint+ 9
>9 :
Points; A
{B C
getD G
;G H
}I J
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( 
GeographyMultiPoint .
other/ 4
)4 5
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Points!!2 8
.!!8 9
SequenceEqual!!9 F
(!!F G
other!!G L
.!!L M
Points!!M S
)!!S T
;!!T U
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeographyMultiPoint))& 9
)))9 :
;)): ;
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Points00^ d
)00d e
;00e f
}11 	
}22 
}33 Ğ
;D:\odata.net\src\Microsoft.Spatial\GeographyMultiPolygon.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class !
GeographyMultiPolygon /
:0 1!
GeographyMultiSurface2 G
{ 
	protected !
GeographyMultiPolygon '
(' (
CoordinateSystem( 8
coordinateSystem9 I
,I J!
SpatialImplementationK `
creatora h
)h i
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyPolygon+ ;
>; <
Polygons= E
{F G
getH K
;K L
}M N
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( !
GeographyMultiPolygon 0
other1 6
)6 7
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Polygons!!2 :
.!!: ;
SequenceEqual!!; H
(!!H I
other!!I N
.!!N O
Polygons!!O W
)!!W X
;!!X Y
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %!
GeographyMultiPolygon))& ;
))); <
;))< =
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Polygons00^ f
)00f g
;00g h
}11 	
}22 
}33 Ï
;D:\odata.net\src\Microsoft.Spatial\GeographyMultiSurface.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 !
GeographyMultiSurface

 /
:

0 1
GeographyCollection

2 E
{ 
	protected !
GeographyMultiSurface '
(' (
CoordinateSystem( 8
coordinateSystem9 I
,I J!
SpatialImplementationK `
creatora h
)h i
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} G
4D:\odata.net\src\Microsoft.Spatial\GeographyPoint.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyPoint

 (
:

) *
	Geography

+ 4
{ 
	protected 
GeographyPoint  
(  !
CoordinateSystem! 1
coordinateSystem2 B
,B C!
SpatialImplementationD Y
creatorZ a
)a b
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
double 
Latitude '
{( )
get* -
;- .
}/ 0
public 
abstract 
double 
	Longitude (
{) *
get+ .
;. /
}0 1
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$strg x
)x y
]y z
public   
abstract   
double   
?   
Z    !
{  " #
get  $ '
;  ' (
}  ) *
[%% 	
System%%	 
.%% 
Diagnostics%% 
.%% 
CodeAnalysis%% (
.%%( )
SuppressMessage%%) 8
(%%8 9
$str%%9 K
,%%K L
$str%%M U
,%%U V
Justification%%W d
=%%e f
$str%%g x
)%%x y
]%%y z
public&& 
abstract&& 
double&& 
?&& 
M&&  !
{&&" #
get&&$ '
;&&' (
}&&) *
public,, 
static,, 
GeographyPoint,, $
Create,,% +
(,,+ ,
double,,, 2
latitude,,3 ;
,,,; <
double,,= C
	longitude,,D M
),,M N
{-- 	
return.. 
Create.. 
(.. 
CoordinateSystem.. *
...* +
DefaultGeography..+ ;
,..; <
latitude..= E
,..E F
	longitude..G P
,..P Q
null..R V
,..V W
null..X \
)..\ ]
;..] ^
}// 	
[66 	
System66	 
.66 
Diagnostics66 
.66 
CodeAnalysis66 (
.66( )
SuppressMessage66) 8
(668 9
$str669 K
,66K L
$str66M U
,66U V
Justification66W d
=66e f
$str66g x
)66x y
]66y z
public77 
static77 
GeographyPoint77 $
Create77% +
(77+ ,
double77, 2
latitude773 ;
,77; <
double77= C
	longitude77D M
,77M N
double77O U
?77U V
z77W X
)77X Y
{88 	
return99 
Create99 
(99 
CoordinateSystem99 *
.99* +
DefaultGeography99+ ;
,99; <
latitude99= E
,99E F
	longitude99G P
,99P Q
z99R S
,99S T
null99U Y
)99Y Z
;99Z [
}:: 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM U
,BBU V
JustificationBBW d
=BBe f
$strBBg 
)	BB €
]
BB€ 
publicCC 
staticCC 
GeographyPointCC $
CreateCC% +
(CC+ ,
doubleCC, 2
latitudeCC3 ;
,CC; <
doubleCC= C
	longitudeCCD M
,CCM N
doubleCCO U
?CCU V
zCCW X
,CCX Y
doubleCCZ `
?CC` a
mCCb c
)CCc d
{DD 	
returnEE 
CreateEE 
(EE 
CoordinateSystemEE *
.EE* +
DefaultGeographyEE+ ;
,EE; <
latitudeEE= E
,EEE F
	longitudeEEG P
,EEP Q
zEER S
,EES T
mEEU V
)EEV W
;EEW X
}FF 	
[OO 	
SystemOO	 
.OO 
DiagnosticsOO 
.OO 
CodeAnalysisOO (
.OO( )
SuppressMessageOO) 8
(OO8 9
$strOO9 K
,OOK L
$strOOM U
,OOU V
JustificationOOW d
=OOe f
$strOOg 
)	OO €
]
OO€ 
publicPP 
staticPP 
GeographyPointPP $
CreatePP% +
(PP+ ,
CoordinateSystemPP, <
coordinateSystemPP= M
,PPM N
doublePPO U
latitudePPV ^
,PP^ _
doublePP` f
	longitudePPg p
,PPp q
doublePPr x
?PPx y
zPPz {
,PP{ |
double	PP} ƒ
?
PPƒ „
m
PP… †
)
PP† ‡
{QQ 	
varRR 
builderRR 
=RR 
SpatialBuilderRR (
.RR( )
CreateRR) /
(RR/ 0
)RR0 1
;RR1 2
varSS 
pipelineSS 
=SS 
builderSS "
.SS" #
GeographyPipelineSS# 4
;SS4 5
pipelineTT 
.TT 
SetCoordinateSystemTT (
(TT( )
coordinateSystemTT) 9
)TT9 :
;TT: ;
pipelineUU 
.UU 
BeginGeographyUU #
(UU# $
SpatialTypeUU$ /
.UU/ 0
PointUU0 5
)UU5 6
;UU6 7
pipelineVV 
.VV 
BeginFigureVV  
(VV  !
newVV! $
GeographyPositionVV% 6
(VV6 7
latitudeVV7 ?
,VV? @
	longitudeVVA J
,VVJ K
zVVL M
,VVM N
mVVO P
)VVP Q
)VVQ R
;VVR S
pipelineWW 
.WW 
	EndFigureWW 
(WW 
)WW  
;WW  !
pipelineXX 
.XX 
EndGeographyXX !
(XX! "
)XX" #
;XX# $
returnYY 
(YY 
GeographyPointYY "
)YY" #
builderYY# *
.YY* + 
ConstructedGeographyYY+ ?
;YY? @
}ZZ 	
[__ 	
System__	 
.__ 
Diagnostics__ 
.__ 
CodeAnalysis__ (
.__( )
SuppressMessage__) 8
(__8 9
$str__9 K
,__K L
$str__M z
,__z {
Justification	__| ‰
=
__Š ‹
$str
__Œ £
)
__£ ¤
]
__¤ ¥
public`` 
bool`` 
Equals`` 
(`` 
GeographyPoint`` )
other``* /
)``/ 0
{aa 	
returnbb 
thisbb 
.bb 

BaseEqualsbb "
(bb" #
otherbb# (
)bb( )
??bb* ,
thisbb- 1
.bb1 2
Latitudebb2 :
==bb; =
otherbb> C
.bbC D
LatitudebbD L
&&bbM O
thisbbP T
.bbT U
	LongitudebbU ^
==bb_ a
otherbbb g
.bbg h
	Longitudebbh q
&&bbr t
thisbbu y
.bby z
Zbbz {
==bb| ~
other	bb „
.
bb„ …
Z
bb… †
&&
bb‡ ‰
this
bbŠ 
.
bb 
M
bb 
==
bb‘ “
other
bb” ™
.
bb™ š
M
bbš ›
;
bb› œ
}cc 	
publichh 
overridehh 
boolhh 
Equalshh #
(hh# $
objecthh$ *
objhh+ .
)hh. /
{ii 	
returnjj 
thisjj 
.jj 
Equalsjj 
(jj 
objjj "
asjj# %
GeographyPointjj& 4
)jj4 5
;jj5 6
}kk 	
publicoo 
overrideoo 
intoo 
GetHashCodeoo '
(oo' (
)oo( )
{pp 	
returnqq 
	Geographyqq 
.qq 
ComputeHashCodeForqq /
(qq/ 0
thisqq0 4
.qq4 5
CoordinateSystemqq5 E
,qqE F
newqqG J
[qqJ K
]qqK L
{qqM N
thisqqO S
.qqS T
IsEmptyqqT [
?qq\ ]
$numqq^ _
:qq` a
thisqqb f
.qqf g
Latitudeqqg o
,qqo p
thisqqq u
.qqu v
IsEmptyqqv }
?qq~ 
$num
qq€ 
:
qq‚ ƒ
this
qq„ ˆ
.
qqˆ ‰
	Longitude
qq‰ ’
,
qq’ “
this
qq” ˜
.
qq˜ ™
Z
qq™ š
??
qq› 
$num
qq Ÿ
,
qqŸ  
this
qq¡ ¥
.
qq¥ ¦
M
qq¦ §
??
qq¨ ª
$num
qq« ¬
}
qq­ ®
)
qq® ¯
;
qq¯ °
}rr 	
}ss 
}tt ß
6D:\odata.net\src\Microsoft.Spatial\GeographyPolygon.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeographyPolygon *
:+ ,
GeographySurface- =
{ 
	protected 
GeographyPolygon "
(" #
CoordinateSystem# 3
coordinateSystem4 D
,D E!
SpatialImplementationF [
creator\ c
)c d
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyLineString+ >
>> ?
Rings@ E
{F G
getH K
;K L
}M N
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( 
GeographyPolygon +
other, 1
)1 2
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Rings!!2 7
.!!7 8
SequenceEqual!!8 E
(!!E F
other!!F K
.!!K L
Rings!!L Q
)!!Q R
;!!R S
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeographyPolygon))& 6
)))6 7
;))7 8
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Geography00 
.00 
ComputeHashCodeFor00 /
(00/ 0
this000 4
.004 5
CoordinateSystem005 E
,00E F
this00G K
.00K L
Rings00L Q
)00Q R
;00R S
}11 	
}22 
}33 Ì'
/D:\odata.net\src\Microsoft.Spatial\Geography.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
	Geography #
:$ %
ISpatial& .
{ 
private !
SpatialImplementation %
creator& -
;- .
private 
CoordinateSystem  
coordinateSystem! 1
;1 2
	protected 
	Geography 
( 
CoordinateSystem ,
coordinateSystem- =
,= >!
SpatialImplementation? T
creatorU \
)\ ]
{ 	
Util 
. 
CheckArgumentNull "
(" #
coordinateSystem# 3
,3 4
$str5 G
)G H
;H I
Util 
. 
CheckArgumentNull "
(" #
creator# *
,* +
$str, 5
)5 6
;6 7
this   
.   
coordinateSystem   !
=  " #
coordinateSystem  $ 4
;  4 5
this!! 
.!! 
creator!! 
=!! 
creator!! "
;!!" #
}"" 	
public&& 
CoordinateSystem&& 
CoordinateSystem&&  0
{'' 	
get(( 
{)) 
return** 
this** 
.** 
coordinateSystem** ,
;**, -
}++ 
internal-- 
set-- 
{.. 
this// 
.// 
coordinateSystem// %
=//& '
value//( -
;//- .
}00 
}11 	
public55 
abstract55 
bool55 
IsEmpty55 $
{55% &
get55' *
;55* +
}55, -
internal:: !
SpatialImplementation:: &
Creator::' .
{;; 	
get<< 
{<< 
return<< 
this<< 
.<< 
creator<< %
;<<% &
}<<' (
set>> 
{>> 
this>> 
.>> 
creator>> 
=>>  
value>>! &
;>>& '
}>>( )
}?? 	
publicCC 
virtualCC 
voidCC 
SendToCC "
(CC" #
GeographyPipelineCC# 4
chainCC5 :
)CC: ;
{DD 	
UtilEE 
.EE 
CheckArgumentNullEE "
(EE" #
chainEE# (
,EE( )
$strEE* 1
)EE1 2
;EE2 3
chainFF 
.FF 
SetCoordinateSystemFF %
(FF% &
thisFF& *
.FF* +
coordinateSystemFF+ ;
)FF; <
;FF< =
}GG 	
internalPP 
staticPP 
intPP 
ComputeHashCodeForPP .
<PP. /
TPP/ 0
>PP0 1
(PP1 2
CoordinateSystemPP2 B
coordsPPC I
,PPI J
IEnumerablePPK V
<PPV W
TPPW X
>PPX Y
fieldsPPZ `
)PP` a
{QQ 	
	uncheckedRR 
{SS 
returnTT 
fieldsTT 
.TT 
	AggregateTT '
(TT' (
coordsTT( .
.TT. /
GetHashCodeTT/ :
(TT: ;
)TT; <
,TT< =
(TT> ?
currentTT? F
,TTF G
fieldTTH M
)TTM N
=>TTO Q
(TTR S
currentTTS Z
*TT[ \
$numTT] `
)TT` a
^TTb c
fieldTTd i
.TTi j
GetHashCodeTTj u
(TTu v
)TTv w
)TTw x
;TTx y
}UU 
}VV 	
internal]] 
bool]] 
?]] 

BaseEquals]] !
(]]! "
	Geography]]" +
other]], 1
)]]1 2
{^^ 	
if__ 
(__ 
other__ 
==__ 
null__ 
)__ 
{`` 
returnaa 
falseaa 
;aa 
}bb 
ifdd 
(dd 
ReferenceEqualsdd 
(dd  
thisdd  $
,dd$ %
otherdd& +
)dd+ ,
)dd, -
{ee 
returnff 
trueff 
;ff 
}gg 
ifii 
(ii 
!ii 
thisii 
.ii 
coordinateSystemii &
.ii& '
Equalsii' -
(ii- .
otherii. 3
.ii3 4
coordinateSystemii4 D
)iiD E
)iiE F
{jj 
returnkk 
falsekk 
;kk 
}ll 
ifnn 
(nn 
thisnn 
.nn 
IsEmptynn 
||nn 
othernn  %
.nn% &
IsEmptynn& -
)nn- .
{oo 
returnpp 
thispp 
.pp 
IsEmptypp #
&&pp$ &
otherpp' ,
.pp, -
IsEmptypp- 4
;pp4 5
}qq 
returnss 
nullss 
;ss 
}tt 	
}uu 
}vv ¿
9D:\odata.net\src\Microsoft.Spatial\GeographyCollection.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeographyCollection -
:. /
	Geography0 9
{ 
	protected 
GeographyCollection %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
	Geography+ 4
>4 5
Geographies6 A
{B C
getD G
;G H
}I J
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( 
GeographyCollection .
other/ 4
)4 5
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Geographies!!2 =
.!!= >
SequenceEqual!!> K
(!!K L
other!!L Q
.!!Q R
Geographies!!R ]
)!!] ^
;!!^ _
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeographyCollection))& 9
)))9 :
;)): ;
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Geographies00^ i
)00i j
;00j k
}11 	
}22 
}33 ¶
6D:\odata.net\src\Microsoft.Spatial\GeographySurface.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographySurface

 *
:

+ ,
	Geography

- 6
{ 
	protected 
GeographySurface "
(" #
CoordinateSystem# 3
coordinateSystem4 D
,D E!
SpatialImplementationF [
creator\ c
)c d
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} õ

6D:\odata.net\src\Microsoft.Spatial\GeometryPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometryPipeline

 *
{ 
public 
abstract 
void 
BeginGeometry *
(* +
SpatialType+ 6
type7 ;
); <
;< =
public 
abstract 
void 
BeginFigure (
(( )
GeometryPosition) 9
position: B
)B C
;C D
public 
abstract 
void 
LineTo #
(# $
GeometryPosition$ 4
position5 =
)= >
;> ?
public 
abstract 
void 
	EndFigure &
(& '
)' (
;( )
public 
abstract 
void 
EndGeometry (
(( )
)) *
;* +
public   
abstract   
void   
SetCoordinateSystem   0
(  0 1
CoordinateSystem  1 A
coordinateSystem  B R
)  R S
;  S T
public## 
abstract## 
void## 
Reset## "
(##" #
)### $
;##$ %
}$$ 
}%% ´
8D:\odata.net\src\Microsoft.Spatial\GeometryCollection.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeometryCollection ,
:- .
Geometry/ 7
{ 
	protected 
GeometryCollection $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
Geometry+ 3
>3 4

Geometries5 ?
{@ A
getB E
;E F
}G H
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( 
GeometryCollection -
other. 3
)3 4
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2

Geometries!!2 <
.!!< =
SequenceEqual!!= J
(!!J K
other!!K P
.!!P Q

Geometries!!Q [
)!![ \
;!!\ ]
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeometryCollection))& 8
)))8 9
;))9 :
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^

Geometries00^ h
)00h i
;00i j
}11 	
}22 
}33 ¬
3D:\odata.net\src\Microsoft.Spatial\GeometryCurve.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometryCurve

 '
:

( )
Geometry

* 2
{ 
	protected 
GeometryCurve 
(  
CoordinateSystem  0
coordinateSystem1 A
,A B!
SpatialImplementationC X
creatorY `
)` a
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} ä
8D:\odata.net\src\Microsoft.Spatial\GeometryLineString.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeometryLineString ,
:- .
GeometryCurve/ <
{ 
	protected 
GeometryLineString $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryPoint+ 8
>8 9
Points: @
{A B
getC F
;F G
}H I
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( 
GeometryLineString -
other. 3
)3 4
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Points!!2 8
.!!8 9
SequenceEqual!!9 F
(!!F G
other!!G L
.!!L M
Points!!M S
)!!S T
;!!T U
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeometryLineString))& 8
)))8 9
;))9 :
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Geography00 
.00 
ComputeHashCodeFor00 /
(00/ 0
this000 4
.004 5
CoordinateSystem005 E
,00E F
this00G K
.00K L
Points00L R
)00R S
;00S T
}11 	
}22 
}33 Å
8D:\odata.net\src\Microsoft.Spatial\GeometryMultiCurve.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometryMultiCurve

 ,
:

- .
GeometryCollection

/ A
{ 
	protected 
GeometryMultiCurve $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} å
=D:\odata.net\src\Microsoft.Spatial\GeometryMultiLineString.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class #
GeometryMultiLineString 1
:2 3
GeometryMultiCurve4 F
{ 
	protected #
GeometryMultiLineString )
() *
CoordinateSystem* :
coordinateSystem; K
,K L!
SpatialImplementationM b
creatorc j
)j k
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryLineString+ =
>= >
LineStrings? J
{K L
getM P
;P Q
}R S
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( #
GeometryMultiLineString 2
other3 8
)8 9
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
LineStrings!!2 =
.!!= >
SequenceEqual!!> K
(!!K L
other!!L Q
.!!Q R
LineStrings!!R ]
)!!] ^
;!!^ _
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %#
GeometryMultiLineString))& =
)))= >
;))> ?
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
LineStrings00^ i
)00i j
;00j k
}11 	
}22 
}33 ³
8D:\odata.net\src\Microsoft.Spatial\GeometryMultiPoint.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeometryMultiPoint ,
:- .
GeometryCollection/ A
{ 
	protected 
GeometryMultiPoint $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryPoint+ 8
>8 9
Points: @
{A B
getC F
;F G
}H I
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( 
GeometryMultiPoint -
other. 3
)3 4
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Points!!2 8
.!!8 9
SequenceEqual!!9 F
(!!F G
other!!G L
.!!L M
Points!!M S
)!!S T
;!!T U
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeometryMultiPoint))& 8
)))8 9
;))9 :
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Points00^ d
)00d e
;00e f
}11 	
}22 
}33 É
:D:\odata.net\src\Microsoft.Spatial\GeometryMultiPolygon.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class  
GeometryMultiPolygon .
:/ 0 
GeometryMultiSurface1 E
{ 
	protected  
GeometryMultiPolygon &
(& '
CoordinateSystem' 7
coordinateSystem8 H
,H I!
SpatialImplementationJ _
creator` g
)g h
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryPolygon+ :
>: ;
Polygons< D
{E F
getG J
;J K
}L M
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
(  
GeometryMultiPolygon /
other0 5
)5 6
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Polygons!!2 :
.!!: ;
SequenceEqual!!; H
(!!H I
other!!I N
.!!N O
Polygons!!O W
)!!W X
;!!X Y
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# % 
GeometryMultiPolygon))& :
))): ;
;)); <
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Polygons00^ f
)00f g
;00g h
}11 	
}22 
}33 Ê
:D:\odata.net\src\Microsoft.Spatial\GeometryMultiSurface.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

  
GeometryMultiSurface

 .
:

/ 0
GeometryCollection

1 C
{ 
internal  
GeometryMultiSurface %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} “M
3D:\odata.net\src\Microsoft.Spatial\GeometryPoint.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometryPoint

 '
:

( )
Geometry

* 2
{ 
	protected 
GeometryPoint 
(  
CoordinateSystem  0
coordinateSystem1 A
,A B!
SpatialImplementationC X
creatorY `
)` a
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$strg x
)x y
]y z
public 
abstract 
double 
X  
{! "
get# &
;& '
}( )
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$strg x
)x y
]y z
public 
abstract 
double 
Y  
{! "
get# &
;& '
}( )
[!! 	
System!!	 
.!! 
Diagnostics!! 
.!! 
CodeAnalysis!! (
.!!( )
SuppressMessage!!) 8
(!!8 9
$str!!9 K
,!!K L
$str!!M U
,!!U V
Justification!!W d
=!!e f
$str!!g x
)!!x y
]!!y z
public"" 
abstract"" 
double"" 
?"" 
Z""  !
{""" #
get""$ '
;""' (
}"") *
['' 	
System''	 
.'' 
Diagnostics'' 
.'' 
CodeAnalysis'' (
.''( )
SuppressMessage'') 8
(''8 9
$str''9 K
,''K L
$str''M U
,''U V
Justification''W d
=''e f
$str''g x
)''x y
]''y z
public(( 
abstract(( 
double(( 
?(( 
M((  !
{((" #
get(($ '
;((' (
}(() *
[.. 	
System..	 
... 
Diagnostics.. 
... 
CodeAnalysis.. (
...( )
SuppressMessage..) 8
(..8 9
$str..9 K
,..K L
$str..M U
,..U V
Justification..W d
=..e f
$str..g 
)	.. €
]
..€ 
public// 
static// 
GeometryPoint// #
Create//$ *
(//* +
double//+ 1
x//2 3
,//3 4
double//5 ;
y//< =
)//= >
{00 	
return11 
Create11 
(11 
CoordinateSystem11 *
.11* +
DefaultGeometry11+ :
,11: ;
x11< =
,11= >
y11? @
,11@ A
null11B F
,11F G
null11H L
)11L M
;11M N
}22 	
[99 	
System99	 
.99 
Diagnostics99 
.99 
CodeAnalysis99 (
.99( )
SuppressMessage99) 8
(998 9
$str999 K
,99K L
$str99M U
,99U V
Justification99W d
=99e f
$str	99g ‚
)
99‚ ƒ
]
99ƒ „
public:: 
static:: 
GeometryPoint:: #
Create::$ *
(::* +
double::+ 1
x::2 3
,::3 4
double::5 ;
y::< =
,::= >
double::? E
?::E F
z::G H
)::H I
{;; 	
return<< 
Create<< 
(<< 
CoordinateSystem<< *
.<<* +
DefaultGeometry<<+ :
,<<: ;
x<<< =
,<<= >
y<<? @
,<<@ A
z<<B C
,<<C D
null<<E I
)<<I J
;<<J K
}== 	
[EE 	
SystemEE	 
.EE 
DiagnosticsEE 
.EE 
CodeAnalysisEE (
.EE( )
SuppressMessageEE) 8
(EE8 9
$strEE9 K
,EEK L
$strEEM U
,EEU V
JustificationEEW d
=EEe f
$str	EEg …
)
EE… †
]
EE† ‡
publicFF 
staticFF 
GeometryPointFF #
CreateFF$ *
(FF* +
doubleFF+ 1
xFF2 3
,FF3 4
doubleFF5 ;
yFF< =
,FF= >
doubleFF? E
?FFE F
zFFG H
,FFH I
doubleFFJ P
?FFP Q
mFFR S
)FFS T
{GG 	
returnHH 
CreateHH 
(HH 
CoordinateSystemHH *
.HH* +
DefaultGeometryHH+ :
,HH: ;
xHH< =
,HH= >
yHH? @
,HH@ A
zHHB C
,HHC D
mHHE F
)HHF G
;HHG H
}II 	
[RR 	
SystemRR	 
.RR 
DiagnosticsRR 
.RR 
CodeAnalysisRR (
.RR( )
SuppressMessageRR) 8
(RR8 9
$strRR9 K
,RRK L
$strRRM U
,RRU V
JustificationRRW d
=RRe f
$str	RRg …
)
RR… †
]
RR† ‡
publicSS 
staticSS 
GeometryPointSS #
CreateSS$ *
(SS* +
CoordinateSystemSS+ ;
coordinateSystemSS< L
,SSL M
doubleSSN T
xSSU V
,SSV W
doubleSSX ^
ySS_ `
,SS` a
doubleSSb h
?SSh i
zSSj k
,SSk l
doubleSSm s
?SSs t
mSSu v
)SSv w
{TT 	
varUU 
builderUU 
=UU 
SpatialBuilderUU (
.UU( )
CreateUU) /
(UU/ 0
)UU0 1
;UU1 2
varVV 
pipelineVV 
=VV 
builderVV "
.VV" #
GeometryPipelineVV# 3
;VV3 4
pipelineWW 
.WW 
SetCoordinateSystemWW (
(WW( )
coordinateSystemWW) 9
)WW9 :
;WW: ;
pipelineXX 
.XX 
BeginGeometryXX "
(XX" #
SpatialTypeXX# .
.XX. /
PointXX/ 4
)XX4 5
;XX5 6
pipelineYY 
.YY 
BeginFigureYY  
(YY  !
newYY! $
GeometryPositionYY% 5
(YY5 6
xYY6 7
,YY7 8
yYY9 :
,YY: ;
zYY< =
,YY= >
mYY? @
)YY@ A
)YYA B
;YYB C
pipelineZZ 
.ZZ 
	EndFigureZZ 
(ZZ 
)ZZ  
;ZZ  !
pipeline[[ 
.[[ 
EndGeometry[[  
([[  !
)[[! "
;[[" #
return\\ 
(\\ 
GeometryPoint\\ !
)\\! "
builder\\" )
.\\) *
ConstructedGeometry\\* =
;\\= >
}]] 	
[bb 	
Systembb	 
.bb 
Diagnosticsbb 
.bb 
CodeAnalysisbb (
.bb( )
SuppressMessagebb) 8
(bb8 9
$strbb9 K
,bbK L
$strbbM z
,bbz {
Justification	bb| ‰
=
bbŠ ‹
$str
bbŒ £
)
bb£ ¤
]
bb¤ ¥
publiccc 
boolcc 
Equalscc 
(cc 
GeometryPointcc (
othercc) .
)cc. /
{dd 	
returnee 
thisee 
.ee 

BaseEqualsee "
(ee" #
otheree# (
)ee( )
??ee* ,
thisee- 1
.ee1 2
Xee2 3
==ee4 6
otheree7 <
.ee< =
Xee= >
&&ee? A
thiseeB F
.eeF G
YeeG H
==eeI K
othereeL Q
.eeQ R
YeeR S
&&eeT V
thiseeW [
.ee[ \
Zee\ ]
==ee^ `
othereea f
.eef g
Zeeg h
&&eei k
thiseel p
.eep q
Meeq r
==ees u
othereev {
.ee{ |
Mee| }
;ee} ~
}ff 	
publickk 
overridekk 
boolkk 
Equalskk #
(kk# $
objectkk$ *
objkk+ .
)kk. /
{ll 	
returnmm 
thismm 
.mm 
Equalsmm 
(mm 
objmm "
asmm# %
GeometryPointmm& 3
)mm3 4
;mm4 5
}nn 	
publicrr 
overriderr 
intrr 
GetHashCoderr '
(rr' (
)rr( )
{ss 	
returntt 
	Geographytt 
.tt 
ComputeHashCodeFortt /
(tt/ 0
thistt0 4
.tt4 5
CoordinateSystemtt5 E
,ttE F
newttG J
[ttJ K
]ttK L
{ttM N
thisttO S
.ttS T
IsEmptyttT [
?tt\ ]
$numtt^ _
:tt` a
thisttb f
.ttf g
Xttg h
,tth i
thisttj n
.ttn o
IsEmptytto v
?ttw x
$numtty z
:tt{ |
this	tt} 
.
tt ‚
Y
tt‚ ƒ
,
ttƒ „
this
tt… ‰
.
tt‰ Š
Z
ttŠ ‹
??
ttŒ 
$num
tt 
,
tt ‘
this
tt’ –
.
tt– —
M
tt— ˜
??
tt™ ›
$num
ttœ 
}
tt Ÿ
)
ttŸ  
;
tt  ¡
}uu 	
}vv 
}ww Ø
5D:\odata.net\src\Microsoft.Spatial\GeometryPolygon.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeometryPolygon )
:* +
GeometrySurface, ;
{ 
	protected 
GeometryPolygon !
(! "
CoordinateSystem" 2
coordinateSystem3 C
,C D!
SpatialImplementationE Z
creator[ b
)b c
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryLineString+ =
>= >
Rings? D
{E F
getG J
;J K
}L M
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| ‰
=
Š ‹
$str
Œ £
)
£ ¤
]
¤ ¥
public 
bool 
Equals 
( 
GeometryPolygon *
other+ 0
)0 1
{ 	
return   
this   
.   

BaseEquals   "
(  " #
other  # (
)  ( )
??  * ,
this  - 1
.  1 2
Rings  2 7
.  7 8
SequenceEqual  8 E
(  E F
other  F K
.  K L
Rings  L Q
)  Q R
;  R S
}!! 	
public&& 
override&& 
bool&& 
Equals&& #
(&&# $
object&&$ *
obj&&+ .
)&&. /
{'' 	
return(( 
this(( 
.(( 
Equals(( 
((( 
obj(( "
as((# %
GeometryPolygon((& 5
)((5 6
;((6 7
})) 	
public-- 
override-- 
int-- 
GetHashCode-- '
(--' (
)--( )
{.. 	
return// 
	Geography// 
.// 
ComputeHashCodeFor// /
(/// 0
this//0 4
.//4 5
CoordinateSystem//5 E
,//E F
this//G K
.//K L
Rings//L Q
)//Q R
;//R S
}00 	
}11 
}22 ±
5D:\odata.net\src\Microsoft.Spatial\GeometrySurface.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometrySurface

 )
:

* +
Geometry

, 4
{ 
internal 
GeometrySurface  
(  !
CoordinateSystem! 1
coordinateSystem2 B
,B C!
SpatialImplementationD Y
creatorZ a
)a b
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} ® 
.D:\odata.net\src\Microsoft.Spatial\Geometry.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
Geometry

 "
:

# $
ISpatial

% -
{ 
private !
SpatialImplementation %
creator& -
;- .
private 
CoordinateSystem  
coordinateSystem! 1
;1 2
	protected 
Geometry 
( 
CoordinateSystem +
coordinateSystem, <
,< =!
SpatialImplementation> S
creatorT [
)[ \
{ 	
Util 
. 
CheckArgumentNull "
(" #
coordinateSystem# 3
,3 4
$str5 G
)G H
;H I
Util 
. 
CheckArgumentNull "
(" #
creator# *
,* +
$str, 5
)5 6
;6 7
this 
. 
coordinateSystem !
=" #
coordinateSystem$ 4
;4 5
this 
. 
creator 
= 
creator "
;" #
} 	
public## 
CoordinateSystem## 
CoordinateSystem##  0
{$$ 	
get%% 
{&& 
return'' 
this'' 
.'' 
coordinateSystem'' ,
;'', -
}(( 
internal** 
set** 
{++ 
this,, 
.,, 
coordinateSystem,, %
=,,& '
value,,( -
;,,- .
}-- 
}.. 	
public22 
abstract22 
bool22 
IsEmpty22 $
{22% &
get22' *
;22* +
}22, -
internal77 !
SpatialImplementation77 &
Creator77' .
{88 	
get99 
{99 
return99 
this99 
.99 
creator99 %
;99% &
}99' (
set;; 
{;; 
this;; 
.;; 
creator;; 
=;;  
value;;! &
;;;& '
};;( )
}<< 	
public@@ 
virtual@@ 
void@@ 
SendTo@@ "
(@@" #
GeometryPipeline@@# 3
chain@@4 9
)@@9 :
{AA 	
UtilBB 
.BB 
CheckArgumentNullBB "
(BB" #
chainBB# (
,BB( )
$strBB* 1
)BB1 2
;BB2 3
chainCC 
.CC 
SetCoordinateSystemCC %
(CC% &
thisCC& *
.CC* +
coordinateSystemCC+ ;
)CC; <
;CC< =
}DD 	
internalKK 
boolKK 
?KK 

BaseEqualsKK !
(KK! "
GeometryKK" *
otherKK+ 0
)KK0 1
{LL 	
ifMM 
(MM 
otherMM 
==MM 
nullMM 
)MM 
{NN 
returnOO 
falseOO 
;OO 
}PP 
ifRR 
(RR 
ReferenceEqualsRR 
(RR  
thisRR  $
,RR$ %
otherRR& +
)RR+ ,
)RR, -
{SS 
returnTT 
trueTT 
;TT 
}UU 
ifWW 
(WW 
!WW 
thisWW 
.WW 
coordinateSystemWW &
.WW& '
EqualsWW' -
(WW- .
otherWW. 3
.WW3 4
coordinateSystemWW4 D
)WWD E
)WWE F
{XX 
returnYY 
falseYY 
;YY 
}ZZ 
if\\ 
(\\ 
this\\ 
.\\ 
IsEmpty\\ 
||\\ 
other\\  %
.\\% &
IsEmpty\\& -
)\\- .
{]] 
return^^ 
this^^ 
.^^ 
IsEmpty^^ #
&&^^$ &
other^^' ,
.^^, -
IsEmpty^^- 4
;^^4 5
}__ 
returnaa 
nullaa 
;aa 
}bb 	
}cc 
}dd µ	
8D:\odata.net\src\Microsoft.Spatial\IGeographyProvider.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

	interface 
IGeographyProvider '
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM s
,s t
Justification	u ‚
=
ƒ „
$str
… ®
)
® ¯
]
¯ °
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM x
,x y
Justification	z ‡
=
ˆ ‰
$str
Š ³
)
³ ´
]
´ µ
event 
Action 
< 
	Geography 
> 
ProduceGeography  0
;0 1
	Geography  
ConstructedGeography &
{' (
get) ,
;, -
}. /
} 
} ¯	
7D:\odata.net\src\Microsoft.Spatial\IGeometryProvider.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

	interface 
IGeometryProvider &
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM s
,s t
Justification	u ‚
=
ƒ „
$str
… ®
)
® ¯
]
¯ °
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM x
,x y
Justification	z ‡
=
ˆ ‰
$str
Š ³
)
³ ´
]
´ µ
event 
Action 
< 
Geometry 
> 
ProduceGeometry .
;. /
Geometry 
ConstructedGeometry $
{% &
get' *
;* +
}, -
} 
} â
4D:\odata.net\src\Microsoft.Spatial\IShapeProvider.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

	interface

 
IShapeProvider

 #
:

$ %
IGeographyProvider

& 8
,

8 9
IGeometryProvider

: K
{ 
} 
} Ø
.D:\odata.net\src\Microsoft.Spatial\ISpatial.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

	interface

 
ISpatial

 
{ 
CoordinateSystem 
CoordinateSystem )
{* +
get, /
;/ 0
}1 2
bool 
IsEmpty 
{ 
get 
; 
} 
} 
} á
<D:\odata.net\src\Microsoft.Spatial\GeoJsonObjectFormatter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class "
GeoJsonObjectFormatter 0
{ 
public 
static "
GeoJsonObjectFormatter ,
Create- 3
(3 4
)4 5
{ 	
return !
SpatialImplementation (
.( )!
CurrentImplementation) >
.> ?(
CreateGeoJsonObjectFormatter? [
([ \
)\ ]
;] ^
} 	
public 
abstract 
T 
Read 
< 
T  
>  !
(! "
IDictionary" -
<- .
String. 4
,4 5
Object6 <
>< =
source> D
)D E
whereF K
TL M
:N O
classP U
,U V
ISpatialW _
;_ `
public 
abstract 
IDictionary #
<# $
String$ *
,* +
Object, 2
>2 3
Write4 9
(9 :
ISpatial: B
valueC H
)H I
;I J
public$$ 
abstract$$ 
SpatialPipeline$$ '
CreateWriter$$( 4
($$4 5
IGeoJsonWriter$$5 C
writer$$D J
)$$J K
;$$K L
}%% 
}&& ë
9D:\odata.net\src\Microsoft.Spatial\ParseErrorException.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
ParseErrorException $
:% &
	Exception' 0
{ 
public 
ParseErrorException "
(" #
)# $
{ 	
} 	
public 
ParseErrorException "
(" #
string# )
message* 1
,1 2
	Exception3 <
innerException= K
)K L
: 
base 
( 
message 
, 
innerException *
)* +
{ 	
} 	
public## 
ParseErrorException## "
(##" #
string### )
message##* 1
)##1 2
:$$ 
base$$ 
($$ 
message$$ 
)$$ 
{%% 	
}&& 	
}11 
}22 ¯
4D:\odata.net\src\Microsoft.Spatial\SpatialBuilder.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
SpatialBuilder 
:  !
SpatialPipeline" 1
,1 2
IShapeProvider3 A
{ 
private 
readonly 
IGeographyProvider +
geographyOutput, ;
;; <
private 
readonly 
IGeometryProvider *
geometryOutput+ 9
;9 :
public 
SpatialBuilder 
( 
GeographyPipeline /
geographyInput0 >
,> ?
GeometryPipeline@ P
geometryInputQ ^
,^ _
IGeographyProvider` r
geographyOutput	s ‚
,
‚ ƒ
IGeometryProvider
„ •
geometryOutput
– ¤
)
¤ ¥
: 
base 
( 
geographyInput !
,! "
geometryInput# 0
)0 1
{   	
this!! 
.!! 
geographyOutput!!  
=!!! "
geographyOutput!!# 2
;!!2 3
this"" 
."" 
geometryOutput"" 
=""  !
geometryOutput""" 0
;""0 1
}## 	
[&& 	
SuppressMessage&&	 
(&& 
$str&& +
,&&+ ,
$str&&- X
,&&X Y
Justification&&Z g
=&&h i
$str	&&j “
)
&&“ ”
]
&&” •
public'' 
event'' 
Action'' 
<'' 
	Geography'' %
>''% &
ProduceGeography''' 7
{(( 	
add)) 
{)) 
this)) 
.)) 
geographyOutput)) &
.))& '
ProduceGeography))' 7
+=))8 :
value)); @
;))@ A
}))B C
remove** 
{** 
this** 
.** 
geographyOutput** )
.**) *
ProduceGeography*** :
-=**; =
value**> C
;**C D
}**E F
}++ 	
[.. 	
SuppressMessage..	 
(.. 
$str.. +
,..+ ,
$str..- X
,..X Y
Justification..Z g
=..h i
$str	..j “
)
..“ ”
]
..” •
public// 
event// 
Action// 
<// 
Geometry// $
>//$ %
ProduceGeometry//& 5
{00 	
add11 
{11 
this11 
.11 
geometryOutput11 %
.11% &
ProduceGeometry11& 5
+=116 8
value119 >
;11> ?
}11@ A
remove22 
{22 
this22 
.22 
geometryOutput22 (
.22( )
ProduceGeometry22) 8
-=229 ;
value22< A
;22A B
}22C D
}33 	
public77 
	Geography77  
ConstructedGeography77 -
{88 	
get99 
{99 
return99 
this99 
.99 
geographyOutput99 -
.99- . 
ConstructedGeography99. B
;99B C
}99D E
}:: 	
public>> 
Geometry>> 
ConstructedGeometry>> +
{?? 	
get@@ 
{@@ 
return@@ 
this@@ 
.@@ 
geometryOutput@@ ,
.@@, -
ConstructedGeometry@@- @
;@@@ A
}@@B C
}AA 	
publicEE 
staticEE 
SpatialBuilderEE $
CreateEE% +
(EE+ ,
)EE, -
{FF 	
returnGG !
SpatialImplementationGG (
.GG( )!
CurrentImplementationGG) >
.GG> ?
CreateBuilderGG? L
(GGL M
)GGM N
;GGN O
}HH 	
}II 
}JJ Ö.
6D:\odata.net\src\Microsoft.Spatial\SpatialFormatter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
SpatialFormatter *
<* +
TReaderStream+ 8
,8 9
TWriterStream: G
>G H
{ 
private 
readonly !
SpatialImplementation .
creator/ 6
;6 7
	protected 
SpatialFormatter "
(" #!
SpatialImplementation# 8
creator9 @
)@ A
{ 	
Util 
. 
CheckArgumentNull "
(" #
creator# *
,* +
$str, 5
)5 6
;6 7
this 
. 
creator 
= 
creator "
;" #
} 	
public"" 
TResult"" 
Read"" 
<"" 
TResult"" #
>""# $
(""$ %
TReaderStream""% 2
input""3 8
)""8 9
where"": ?
TResult""@ G
:""H I
class""J O
,""O P
ISpatial""Q Y
{## 	
var$$ 
trans$$ 
=$$ !
MakeValidatingBuilder$$ -
($$- .
)$$. /
;$$/ 0
IShapeProvider%% 
parsePipelineEnd%% +
=%%, -
trans%%. 3
.%%3 4
Value%%4 9
;%%9 :
Read'' 
<'' 
TResult'' 
>'' 
('' 
input'' 
,''  
trans''! &
.''& '
Key''' *
)''* +
;''+ ,
if(( 
((( 
typeof(( 
((( 
Geometry(( 
)((  
.((  !
IsAssignableFrom((! 1
(((1 2
typeof((2 8
(((8 9
TResult((9 @
)((@ A
)((A B
)((B C
{)) 
return** 
(** 
TResult** 
)**  
(**  !
object**! '
)**' (
parsePipelineEnd**( 8
.**8 9
ConstructedGeometry**9 L
;**L M
}++ 
else,, 
{-- 
return.. 
(.. 
TResult.. 
)..  
(..  !
object..! '
)..' (
parsePipelineEnd..( 8
...8 9 
ConstructedGeography..9 M
;..M N
}// 
}00 	
[66 	
SuppressMessage66	 
(66 
$str66 +
,66+ ,
$str66- ^
,66^ _
Justification66` m
=66n o
$str	66p Â
)
66Â Ã
]
66Ã Ä
public77 
void77 
Read77 
<77 
TResult77  
>77  !
(77! "
TReaderStream77" /
input770 5
,775 6
SpatialPipeline777 F
pipeline77G O
)77O P
where77Q V
TResult77W ^
:77_ `
class77a f
,77f g
ISpatial77h p
{88 	
if99 
(99 
typeof99 
(99 
Geometry99 
)99  
.99  !
IsAssignableFrom99! 1
(991 2
typeof992 8
(998 9
TResult999 @
)99@ A
)99A B
)99B C
{:: 
ReadGeometry;; 
(;; 
input;; "
,;;" #
pipeline;;$ ,
);;, -
;;;- .
}<< 
else== 
{>> 
ReadGeography?? 
(?? 
input?? #
,??# $
pipeline??% -
)??- .
;??. /
}@@ 
}AA 	
publicFF 
voidFF 
WriteFF 
(FF 
ISpatialFF "
spatialFF# *
,FF* +
TWriterStreamFF, 9
writerStreamFF: F
)FFF G
{GG 	
varHH 
writerHH 
=HH 
thisHH 
.HH 
CreateWriterHH *
(HH* +
writerStreamHH+ 7
)HH7 8
;HH8 9
spatialII 
.II 
SendToII 
(II 
writerII !
)II! "
;II" #
}JJ 	
publicOO 
abstractOO 
SpatialPipelineOO '
CreateWriterOO( 4
(OO4 5
TWriterStreamOO5 B
writerStreamOOC O
)OOO P
;OOP Q
	protectedTT 
abstractTT 
voidTT 
ReadGeographyTT  -
(TT- .
TReaderStreamTT. ;
readerStreamTT< H
,TTH I
SpatialPipelineTTJ Y
pipelineTTZ b
)TTb c
;TTc d
	protectedYY 
abstractYY 
voidYY 
ReadGeometryYY  ,
(YY, -
TReaderStreamYY- :
readerStreamYY; G
,YYG H
SpatialPipelineYYI X
pipelineYYY a
)YYa b
;YYb c
	protected]] 
KeyValuePair]] 
<]] 
SpatialPipeline]] .
,]]. /
IShapeProvider]]0 >
>]]> ?!
MakeValidatingBuilder]]@ U
(]]U V
)]]V W
{^^ 	
var__ 
builder__ 
=__ 
this__ 
.__ 
creator__ &
.__& '
CreateBuilder__' 4
(__4 5
)__5 6
;__6 7
var`` 
	validator`` 
=`` 
this``  
.``  !
creator``! (
.``( )
CreateValidator``) 8
(``8 9
)``9 :
;``: ;
	validatoraa 
.aa 
ChainToaa 
(aa 
builderaa %
)aa% &
;aa& '
returnbb 
newbb 
KeyValuePairbb #
<bb# $
SpatialPipelinebb$ 3
,bb3 4
IShapeProviderbb5 C
>bbC D
(bbD E
	validatorbbE N
,bbN O
builderbbP W
)bbW X
;bbX Y
}cc 	
}dd 
}ee ñ
3D:\odata.net\src\Microsoft.Spatial\SpatialReader.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
SpatialReader )
<) *
TSource* 1
>1 2
{ 
	protected 
SpatialReader 
(  
SpatialPipeline  /
destination0 ;
); <
{ 	
Util 
. 
CheckArgumentNull "
(" #
destination# .
,. /
$str0 =
)= >
;> ?
this 
. 
Destination 
= 
destination *
;* +
} 	
	protected   
SpatialPipeline   !
Destination  " -
{  . /
get  0 3
;  3 4
set  5 8
;  8 9
}  : ;
public'' 
void'' 
ReadGeography'' !
(''! "
TSource''" )
input''* /
)''/ 0
{(( 	
Util)) 
.)) 
CheckArgumentNull)) "
())" #
input))# (
,))( )
$str))* 1
)))1 2
;))2 3
try++ 
{,, 
this-- 
.-- '
ReadGeographyImplementation-- 0
(--0 1
input--1 6
)--6 7
;--7 8
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
if11 
(11 
Util11 
.11 $
IsCatchableExceptionType11 1
(111 2
ex112 4
)114 5
)115 6
{22 
throw44 
new44 
ParseErrorException44 1
(441 2
ex442 4
.444 5
Message445 <
,44< =
ex44> @
)44@ A
;44A B
}55 
throw77 
;77 
}88 
}99 	
public@@ 
void@@ 
ReadGeometry@@  
(@@  !
TSource@@! (
input@@) .
)@@. /
{AA 	
UtilBB 
.BB 
CheckArgumentNullBB "
(BB" #
inputBB# (
,BB( )
$strBB* 1
)BB1 2
;BB2 3
tryDD 
{EE 
thisFF 
.FF &
ReadGeometryImplementationFF /
(FF/ 0
inputFF0 5
)FF5 6
;FF6 7
}GG 
catchHH 
(HH 
	ExceptionHH 
exHH 
)HH  
{II 
ifJJ 
(JJ 
UtilJJ 
.JJ $
IsCatchableExceptionTypeJJ 1
(JJ1 2
exJJ2 4
)JJ4 5
)JJ5 6
{KK 
throwMM 
newMM 
ParseErrorExceptionMM 1
(MM1 2
exMM2 4
.MM4 5
MessageMM5 <
,MM< =
exMM> @
)MM@ A
;MMA B
}NN 
throwPP 
;PP 
}QQ 
}RR 	
publicXX 
virtualXX 
voidXX 
ResetXX !
(XX! "
)XX" #
{YY 	
(ZZ 
(ZZ 
GeographyPipelineZZ 
)ZZ  
DestinationZZ  +
)ZZ+ ,
.ZZ, -
ResetZZ- 2
(ZZ2 3
)ZZ3 4
;ZZ4 5
([[ 
([[ 
GeometryPipeline[[ 
)[[ 
Destination[[ *
)[[* +
.[[+ ,
Reset[[, 1
([[1 2
)[[2 3
;[[3 4
}\\ 	
	protectedcc 
abstractcc 
voidcc &
ReadGeometryImplementationcc  :
(cc: ;
TSourcecc; B
inputccC H
)ccH I
;ccI J
	protectedjj 
abstractjj 
voidjj '
ReadGeographyImplementationjj  ;
(jj; <
TSourcejj< C
inputjjD I
)jjI J
;jjJ K
}kk 
}ll Û	
1D:\odata.net\src\Microsoft.Spatial\SpatialType.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
[

 
System

 
.

 
Diagnostics

 
.

 
CodeAnalysis

 $
.

$ %
SuppressMessage

% 4
(

4 5
$str

5 G
,

G H
$str

I Q
,

Q R
Justification

S `
=

a b
$str

c ~
)

~ 
]	

 €
public 

enum 
SpatialType 
: 
byte "
{ 
Unknown 
= 
$num 
, 
Point 
= 
$num 
, 

LineString 
= 
$num 
, 
Polygon 
= 
$num 
, 

MultiPoint$$ 
=$$ 
$num$$ 
,$$ 
MultiLineString)) 
=)) 
$num)) 
,)) 
MultiPolygon.. 
=.. 
$num.. 
,.. 

Collection33 
=33 
$num33 
,33 
	FullGlobeII 
=II 
$numII 
}JJ 
}KK Î
;D:\odata.net\src\Microsoft.Spatial\SpatialTypeExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

static

 
class

 !
SpatialTypeExtensions

 -
{ 
public 
static 
void 
SendTo !
(! "
this" &
ISpatial' /
shape0 5
,5 6
SpatialPipeline7 F
destinationG R
)R S
{ 	
if 
( 
shape 
== 
null 
) 
{ 
return 
; 
} 
if 
( 
shape 
. 
GetType 
( 
) 
.  
IsSubclassOf  ,
(, -
typeof- 3
(3 4
Geometry4 <
)< =
)= >
)> ?
{ 
( 
( 
Geometry 
) 
shape  
)  !
.! "
SendTo" (
(( )
destination) 4
)4 5
;5 6
} 
else 
{ 
( 
( 
	Geography 
) 
shape !
)! "
." #
SendTo# )
() *
destination* 5
)5 6
;6 7
} 
} 	
} 
}   ò†
8D:\odata.net\src\Microsoft.Spatial\GlobalSuppressions.cs
[		 
module		 
:		 
SuppressMessage			 
(		 
$str		 +
,		+ ,
$str		- Q
,		Q R
Scope		S X
=		Y Z
$str		[ f
,		f g
Target		h n
=		o p
$str			q „
)
		„ …
]
		… †
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? G
,G H
TargetI O
=P Q
$str	R 
)
 ‚
]
‚ ƒ
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? G
,G H
TargetI O
=P Q
$strR |
)| }
]} ~
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP w
)w x
]x y
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP |
)| }
]} ~
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP y
)y z
]z {
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP v
)v w
]w x
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP {
){ |
]| }
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v É
,
É Ê
	MessageId
Ë Ô
=
Õ Ö
$str
× ã
)
ã ä
]
ä å
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v Î
,
Î Ï
	MessageId
Ğ Ù
=
Ú Û
$str
Ü ç
)
ç è
]
è é
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v §
,
§ ¨
	MessageId
© ²
=
³ ´
$str
µ Á
)
Á Â
]
Â Ã
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ¬
,
¬ ­
	MessageId
® ·
=
¸ ¹
$str
º Å
)
Å Æ
]
Æ Ç
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ©
,
© ª
	MessageId
« ´
=
µ ¶
$str
· Ã
)
Ã Ä
]
Ä Å
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ®
,
® ¯
	MessageId
° ¹
=
º »
$str
¼ Ç
)
Ç È
]
È É
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ª
,
ª «
	MessageId
¬ µ
=
¶ ·
$str
¸ Ä
)
Ä Å
]
Å Æ
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ¯
,
¯ °
	MessageId
± º
=
» ¼
$str
½ È
)
È É
]
É Ê
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v Ê
,
Ê Ë
	MessageId
Ì Õ
=
Ö ×
$str
Ø ä
)
ä å
]
å æ
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v Ï
,
Ï Ğ
	MessageId
Ñ Ú
=
Û Ü
$str
İ è
)
è é
]
é ê
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ¨
,
¨ ©
	MessageId
ª ³
=
´ µ
$str
¶ Â
)
Â Ã
]
Ã Ä
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ­
,
­ ®
	MessageId
¯ ¸
=
¹ º
$str
» Æ
)
Æ Ç
]
Ç È
["" 
module"" 
:"" 
SuppressMessage""	 
("" 
$str"" +
,""+ ,
$str""- 5
,""5 6
Scope""7 <
=""= >
$str""? E
,""E F
Target""G M
=""N O
$str""P w
)""w x
]""x y
[## 
module## 
:## 
SuppressMessage##	 
(## 
$str## +
,##+ ,
$str##- 5
,##5 6
Scope##7 <
=##= >
$str##? E
,##E F
Target##G M
=##N O
$str##P v
)##v w
]##w x
[&& 
module&& 
:&& 
SuppressMessage&&	 
(&& 
$str&& +
,&&+ ,
$str&&- ^
,&&^ _
Scope&&` e
=&&f g
$str&&h p
,&&p q
Target&&r x
=&&y z
$str	&&{ 
,
&& 
	MessageId
&& ˜
=
&&™ š
$str
&&› Ÿ
)
&&Ÿ  
]
&&  ¡
['' 
module'' 
:'' 
SuppressMessage''	 
('' 
$str'' +
,''+ ,
$str''- ^
,''^ _
Scope''` e
=''f g
$str''h p
,''p q
Target''r x
=''y z
$str	''{ 
,
'' 
	MessageId
'' ˜
=
''™ š
$str
''› Ÿ
)
''Ÿ  
]
''  ¡
[(( 
module(( 
:(( 
SuppressMessage((	 
((( 
$str(( +
,((+ ,
$str((- ^
,((^ _
Scope((` e
=((f g
$str((h p
,((p q
Target((r x
=((y z
$str	(({ ‰
,
((‰ Š
	MessageId
((‹ ”
=
((• –
$str
((— ›
)
((› œ
]
((œ 
[)) 
module)) 
:)) 
SuppressMessage))	 
()) 
$str)) +
,))+ ,
$str))- ^
,))^ _
Scope))` e
=))f g
$str))h p
,))p q
Target))r x
=))y z
$str	)){ ‰
,
))‰ Š
	MessageId
))‹ ”
=
))• –
$str
))— ›
)
))› œ
]
))œ 
[++ 
assembly++ 	
:++	 

System++ 
.++ 
Diagnostics++ 
.++ 
CodeAnalysis++ *
.++* +
SuppressMessage+++ :
(++: ;
$str++; O
,++O P
$str	++Q ƒ
,
++ƒ „
Scope
++… Š
=
++‹ Œ
$str
++ •
,
++• –
Target
++— 
=
++ Ÿ
$str
++  Õ
,
++Õ Ö
Justification
++× ä
=
++å æ
$str
++ç š
)
++š ›
]
++› œ
[,, 
assembly,, 	
:,,	 

System,, 
.,, 
Diagnostics,, 
.,, 
CodeAnalysis,, *
.,,* +
SuppressMessage,,+ :
(,,: ;
$str,,; O
,,,O P
$str	,,Q ƒ
,
,,ƒ „
Scope
,,… Š
=
,,‹ Œ
$str
,, •
,
,,• –
Target
,,— 
=
,, Ÿ
$str
,,  Ö
,
,,Ö ×
Justification
,,Ø å
=
,,æ ç
$str
,,è œ
)
,,œ 
]
,, 
[-- 
assembly-- 	
:--	 

System-- 
.-- 
Diagnostics-- 
.-- 
CodeAnalysis-- *
.--* +
SuppressMessage--+ :
(--: ;
$str--; M
,--M N
$str--O {
,--{ |
	MessageId	--} †
=
--‡ ˆ
$str
--‰ 
,
-- ‘
Scope
--’ —
=
--˜ ™
$str
--š  
,
--  ¡
Target
--¢ ¨
=
--© ª
$str
--« Ò
)
--Ò Ó
]
--Ó Ô
[.. 
assembly.. 	
:..	 

System.. 
... 
Diagnostics.. 
... 
CodeAnalysis.. *
...* +
SuppressMessage..+ :
(..: ;
$str..; M
,..M N
$str..O {
,..{ |
	MessageId	..} †
=
..‡ ˆ
$str
..‰ 
,
.. ‘
Scope
..’ —
=
..˜ ™
$str
..š  
,
..  ¡
Target
..¢ ¨
=
..© ª
$str
..« Ô
)
..Ô Õ
]
..Õ Ö
[// 
assembly// 	
://	 

System// 
.// 
Diagnostics// 
.// 
CodeAnalysis// *
.//* +
SuppressMessage//+ :
(//: ;
$str//; M
,//M N
$str//O {
,//{ |
	MessageId	//} †
=
//‡ ˆ
$str
//‰ 
,
// ‘
Scope
//’ —
=
//˜ ™
$str
//š  
,
//  ¡
Target
//¢ ¨
=
//© ª
$str
//« Ö
)
//Ö ×
]
//× Ø
[00 
assembly00 	
:00	 

System00 
.00 
Diagnostics00 
.00 
CodeAnalysis00 *
.00* +
SuppressMessage00+ :
(00: ;
$str00; M
,00M N
$str00O {
,00{ |
	MessageId	00} †
=
00‡ ˆ
$str
00‰ 
,
00 ‘
Scope
00’ —
=
00˜ ™
$str
00š  
,
00  ¡
Target
00¢ ¨
=
00© ª
$str
00« Ó
)
00Ó Ô
]
00Ô Õ
[11 
assembly11 	
:11	 

System11 
.11 
Diagnostics11 
.11 
CodeAnalysis11 *
.11* +
SuppressMessage11+ :
(11: ;
$str11; M
,11M N
$str11O {
,11{ |
	MessageId	11} †
=
11‡ ˆ
$str
11‰ 
,
11 ‘
Scope
11’ —
=
11˜ ™
$str
11š ¢
,
11¢ £
Target
11¤ ª
=
11« ¬
$str
11­ İ
)
11İ Ş
]
11Ş ß
[22 
assembly22 	
:22	 

System22 
.22 
Diagnostics22 
.22 
CodeAnalysis22 *
.22* +
SuppressMessage22+ :
(22: ;
$str22; M
,22M N
$str22O {
,22{ |
	MessageId	22} †
=
22‡ ˆ
$str
22‰ 
,
22 ‘
Scope
22’ —
=
22˜ ™
$str
22š ¢
,
22¢ £
Target
22¤ ª
=
22« ¬
$str
22­ Ú
)
22Ú Û
]
22Û Ü
[33 
assembly33 	
:33	 

System33 
.33 
Diagnostics33 
.33 
CodeAnalysis33 *
.33* +
SuppressMessage33+ :
(33: ;
$str33; M
,33M N
$str33O {
,33{ |
	MessageId	33} †
=
33‡ ˆ
$str
33‰ 
,
33 ‘
Scope
33’ —
=
33˜ ™
$str
33š ¢
,
33¢ £
Target
33¤ ª
=
33« ¬
$str
33­ Ø
)
33Ø Ù
]
33Ù Ú
[44 
assembly44 	
:44	 

System44 
.44 
Diagnostics44 
.44 
CodeAnalysis44 *
.44* +
SuppressMessage44+ :
(44: ;
$str44; M
,44M N
$str44O {
,44{ |
	MessageId	44} †
=
44‡ ˆ
$str
44‰ 
,
44 ‘
Scope
44’ —
=
44˜ ™
$str
44š  
,
44  ¡
Target
44¢ ¨
=
44© ª
$str
44« Ó
)
44Ó Ô
]
44Ô Õ
[55 
assembly55 	
:55	 

System55 
.55 
Diagnostics55 
.55 
CodeAnalysis55 *
.55* +
SuppressMessage55+ :
(55: ;
$str55; M
,55M N
$str55O {
,55{ |
	MessageId	55} †
=
55‡ ˆ
$str
55‰ 
,
55 ‘
Scope
55’ —
=
55˜ ™
$str
55š  
,
55  ¡
Target
55¢ ¨
=
55© ª
$str
55« Ñ
)
55Ñ Ò
]
55Ò Ó
[66 
assembly66 	
:66	 

System66 
.66 
Diagnostics66 
.66 
CodeAnalysis66 *
.66* +
SuppressMessage66+ :
(66: ;
$str66; M
,66M N
$str66O {
,66{ |
	MessageId	66} †
=
66‡ ˆ
$str
66‰ 
,
66 ‘
Scope
66’ —
=
66˜ ™
$str
66š  
,
66  ¡
Target
66¢ ¨
=
66© ª
$str
66« Ñ
)
66Ñ Ò
]
66Ò Ó
[77 
assembly77 	
:77	 

System77 
.77 
Diagnostics77 
.77 
CodeAnalysis77 *
.77* +
SuppressMessage77+ :
(77: ;
$str77; M
,77M N
$str77O {
,77{ |
	MessageId	77} †
=
77‡ ˆ
$str
77‰ 
,
77 ‘
Scope
77’ —
=
77˜ ™
$str
77š  
,
77  ¡
Target
77¢ ¨
=
77© ª
$str
77« Ô
)
77Ô Õ
]
77Õ Ö
[88 
assembly88 	
:88	 

System88 
.88 
Diagnostics88 
.88 
CodeAnalysis88 *
.88* +
SuppressMessage88+ :
(88: ;
$str88; M
,88M N
$str88O {
,88{ |
	MessageId	88} †
=
88‡ ˆ
$str
88‰ 
,
88 ‘
Scope
88’ —
=
88˜ ™
$str
88š  
,
88  ¡
Target
88¢ ¨
=
88© ª
$str
88« ×
)
88× Ø
]
88Ø Ù
[99 
assembly99 	
:99	 

System99 
.99 
Diagnostics99 
.99 
CodeAnalysis99 *
.99* +
SuppressMessage99+ :
(99: ;
$str99; M
,99M N
$str99O {
,99{ |
	MessageId	99} †
=
99‡ ˆ
$str
99‰ 
,
99 ‘
Scope
99’ —
=
99˜ ™
$str
99š  
,
99  ¡
Target
99¢ ¨
=
99© ª
$str
99« Ò
)
99Ò Ó
]
99Ó ÔŠd
6D:\odata.net\src\Microsoft.Spatial\CoordinateSystem.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
CoordinateSystem !
{ 
public 
static 
readonly 
CoordinateSystem /
DefaultGeometry0 ?
=@ A
newB E
CoordinateSystemF V
(V W
$numW X
,X Y
$strZ j
,j k
Topologyl t
.t u
Geometryu }
)} ~
;~ 
public 
static 
readonly 
CoordinateSystem /
DefaultGeography0 @
=A B
newC F
CoordinateSystemG W
(W X
$numX \
,\ ]
$str^ e
,e f
Topologyg o
.o p
	Geographyp y
)y z
;z {
private 
static 
readonly 

Dictionary  *
<* +
CompositeKey+ 7
<7 8
int8 ;
,; <
Topology= E
>E F
,F G
CoordinateSystemH X
>X Y

ReferencesZ d
;d e
private$$ 
static$$ 
readonly$$ 
object$$  &
referencesLock$$' 5
=$$6 7
new$$8 ;
object$$< B
($$B C
)$$C D
;$$D E
private)) 
Topology)) 
topology)) !
;))! "
[,, 	
SuppressMessage,,	 
(,, 
$str,, 0
,,,0 1
$str,,2 :
,,,: ;
Justification,,< I
=,,J K
$str,,L i
),,i j
],,j k
static-- 
CoordinateSystem-- 
(--  
)--  !
{.. 	

References// 
=// 
new// 

Dictionary// '
<//' (
CompositeKey//( 4
<//4 5
int//5 8
,//8 9
Topology//: B
>//B C
,//C D
CoordinateSystem//E U
>//U V
(//V W
EqualityComparer//W g
<//g h
CompositeKey//h t
<//t u
int//u x
,//x y
Topology	//z ‚
>
//‚ ƒ
>
//ƒ „
.
//„ …
Default
//… Œ
)
//Œ 
;
// 
AddRef00 
(00 
DefaultGeometry00 "
)00" #
;00# $
AddRef11 
(11 
DefaultGeography11 #
)11# $
;11$ %
}22 	
[88 	
SuppressMessage88	 
(88 
$str88 +
,88+ ,
$str88- Y
,88Y Z
	MessageId88[ d
=88e f
$str88g m
,88m n
Justification88o |
=88} ~
$str	88 Ä
)
88Ä Å
]
88Å Æ
internal99 
CoordinateSystem99 !
(99! "
int99" %
epsgId99& ,
,99, -
string99. 4
name995 9
,999 :
Topology99; C
topology99D L
)99L M
{:: 	
this;; 
.;; 
topology;; 
=;; 
topology;; $
;;;$ %
this<< 
.<< 
EpsgId<< 
=<< 
epsgId<<  
;<<  !
this== 
.== 
Name== 
=== 
name== 
;== 
}>> 	
internalCC 
enumCC 
TopologyCC 
{DD 	
	GeographyHH 
=HH 
$numHH 
,HH 
GeometryMM 
}NN 	
[RR 	
SuppressMessageRR	 
(RR 
$strRR +
,RR+ ,
$strRR- Y
,RRY Z
	MessageIdRR[ d
=RRe f
$strRRg m
,RRm n
JustificationRRo |
=RR} ~
$str	RR Ä
)
RRÄ Å
]
RRÅ Æ
publicSS 
intSS 
?SS 
EpsgIdSS 
{SS 
getSS  
;SS  !
internalSS" *
setSS+ .
;SS. /
}SS0 1
publicWW 
stringWW 
IdWW 
{XX 	
getYY 
{YY 
returnYY 
EpsgIdYY 
.YY  
ValueYY  %
.YY% &
ToStringYY& .
(YY. /
CultureInfoYY/ :
.YY: ;
InvariantCultureYY; K
)YYK L
;YYL M
}YYN O
}ZZ 	
public^^ 
string^^ 
Name^^ 
{^^ 
get^^  
;^^  !
internal^^" *
set^^+ .
;^^. /
}^^0 1
[cc 	
SuppressMessagecc	 
(cc 
$strcc +
,cc+ ,
$strcc- Y
,ccY Z
	MessageIdcc[ d
=cce f
$strccg m
,ccm n
Justificationcco |
=cc} ~
$str	cc Ä
)
ccÄ Å
]
ccÅ Æ
publicdd 
staticdd 
CoordinateSystemdd &
	Geographydd' 0
(dd0 1
intdd1 4
?dd4 5
epsgIddd6 <
)dd< =
{ee 	
returnff 
epsgIdff 
.ff 
HasValueff "
?ff# $
GetOrCreateff% 0
(ff0 1
epsgIdff1 7
.ff7 8
Valueff8 =
,ff= >
Topologyff? G
.ffG H
	GeographyffH Q
)ffQ R
:ffS T
DefaultGeographyffU e
;ffe f
}gg 	
[ll 	
SuppressMessagell	 
(ll 
$strll +
,ll+ ,
$strll- Y
,llY Z
	MessageIdll[ d
=lle f
$strllg m
,llm n
Justificationllo |
=ll} ~
$str	ll Ä
)
llÄ Å
]
llÅ Æ
publicmm 
staticmm 
CoordinateSystemmm &
Geometrymm' /
(mm/ 0
intmm0 3
?mm3 4
epsgIdmm5 ;
)mm; <
{nn 	
returnoo 
epsgIdoo 
.oo 
HasValueoo "
?oo# $
GetOrCreateoo% 0
(oo0 1
epsgIdoo1 7
.oo7 8
Valueoo8 =
,oo= >
Topologyoo? G
.ooG H
GeometryooH P
)ooP Q
:ooR S
DefaultGeometryooT c
;ooc d
}pp 	
publictt 
overridett 
stringtt 
ToStringtt '
(tt' (
)tt( )
{uu 	
returnvv 
stringvv 
.vv 
Formatvv  
(vv  !
CultureInfovv! ,
.vv, -
InvariantCulturevv- =
,vv= >
$strvv? `
,vv` a
thisvvb f
.vvf g
topologyvvg o
,vvo p
thisvvq u
.vvu v
EpsgIdvvv |
)vv| }
;vv} ~
}ww 	
[{{ 	
SuppressMessage{{	 
({{ 
$str{{ +
,{{+ ,
$str{{- Y
,{{Y Z
	MessageId{{[ d
={{e f
$str{{g l
,{{l m
Justification{{n {
={{| }
$str	{{~ Ã
)
{{Ã Ä
]
{{Ä Å
public|| 
string|| 
ToWktId|| 
(|| 
)|| 
{}} 	
return~~ "
WellKnownTextConstants~~ )
.~~) *
WktSrid~~* 1
+~~2 3"
WellKnownTextConstants~~4 J
.~~J K
	WktEquals~~K T
+~~U V
this~~W [
.~~[ \
EpsgId~~\ b
+~~c d"
WellKnownTextConstants~~e {
.~~{ |
WktSemiColon	~~| ˆ
;
~~ˆ ‰
} 	
public
„„ 
override
„„ 
bool
„„ 
Equals
„„ #
(
„„# $
object
„„$ *
obj
„„+ .
)
„„. /
{
…… 	
return
†† 
this
†† 
.
†† 
Equals
†† 
(
†† 
obj
†† "
as
††# %
CoordinateSystem
††& 6
)
††6 7
;
††7 8
}
‡‡ 	
public
ŒŒ 
bool
ŒŒ 
Equals
ŒŒ 
(
ŒŒ 
CoordinateSystem
ŒŒ +
other
ŒŒ, 1
)
ŒŒ1 2
{
 	
if
 
(
 
ReferenceEquals
 
(
  
null
  $
,
$ %
other
& +
)
+ ,
)
, -
{
 
return
 
false
 
;
 
}
‘‘ 
if
““ 
(
““ 
ReferenceEquals
““ 
(
““  
this
““  $
,
““$ %
other
““& +
)
““+ ,
)
““, -
{
”” 
return
•• 
true
•• 
;
•• 
}
–– 
return
˜˜ 
Equals
˜˜ 
(
˜˜ 
other
˜˜ 
.
˜˜  
topology
˜˜  (
,
˜˜( )
this
˜˜* .
.
˜˜. /
topology
˜˜/ 7
)
˜˜7 8
&&
˜˜9 ;
other
˜˜< A
.
˜˜A B
EpsgId
˜˜B H
.
˜˜H I
Equals
˜˜I O
(
˜˜O P
this
˜˜P T
.
˜˜T U
EpsgId
˜˜U [
)
˜˜[ \
;
˜˜\ ]
}
™™ 	
public
 
override
 
int
 
GetHashCode
 '
(
' (
)
( )
{
 	
	unchecked
ŸŸ 
{
   
return
¡¡ 
(
¡¡ 
this
¡¡ 
.
¡¡ 
topology
¡¡ %
.
¡¡% &
GetHashCode
¡¡& 1
(
¡¡1 2
)
¡¡2 3
*
¡¡4 5
$num
¡¡6 9
)
¡¡9 :
^
¡¡; <
(
¡¡= >
this
¡¡> B
.
¡¡B C
EpsgId
¡¡C I
.
¡¡I J
HasValue
¡¡J R
?
¡¡S T
this
¡¡U Y
.
¡¡Y Z
EpsgId
¡¡Z `
.
¡¡` a
Value
¡¡a f
:
¡¡g h
$num
¡¡i j
)
¡¡j k
;
¡¡k l
}
¢¢ 
}
££ 	
internal
ªª 
bool
ªª 

TopologyIs
ªª  
(
ªª  !
Topology
ªª! )
expected
ªª* 2
)
ªª2 3
{
«« 	
return
¬¬ 
this
¬¬ 
.
¬¬ 
topology
¬¬  
==
¬¬! #
expected
¬¬$ ,
;
¬¬, -
}
­­ 	
private
·· 
static
·· 
CoordinateSystem
·· '
GetOrCreate
··( 3
(
··3 4
int
··4 7
epsgId
··8 >
,
··> ?
Topology
··@ H
topology
··I Q
)
··Q R
{
¸¸ 	
CoordinateSystem
¹¹ 
r
¹¹ 
;
¹¹ 
lock
ºº 
(
ºº 
referencesLock
ºº  
)
ºº  !
{
»» 
if
¼¼ 
(
¼¼ 

References
¼¼ 
.
¼¼ 
TryGetValue
¼¼ *
(
¼¼* +
KeyFor
¼¼+ 1
(
¼¼1 2
epsgId
¼¼2 8
,
¼¼8 9
topology
¼¼: B
)
¼¼B C
,
¼¼C D
out
¼¼E H
r
¼¼I J
)
¼¼J K
)
¼¼K L
{
½½ 
return
¾¾ 
r
¾¾ 
;
¾¾ 
}
¿¿ 
r
ÁÁ 
=
ÁÁ 
new
ÁÁ 
CoordinateSystem
ÁÁ (
(
ÁÁ( )
epsgId
ÁÁ) /
,
ÁÁ/ 0
$str
ÁÁ1 6
+
ÁÁ7 8
epsgId
ÁÁ9 ?
,
ÁÁ? @
topology
ÁÁA I
)
ÁÁI J
;
ÁÁJ K
AddRef
ÂÂ 
(
ÂÂ 
r
ÂÂ 
)
ÂÂ 
;
ÂÂ 
}
ÃÃ 
return
ÅÅ 
r
ÅÅ 
;
ÅÅ 
}
ÆÆ 	
private
ÌÌ 
static
ÌÌ 
void
ÌÌ 
AddRef
ÌÌ "
(
ÌÌ" #
CoordinateSystem
ÌÌ# 3
coords
ÌÌ4 :
)
ÌÌ: ;
{
ÍÍ 	

References
ÎÎ 
.
ÎÎ 
Add
ÎÎ 
(
ÎÎ 
KeyFor
ÎÎ !
(
ÎÎ! "
coords
ÎÎ" (
.
ÎÎ( )
EpsgId
ÎÎ) /
.
ÎÎ/ 0
Value
ÎÎ0 5
,
ÎÎ5 6
coords
ÎÎ7 =
.
ÎÎ= >
topology
ÎÎ> F
)
ÎÎF G
,
ÎÎG H
coords
ÎÎI O
)
ÎÎO P
;
ÎÎP Q
}
ÏÏ 	
private
×× 
static
×× 
CompositeKey
×× #
<
××# $
int
××$ '
,
××' (
Topology
××) 1
>
××1 2
KeyFor
××3 9
(
××9 :
int
××: =
epsgId
××> D
,
××D E
Topology
××F N
topology
××O W
)
××W X
{
ØØ 	
return
ÙÙ 
new
ÙÙ 
CompositeKey
ÙÙ #
<
ÙÙ# $
int
ÙÙ$ '
,
ÙÙ' (
Topology
ÙÙ) 1
>
ÙÙ1 2
(
ÙÙ2 3
epsgId
ÙÙ3 9
,
ÙÙ9 :
topology
ÙÙ; C
)
ÙÙC D
;
ÙÙD E
}
ÚÚ 	
}
ÛÛ 
}ÜÜ ¶	
5D:\odata.net\src\Microsoft.Spatial\ActionOnDispose.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
ActionOnDispose "
:# $
IDisposable% 0
{ 
private 
Action 
action 
; 
public 
ActionOnDispose 
( 
Action %
action& ,
), -
{ 	
Util 
. 
CheckArgumentNull "
(" #
action# )
,) *
$str+ 3
)3 4
;4 5
this 
. 
action 
= 
action  
;  !
} 	
public   
void   
Dispose   
(   
)   
{!! 	
if"" 
("" 
this"" 
."" 
action"" 
!="" 
null"" #
)""# $
{## 
action$$ 
($$ 
)$$ 
;$$ 
action%% 
=%% 
null%% 
;%% 
}&& 
}'' 	
}(( 
})) 
2D:\odata.net\src\Microsoft.Spatial\GmlFormatter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
[ 
System 
. 
Diagnostics 
. 
CodeAnalysis $
.$ %
SuppressMessage% 4
(4 5
$str5 G
,G H
$strI u
,u v
	MessageId	w €
=
 ‚
$str
ƒ ˆ
,
ˆ ‰
Justification
Š —
=
˜ ™
$str
š Ä
)
Ä Å
]
Å Æ
public 

abstract 
class 
GmlFormatter &
:' (
SpatialFormatter) 9
<9 :
	XmlReader: C
,C D
	XmlWriterE N
>N O
{ 
	protected 
GmlFormatter 
( !
SpatialImplementation 4
creator5 <
)< =
:> ?
base@ D
(D E
creatorE L
)L M
{ 	
} 	
public 
static 
GmlFormatter "
Create# )
() *
)* +
{ 	
return !
SpatialImplementation (
.( )!
CurrentImplementation) >
.> ?
CreateGmlFormatter? Q
(Q R
)R S
;S T
} 	
} 
} ù
?D:\odata.net\src\Microsoft.Spatial\WellKnownTextSqlFormatter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class %
WellKnownTextSqlFormatter 3
:4 5
SpatialFormatter6 F
<F G

TextReaderG Q
,Q R

TextWriterS ]
>] ^
{ 
	protected %
WellKnownTextSqlFormatter +
(+ ,!
SpatialImplementation, A
creatorB I
)I J
:K L
baseM Q
(Q R
creatorR Y
)Y Z
{ 	
} 	
public 
static %
WellKnownTextSqlFormatter /
Create0 6
(6 7
)7 8
{ 	
return !
SpatialImplementation (
.( )!
CurrentImplementation) >
.> ?+
CreateWellKnownTextSqlFormatter? ^
(^ _
)_ `
;` a
} 	
public   
static   %
WellKnownTextSqlFormatter   /
Create  0 6
(  6 7
bool  7 ;"
allowOnlyTwoDimensions  < R
)  R S
{!! 	
return"" !
SpatialImplementation"" (
.""( )!
CurrentImplementation"") >
.""> ?+
CreateWellKnownTextSqlFormatter""? ^
(""^ _"
allowOnlyTwoDimensions""_ u
)""u v
;""v w
}## 	
}$$ 
}%% ÕJ
7D:\odata.net\src\Microsoft.Spatial\GeographyPosition.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
GeographyPosition "
:# $

IEquatable% /
</ 0
GeographyPosition0 A
>A B
{ 
private 
readonly 
double 
latitude  (
;( )
private 
readonly 
double 
	longitude  )
;) *
private 
readonly 
double 
?  
m! "
;" #
private 
readonly 
double 
?  
z! "
;" #
[%% 	
SuppressMessage%%	 
(%% 
$str%% +
,%%+ ,
$str%%- 5
,%%5 6
Justification%%7 D
=%%E F
$str%%G i
)%%i j
]%%j k
public&& 
GeographyPosition&&  
(&&  !
double&&! '
latitude&&( 0
,&&0 1
double&&2 8
	longitude&&9 B
,&&B C
double&&D J
?&&J K
z&&L M
,&&M N
double&&O U
?&&U V
m&&W X
)&&X Y
{'' 	
this(( 
.(( 
latitude(( 
=(( 
latitude(( $
;(($ %
this)) 
.)) 
	longitude)) 
=)) 
	longitude)) &
;))& '
this** 
.** 
z** 
=** 
z** 
;** 
this++ 
.++ 
m++ 
=++ 
m++ 
;++ 
},, 	
public11 
GeographyPosition11  
(11  !
double11! '
latitude11( 0
,110 1
double112 8
	longitude119 B
)11B C
:22 
this22 
(22 
latitude22 
,22 
	longitude22 &
,22& '
null22( ,
,22, -
null22. 2
)222 3
{33 	
}44 	
public88 
double88 
Latitude88 
{99 	
get:: 
{:: 
return:: 
latitude:: !
;::! "
}::# $
};; 	
public?? 
double?? 
	Longitude?? 
{@@ 	
getAA 
{AA 
returnAA 
	longitudeAA "
;AA" #
}AA$ %
}BB 	
[FF 	
SuppressMessageFF	 
(FF 
$strFF +
,FF+ ,
$strFF- 5
,FF5 6
JustificationFF7 D
=FFE F
$strFFG i
)FFi j
]FFj k
publicGG 
doubleGG 
?GG 
MGG 
{HH 	
getII 
{II 
returnII 
mII 
;II 
}II 
}JJ 	
[NN 	
SuppressMessageNN	 
(NN 
$strNN +
,NN+ ,
$strNN- 5
,NN5 6
JustificationNN7 D
=NNE F
$strNNG i
)NNi j
]NNj k
publicOO 
doubleOO 
?OO 
ZOO 
{PP 	
getQQ 
{QQ 
returnQQ 
zQQ 
;QQ 
}QQ 
}RR 	
publicXX 
staticXX 
boolXX 
operatorXX #
==XX$ &
(XX& '
GeographyPositionXX' 8
leftXX9 =
,XX= >
GeographyPositionXX? P
rightXXQ V
)XXV W
{YY 	
ifZZ 
(ZZ 
ReferenceEqualsZZ 
(ZZ  
leftZZ  $
,ZZ$ %
nullZZ& *
)ZZ* +
)ZZ+ ,
{[[ 
return\\ 
ReferenceEquals\\ &
(\\& '
right\\' ,
,\\, -
null\\. 2
)\\2 3
;\\3 4
}]] 
else^^ 
if^^ 
(^^ 
ReferenceEquals^^ $
(^^$ %
right^^% *
,^^* +
null^^, 0
)^^0 1
)^^1 2
{__ 
return`` 
false`` 
;`` 
}aa 
returncc 
leftcc 
.cc 
Equalscc 
(cc 
rightcc $
)cc$ %
;cc% &
}dd 	
publicjj 
staticjj 
booljj 
operatorjj #
!=jj$ &
(jj& '
GeographyPositionjj' 8
leftjj9 =
,jj= >
GeographyPositionjj? P
rightjjQ V
)jjV W
{kk 	
returnll 
!ll 
(ll 
leftll 
==ll 
rightll "
)ll" #
;ll# $
}mm 	
publicrr 
overriderr 
boolrr 
Equalsrr #
(rr# $
objectrr$ *
objrr+ .
)rr. /
{ss 	
iftt 
(tt 
ReferenceEqualstt 
(tt  
nulltt  $
,tt$ %
objtt& )
)tt) *
)tt* +
{uu 
returnvv 
falsevv 
;vv 
}ww 
ifyy 
(yy 
objyy 
.yy 
GetTypeyy 
(yy 
)yy 
!=yy  
typeofyy! '
(yy' (
GeographyPositionyy( 9
)yy9 :
)yy: ;
{zz 
return{{ 
false{{ 
;{{ 
}|| 
return~~ 
Equals~~ 
(~~ 
(~~ 
GeographyPosition~~ ,
)~~, -
obj~~- 0
)~~0 1
;~~1 2
} 	
public
„„ 
bool
„„ 
Equals
„„ 
(
„„ 
GeographyPosition
„„ ,
other
„„- 2
)
„„2 3
{
…… 	
return
†† 
other
†† 
!=
†† 
null
††  
&&
††! #
other
††$ )
.
††) *
latitude
††* 2
.
††2 3
Equals
††3 9
(
††9 :
latitude
††: B
)
††B C
&&
††D F
other
††G L
.
††L M
	longitude
††M V
.
††V W
Equals
††W ]
(
††] ^
	longitude
††^ g
)
††g h
&&
††i k
other
††l q
.
††q r
z
††r s
.
††s t
Equals
††t z
(
††z {
z
††{ |
)
††| }
&&††~ €
other
‡‡ 
.
‡‡ 
m
‡‡ 
.
‡‡ 
Equals
‡‡ !
(
‡‡! "
m
‡‡" #
)
‡‡# $
;
‡‡$ %
}
ˆˆ 	
public
ŒŒ 
override
ŒŒ 
int
ŒŒ 
GetHashCode
ŒŒ '
(
ŒŒ' (
)
ŒŒ( )
{
 	
	unchecked
 
{
 
int
 
result
 
=
 
latitude
 %
.
% &
GetHashCode
& 1
(
1 2
)
2 3
;
3 4
result
‘‘ 
=
‘‘ 
(
‘‘ 
result
‘‘  
*
‘‘! "
$num
‘‘# &
)
‘‘& '
^
‘‘( )
	longitude
‘‘* 3
.
‘‘3 4
GetHashCode
‘‘4 ?
(
‘‘? @
)
‘‘@ A
;
‘‘A B
result
’’ 
=
’’ 
(
’’ 
result
’’  
*
’’! "
$num
’’# &
)
’’& '
^
’’( )
(
’’* +
z
’’+ ,
.
’’, -
HasValue
’’- 5
?
’’6 7
z
’’8 9
.
’’9 :
Value
’’: ?
.
’’? @
GetHashCode
’’@ K
(
’’K L
)
’’L M
:
’’N O
$num
’’P Q
)
’’Q R
;
’’R S
result
““ 
=
““ 
(
““ 
result
““  
*
““! "
$num
““# &
)
““& '
^
““( )
(
““* +
m
““+ ,
.
““, -
HasValue
““- 5
?
““6 7
m
““8 9
.
““9 :
Value
““: ?
.
““? @
GetHashCode
““@ K
(
““K L
)
““L M
:
““N O
$num
““P Q
)
““Q R
;
““R S
return
”” 
result
”” 
;
”” 
}
•• 
}
–– 	
public
šš 
override
šš 
string
šš 
ToString
šš '
(
šš' (
)
šš( )
{
›› 	
return
œœ 
String
œœ 
.
œœ 
Format
œœ  
(
œœ  !
System
œœ! '
.
œœ' (
Globalization
œœ( 5
.
œœ5 6
CultureInfo
œœ6 A
.
œœA B
InvariantCulture
œœB R
,
œœR S
$strœœT ’
,œœ’ “
thisœœ” ˜
.œœ˜ ™
latitudeœœ™ ¡
,œœ¡ ¢
thisœœ£ §
.œœ§ ¨
	longitudeœœ¨ ±
,œœ± ²
thisœœ³ ·
.œœ· ¸
zœœ¸ ¹
.œœ¹ º
HasValueœœº Â
?œœÃ Ä
thisœœÅ É
.œœÉ Ê
zœœÊ Ë
.œœË Ì
ToStringœœÌ Ô
(œœÔ Õ
)œœÕ Ö
:œœ× Ø
$strœœÙ ß
,œœß à
thisœœá å
.œœå æ
mœœæ ç
.œœç è
HasValueœœè ğ
?œœñ ò
thisœœó ÷
.œœ÷ ø
mœœø ù
.œœù ú
ToStringœœú ‚
(œœ‚ ƒ
)œœƒ „
:œœ… †
$strœœ‡ 
)œœ 
;œœ 
}
 	
}
 
}ŸŸ •N
6D:\odata.net\src\Microsoft.Spatial\GeometryPosition.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
GeometryPosition !
:" #

IEquatable$ .
<. /
GeometryPosition/ ?
>? @
{ 
private 
readonly 
double 
?  
m! "
;" #
private 
readonly 
double 
x  !
;! "
private 
readonly 
double 
y  !
;! "
private 
readonly 
double 
?  
z! "
;" #
["" 	
SuppressMessage""	 
("" 
$str"" +
,""+ ,
$str""- 5
,""5 6
Justification""7 D
=""E F
$str""G i
)""i j
]""j k
public## 
GeometryPosition## 
(##  
double##  &
x##' (
,##( )
double##* 0
y##1 2
,##2 3
double##4 :
?##: ;
z##< =
,##= >
double##? E
?##E F
m##G H
)##H I
{$$ 	
this%% 
.%% 
x%% 
=%% 
x%% 
;%% 
this&& 
.&& 
y&& 
=&& 
y&& 
;&& 
this'' 
.'' 
z'' 
='' 
z'' 
;'' 
this(( 
.(( 
m(( 
=(( 
m(( 
;(( 
})) 	
[.. 	
SuppressMessage..	 
(.. 
$str.. +
,..+ ,
$str..- 5
,..5 6
Justification..7 D
=..E F
$str..G c
)..c d
]..d e
public// 
GeometryPosition// 
(//  
double//  &
x//' (
,//( )
double//* 0
y//1 2
)//2 3
:00 
this00 
(00 
x00 
,00 
y00 
,00 
null00 
,00 
null00 #
)00# $
{11 	
}22 	
[66 	
SuppressMessage66	 
(66 
$str66 +
,66+ ,
$str66- 5
,665 6
Justification667 D
=66E F
$str66G i
)66i j
]66j k
public77 
double77 
?77 
M77 
{88 	
get99 
{99 
return99 
m99 
;99 
}99 
}:: 	
[>> 	
SuppressMessage>>	 
(>> 
$str>> +
,>>+ ,
$str>>- 5
,>>5 6
Justification>>7 D
=>>E F
$str>>G i
)>>i j
]>>j k
public?? 
double?? 
X?? 
{@@ 	
getAA 
{AA 
returnAA 
xAA 
;AA 
}AA 
}BB 	
[FF 	
SuppressMessageFF	 
(FF 
$strFF +
,FF+ ,
$strFF- 5
,FF5 6
JustificationFF7 D
=FFE F
$strFFG i
)FFi j
]FFj k
publicGG 
doubleGG 
YGG 
{HH 	
getII 
{II 
returnII 
yII 
;II 
}II 
}JJ 	
[NN 	
SuppressMessageNN	 
(NN 
$strNN +
,NN+ ,
$strNN- 5
,NN5 6
JustificationNN7 D
=NNE F
$strNNG i
)NNi j
]NNj k
publicOO 
doubleOO 
?OO 
ZOO 
{PP 	
getQQ 
{QQ 
returnQQ 
zQQ 
;QQ 
}QQ 
}RR 	
publicXX 
staticXX 
boolXX 
operatorXX #
==XX$ &
(XX& '
GeometryPositionXX' 7
leftXX8 <
,XX< =
GeometryPositionXX> N
rightXXO T
)XXT U
{YY 	
ifZZ 
(ZZ 
ReferenceEqualsZZ 
(ZZ  
leftZZ  $
,ZZ$ %
nullZZ& *
)ZZ* +
)ZZ+ ,
{[[ 
return\\ 
ReferenceEquals\\ &
(\\& '
right\\' ,
,\\, -
null\\. 2
)\\2 3
;\\3 4
}]] 
else^^ 
if^^ 
(^^ 
ReferenceEquals^^ $
(^^$ %
right^^% *
,^^* +
null^^, 0
)^^0 1
)^^1 2
{__ 
return`` 
false`` 
;`` 
}aa 
returncc 
leftcc 
.cc 
Equalscc 
(cc 
rightcc $
)cc$ %
;cc% &
}dd 	
publicjj 
staticjj 
booljj 
operatorjj #
!=jj$ &
(jj& '
GeometryPositionjj' 7
leftjj8 <
,jj< =
GeometryPositionjj> N
rightjjO T
)jjT U
{kk 	
returnll 
!ll 
(ll 
leftll 
==ll 
rightll "
)ll" #
;ll# $
}mm 	
publicrr 
overriderr 
boolrr 
Equalsrr #
(rr# $
objectrr$ *
objrr+ .
)rr. /
{ss 	
iftt 
(tt 
ReferenceEqualstt 
(tt  
nulltt  $
,tt$ %
objtt& )
)tt) *
)tt* +
{uu 
returnvv 
falsevv 
;vv 
}ww 
ifyy 
(yy 
objyy 
.yy 
GetTypeyy 
(yy 
)yy 
!=yy  
typeofyy! '
(yy' (
GeometryPositionyy( 8
)yy8 9
)yy9 :
{zz 
return{{ 
false{{ 
;{{ 
}|| 
return~~ 
Equals~~ 
(~~ 
(~~ 
GeometryPosition~~ +
)~~+ ,
obj~~, /
)~~/ 0
;~~0 1
} 	
public
„„ 
bool
„„ 
Equals
„„ 
(
„„ 
GeometryPosition
„„ +
other
„„, 1
)
„„1 2
{
…… 	
return
†† 
other
†† 
!=
†† 
null
††  
&&
††! #
other
††$ )
.
††) *
x
††* +
.
††+ ,
Equals
††, 2
(
††2 3
x
††3 4
)
††4 5
&&
††6 8
other
††9 >
.
††> ?
y
††? @
.
††@ A
Equals
††A G
(
††G H
y
††H I
)
††I J
&&
††K M
other
††N S
.
††S T
z
††T U
.
††U V
Equals
††V \
(
††\ ]
z
††] ^
)
††^ _
&&
††` b
other
††c h
.
††h i
m
††i j
.
††j k
Equals
††k q
(
††q r
m
††r s
)
††s t
;
††t u
}
‡‡ 	
public
‹‹ 
override
‹‹ 
int
‹‹ 
GetHashCode
‹‹ '
(
‹‹' (
)
‹‹( )
{
ŒŒ 	
	unchecked
 
{
 
int
 
result
 
=
 
x
 
.
 
GetHashCode
 *
(
* +
)
+ ,
;
, -
result
 
=
 
(
 
result
  
*
! "
$num
# &
)
& '
^
( )
y
* +
.
+ ,
GetHashCode
, 7
(
7 8
)
8 9
;
9 :
result
‘‘ 
=
‘‘ 
(
‘‘ 
result
‘‘  
*
‘‘! "
$num
‘‘# &
)
‘‘& '
^
‘‘( )
(
‘‘* +
z
‘‘+ ,
.
‘‘, -
HasValue
‘‘- 5
?
‘‘6 7
z
‘‘8 9
.
‘‘9 :
Value
‘‘: ?
.
‘‘? @
GetHashCode
‘‘@ K
(
‘‘K L
)
‘‘L M
:
‘‘N O
$num
‘‘P Q
)
‘‘Q R
;
‘‘R S
result
’’ 
=
’’ 
(
’’ 
result
’’  
*
’’! "
$num
’’# &
)
’’& '
^
’’( )
(
’’* +
m
’’+ ,
.
’’, -
HasValue
’’- 5
?
’’6 7
m
’’8 9
.
’’9 :
Value
’’: ?
.
’’? @
GetHashCode
’’@ K
(
’’K L
)
’’L M
:
’’N O
$num
’’P Q
)
’’Q R
;
’’R S
return
““ 
result
““ 
;
““ 
}
”” 
}
•• 	
public
™™ 
override
™™ 
string
™™ 
ToString
™™ '
(
™™' (
)
™™( )
{
šš 	
return
›› 
String
›› 
.
›› 
Format
››  
(
››  !
System
››! '
.
››' (
Globalization
››( 5
.
››5 6
CultureInfo
››6 A
.
››A B
InvariantCulture
››B R
,
››R S
$str
››T z
,
››z {
this››| €
.››€ 
x›› ‚
,››‚ ƒ
this››„ ˆ
.››ˆ ‰
y››‰ Š
,››Š ‹
this››Œ 
.›› ‘
z››‘ ’
.››’ “
HasValue››“ ›
?››œ 
this›› ¢
.››¢ £
z››£ ¤
.››¤ ¥
ToString››¥ ­
(››­ ®
)››® ¯
:››° ±
$str››² ¸
,››¸ ¹
this››º ¾
.››¾ ¿
m››¿ À
.››À Á
HasValue››Á É
?››Ê Ë
this››Ì Ğ
.››Ğ Ñ
m››Ñ Ò
.››Ò Ó
ToString››Ó Û
(››Û Ü
)››Ü İ
:››Ş ß
$str››à æ
)››æ ç
;››ç è
}
œœ 	
}
 
} ğ
6D:\odata.net\src\Microsoft.Spatial\SpatialValidator.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

static 
class 
SpatialValidator (
{ 
public 
static 
SpatialPipeline %
Create& ,
(, -
)- .
{ 	
return !
SpatialImplementation (
.( )!
CurrentImplementation) >
.> ?
CreateValidator? N
(N O
)O P
;P Q
} 	
} 
} ò
5D:\odata.net\src\Microsoft.Spatial\SpatialPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
SpatialPipeline  
{ 
private 
GeographyPipeline !
geographyPipeline" 3
;3 4
private 
GeometryPipeline  
geometryPipeline! 1
;1 2
private   
SpatialPipeline   
startingLink    ,
;  , -
public## 
SpatialPipeline## 
(## 
)##  
{$$ 	
this%% 
.%% 
startingLink%% 
=%% 
this%%  $
;%%$ %
}&& 	
public++ 
SpatialPipeline++ 
(++ 
GeographyPipeline++ 0
geographyPipeline++1 B
,++B C
GeometryPipeline++D T
geometryPipeline++U e
)++e f
{,, 	
this-- 
.-- 
geographyPipeline-- "
=--# $
geographyPipeline--% 6
;--6 7
this.. 
... 
geometryPipeline.. !
=.." #
geometryPipeline..$ 4
;..4 5
this// 
.// 
startingLink// 
=// 
this//  $
;//$ %
}00 	
public33 
virtual33 
GeographyPipeline33 (
GeographyPipeline33) :
{44 	
get55 
{55 
return55 
geographyPipeline55 *
;55* +
}55, -
}66 	
public99 
virtual99 
GeometryPipeline99 '
GeometryPipeline99( 8
{:: 	
get;; 
{;; 
return;; 
geometryPipeline;; )
;;;) *
};;+ ,
}<< 	
public@@ 
SpatialPipeline@@ 
StartingLink@@ +
{AA 	
getBB 
{BB 
returnBB 
thisBB 
.BB 
startingLinkBB *
;BB* +
}BB, -
setCC 
{CC 
thisCC 
.CC 
startingLinkCC #
=CC$ %
valueCC& +
;CC+ ,
}CC- .
}DD 	
[MM 	
SuppressMessageMM	 
(MM 
$strMM *
,MM* +
$strMM, Y
,MMY Z
JustificationMM[ h
=MMi j
$str	MMk Ì
)
MMÌ Í
]
MMÍ Î
publicNN 
staticNN 
implicitNN 
operatorNN '
GeographyPipelineNN( 9
(NN9 :
SpatialPipelineNN: I
spatialPipelineNNJ Y
)NNY Z
{OO 	
ifPP 
(PP 
spatialPipelinePP 
!=PP  "
nullPP# '
)PP' (
{QQ 
returnRR 
spatialPipelineRR &
.RR& '
GeographyPipelineRR' 8
;RR8 9
}SS 
returnUU 
nullUU 
;UU 
}VV 	
[__ 	
SuppressMessage__	 
(__ 
$str__ *
,__* +
$str__, Y
,__Y Z
Justification__[ h
=__i j
$str	__k Ì
)
__Ì Í
]
__Í Î
public`` 
static`` 
implicit`` 
operator`` '
GeometryPipeline``( 8
(``8 9
SpatialPipeline``9 H
spatialPipeline``I X
)``X Y
{aa 	
ifbb 
(bb 
spatialPipelinebb 
!=bb  "
nullbb# '
)bb' (
{cc 
returndd 
spatialPipelinedd &
.dd& '
GeometryPipelinedd' 7
;dd7 8
}ee 
returngg 
nullgg 
;gg 
}hh 	
publicmm 
virtualmm 
SpatialPipelinemm &
ChainTomm' .
(mm. /
SpatialPipelinemm/ >
destinationmm? J
)mmJ K
{nn 	
throwoo 
newoo #
NotImplementedExceptionoo -
(oo- .
)oo. /
;oo/ 0
}pp 	
}qq 
}rr Ò
CD:\odata.net\src\Microsoft.Spatial\GeographyOperationsExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

static 
class )
GeographyOperationsExtensions 5
{ 
public 
static 
double 
? 
Distance &
(& '
this' +
	Geography, 5
operand16 >
,> ?
	Geography@ I
operand2J R
)R S
{ 	
return 
OperationsFor  
(  !
operand1! )
,) *
operand2+ 3
)3 4
.4 5$
IfValidReturningNullable5 M
(M N
opsN Q
=>R T
opsU X
.X Y
DistanceY a
(a b
operand1b j
,j k
operand2l t
)t u
)u v
;v w
} 	
public 
static 
double 
? 
Length $
($ %
this% )
	Geography* 3
operand4 ;
); <
{ 	
return 
OperationsFor  
(  !
operand! (
)( )
.) *$
IfValidReturningNullable* B
(B C
opsC F
=>G I
opsJ M
.M N
LengthN T
(T U
operandU \
)\ ]
)] ^
;^ _
} 	
public%% 
static%% 
bool%% 
?%% 

Intersects%% &
(%%& '
this%%' +
	Geography%%, 5
operand1%%6 >
,%%> ?
	Geography%%@ I
operand2%%J R
)%%R S
{&& 	
return'' 
OperationsFor''  
(''  !
operand1''! )
,'') *
operand2''+ 3
)''3 4
.''4 5$
IfValidReturningNullable''5 M
(''M N
ops''N Q
=>''R T
ops''U X
.''X Y

Intersects''Y c
(''c d
operand1''d l
,''l m
operand2''n v
)''v w
)''w x
;''x y
}(( 	
private// 
static// 
SpatialOperations// (
OperationsFor//) 6
(//6 7
params//7 =
	Geography//> G
[//G H
]//H I
operands//J R
)//R S
{00 	
if11 
(11 
operands11 
.11 
Any11 
(11 
operand11 $
=>11% '
operand11( /
==110 2
null113 7
)117 8
)118 9
{22 
return33 
null33 
;33 
}44 
return66 
operands66 
[66 
$num66 
]66 
.66 
Creator66 &
.66& ')
VerifyAndGetNonNullOperations66' D
(66D E
)66E F
;66F G
}77 	
}88 
}99 Ê
BD:\odata.net\src\Microsoft.Spatial\GeometryOperationsExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

static 
class (
GeometryOperationsExtensions 4
{ 
public 
static 
double 
? 
Distance &
(& '
this' +
Geometry, 4
operand15 =
,= >
Geometry? G
operand2H P
)P Q
{ 	
return 
OperationsFor  
(  !
operand1! )
,) *
operand2+ 3
)3 4
.4 5$
IfValidReturningNullable5 M
(M N
opsN Q
=>R T
opsU X
.X Y
DistanceY a
(a b
operand1b j
,j k
operand2l t
)t u
)u v
;v w
} 	
public 
static 
double 
? 
Length $
($ %
this% )
Geometry* 2
operand3 :
): ;
{ 	
return 
OperationsFor  
(  !
operand! (
)( )
.) *$
IfValidReturningNullable* B
(B C
opsC F
=>G I
opsJ M
.M N
LengthN T
(T U
operandU \
)\ ]
)] ^
;^ _
} 	
public%% 
static%% 
bool%% 
?%% 

Intersects%% &
(%%& '
this%%' +
Geometry%%, 4
operand1%%5 =
,%%= >
Geometry%%? G
operand2%%H P
)%%P Q
{&& 	
return'' 
OperationsFor''  
(''  !
operand1''! )
,'') *
operand2''+ 3
)''3 4
.''4 5$
IfValidReturningNullable''5 M
(''M N
ops''N Q
=>''R T
ops''U X
.''X Y

Intersects''Y c
(''c d
operand1''d l
,''l m
operand2''n v
)''v w
)''w x
;''x y
}(( 	
private// 
static// 
SpatialOperations// (
OperationsFor//) 6
(//6 7
params//7 =
Geometry//> F
[//F G
]//G H
operands//I Q
)//Q R
{00 	
if11 
(11 
operands11 
.11 
Any11 
(11 
operand11 $
=>11% '
operand11( /
==110 2
null113 7
)117 8
)118 9
{22 
return33 
null33 
;33 
}44 
return66 
operands66 
[66 
$num66 
]66 
.66 
Creator66 &
.66& ')
VerifyAndGetNonNullOperations66' D
(66D E
)66E F
;66F G
}77 	
}88 
}99 
;D:\odata.net\src\Microsoft.Spatial\SpatialImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class !
SpatialImplementation /
{ 
private 
static !
SpatialImplementation ,!
spatialImplementation- B
=C D
newE H-
!DataServicesSpatialImplementationI j
(j k
)k l
;l m
public 
static !
SpatialImplementation +!
CurrentImplementation, A
{ 	
get 
{ 
return !
spatialImplementation ,
;, -
} 
internal 
set 
{ !
spatialImplementation %
=& '
value( -
;- .
}   
}!! 	
public$$ 
abstract$$ 
SpatialOperations$$ )

Operations$$* 4
{%% 	
get&& 
;&& 
set'' 
;'' 
}(( 	
public,, 
abstract,, 
SpatialBuilder,, &
CreateBuilder,,' 4
(,,4 5
),,5 6
;,,6 7
public00 
abstract00 "
GeoJsonObjectFormatter00 .(
CreateGeoJsonObjectFormatter00/ K
(00K L
)00L M
;00M N
[44 	
System44	 
.44 
Diagnostics44 
.44 
CodeAnalysis44 (
.44( )
SuppressMessage44) 8
(448 9
$str449 K
,44K L
$str44M y
,44y z
	MessageId	44{ „
=
44… †
$str
44‡ Œ
,
44Œ 
Justification
44 ›
=
44œ 
$str
44 Æ
)
44Æ Ç
]
44Ç È
public55 
abstract55 
GmlFormatter55 $
CreateGmlFormatter55% 7
(557 8
)558 9
;559 :
public99 
abstract99 %
WellKnownTextSqlFormatter99 1+
CreateWellKnownTextSqlFormatter992 Q
(99Q R
)99R S
;99S T
public>> 
abstract>> %
WellKnownTextSqlFormatter>> 1+
CreateWellKnownTextSqlFormatter>>2 Q
(>>Q R
bool>>R V"
allowOnlyTwoDimensions>>W m
)>>m n
;>>n o
publicBB 
abstractBB 
SpatialPipelineBB '
CreateValidatorBB( 7
(BB7 8
)BB8 9
;BB9 :
internalHH 
SpatialOperationsHH ")
VerifyAndGetNonNullOperationsHH# @
(HH@ A
)HHA B
{II 	
varJJ 

operationsJJ 
=JJ 
thisJJ !
.JJ! "

OperationsJJ" ,
;JJ, -
ifKK 
(KK 

operationsKK 
==KK 
nullKK "
)KK" #
{LL 
throwMM 
newMM #
NotImplementedExceptionMM 1
(MM1 2
StringsMM2 9
.MM9 :8
,SpatialImplementation_NoRegisteredOperationsMM: f
)MMf g
;MMg h
}NN 
returnPP 

operationsPP 
;PP 
}QQ 	
}RR 
}SS ®
7D:\odata.net\src\Microsoft.Spatial\SpatialOperations.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
SpatialOperations +
{ 
public 
virtual 
double 
Distance &
(& '
Geometry' /
operand10 8
,8 9
Geometry: B
operand2C K
)K L
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public 
virtual 
double 
Distance &
(& '
	Geography' 0
operand11 9
,9 :
	Geography; D
operand2E M
)M N
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
}   	
public%% 
virtual%% 
double%% 
Length%% $
(%%$ %
Geometry%%% -
operand%%. 5
)%%5 6
{&& 	
throw'' 
new'' #
NotImplementedException'' -
(''- .
)''. /
;''/ 0
}(( 	
public-- 
virtual-- 
double-- 
Length-- $
(--$ %
	Geography--% .
operand--/ 6
)--6 7
{.. 	
throw// 
new// #
NotImplementedException// -
(//- .
)//. /
;/// 0
}00 	
public66 
virtual66 
bool66 

Intersects66 &
(66& '
Geometry66' /
operand1660 8
,668 9
Geometry66: B
operand266C K
)66K L
{77 	
throw88 
new88 #
NotImplementedException88 -
(88- .
)88. /
;88/ 0
}99 	
public?? 
virtual?? 
bool?? 

Intersects?? &
(??& '
	Geography??' 0
operand1??1 9
,??9 :
	Geography??; D
operand2??E M
)??M N
{@@ 	
throwAA 
newAA #
NotImplementedExceptionAA -
(AA- .
)AA. /
;AA/ 0
}BB 	
}CC 
}DD ¸
5D:\odata.net\src\Microsoft.Spatial\OrcasExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class 
OrcasExtensions )
{ 
internal 
static 
void 
Clear "
(" #
this# '
StringBuilder( 5
builder6 =
)= >
{	 

builder 
. 
Length 
= 
$num 
;  
builder 
. 
Capacity 
= 
$num  !
;! "
}	 

} 
} ÌK
.D:\odata.net\src\Microsoft.Spatial\DrawBoth.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
DrawBoth $
{ 
public 
virtual 
GeographyPipeline (
GeographyPipeline) :
{ 	
get 
{ 
return 
new 
DrawGeographyInput /
(/ 0
this0 4
)4 5
;5 6
}7 8
} 	
public 
virtual 
GeometryPipeline '
GeometryPipeline( 8
{ 	
get 
{ 
return 
new 
DrawGeometryInput .
(. /
this/ 3
)3 4
;4 5
}6 7
} 	
public%% 
static%% 
implicit%% 
operator%% '
SpatialPipeline%%( 7
(%%7 8
DrawBoth%%8 @
both%%A E
)%%E F
{&& 	
if'' 
('' 
both'' 
!='' 
null'' 
)'' 
{(( 
return)) 
new)) 
SpatialPipeline)) *
())* +
both))+ /
.))/ 0
GeographyPipeline))0 A
,))A B
both))C G
.))G H
GeometryPipeline))H X
)))X Y
;))Y Z
}** 
return,, 
null,, 
;,, 
}-- 	
	protected44 
virtual44 
GeographyPosition44 +
OnLineTo44, 4
(444 5
GeographyPosition445 F
position44G O
)44O P
{55 	
return66 
position66 
;66 
}77 	
	protected>> 
virtual>> 
GeometryPosition>> *
OnLineTo>>+ 3
(>>3 4
GeometryPosition>>4 D
position>>E M
)>>M N
{?? 	
return@@ 
position@@ 
;@@ 
}AA 	
	protectedHH 
virtualHH 
GeographyPositionHH +
OnBeginFigureHH, 9
(HH9 :
GeographyPositionHH: K
positionHHL T
)HHT U
{II 	
returnJJ 
positionJJ 
;JJ 
}KK 	
	protectedRR 
virtualRR 
GeometryPositionRR *
OnBeginFigureRR+ 8
(RR8 9
GeometryPositionRR9 I
positionRRJ R
)RRR S
{SS 	
returnTT 
positionTT 
;TT 
}UU 	
	protected\\ 
virtual\\ 
SpatialType\\ %
OnBeginGeography\\& 6
(\\6 7
SpatialType\\7 B
type\\C G
)\\G H
{]] 	
return^^ 
type^^ 
;^^ 
}__ 	
	protectedff 
virtualff 
SpatialTypeff %
OnBeginGeometryff& 5
(ff5 6
SpatialTypeff6 A
typeffB F
)ffF G
{gg 	
returnhh 
typehh 
;hh 
}ii 	
	protectednn 
virtualnn 
voidnn 
OnEndFigurenn *
(nn* +
)nn+ ,
{oo 	
}pp 	
	protecteduu 
virtualuu 
voiduu 
OnEndGeographyuu -
(uu- .
)uu. /
{vv 	
}ww 	
	protected|| 
virtual|| 
void|| 
OnEndGeometry|| ,
(||, -
)||- .
{}} 	
}~~ 	
	protected
ƒƒ 
virtual
ƒƒ 
void
ƒƒ 
OnReset
ƒƒ &
(
ƒƒ& '
)
ƒƒ' (
{
„„ 	
}
…… 	
	protected
ŒŒ 
virtual
ŒŒ 
CoordinateSystem
ŒŒ *#
OnSetCoordinateSystem
ŒŒ+ @
(
ŒŒ@ A
CoordinateSystem
ŒŒA Q
coordinateSystem
ŒŒR b
)
ŒŒb c
{
 	
return
 
coordinateSystem
 #
;
# $
}
 	
private
•• 
class
••  
DrawGeographyInput
•• (
:
••) *
GeographyPipeline
••+ <
{
–– 	
private
šš 
readonly
šš 
DrawBoth
šš %
both
šš& *
;
šš* +
public
    
DrawGeographyInput
   %
(
  % &
DrawBoth
  & .
both
  / 3
)
  3 4
{
¡¡ 
this
¢¢ 
.
¢¢ 
both
¢¢ 
=
¢¢ 
both
¢¢  
;
¢¢  !
}
££ 
public
©© 
override
©© 
void
©©  
LineTo
©©! '
(
©©' (
GeographyPosition
©©( 9
position
©©: B
)
©©B C
{
ªª 
both
«« 
.
«« 
OnLineTo
«« 
(
«« 
position
«« &
)
««& '
;
««' (
}
¬¬ 
public
²² 
override
²² 
void
²²  
BeginFigure
²²! ,
(
²², -
GeographyPosition
²²- >
position
²²? G
)
²²G H
{
³³ 
both
´´ 
.
´´ 
OnBeginFigure
´´ "
(
´´" #
position
´´# +
)
´´+ ,
;
´´, -
}
µµ 
public
»» 
override
»» 
void
»»  
BeginGeography
»»! /
(
»»/ 0
SpatialType
»»0 ;
type
»»< @
)
»»@ A
{
¼¼ 
both
½½ 
.
½½ 
OnBeginGeography
½½ %
(
½½% &
type
½½& *
)
½½* +
;
½½+ ,
}
¾¾ 
public
ÃÃ 
override
ÃÃ 
void
ÃÃ  
	EndFigure
ÃÃ! *
(
ÃÃ* +
)
ÃÃ+ ,
{
ÄÄ 
both
ÅÅ 
.
ÅÅ 
OnEndFigure
ÅÅ  
(
ÅÅ  !
)
ÅÅ! "
;
ÅÅ" #
}
ÆÆ 
public
ËË 
override
ËË 
void
ËË  
EndGeography
ËË! -
(
ËË- .
)
ËË. /
{
ÌÌ 
both
ÍÍ 
.
ÍÍ 
OnEndGeography
ÍÍ #
(
ÍÍ# $
)
ÍÍ$ %
;
ÍÍ% &
}
ÎÎ 
public
ÓÓ 
override
ÓÓ 
void
ÓÓ  
Reset
ÓÓ! &
(
ÓÓ& '
)
ÓÓ' (
{
ÔÔ 
both
ÕÕ 
.
ÕÕ 
OnReset
ÕÕ 
(
ÕÕ 
)
ÕÕ 
;
ÕÕ 
}
ÖÖ 
public
ÜÜ 
override
ÜÜ 
void
ÜÜ  !
SetCoordinateSystem
ÜÜ! 4
(
ÜÜ4 5
CoordinateSystem
ÜÜ5 E
coordinateSystem
ÜÜF V
)
ÜÜV W
{
İİ 
both
ŞŞ 
.
ŞŞ #
OnSetCoordinateSystem
ŞŞ *
(
ŞŞ* +
coordinateSystem
ŞŞ+ ;
)
ŞŞ; <
;
ŞŞ< =
}
ßß 
}
àà 	
private
ææ 
class
ææ 
DrawGeometryInput
ææ '
:
ææ( )
GeometryPipeline
ææ* :
{
çç 	
private
ëë 
readonly
ëë 
DrawBoth
ëë %
both
ëë& *
;
ëë* +
public
ññ 
DrawGeometryInput
ññ $
(
ññ$ %
DrawBoth
ññ% -
both
ññ. 2
)
ññ2 3
{
òò 
this
óó 
.
óó 
both
óó 
=
óó 
both
óó  
;
óó  !
}
ôô 
public
úú 
override
úú 
void
úú  
LineTo
úú! '
(
úú' (
GeometryPosition
úú( 8
position
úú9 A
)
úúA B
{
ûû 
both
üü 
.
üü 
OnLineTo
üü 
(
üü 
position
üü &
)
üü& '
;
üü' (
}
ıı 
public
ƒƒ 
override
ƒƒ 
void
ƒƒ  
BeginFigure
ƒƒ! ,
(
ƒƒ, -
GeometryPosition
ƒƒ- =
position
ƒƒ> F
)
ƒƒF G
{
„„ 
both
…… 
.
…… 
OnBeginFigure
…… "
(
……" #
position
……# +
)
……+ ,
;
……, -
}
†† 
public
ŒŒ 
override
ŒŒ 
void
ŒŒ  
BeginGeometry
ŒŒ! .
(
ŒŒ. /
SpatialType
ŒŒ/ :
type
ŒŒ; ?
)
ŒŒ? @
{
 
both
 
.
 
OnBeginGeometry
 $
(
$ %
type
% )
)
) *
;
* +
}
 
public
”” 
override
”” 
void
””  
	EndFigure
””! *
(
””* +
)
””+ ,
{
•• 
both
–– 
.
–– 
OnEndFigure
––  
(
––  !
)
––! "
;
––" #
}
—— 
public
œœ 
override
œœ 
void
œœ  
EndGeometry
œœ! ,
(
œœ, -
)
œœ- .
{
 
both
 
.
 
OnEndGeometry
 "
(
" #
)
# $
;
$ %
}
ŸŸ 
public
¤¤ 
override
¤¤ 
void
¤¤  
Reset
¤¤! &
(
¤¤& '
)
¤¤' (
{
¥¥ 
both
¦¦ 
.
¦¦ 
OnReset
¦¦ 
(
¦¦ 
)
¦¦ 
;
¦¦ 
}
§§ 
public
­­ 
override
­­ 
void
­­  !
SetCoordinateSystem
­­! 4
(
­­4 5
CoordinateSystem
­­5 E
coordinateSystem
­­F V
)
­­V W
{
®® 
both
¯¯ 
.
¯¯ #
OnSetCoordinateSystem
¯¯ *
(
¯¯* +
coordinateSystem
¯¯+ ;
)
¯¯; <
;
¯¯< =
}
°° 
}
±± 	
}
²² 
}³³ ñ
MD:\odata.net\src\Microsoft.Spatial\WellKnownTextSqlFormatterImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 3
'WellKnownTextSqlFormatterImplementation :
:; <%
WellKnownTextSqlFormatter= V
{ 
private 
readonly 
bool "
allowOnlyTwoDimensions 4
;4 5
internal 3
'WellKnownTextSqlFormatterImplementation 8
(8 9!
SpatialImplementation9 N
creatorO V
)V W
:X Y
baseZ ^
(^ _
creator_ f
)f g
{ 	
} 	
internal"" 3
'WellKnownTextSqlFormatterImplementation"" 8
(""8 9!
SpatialImplementation""9 N
creator""O V
,""V W
bool""X \"
allowOnlyTwoDimensions""] s
)""s t
:""u v
base""w {
(""{ |
creator	""| ƒ
)
""ƒ „
{## 	
this$$ 
.$$ "
allowOnlyTwoDimensions$$ '
=$$( )"
allowOnlyTwoDimensions$$* @
;$$@ A
}%% 	
public,, 
override,, 
SpatialPipeline,, '
CreateWriter,,( 4
(,,4 5

TextWriter,,5 ?
target,,@ F
),,F G
{-- 	
return.. 
new.. 
ForwardingSegment.. (
(..( )
new..) ,"
WellKnownTextSqlWriter..- C
(..C D
target..D J
,..J K
this..L P
...P Q"
allowOnlyTwoDimensions..Q g
)..g h
)..h i
;..i j
}// 	
	protected66 
override66 
void66 
ReadGeography66  -
(66- .

TextReader66. 8
readerStream669 E
,66E F
SpatialPipeline66G V
pipeline66W _
)66_ `
{77 	
new88 "
WellKnownTextSqlReader88 &
(88& '
pipeline88' /
,88/ 0"
allowOnlyTwoDimensions881 G
)88G H
.88H I
ReadGeography88I V
(88V W
readerStream88W c
)88c d
;88d e
}99 	
	protected@@ 
override@@ 
void@@ 
ReadGeometry@@  ,
(@@, -

TextReader@@- 7
readerStream@@8 D
,@@D E
SpatialPipeline@@F U
pipeline@@V ^
)@@^ _
{AA 	
newBB "
WellKnownTextSqlReaderBB &
(BB& '
pipelineBB' /
,BB/ 0"
allowOnlyTwoDimensionsBB1 G
)BBG H
.BBH I
ReadGeometryBBI U
(BBU V
readerStreamBBV b
)BBb c
;BBc d
}CC 	
}DD 
}EE ºÅ
/D:\odata.net\src\Microsoft.Spatial\GmlWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
[ 
System 
. 
Diagnostics 
. 
CodeAnalysis $
.$ %
SuppressMessage% 4
(4 5
$str5 G
,G H
$strI u
,u v
	MessageId	w €
=
 ‚
$str
ƒ ˆ
,
ˆ ‰
Justification
Š —
=
˜ ™
$str
š Â
)
Â Ã
]
Ã Ä
internal 
sealed 
class 
	GmlWriter #
:$ %
DrawBoth& .
{ 
private 
	XmlWriter 
writer  
;  !
private 
Stack 
< 
SpatialType !
>! "
parentStack# .
;. /
private!! 
bool!! #
coordinateSystemWritten!! ,
;!!, -
private&& 
CoordinateSystem&&  #
currentCoordinateSystem&&! 8
;&&8 9
private++ 
bool++ 
figureWritten++ "
;++" #
private00 
bool00 '
shouldWriteContainerWrapper00 0
;000 1
public66 
	GmlWriter66 
(66 
	XmlWriter66 "
writer66# )
)66) *
{77 	
this88 
.88 
writer88 
=88 
writer88  
;88  !
this99 
.99 
OnReset99 
(99 
)99 
;99 
}:: 	
	protectedAA 
overrideAA 
SpatialTypeAA &
OnBeginGeographyAA' 7
(AA7 8
SpatialTypeAA8 C
typeAAD H
)AAH I
{BB 	
thisCC 
.CC 
BeginGeoCC 
(CC 
typeCC 
)CC 
;CC  
returnDD 
typeDD 
;DD 
}EE 	
	protectedLL 
overrideLL 
GeographyPositionLL ,
OnLineToLL- 5
(LL5 6
GeographyPositionLL6 G
positionLLH P
)LLP Q
{MM 	
thisNN 
.NN 

WritePointNN 
(NN 
positionNN $
.NN$ %
LatitudeNN% -
,NN- .
positionNN/ 7
.NN7 8
	LongitudeNN8 A
,NNA B
positionNNC K
.NNK L
ZNNL M
,NNM N
positionNNO W
.NNW X
MNNX Y
)NNY Z
;NNZ [
returnOO 
positionOO 
;OO 
}PP 	
	protectedUU 
overrideUU 
voidUU 
OnEndGeographyUU  .
(UU. /
)UU/ 0
{VV 	
thisWW 
.WW 
EndGeoWW 
(WW 
)WW 
;WW 
}XX 	
	protected__ 
override__ 
SpatialType__ &
OnBeginGeometry__' 6
(__6 7
SpatialType__7 B
type__C G
)__G H
{`` 	
thisaa 
.aa 
BeginGeoaa 
(aa 
typeaa 
)aa 
;aa  
returnbb 
typebb 
;bb 
}cc 	
	protectedjj 
overridejj 
GeometryPositionjj +
OnLineTojj, 4
(jj4 5
GeometryPositionjj5 E
positionjjF N
)jjN O
{kk 	
thisll 
.ll 

WritePointll 
(ll 
positionll $
.ll$ %
Xll% &
,ll& '
positionll( 0
.ll0 1
Yll1 2
,ll2 3
positionll4 <
.ll< =
Zll= >
,ll> ?
positionll@ H
.llH I
MllI J
)llJ K
;llK L
returnmm 
positionmm 
;mm 
}nn 	
	protectedss 
overridess 
voidss 
OnEndGeometryss  -
(ss- .
)ss. /
{tt 	
thisuu 
.uu 
EndGeouu 
(uu 
)uu 
;uu 
}vv 	
	protected}} 
override}} 
CoordinateSystem}} +!
OnSetCoordinateSystem}}, A
(}}A B
CoordinateSystem}}B R
coordinateSystem}}S c
)}}c d
{~~ 	
this 
. #
currentCoordinateSystem (
=) *
coordinateSystem+ ;
;; <
return
€€ 
coordinateSystem
€€ #
;
€€# $
}
 	
	protected
ˆˆ 
override
ˆˆ 
GeographyPosition
ˆˆ ,
OnBeginFigure
ˆˆ- :
(
ˆˆ: ;
GeographyPosition
ˆˆ; L
position
ˆˆM U
)
ˆˆU V
{
‰‰ 	
this
ŠŠ 
.
ŠŠ 
BeginFigure
ŠŠ 
(
ŠŠ 
position
ŠŠ %
.
ŠŠ% &
Latitude
ŠŠ& .
,
ŠŠ. /
position
ŠŠ0 8
.
ŠŠ8 9
	Longitude
ŠŠ9 B
,
ŠŠB C
position
ŠŠD L
.
ŠŠL M
Z
ŠŠM N
,
ŠŠN O
position
ŠŠP X
.
ŠŠX Y
M
ŠŠY Z
)
ŠŠZ [
;
ŠŠ[ \
return
‹‹ 
position
‹‹ 
;
‹‹ 
}
ŒŒ 	
	protected
““ 
override
““ 
GeometryPosition
““ +
OnBeginFigure
““, 9
(
““9 :
GeometryPosition
““: J
position
““K S
)
““S T
{
”” 	
BeginFigure
•• 
(
•• 
position
••  
.
••  !
X
••! "
,
••" #
position
••$ ,
.
••, -
Y
••- .
,
••. /
position
••0 8
.
••8 9
Z
••9 :
,
••: ;
position
••< D
.
••D E
M
••E F
)
••F G
;
••G H
return
–– 
position
–– 
;
–– 
}
—— 	
	protected
œœ 
override
œœ 
void
œœ 
OnEndFigure
œœ  +
(
œœ+ ,
)
œœ, -
{
 	
if
 
(
 
this
 
.
 
parentStack
  
.
  !
Peek
! %
(
% &
)
& '
==
( *
SpatialType
+ 6
.
6 7
Polygon
7 >
)
> ?
{
ŸŸ 
this
   
.
   
writer
   
.
   
WriteEndElement
   +
(
  + ,
)
  , -
;
  - .
this
¡¡ 
.
¡¡ 
writer
¡¡ 
.
¡¡ 
WriteEndElement
¡¡ +
(
¡¡+ ,
)
¡¡, -
;
¡¡- .
}
¢¢ 
}
££ 	
	protected
¨¨ 
override
¨¨ 
void
¨¨ 
OnReset
¨¨  '
(
¨¨' (
)
¨¨( )
{
©© 	
this
ªª 
.
ªª 
parentStack
ªª 
=
ªª 
new
ªª "
Stack
ªª# (
<
ªª( )
SpatialType
ªª) 4
>
ªª4 5
(
ªª5 6
)
ªª6 7
;
ªª7 8
this
«« 
.
«« %
coordinateSystemWritten
«« (
=
««) *
false
««+ 0
;
««0 1
this
¬¬ 
.
¬¬ %
currentCoordinateSystem
¬¬ (
=
¬¬) *
null
¬¬+ /
;
¬¬/ 0
this
­­ 
.
­­ 
figureWritten
­­ 
=
­­  
false
­­! &
;
­­& '
this
®® 
.
®® )
shouldWriteContainerWrapper
®® ,
=
®®- .
false
®®/ 4
;
®®4 5
}
¯¯ 	
private
¸¸ 
void
¸¸ 
BeginFigure
¸¸  
(
¸¸  !
double
¸¸! '
x
¸¸( )
,
¸¸) *
double
¸¸+ 1
y
¸¸2 3
,
¸¸3 4
double
¸¸5 ;
?
¸¸; <
z
¸¸= >
,
¸¸> ?
double
¸¸@ F
?
¸¸F G
m
¸¸H I
)
¸¸I J
{
¹¹ 	
if
ºº 
(
ºº 
this
ºº 
.
ºº 
parentStack
ºº  
.
ºº  !
Peek
ºº! %
(
ºº% &
)
ºº& '
==
ºº( *
SpatialType
ºº+ 6
.
ºº6 7
Polygon
ºº7 >
)
ºº> ?
{
»» 
this
½½ 
.
½½ 
WriteStartElement
½½ &
(
½½& '
this
½½' +
.
½½+ ,
figureWritten
½½, 9
?
½½: ;
GmlConstants
½½< H
.
½½H I
InteriorRing
½½I U
:
½½V W
GmlConstants
½½X d
.
½½d e
ExteriorRing
½½e q
)
½½q r
;
½½r s
this
¾¾ 
.
¾¾ 
WriteStartElement
¾¾ &
(
¾¾& '
GmlConstants
¾¾' 3
.
¾¾3 4

LinearRing
¾¾4 >
)
¾¾> ?
;
¾¾? @
}
¿¿ 
this
ÁÁ 
.
ÁÁ 
figureWritten
ÁÁ 
=
ÁÁ  
true
ÁÁ! %
;
ÁÁ% &
this
ÂÂ 
.
ÂÂ 

WritePoint
ÂÂ 
(
ÂÂ 
x
ÂÂ 
,
ÂÂ 
y
ÂÂ  
,
ÂÂ  !
z
ÂÂ" #
,
ÂÂ# $
m
ÂÂ% &
)
ÂÂ& '
;
ÂÂ' (
}
ÃÃ 	
private
ÉÉ 
void
ÉÉ 
BeginGeo
ÉÉ 
(
ÉÉ 
SpatialType
ÉÉ )
type
ÉÉ* .
)
ÉÉ. /
{
ÊÊ 	
if
ËË 
(
ËË 
this
ËË 
.
ËË )
shouldWriteContainerWrapper
ËË 0
)
ËË0 1
{
ÌÌ 
Debug
ÍÍ 
.
ÍÍ 
Assert
ÍÍ 
(
ÍÍ 
this
ÍÍ !
.
ÍÍ! "
parentStack
ÍÍ" -
.
ÍÍ- .
Count
ÍÍ. 3
>
ÍÍ4 5
$num
ÍÍ6 7
,
ÍÍ7 8
$str
ÍÍ9 W
)
ÍÍW X
;
ÍÍX Y
switch
ĞĞ 
(
ĞĞ 
this
ĞĞ 
.
ĞĞ 
parentStack
ĞĞ (
.
ĞĞ( )
Peek
ĞĞ) -
(
ĞĞ- .
)
ĞĞ. /
)
ĞĞ/ 0
{
ÑÑ 
case
ÒÒ 
SpatialType
ÒÒ $
.
ÒÒ$ %

MultiPoint
ÒÒ% /
:
ÒÒ/ 0
this
ÓÓ 
.
ÓÓ 
WriteStartElement
ÓÓ .
(
ÓÓ. /
GmlConstants
ÓÓ/ ;
.
ÓÓ; <
PointMembers
ÓÓ< H
)
ÓÓH I
;
ÓÓI J
break
ÔÔ 
;
ÔÔ 
case
ÕÕ 
SpatialType
ÕÕ $
.
ÕÕ$ %
MultiLineString
ÕÕ% 4
:
ÕÕ4 5
this
ÖÖ 
.
ÖÖ 
WriteStartElement
ÖÖ .
(
ÖÖ. /
GmlConstants
ÖÖ/ ;
.
ÖÖ; <
LineStringMembers
ÖÖ< M
)
ÖÖM N
;
ÖÖN O
break
×× 
;
×× 
case
ØØ 
SpatialType
ØØ $
.
ØØ$ %
MultiPolygon
ØØ% 1
:
ØØ1 2
this
ÙÙ 
.
ÙÙ 
WriteStartElement
ÙÙ .
(
ÙÙ. /
GmlConstants
ÙÙ/ ;
.
ÙÙ; <
PolygonMembers
ÙÙ< J
)
ÙÙJ K
;
ÙÙK L
break
ÚÚ 
;
ÚÚ 
case
ÛÛ 
SpatialType
ÛÛ $
.
ÛÛ$ %

Collection
ÛÛ% /
:
ÛÛ/ 0
this
ÜÜ 
.
ÜÜ 
WriteStartElement
ÜÜ .
(
ÜÜ. /
GmlConstants
ÜÜ/ ;
.
ÜÜ; <
CollectionMembers
ÜÜ< M
)
ÜÜM N
;
ÜÜN O
break
İİ 
;
İİ 
default
ŞŞ 
:
ŞŞ 
Debug
ßß 
.
ßß 
Assert
ßß $
(
ßß$ %
false
ßß% *
,
ßß* +
$str
ßß, [
)
ßß[ \
;
ßß\ ]
break
àà 
;
àà 
}
áá 
this
ãã 
.
ãã )
shouldWriteContainerWrapper
ãã 0
=
ãã1 2
false
ãã3 8
;
ãã8 9
}
ää 
this
ææ 
.
ææ 
figureWritten
ææ 
=
ææ  
false
ææ! &
;
ææ& '
this
çç 
.
çç 
parentStack
çç 
.
çç 
Push
çç !
(
çç! "
type
çç" &
)
çç& '
;
çç' (
switch
éé 
(
éé 
type
éé 
)
éé 
{
êê 
case
ëë 
SpatialType
ëë  
.
ëë  !
Point
ëë! &
:
ëë& '
this
ìì 
.
ìì 
WriteStartElement
ìì *
(
ìì* +
GmlConstants
ìì+ 7
.
ìì7 8
Point
ìì8 =
)
ìì= >
;
ìì> ?
break
íí 
;
íí 
case
îî 
SpatialType
îî  
.
îî  !

LineString
îî! +
:
îî+ ,
this
ïï 
.
ïï 
WriteStartElement
ïï *
(
ïï* +
GmlConstants
ïï+ 7
.
ïï7 8

LineString
ïï8 B
)
ïïB C
;
ïïC D
break
ğğ 
;
ğğ 
case
ññ 
SpatialType
ññ  
.
ññ  !
Polygon
ññ! (
:
ññ( )
this
òò 
.
òò 
WriteStartElement
òò *
(
òò* +
GmlConstants
òò+ 7
.
òò7 8
Polygon
òò8 ?
)
òò? @
;
òò@ A
break
óó 
;
óó 
case
ôô 
SpatialType
ôô  
.
ôô  !

MultiPoint
ôô! +
:
ôô+ ,
this
õõ 
.
õõ )
shouldWriteContainerWrapper
õõ 4
=
õõ5 6
true
õõ7 ;
;
õõ; <
this
öö 
.
öö 
WriteStartElement
öö *
(
öö* +
GmlConstants
öö+ 7
.
öö7 8

MultiPoint
öö8 B
)
ööB C
;
ööC D
break
÷÷ 
;
÷÷ 
case
øø 
SpatialType
øø  
.
øø  !
MultiLineString
øø! 0
:
øø0 1
this
ùù 
.
ùù )
shouldWriteContainerWrapper
ùù 4
=
ùù5 6
true
ùù7 ;
;
ùù; <
this
úú 
.
úú 
WriteStartElement
úú *
(
úú* +
GmlConstants
úú+ 7
.
úú7 8
MultiLineString
úú8 G
)
úúG H
;
úúH I
break
ûû 
;
ûû 
case
üü 
SpatialType
üü  
.
üü  !
MultiPolygon
üü! -
:
üü- .
this
ıı 
.
ıı )
shouldWriteContainerWrapper
ıı 4
=
ıı5 6
true
ıı7 ;
;
ıı; <
this
şş 
.
şş 
WriteStartElement
şş *
(
şş* +
GmlConstants
şş+ 7
.
şş7 8
MultiPolygon
şş8 D
)
şşD E
;
şşE F
break
ÿÿ 
;
ÿÿ 
case
€€ 
SpatialType
€€  
.
€€  !

Collection
€€! +
:
€€+ ,
this
 
.
 )
shouldWriteContainerWrapper
 4
=
5 6
true
7 ;
;
; <
this
‚‚ 
.
‚‚ 
WriteStartElement
‚‚ *
(
‚‚* +
GmlConstants
‚‚+ 7
.
‚‚7 8

Collection
‚‚8 B
)
‚‚B C
;
‚‚C D
break
ƒƒ 
;
ƒƒ 
case
„„ 
SpatialType
„„  
.
„„  !
	FullGlobe
„„! *
:
„„* +
this
…… 
.
…… 
writer
…… 
.
……  
WriteStartElement
……  1
(
……1 2
GmlConstants
……2 >
.
……> ?
	FullGlobe
……? H
,
……H I
GmlConstants
……J V
.
……V W 
FullGlobeNamespace
……W i
)
……i j
;
……j k
break
†† 
;
†† 
default
‡‡ 
:
‡‡ 
throw
ˆˆ 
new
ˆˆ #
NotSupportedException
ˆˆ 3
(
ˆˆ3 4
Strings
ˆˆ4 ;
.
ˆˆ; <#
Validator_InvalidType
ˆˆ< Q
(
ˆˆQ R
type
ˆˆR V
)
ˆˆV W
)
ˆˆW X
;
ˆˆX Y
}
‰‰ 
this
‹‹ 
.
‹‹ #
WriteCoordinateSystem
‹‹ &
(
‹‹& '
)
‹‹' (
;
‹‹( )
}
ŒŒ 	
private
’’ 
void
’’ 
WriteStartElement
’’ &
(
’’& '
string
’’' -
elementName
’’. 9
)
’’9 :
{
““ 	
this
”” 
.
”” 
writer
”” 
.
”” 
WriteStartElement
”” )
(
””) *
GmlConstants
””* 6
.
””6 7
	GmlPrefix
””7 @
,
””@ A
elementName
””B M
,
””M N
GmlConstants
””O [
.
””[ \
GmlNamespace
””\ h
)
””h i
;
””i j
}
•• 	
private
šš 
void
šš #
WriteCoordinateSystem
šš *
(
šš* +
)
šš+ ,
{
›› 	
Debug
œœ 
.
œœ 
Assert
œœ 
(
œœ 
this
œœ 
.
œœ 
writer
œœ $
.
œœ$ %

WriteState
œœ% /
==
œœ0 2

WriteState
œœ3 =
.
œœ= >
Element
œœ> E
,
œœE F
$str
œœG `
)
œœ` a
;
œœa b
if
 
(
 
!
 %
coordinateSystemWritten
 (
&&
) +
this
, 0
.
0 1%
currentCoordinateSystem
1 H
!=
I K
null
L P
)
P Q
{
ŸŸ 
this
   
.
   %
coordinateSystemWritten
   ,
=
  - .
true
  / 3
;
  3 4
var
¡¡ 
crsValue
¡¡ 
=
¡¡ 
GmlConstants
¡¡ +
.
¡¡+ ,
	SrsPrefix
¡¡, 5
+
¡¡6 7
this
¡¡8 <
.
¡¡< =%
currentCoordinateSystem
¡¡= T
.
¡¡T U
Id
¡¡U W
;
¡¡W X
this
¢¢ 
.
¢¢ 
writer
¢¢ 
.
¢¢ "
WriteAttributeString
¢¢ 0
(
¢¢0 1
GmlConstants
¢¢1 =
.
¢¢= >
	GmlPrefix
¢¢> G
,
¢¢G H
GmlConstants
¢¢I U
.
¢¢U V
SrsName
¢¢V ]
,
¢¢] ^
GmlConstants
¢¢_ k
.
¢¢k l
GmlNamespace
¢¢l x
,
¢¢x y
crsValue¢¢z ‚
)¢¢‚ ƒ
;¢¢ƒ „
}
££ 
}
¤¤ 	
private
­­ 
void
­­ 

WritePoint
­­ 
(
­­  
double
­­  &
x
­­' (
,
­­( )
double
­­* 0
y
­­1 2
,
­­2 3
double
­­4 :
?
­­: ;
z
­­< =
,
­­= >
double
­­? E
?
­­E F
m
­­G H
)
­­H I
{
®® 	
this
¯¯ 
.
¯¯ 
WriteStartElement
¯¯ "
(
¯¯" #
GmlConstants
¯¯# /
.
¯¯/ 0
Position
¯¯0 8
)
¯¯8 9
;
¯¯9 :
this
±± 
.
±± 
writer
±± 
.
±± 

WriteValue
±± "
(
±±" #
x
±±# $
)
±±$ %
;
±±% &
this
²² 
.
²² 
writer
²² 
.
²² 

WriteValue
²² "
(
²²" #
$str
²²# &
)
²²& '
;
²²' (
this
³³ 
.
³³ 
writer
³³ 
.
³³ 

WriteValue
³³ "
(
³³" #
y
³³# $
)
³³$ %
;
³³% &
if
µµ 
(
µµ 
z
µµ 
.
µµ 
HasValue
µµ 
)
µµ 
{
¶¶ 
this
·· 
.
·· 
writer
·· 
.
·· 

WriteValue
·· &
(
··& '
$str
··' *
)
··* +
;
··+ ,
this
¸¸ 
.
¸¸ 
writer
¸¸ 
.
¸¸ 

WriteValue
¸¸ &
(
¸¸& '
z
¸¸' (
.
¸¸( )
Value
¸¸) .
)
¸¸. /
;
¸¸/ 0
if
ºº 
(
ºº 
m
ºº 
.
ºº 
HasValue
ºº 
)
ºº 
{
»» 
this
¼¼ 
.
¼¼ 
writer
¼¼ 
.
¼¼  

WriteValue
¼¼  *
(
¼¼* +
$str
¼¼+ .
)
¼¼. /
;
¼¼/ 0
this
½½ 
.
½½ 
writer
½½ 
.
½½  

WriteValue
½½  *
(
½½* +
m
½½+ ,
.
½½, -
Value
½½- 2
)
½½2 3
;
½½3 4
}
¾¾ 
}
¿¿ 
else
ÀÀ 
{
ÁÁ 
if
ÂÂ 
(
ÂÂ 
m
ÂÂ 
.
ÂÂ 
HasValue
ÂÂ 
)
ÂÂ 
{
ÃÃ 
this
ÄÄ 
.
ÄÄ 
writer
ÄÄ 
.
ÄÄ  

WriteValue
ÄÄ  *
(
ÄÄ* +
$str
ÄÄ+ .
)
ÄÄ. /
;
ÄÄ/ 0
this
ÅÅ 
.
ÅÅ 
writer
ÅÅ 
.
ÅÅ  

WriteValue
ÅÅ  *
(
ÅÅ* +
double
ÅÅ+ 1
.
ÅÅ1 2
NaN
ÅÅ2 5
)
ÅÅ5 6
;
ÅÅ6 7
this
ÆÆ 
.
ÆÆ 
writer
ÆÆ 
.
ÆÆ  

WriteValue
ÆÆ  *
(
ÆÆ* +
$str
ÆÆ+ .
)
ÆÆ. /
;
ÆÆ/ 0
this
ÇÇ 
.
ÇÇ 
writer
ÇÇ 
.
ÇÇ  

WriteValue
ÇÇ  *
(
ÇÇ* +
m
ÇÇ+ ,
.
ÇÇ, -
Value
ÇÇ- 2
)
ÇÇ2 3
;
ÇÇ3 4
}
ÈÈ 
}
ÉÉ 
this
ËË 
.
ËË 
writer
ËË 
.
ËË 
WriteEndElement
ËË '
(
ËË' (
)
ËË( )
;
ËË) *
}
ÌÌ 	
private
ÑÑ 
void
ÑÑ 
EndGeo
ÑÑ 
(
ÑÑ 
)
ÑÑ 
{
ÒÒ 	
SpatialType
ÓÓ 
type
ÓÓ 
=
ÓÓ 
this
ÓÓ #
.
ÓÓ# $
parentStack
ÓÓ$ /
.
ÓÓ/ 0
Pop
ÓÓ0 3
(
ÓÓ3 4
)
ÓÓ4 5
;
ÓÓ5 6
switch
ÕÕ 
(
ÕÕ 
type
ÕÕ 
)
ÕÕ 
{
ÖÖ 
case
×× 
SpatialType
××  
.
××  !

MultiPoint
××! +
:
××+ ,
case
ØØ 
SpatialType
ØØ  
.
ØØ  !
MultiLineString
ØØ! 0
:
ØØ0 1
case
ÙÙ 
SpatialType
ÙÙ  
.
ÙÙ  !
MultiPolygon
ÙÙ! -
:
ÙÙ- .
case
ÚÚ 
SpatialType
ÚÚ  
.
ÚÚ  !

Collection
ÚÚ! +
:
ÚÚ+ ,
if
ÛÛ 
(
ÛÛ 
!
ÛÛ 
this
ÛÛ 
.
ÛÛ )
shouldWriteContainerWrapper
ÛÛ 9
)
ÛÛ9 :
{
ÜÜ 
this
ŞŞ 
.
ŞŞ 
writer
ŞŞ #
.
ŞŞ# $
WriteEndElement
ŞŞ$ 3
(
ŞŞ3 4
)
ŞŞ4 5
;
ŞŞ5 6
}
ßß 
this
áá 
.
áá 
writer
áá 
.
áá  
WriteEndElement
áá  /
(
áá/ 0
)
áá0 1
;
áá1 2
this
ää 
.
ää )
shouldWriteContainerWrapper
ää 4
=
ää5 6
false
ää7 <
;
ää< =
break
åå 
;
åå 
case
ææ 
SpatialType
ææ  
.
ææ  !
Point
ææ! &
:
ææ& '
if
çç 
(
çç 
!
çç 
figureWritten
çç &
)
çç& '
{
èè 
this
êê 
.
êê 
WriteStartElement
êê .
(
êê. /
GmlConstants
êê/ ;
.
êê; <
Position
êê< D
)
êêD E
;
êêE F
this
ëë 
.
ëë 
writer
ëë #
.
ëë# $
WriteEndElement
ëë$ 3
(
ëë3 4
)
ëë4 5
;
ëë5 6
}
ìì 
this
îî 
.
îî 
writer
îî 
.
îî  
WriteEndElement
îî  /
(
îî/ 0
)
îî0 1
;
îî1 2
break
ïï 
;
ïï 
case
ğğ 
SpatialType
ğğ  
.
ğğ  !

LineString
ğğ! +
:
ğğ+ ,
if
ññ 
(
ññ 
!
ññ 
figureWritten
ññ &
)
ññ& '
{
òò 
this
ôô 
.
ôô 
WriteStartElement
ôô .
(
ôô. /
GmlConstants
ôô/ ;
.
ôô; <
PositionList
ôô< H
)
ôôH I
;
ôôI J
this
õõ 
.
õõ 
writer
õõ #
.
õõ# $
WriteEndElement
õõ$ 3
(
õõ3 4
)
õõ4 5
;
õõ5 6
}
öö 
this
øø 
.
øø 
writer
øø 
.
øø  
WriteEndElement
øø  /
(
øø/ 0
)
øø0 1
;
øø1 2
break
ùù 
;
ùù 
case
úú 
SpatialType
úú  
.
úú  !
Polygon
úú! (
:
úú( )
case
ûû 
SpatialType
ûû  
.
ûû  !
	FullGlobe
ûû! *
:
ûû* +
this
üü 
.
üü 
writer
üü 
.
üü  
WriteEndElement
üü  /
(
üü/ 0
)
üü0 1
;
üü1 2
break
ıı 
;
ıı 
default
şş 
:
şş 
Debug
ÿÿ 
.
ÿÿ 
Assert
ÿÿ  
(
ÿÿ  !
false
ÿÿ! &
,
ÿÿ& '
$str
ÿÿ( q
)
ÿÿq r
;
ÿÿr s
break
€€ 
;
€€ 
}
 
}
‚‚ 	
}
ƒƒ 
}„„ ª
@D:\odata.net\src\Microsoft.Spatial\GmlFormatterImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
[ 
System 
. 
Diagnostics 
. 
CodeAnalysis $
.$ %
SuppressMessage% 4
(4 5
$str5 G
,G H
$strI u
,u v
	MessageId	w €
=
 ‚
$str
ƒ ˆ
,
ˆ ‰
Justification
Š —
=
˜ ™
$str
š Ä
)
Ä Å
]
Å Æ
internal 
class &
GmlFormatterImplementation -
:. /
GmlFormatter0 <
{ 
internal &
GmlFormatterImplementation +
(+ ,!
SpatialImplementation, A
creatorB I
)I J
: 
base 
( 
creator 
) 
{ 	
} 	
public 
override 
SpatialPipeline '
CreateWriter( 4
(4 5
	XmlWriter5 >
target? E
)E F
{   	
return!! 
new!! 
ForwardingSegment!! (
(!!( )
new!!) ,
	GmlWriter!!- 6
(!!6 7
target!!7 =
)!!= >
)!!> ?
;!!? @
}"" 	
	protected)) 
override)) 
void)) 
ReadGeography))  -
())- .
	XmlReader)). 7
readerStream))8 D
,))D E
SpatialPipeline))F U
pipeline))V ^
)))^ _
{** 	
new++ 
	GmlReader++ 
(++ 
pipeline++ "
)++" #
.++# $
ReadGeography++$ 1
(++1 2
readerStream++2 >
)++> ?
;++? @
},, 	
	protected33 
override33 
void33 
ReadGeometry33  ,
(33, -
	XmlReader33- 6
readerStream337 C
,33C D
SpatialPipeline33E T
pipeline33U ]
)33] ^
{44 	
new55 
	GmlReader55 
(55 
pipeline55 "
)55" #
.55# $
ReadGeometry55$ 0
(550 1
readerStream551 =
)55= >
;55> ?
}66 	
}77 
}88 ç+
8D:\odata.net\src\Microsoft.Spatial\WellKnownTextLexer.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
WellKnownTextLexer %
:& '
TextLexerBase( 5
{ 
public 
WellKnownTextLexer !
(! "

TextReader" ,
text- 1
)1 2
: 
base 
( 
text 
) 
{ 	
} 	
	protected!! 
override!! 
bool!! 
MatchTokenType!!  .
(!!. /
char!!/ 3
nextChar!!4 <
,!!< =
int!!> A
?!!A B
activeTokenType!!C R
,!!R S
out!!T W
int!!X [
	tokenType!!\ e
)!!e f
{"" 	
switch## 
(## 
nextChar## 
)## 
{$$ 
case%% 
$char%% 
:%% 
	tokenType&& 
=&& 
(&&  !
int&&! $
)&&$ %"
WellKnownTextTokenType&&% ;
.&&; <
Equals&&< B
;&&B C
return'' 
true'' 
;''  
case(( 
$char(( 
:(( 
	tokenType)) 
=)) 
())  !
int))! $
)))$ %"
WellKnownTextTokenType))% ;
.)); <
	Semicolon))< E
;))E F
return** 
true** 
;**  
case++ 
$char++ 
:++ 
	tokenType,, 
=,, 
(,,  !
int,,! $
),,$ %"
WellKnownTextTokenType,,% ;
.,,; <
	LeftParen,,< E
;,,E F
return-- 
true-- 
;--  
case.. 
$char.. 
:.. 
	tokenType// 
=// 
(//  !
int//! $
)//$ %"
WellKnownTextTokenType//% ;
.//; <

RightParen//< F
;//F G
return00 
true00 
;00  
case11 
$char11 
:11 
	tokenType22 
=22 
(22  !
int22! $
)22$ %"
WellKnownTextTokenType22% ;
.22; <
Period22< B
;22B C
return33 
true33 
;33  
case44 
$char44 
:44 
	tokenType55 
=55 
(55  !
int55! $
)55$ %"
WellKnownTextTokenType55% ;
.55; <
Comma55< A
;55A B
return66 
true66 
;66  
case77 
$char77 
:77 
case88 
$char88 
:88 
case99 
$char99 
:99 
case:: 
$char:: 
::: 
	tokenType;; 
=;; 
(;;  !
int;;! $
);;$ %"
WellKnownTextTokenType;;% ;
.;;; <

WhiteSpace;;< F
;;;F G
return<< 
false<<  
;<<  !
case== 
$char== 
:== 
case>> 
$char>> 
:>> 
case?? 
$char?? 
:?? 
case@@ 
$char@@ 
:@@ 
caseAA 
$charAA 
:AA 
caseBB 
$charBB 
:BB 
caseCC 
$charCC 
:CC 
caseDD 
$charDD 
:DD 
caseEE 
$charEE 
:EE 
caseFF 
$charFF 
:FF 
caseGG 
$charGG 
:GG 
caseHH 
$charHH 
:HH 
	tokenTypeII 
=II 
(II  !
intII! $
)II$ %"
WellKnownTextTokenTypeII% ;
.II; <
NumberII< B
;IIB C
returnJJ 
falseJJ  
;JJ  !
caseMM 
$charMM 
:MM 
caseNN 
$charNN 
:NN 
ifOO 
(OO 
activeTokenTypeOO '
==OO( *
(OO+ ,
intOO, /
)OO/ 0"
WellKnownTextTokenTypeOO0 F
.OOF G
NumberOOG M
)OOM N
{PP 
	tokenTypeQQ !
=QQ" #
(QQ$ %
intQQ% (
)QQ( )"
WellKnownTextTokenTypeQQ) ?
.QQ? @
NumberQQ@ F
;QQF G
}RR 
elseSS 
{TT 
	tokenTypeUU !
=UU" #
(UU$ %
intUU% (
)UU( )"
WellKnownTextTokenTypeUU) ?
.UU? @
TextUU@ D
;UUD E
}VV 
returnXX 
falseXX  
;XX  !
defaultYY 
:YY 
ifZZ 
(ZZ 
(ZZ 
nextCharZZ !
>=ZZ" $
$charZZ% (
&&ZZ) +
nextCharZZ, 4
<=ZZ5 7
$charZZ8 ;
)ZZ; <
||ZZ= ?
nextCharZZ@ H
>=ZZI K
$charZZL O
&&ZZP R
nextCharZZS [
<=ZZ\ ^
$charZZ_ b
)ZZb c
{[[ 
	tokenType\\ !
=\\" #
(\\$ %
int\\% (
)\\( )"
WellKnownTextTokenType\\) ?
.\\? @
Text\\@ D
;\\D E
return]] 
false]] $
;]]$ %
}^^ 
throw`` 
new`` 
FormatException`` -
(``- .
Strings``. 5
.``5 6-
!WellKnownText_UnexpectedCharacter``6 W
(``W X
nextChar``X `
)``` a
)``a b
;``b c
}aa 
}bb 	
}cc 
}dd Š
<D:\odata.net\src\Microsoft.Spatial\WellKnownTextTokenType.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
enum "
WellKnownTextTokenType (
:) *
int+ .
{ 
Text 
= 
$num 
, 
Equals 
, 
Number 
, 
	Semicolon   
,   
	LeftParen%% 
,%% 

RightParen** 
,** 
Period// 
,// 
Comma44 
,44 

WhiteSpace99 
}:: 
};; Æ
GD:\odata.net\src\Microsoft.Spatial\DataServicesSpatialImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class -
!DataServicesSpatialImplementation 4
:5 6!
SpatialImplementation7 L
{ 
public 
override 
SpatialOperations )

Operations* 4
{ 	
get 
; 
set 
; 
} 	
public 
override 
SpatialBuilder &
CreateBuilder' 4
(4 5
)5 6
{ 	
var   
	geography   
=   
new   *
GeographyBuilderImplementation    >
(  > ?
this  ? C
)  C D
;  D E
var!! 
geometry!! 
=!! 
new!! )
GeometryBuilderImplementation!! <
(!!< =
this!!= A
)!!A B
;!!B C
var"" 
input"" 
="" 
new"" 
ForwardingSegment"" -
(""- .
	geography"". 7
,""7 8
geometry""9 A
)""A B
;""B C
return## 
new## 
SpatialBuilder## %
(##% &
input##& +
,##+ ,
input##- 2
,##2 3
	geography##4 =
,##= >
geometry##? G
)##G H
;##H I
}$$ 	
public** 
override** 
GmlFormatter** $
CreateGmlFormatter**% 7
(**7 8
)**8 9
{++ 	
return,, 
new,, &
GmlFormatterImplementation,, 1
(,,1 2
this,,2 6
),,6 7
;,,7 8
}-- 	
public33 
override33 "
GeoJsonObjectFormatter33 .(
CreateGeoJsonObjectFormatter33/ K
(33K L
)33L M
{44 	
return55 
new55 0
$GeoJsonObjectFormatterImplementation55 ;
(55; <
this55< @
)55@ A
;55A B
}66 	
public<< 
override<< %
WellKnownTextSqlFormatter<< 1+
CreateWellKnownTextSqlFormatter<<2 Q
(<<Q R
)<<R S
{== 	
return>> 
new>> 3
'WellKnownTextSqlFormatterImplementation>> >
(>>> ?
this>>? C
)>>C D
;>>D E
}?? 	
publicHH 
overrideHH %
WellKnownTextSqlFormatterHH 1+
CreateWellKnownTextSqlFormatterHH2 Q
(HHQ R
boolHHR V"
allowOnlyTwoDimensionsHHW m
)HHm n
{II 	
returnJJ 
newJJ 3
'WellKnownTextSqlFormatterImplementationJJ >
(JJ> ?
thisJJ? C
,JJC D"
allowOnlyTwoDimensionsJJE [
)JJ[ \
;JJ\ ]
}KK 	
publicQQ 
overrideQQ 
SpatialPipelineQQ '
CreateValidatorQQ( 7
(QQ7 8
)QQ8 9
{RR 	
returnSS 
newSS 
ForwardingSegmentSS (
(SS( )
newSS) ,*
SpatialValidatorImplementationSS- K
(SSK L
)SSL M
)SSM N
;SSN O
}TT 	
}UU 
}VV ¥m
DD:\odata.net\src\Microsoft.Spatial\GeographyBuilderImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class *
GeographyBuilderImplementation 1
:2 3
GeographyPipeline4 E
,E F
IGeographyProviderG Y
{ 
private 
readonly 
SpatialTreeBuilder +
<+ ,
	Geography, 5
>5 6
builder7 >
;> ?
public *
GeographyBuilderImplementation -
(- .!
SpatialImplementation. C
creatorD K
)K L
{ 	
this 
. 
builder 
= 
new  
GeographyTreeBuilder 3
(3 4
creator4 ;
); <
;< =
} 	
[$$ 	
System$$	 
.$$ 
Diagnostics$$ 
.$$ 
CodeAnalysis$$ (
.$$( )
SuppressMessage$$) 8
($$8 9
$str$$9 K
,$$K L
$str$$M x
,$$x y
Justification	$$z ‡
=
$$ˆ ‰
$str
$$Š ³
)
$$³ ´
]
$$´ µ
public%% 
event%% 
Action%% 
<%% 
	Geography%% %
>%%% &
ProduceGeography%%' 7
{&& 	
add'' 
{'' 
this'' 
.'' 
builder'' 
.'' 
ProduceInstance'' .
+=''/ 1
value''2 7
;''7 8
}''9 :
remove(( 
{(( 
this(( 
.(( 
builder(( !
.((! "
ProduceInstance((" 1
-=((2 4
value((5 :
;((: ;
}((< =
})) 	
public.. 
	Geography..  
ConstructedGeography.. -
{// 	
get00 
{00 
return00 
this00 
.00 
builder00 %
.00% &
ConstructedInstance00& 9
;009 :
}00; <
}11 	
[77 	
System77	 
.77 
Diagnostics77 
.77 
CodeAnalysis77 (
.77( )
SuppressMessage77) 8
(778 9
$str779 K
,77K L
$str77M z
,77z {
	MessageId	77| …
=
77† ‡
$str
77ˆ ‹
,
77‹ Œ
Justification
77 š
=
77› œ
$str
77 Ä
)
77Ä Å
]
77Å Æ
public88 
override88 
void88 
LineTo88 #
(88# $
GeographyPosition88$ 5
position886 >
)88> ?
{99 	
Debug:: 
.:: 
Assert:: 
(:: 
position:: !
!=::" $
null::% )
,::) *
$str::+ ]
)::] ^
;::^ _
this;; 
.;; 
builder;; 
.;; 
LineTo;; 
(;;  
position;;  (
.;;( )
Latitude;;) 1
,;;1 2
position;;3 ;
.;;; <
	Longitude;;< E
,;;E F
position;;G O
.;;O P
Z;;P Q
,;;Q R
position;;S [
.;;[ \
M;;\ ]
);;] ^
;;;^ _
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| …
=
BB† ‡
$str
BBˆ ‹
,
BB‹ Œ
Justification
BB š
=
BB› œ
$str
BB Ä
)
BBÄ Å
]
BBÅ Æ
publicCC 
overrideCC 
voidCC 
BeginFigureCC (
(CC( )
GeographyPositionCC) :
positionCC; C
)CCC D
{DD 	
DebugEE 
.EE 
AssertEE 
(EE 
positionEE !
!=EE" $
nullEE% )
,EE) *
$strEE+ ]
)EE] ^
;EE^ _
thisFF 
.FF 
builderFF 
.FF 
BeginFigureFF $
(FF$ %
positionFF% -
.FF- .
LatitudeFF. 6
,FF6 7
positionFF8 @
.FF@ A
	LongitudeFFA J
,FFJ K
positionFFL T
.FFT U
ZFFU V
,FFV W
positionFFX `
.FF` a
MFFa b
)FFb c
;FFc d
}GG 	
publicMM 
overrideMM 
voidMM 
BeginGeographyMM +
(MM+ ,
SpatialTypeMM, 7
typeMM8 <
)MM< =
{NN 	
thisOO 
.OO 
builderOO 
.OO 
BeginGeoOO !
(OO! "
typeOO" &
)OO& '
;OO' (
}PP 	
publicUU 
overrideUU 
voidUU 
	EndFigureUU &
(UU& '
)UU' (
{VV 	
thisWW 
.WW 
builderWW 
.WW 
	EndFigureWW "
(WW" #
)WW# $
;WW$ %
}XX 	
public]] 
override]] 
void]] 
EndGeography]] )
(]]) *
)]]* +
{^^ 	
this__ 
.__ 
builder__ 
.__ 
EndGeo__ 
(__  
)__  !
;__! "
}`` 	
publicee 
overrideee 
voidee 
Resetee "
(ee" #
)ee# $
{ff 	
thisgg 
.gg 
buildergg 
.gg 
Resetgg 
(gg 
)gg  
;gg  !
}hh 	
publicnn 
overridenn 
voidnn 
SetCoordinateSystemnn 0
(nn0 1
CoordinateSystemnn1 A
coordinateSystemnnB R
)nnR S
{oo 	
Utilpp 
.pp 
CheckArgumentNullpp "
(pp" #
coordinateSystempp# 3
,pp3 4
$strpp5 G
)ppG H
;ppH I
thisqq 
.qq 
builderqq 
.qq 
SetCoordinateSystemqq ,
(qq, -
coordinateSystemqq- =
.qq= >
EpsgIdqq> D
)qqD E
;qqE F
}rr 	
privateww 
classww  
GeographyTreeBuilderww *
:ww+ ,
SpatialTreeBuilderww- ?
<ww? @
	Geographyww@ I
>wwI J
{xx 	
private|| 
readonly|| !
SpatialImplementation|| 2
creator||3 :
;||: ;
private
 
CoordinateSystem
 $%
currentCoordinateSystem
% <
;
< =
public
‡‡ "
GeographyTreeBuilder
‡‡ '
(
‡‡' (#
SpatialImplementation
‡‡( =
creator
‡‡> E
)
‡‡E F
{
ˆˆ 
Util
‰‰ 
.
‰‰ 
CheckArgumentNull
‰‰ &
(
‰‰& '
creator
‰‰' .
,
‰‰. /
$str
‰‰0 9
)
‰‰9 :
;
‰‰: ;
this
ŠŠ 
.
ŠŠ 
creator
ŠŠ 
=
ŠŠ 
creator
ŠŠ &
;
ŠŠ& '
}
‹‹ 
internal
‘‘ 
override
‘‘ 
void
‘‘ "!
SetCoordinateSystem
‘‘# 6
(
‘‘6 7
int
‘‘7 :
?
‘‘: ;
epsgId
‘‘< B
)
‘‘B C
{
’’ 
this
““ 
.
““ %
currentCoordinateSystem
““ ,
=
““- .
CoordinateSystem
““/ ?
.
““? @
	Geography
““@ I
(
““I J
epsgId
““J P
)
““P Q
;
““Q R
}
”” 
	protected
ŸŸ 
override
ŸŸ 
	Geography
ŸŸ (
CreatePoint
ŸŸ) 4
(
ŸŸ4 5
bool
ŸŸ5 9
isEmpty
ŸŸ: A
,
ŸŸA B
double
ŸŸC I
x
ŸŸJ K
,
ŸŸK L
double
ŸŸM S
y
ŸŸT U
,
ŸŸU V
double
ŸŸW ]
?
ŸŸ] ^
z
ŸŸ_ `
,
ŸŸ` a
double
ŸŸb h
?
ŸŸh i
m
ŸŸj k
)
ŸŸk l
{
   
return
¡¡ 
isEmpty
¡¡ 
?
¡¡  
new
¡¡! $*
GeographyPointImplementation
¡¡% A
(
¡¡A B
this
¡¡B F
.
¡¡F G%
currentCoordinateSystem
¡¡G ^
,
¡¡^ _
this
¡¡` d
.
¡¡d e
creator
¡¡e l
)
¡¡l m
:
¡¡n o
new
¡¡p s+
GeographyPointImplementation¡¡t 
(¡¡ ‘
this¡¡‘ •
.¡¡• –'
currentCoordinateSystem¡¡– ­
,¡¡­ ®
this¡¡¯ ³
.¡¡³ ´
creator¡¡´ »
,¡¡» ¼
x¡¡½ ¾
,¡¡¾ ¿
y¡¡À Á
,¡¡Á Â
z¡¡Ã Ä
,¡¡Ä Å
m¡¡Æ Ç
)¡¡Ç È
;¡¡È É
}
¢¢ 
	protected
ªª 
override
ªª 
	Geography
ªª (!
CreateShapeInstance
ªª) <
(
ªª< =
SpatialType
ªª= H
type
ªªI M
,
ªªM N
IEnumerable
ªªO Z
<
ªªZ [
	Geography
ªª[ d
>
ªªd e
spatialData
ªªf q
)
ªªq r
{
«« 
switch
¬¬ 
(
¬¬ 
type
¬¬ 
)
¬¬ 
{
­­ 
case
®® 
SpatialType
®® $
.
®®$ %

LineString
®®% /
:
®®/ 0
return
¯¯ 
new
¯¯ "/
!GeographyLineStringImplementation
¯¯# D
(
¯¯D E
this
¯¯E I
.
¯¯I J%
currentCoordinateSystem
¯¯J a
,
¯¯a b
this
¯¯c g
.
¯¯g h
creator
¯¯h o
,
¯¯o p
spatialData
¯¯q |
.
¯¯| }
Cast¯¯} 
<¯¯ ‚
GeographyPoint¯¯‚ 
>¯¯ ‘
(¯¯‘ ’
)¯¯’ “
.¯¯“ ”
ToArray¯¯” ›
(¯¯› œ
)¯¯œ 
)¯¯ 
;¯¯ Ÿ
case
°° 
SpatialType
°° $
.
°°$ %
Polygon
°°% ,
:
°°, -
return
±± 
new
±± ",
GeographyPolygonImplementation
±±# A
(
±±A B
this
±±B F
.
±±F G%
currentCoordinateSystem
±±G ^
,
±±^ _
this
±±` d
.
±±d e
creator
±±e l
,
±±l m
spatialData
±±n y
.
±±y z
Cast
±±z ~
<
±±~ "
GeographyLineString±± ’
>±±’ “
(±±“ ”
)±±” •
.±±• –
ToArray±±– 
(±± 
)±± Ÿ
)±±Ÿ  
;±±  ¡
case
²² 
SpatialType
²² $
.
²²$ %

MultiPoint
²²% /
:
²²/ 0
return
³³ 
new
³³ "/
!GeographyMultiPointImplementation
³³# D
(
³³D E
this
³³E I
.
³³I J%
currentCoordinateSystem
³³J a
,
³³a b
this
³³c g
.
³³g h
creator
³³h o
,
³³o p
spatialData
³³q |
.
³³| }
Cast³³} 
<³³ ‚
GeographyPoint³³‚ 
>³³ ‘
(³³‘ ’
)³³’ “
.³³“ ”
ToArray³³” ›
(³³› œ
)³³œ 
)³³ 
;³³ Ÿ
case
´´ 
SpatialType
´´ $
.
´´$ %
MultiLineString
´´% 4
:
´´4 5
return
µµ 
new
µµ "4
&GeographyMultiLineStringImplementation
µµ# I
(
µµI J
this
µµJ N
.
µµN O%
currentCoordinateSystem
µµO f
,
µµf g
this
µµh l
.
µµl m
creator
µµm t
,
µµt u
spatialDataµµv 
.µµ ‚
Castµµ‚ †
<µµ† ‡#
GeographyLineStringµµ‡ š
>µµš ›
(µµ› œ
)µµœ 
.µµ 
ToArrayµµ ¥
(µµ¥ ¦
)µµ¦ §
)µµ§ ¨
;µµ¨ ©
case
¶¶ 
SpatialType
¶¶ $
.
¶¶$ %
MultiPolygon
¶¶% 1
:
¶¶1 2
return
·· 
new
·· "1
#GeographyMultiPolygonImplementation
··# F
(
··F G
this
··G K
.
··K L%
currentCoordinateSystem
··L c
,
··c d
this
··e i
.
··i j
creator
··j q
,
··q r
spatialData
··s ~
.
··~ 
Cast·· ƒ
<··ƒ „ 
GeographyPolygon··„ ”
>··” •
(··• –
)··– —
.··— ˜
ToArray··˜ Ÿ
(··Ÿ  
)··  ¡
)··¡ ¢
;··¢ £
case
¸¸ 
SpatialType
¸¸ $
.
¸¸$ %

Collection
¸¸% /
:
¸¸/ 0
return
¹¹ 
new
¹¹ "/
!GeographyCollectionImplementation
¹¹# D
(
¹¹D E
this
¹¹E I
.
¹¹I J%
currentCoordinateSystem
¹¹J a
,
¹¹a b
this
¹¹c g
.
¹¹g h
creator
¹¹h o
,
¹¹o p
spatialData
¹¹q |
.
¹¹| }
ToArray¹¹} „
(¹¹„ …
)¹¹… †
)¹¹† ‡
;¹¹‡ ˆ
case
ºº 
SpatialType
ºº $
.
ºº$ %
	FullGlobe
ºº% .
:
ºº. /
return
»» 
new
»» ".
 GeographyFullGlobeImplementation
»»# C
(
»»C D
this
»»D H
.
»»H I%
currentCoordinateSystem
»»I `
,
»»` a
this
»»b f
.
»»f g
creator
»»g n
)
»»n o
;
»»o p
default
¼¼ 
:
¼¼ 
Debug
½½ 
.
½½ 
Assert
½½ $
(
½½$ %
false
½½% *
,
½½* +
$str
½½, v
)
½½v w
;
½½w x
return
¾¾ 
null
¾¾ #
;
¾¾# $
}
¿¿ 
}
ÀÀ 
}
ÁÁ 	
}
ÂÂ 
}ÃÃ µi
CD:\odata.net\src\Microsoft.Spatial\GeometryBuilderImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class )
GeometryBuilderImplementation 0
:1 2
GeometryPipeline3 C
,C D
IGeometryProviderE V
{ 
private 
readonly 
SpatialTreeBuilder +
<+ ,
Geometry, 4
>4 5
builder6 =
;= >
public )
GeometryBuilderImplementation ,
(, -!
SpatialImplementation- B
creatorC J
)J K
{ 	
this 
. 
builder 
= 
new 
GeometryTreeBuilder 2
(2 3
creator3 :
): ;
;; <
} 	
[$$ 	
System$$	 
.$$ 
Diagnostics$$ 
.$$ 
CodeAnalysis$$ (
.$$( )
SuppressMessage$$) 8
($$8 9
$str$$9 K
,$$K L
$str$$M x
,$$x y
Justification	$$z ‡
=
$$ˆ ‰
$str
$$Š ³
)
$$³ ´
]
$$´ µ
public%% 
event%% 
Action%% 
<%% 
Geometry%% $
>%%$ %
ProduceGeometry%%& 5
{&& 	
add'' 
{'' 
this'' 
.'' 
builder'' 
.'' 
ProduceInstance'' .
+=''/ 1
value''2 7
;''7 8
}''9 :
remove(( 
{(( 
this(( 
.(( 
builder(( !
.((! "
ProduceInstance((" 1
-=((2 4
value((5 :
;((: ;
}((< =
})) 	
public.. 
Geometry.. 
ConstructedGeometry.. +
{// 	
get00 
{00 
return00 
this00 
.00 
builder00 %
.00% &
ConstructedInstance00& 9
;009 :
}00; <
}11 	
[77 	
System77	 
.77 
Diagnostics77 
.77 
CodeAnalysis77 (
.77( )
SuppressMessage77) 8
(778 9
$str779 K
,77K L
$str77M z
,77z {
	MessageId	77| …
=
77† ‡
$str
77ˆ ‹
,
77‹ Œ
Justification
77 š
=
77› œ
$str
77 Ä
)
77Ä Å
]
77Å Æ
public88 
override88 
void88 
LineTo88 #
(88# $
GeometryPosition88$ 4
position885 =
)88= >
{99 	
Debug:: 
.:: 
Assert:: 
(:: 
position:: !
!=::" $
null::% )
,::) *
$str::+ ]
)::] ^
;::^ _
this;; 
.;; 
builder;; 
.;; 
LineTo;; 
(;;  
position;;  (
.;;( )
X;;) *
,;;* +
position;;, 4
.;;4 5
Y;;5 6
,;;6 7
position;;8 @
.;;@ A
Z;;A B
,;;B C
position;;D L
.;;L M
M;;M N
);;N O
;;;O P
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| …
=
BB† ‡
$str
BBˆ ‹
,
BB‹ Œ
Justification
BB š
=
BB› œ
$str
BB Ä
)
BBÄ Å
]
BBÅ Æ
publicCC 
overrideCC 
voidCC 
BeginFigureCC (
(CC( )
GeometryPositionCC) 9
positionCC: B
)CCB C
{DD 	
DebugEE 
.EE 
AssertEE 
(EE 
positionEE !
!=EE" $
nullEE% )
,EE) *
$strEE+ ]
)EE] ^
;EE^ _
thisFF 
.FF 
builderFF 
.FF 
BeginFigureFF $
(FF$ %
positionFF% -
.FF- .
XFF. /
,FF/ 0
positionFF1 9
.FF9 :
YFF: ;
,FF; <
positionFF= E
.FFE F
ZFFF G
,FFG H
positionFFI Q
.FFQ R
MFFR S
)FFS T
;FFT U
}GG 	
publicMM 
overrideMM 
voidMM 
BeginGeometryMM *
(MM* +
SpatialTypeMM+ 6
typeMM7 ;
)MM; <
{NN 	
thisOO 
.OO 
builderOO 
.OO 
BeginGeoOO !
(OO! "
typeOO" &
)OO& '
;OO' (
}PP 	
publicUU 
overrideUU 
voidUU 
	EndFigureUU &
(UU& '
)UU' (
{VV 	
thisWW 
.WW 
builderWW 
.WW 
	EndFigureWW "
(WW" #
)WW# $
;WW$ %
}XX 	
public]] 
override]] 
void]] 
EndGeometry]] (
(]]( )
)]]) *
{^^ 	
this__ 
.__ 
builder__ 
.__ 
EndGeo__ 
(__  
)__  !
;__! "
}`` 	
publicee 
overrideee 
voidee 
Resetee "
(ee" #
)ee# $
{ff 	
thisgg 
.gg 
buildergg 
.gg 
Resetgg 
(gg 
)gg  
;gg  !
}hh 	
publicnn 
overridenn 
voidnn 
SetCoordinateSystemnn 0
(nn0 1
CoordinateSystemnn1 A
coordinateSystemnnB R
)nnR S
{oo 	
Utilpp 
.pp 
CheckArgumentNullpp "
(pp" #
coordinateSystempp# 3
,pp3 4
$strpp5 G
)ppG H
;ppH I
thisqq 
.qq 
builderqq 
.qq 
SetCoordinateSystemqq ,
(qq, -
coordinateSystemqq- =
.qq= >
EpsgIdqq> D
)qqD E
;qqE F
}rr 	
privateww 
classww 
GeometryTreeBuilderww )
:ww* +
SpatialTreeBuilderww, >
<ww> ?
Geometryww? G
>wwG H
{xx 	
private|| 
readonly|| !
SpatialImplementation|| 2
creator||3 :
;||: ;
private
 
CoordinateSystem
 $#
buildCoordinateSystem
% :
;
: ;
public
‡‡ !
GeometryTreeBuilder
‡‡ &
(
‡‡& '#
SpatialImplementation
‡‡' <
creator
‡‡= D
)
‡‡D E
{
ˆˆ 
Util
‰‰ 
.
‰‰ 
CheckArgumentNull
‰‰ &
(
‰‰& '
creator
‰‰' .
,
‰‰. /
$str
‰‰0 9
)
‰‰9 :
;
‰‰: ;
this
ŠŠ 
.
ŠŠ 
creator
ŠŠ 
=
ŠŠ 
creator
ŠŠ &
;
ŠŠ& '
}
‹‹ 
internal
‘‘ 
override
‘‘ 
void
‘‘ "!
SetCoordinateSystem
‘‘# 6
(
‘‘6 7
int
‘‘7 :
?
‘‘: ;
epsgId
‘‘< B
)
‘‘B C
{
’’ 
this
““ 
.
““ #
buildCoordinateSystem
““ *
=
““+ ,
CoordinateSystem
““- =
.
““= >
Geometry
““> F
(
““F G
epsgId
““G M
)
““M N
;
““N O
}
”” 
	protected
ŸŸ 
override
ŸŸ 
Geometry
ŸŸ '
CreatePoint
ŸŸ( 3
(
ŸŸ3 4
bool
ŸŸ4 8
isEmpty
ŸŸ9 @
,
ŸŸ@ A
double
ŸŸB H
x
ŸŸI J
,
ŸŸJ K
double
ŸŸL R
y
ŸŸS T
,
ŸŸT U
double
ŸŸV \
?
ŸŸ\ ]
z
ŸŸ^ _
,
ŸŸ_ `
double
ŸŸa g
?
ŸŸg h
m
ŸŸi j
)
ŸŸj k
{
   
return
¡¡ 
isEmpty
¡¡ 
?
¡¡  
new
¡¡! $)
GeometryPointImplementation
¡¡% @
(
¡¡@ A
this
¡¡A E
.
¡¡E F#
buildCoordinateSystem
¡¡F [
,
¡¡[ \
this
¡¡] a
.
¡¡a b
creator
¡¡b i
)
¡¡i j
:
¡¡k l
new
¡¡m p*
GeometryPointImplementation¡¡q Œ
(¡¡Œ 
this¡¡ ‘
.¡¡‘ ’%
buildCoordinateSystem¡¡’ §
,¡¡§ ¨
this¡¡© ­
.¡¡­ ®
creator¡¡® µ
,¡¡µ ¶
x¡¡· ¸
,¡¡¸ ¹
y¡¡º »
,¡¡» ¼
z¡¡½ ¾
,¡¡¾ ¿
m¡¡À Á
)¡¡Á Â
;¡¡Â Ã
}
¢¢ 
	protected
ªª 
override
ªª 
Geometry
ªª '!
CreateShapeInstance
ªª( ;
(
ªª; <
SpatialType
ªª< G
type
ªªH L
,
ªªL M
IEnumerable
ªªN Y
<
ªªY Z
Geometry
ªªZ b
>
ªªb c
spatialData
ªªd o
)
ªªo p
{
«« 
switch
¬¬ 
(
¬¬ 
type
¬¬ 
)
¬¬ 
{
­­ 
case
®® 
SpatialType
®® $
.
®®$ %

LineString
®®% /
:
®®/ 0
return
¯¯ 
new
¯¯ ".
 GeometryLineStringImplementation
¯¯# C
(
¯¯C D
this
¯¯D H
.
¯¯H I#
buildCoordinateSystem
¯¯I ^
,
¯¯^ _
this
¯¯` d
.
¯¯d e
creator
¯¯e l
,
¯¯l m
spatialData
¯¯n y
.
¯¯y z
Cast
¯¯z ~
<
¯¯~ 
GeometryPoint¯¯ Œ
>¯¯Œ 
(¯¯ 
)¯¯ 
.¯¯ 
ToArray¯¯ —
(¯¯— ˜
)¯¯˜ ™
)¯¯™ š
;¯¯š ›
case
°° 
SpatialType
°° $
.
°°$ %
Polygon
°°% ,
:
°°, -
return
±± 
new
±± "+
GeometryPolygonImplementation
±±# @
(
±±@ A
this
±±A E
.
±±E F#
buildCoordinateSystem
±±F [
,
±±[ \
this
±±] a
.
±±a b
creator
±±b i
,
±±i j
spatialData
±±k v
.
±±v w
Cast
±±w {
<
±±{ |!
GeometryLineString±±| 
>±± 
(±± 
)±± ‘
.±±‘ ’
ToArray±±’ ™
(±±™ š
)±±š ›
)±±› œ
;±±œ 
case
²² 
SpatialType
²² $
.
²²$ %

MultiPoint
²²% /
:
²²/ 0
return
³³ 
new
³³ ".
 GeometryMultiPointImplementation
³³# C
(
³³C D
this
³³D H
.
³³H I#
buildCoordinateSystem
³³I ^
,
³³^ _
this
³³` d
.
³³d e
creator
³³e l
,
³³l m
spatialData
³³n y
.
³³y z
Cast
³³z ~
<
³³~ 
GeometryPoint³³ Œ
>³³Œ 
(³³ 
)³³ 
.³³ 
ToArray³³ —
(³³— ˜
)³³˜ ™
)³³™ š
;³³š ›
case
´´ 
SpatialType
´´ $
.
´´$ %
MultiLineString
´´% 4
:
´´4 5
return
µµ 
new
µµ "3
%GeometryMultiLineStringImplementation
µµ# H
(
µµH I
this
µµI M
.
µµM N#
buildCoordinateSystem
µµN c
,
µµc d
this
µµe i
.
µµi j
creator
µµj q
,
µµq r
spatialData
µµs ~
.
µµ~ 
Castµµ ƒ
<µµƒ „"
GeometryLineStringµµ„ –
>µµ– —
(µµ— ˜
)µµ˜ ™
.µµ™ š
ToArrayµµš ¡
(µµ¡ ¢
)µµ¢ £
)µµ£ ¤
;µµ¤ ¥
case
¶¶ 
SpatialType
¶¶ $
.
¶¶$ %
MultiPolygon
¶¶% 1
:
¶¶1 2
return
·· 
new
·· "0
"GeometryMultiPolygonImplementation
··# E
(
··E F
this
··F J
.
··J K#
buildCoordinateSystem
··K `
,
··` a
this
··b f
.
··f g
creator
··g n
,
··n o
spatialData
··p {
.
··{ |
Cast··| €
<··€ 
GeometryPolygon·· 
>·· ‘
(··‘ ’
)··’ “
.··“ ”
ToArray··” ›
(··› œ
)··œ 
)·· 
;·· Ÿ
case
¸¸ 
SpatialType
¸¸ $
.
¸¸$ %

Collection
¸¸% /
:
¸¸/ 0
return
¹¹ 
new
¹¹ ".
 GeometryCollectionImplementation
¹¹# C
(
¹¹C D
this
¹¹D H
.
¹¹H I#
buildCoordinateSystem
¹¹I ^
,
¹¹^ _
this
¹¹` d
.
¹¹d e
creator
¹¹e l
,
¹¹l m
spatialData
¹¹n y
.
¹¹y z
ToArray¹¹z 
(¹¹ ‚
)¹¹‚ ƒ
)¹¹ƒ „
;¹¹„ …
default
ºº 
:
ºº 
Debug
»» 
.
»» 
Assert
»» $
(
»»$ %
false
»»% *
,
»»* +
$str
»», v
)
»»v w
;
»»w x
return
¼¼ 
null
¼¼ #
;
¼¼# $
}
½½ 
}
¾¾ 
}
¿¿ 	
}
ÀÀ 
}ÁÁ ‘
GD:\odata.net\src\Microsoft.Spatial\GeographyLineStringImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class -
!GeographyLineStringImplementation 4
:5 6
GeographyLineString7 J
{ 
private 
GeographyPoint 
[ 
]  
points! '
;' (
internal -
!GeographyLineStringImplementation 2
(2 3
CoordinateSystem3 C
coordinateSystemD T
,T U!
SpatialImplementationV k
creatorl s
,s t
paramsu {
GeographyPoint	| Š
[
Š ‹
]
‹ Œ
points
 “
)
“ ”
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
points 
= 
points  
??! #
new$ '
GeographyPoint( 6
[6 7
$num7 8
]8 9
;9 :
} 	
public$$ 
override$$ 
bool$$ 
IsEmpty$$ $
{%% 	
get&& 
{'' 
return(( 
this(( 
.(( 
points(( "
.((" #
Length((# )
==((* ,
$num((- .
;((. /
})) 
}** 	
public// 
override// 
ReadOnlyCollection// *
<//* +
GeographyPoint//+ 9
>//9 :
Points//; A
{00 	
get11 
{22 
return33 
new33 
ReadOnlyCollection33 -
<33- .
GeographyPoint33. <
>33< =
(33= >
this33> B
.33B C
points33C I
)33I J
;33J K
}44 
}55 	
[;; 	
System;;	 
.;; 
Diagnostics;; 
.;; 
CodeAnalysis;; (
.;;( )
SuppressMessage;;) 8
(;;8 9
$str;;9 K
,;;K L
$str;;M z
,;;z {
	MessageId	;;| …
=
;;† ‡
$str
;;ˆ ‹
,
;;‹ Œ
Justification
;; š
=
;;› œ
$str
;; ·
)
;;· ¸
]
;;¸ ¹
public<< 
override<< 
void<< 
SendTo<< #
(<<# $
GeographyPipeline<<$ 5
pipeline<<6 >
)<<> ?
{== 	
base>> 
.>> 
SendTo>> 
(>> 
pipeline>>  
)>>  !
;>>! "
pipeline?? 
.?? 
BeginGeography?? #
(??# $
SpatialType??$ /
.??/ 0

LineString??0 :
)??: ;
;??; <
this@@ 
.@@ 

SendFigure@@ 
(@@ 
pipeline@@ $
)@@$ %
;@@% &
pipelineAA 
.AA 
EndGeographyAA !
(AA! "
)AA" #
;AA# $
}BB 	
}CC 
}DD Õ#
LD:\odata.net\src\Microsoft.Spatial\GeographyMultiLineStringImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 2
&GeographyMultiLineStringImplementation 9
:: ;$
GeographyMultiLineString< T
{ 
private 
GeographyLineString #
[# $
]$ %
lineStrings& 1
;1 2
internal 2
&GeographyMultiLineStringImplementation 7
(7 8
CoordinateSystem8 H
coordinateSystemI Y
,Y Z!
SpatialImplementation[ p
creatorq x
,x y
params	z €!
GeographyLineString
 ”
[
” •
]
• –
lineStrings
— ¢
)
¢ £
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
lineStrings 
= 
lineStrings *
??+ -
new. 1
GeographyLineString2 E
[E F
$numF G
]G H
;H I
} 	
internal&& 2
&GeographyMultiLineStringImplementation&& 7
(&&7 8!
SpatialImplementation&&8 M
creator&&N U
,&&U V
params&&W ]
GeographyLineString&&^ q
[&&q r
]&&r s
lineStrings&&t 
)	&& €
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
lineStrings''? J
)''J K
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
lineStrings22 '
.22' (
Length22( .
==22/ 1
$num222 3
;223 4
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
	Geography99+ 4
>994 5
Geographies996 A
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
	Geography;;0 9
>;;9 :
(;;: ;
this;;; ?
.;;? @
lineStrings;;@ K
);;K L
;;;L M
};;N O
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeographyLineStringAA+ >
>AA> ?
LineStringsAA@ K
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeographyLineStringCC0 C
>CCC D
(CCD E
thisCCE I
.CCI J
lineStringsCCJ U
)CCU V
;CCV W
}CCX Y
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| …
=
JJ† ‡
$str
JJˆ ‹
,
JJ‹ Œ
Justification
JJ š
=
JJ› œ
$str
JJ ·
)
JJ· ¸
]
JJ¸ ¹
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeographyPipelineKK$ 5
pipelineKK6 >
)KK> ?
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeographyNN #
(NN# $
SpatialTypeNN$ /
.NN/ 0
MultiLineStringNN0 ?
)NN? @
;NN@ A
forPP 
(PP 
intPP 
iPP 
=PP 
$numPP 
;PP 
iPP 
<PP 
thisPP  $
.PP$ %
lineStringsPP% 0
.PP0 1
LengthPP1 7
;PP7 8
++PP9 ;
iPP; <
)PP< =
{QQ 
thisRR 
.RR 
lineStringsRR  
[RR  !
iRR! "
]RR" #
.RR# $
SendToRR$ *
(RR* +
pipelineRR+ 3
)RR3 4
;RR4 5
}SS 
pipelineUU 
.UU 
EndGeographyUU !
(UU! "
)UU" #
;UU# $
}VV 	
}WW 
}XX Ú"
GD:\odata.net\src\Microsoft.Spatial\GeographyMultiPointImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class -
!GeographyMultiPointImplementation 4
:5 6
GeographyMultiPoint7 J
{ 
private 
GeographyPoint 
[ 
]  
points! '
;' (
internal -
!GeographyMultiPointImplementation 2
(2 3
CoordinateSystem3 C
coordinateSystemD T
,T U!
SpatialImplementationV k
creatorl s
,s t
paramsu {
GeographyPoint	| Š
[
Š ‹
]
‹ Œ
points
 “
)
“ ”
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
points 
= 
points  
??! #
new$ '
GeographyPoint( 6
[6 7
$num7 8
]8 9
;9 :
} 	
internal&& -
!GeographyMultiPointImplementation&& 2
(&&2 3!
SpatialImplementation&&3 H
creator&&I P
,&&P Q
params&&R X
GeographyPoint&&Y g
[&&g h
]&&h i
points&&j p
)&&p q
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
points''? E
)''E F
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
points22 "
.22" #
Length22# )
==22* ,
$num22- .
;22. /
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
	Geography99+ 4
>994 5
Geographies996 A
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
	Geography;;0 9
>;;9 :
(;;: ;
this;;; ?
.;;? @
points;;@ F
);;F G
;;;G H
};;I J
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeographyPointAA+ 9
>AA9 :
PointsAA; A
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeographyPointCC0 >
>CC> ?
(CC? @
thisCC@ D
.CCD E
pointsCCE K
)CCK L
;CCL M
}CCN O
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| …
=
JJ† ‡
$str
JJˆ ‹
,
JJ‹ Œ
Justification
JJ š
=
JJ› œ
$str
JJ ·
)
JJ· ¸
]
JJ¸ ¹
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeographyPipelineKK$ 5
pipelineKK6 >
)KK> ?
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeographyNN #
(NN# $
SpatialTypeNN$ /
.NN/ 0

MultiPointNN0 :
)NN: ;
;NN; <
forPP 
(PP 
intPP 
iPP 
=PP 
$numPP 
;PP 
iPP 
<PP 
thisPP  $
.PP$ %
pointsPP% +
.PP+ ,
LengthPP, 2
;PP2 3
++PP4 6
iPP6 7
)PP7 8
{QQ 
thisRR 
.RR 
pointsRR 
[RR 
iRR 
]RR 
.RR 
SendToRR %
(RR% &
pipelineRR& .
)RR. /
;RR/ 0
}SS 
pipelineUU 
.UU 
EndGeographyUU !
(UU! "
)UU" #
;UU# $
}VV 	
}WW 
}XX ›"
ID:\odata.net\src\Microsoft.Spatial\GeographyMultiPolygonImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class /
#GeographyMultiPolygonImplementation 6
:7 8!
GeographyMultiPolygon9 N
{ 
private 
GeographyPolygon  
[  !
]! "
polygons# +
;+ ,
internal /
#GeographyMultiPolygonImplementation 4
(4 5
CoordinateSystem5 E
coordinateSystemF V
,V W!
SpatialImplementationX m
creatorn u
,u v
paramsw }
GeographyPolygon	~ 
[
 
]
 
polygons
‘ ™
)
™ š
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
polygons 
= 
polygons $
;$ %
} 	
internal&& /
#GeographyMultiPolygonImplementation&& 4
(&&4 5!
SpatialImplementation&&5 J
creator&&K R
,&&R S
params&&T Z
GeographyPolygon&&[ k
[&&k l
]&&l m
polygons&&n v
)&&v w
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
polygons''? G
)''G H
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
polygons22 $
.22$ %
Length22% +
==22, .
$num22/ 0
;220 1
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
	Geography99+ 4
>994 5
Geographies996 A
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
	Geography;;0 9
>;;9 :
(;;: ;
this;;; ?
.;;? @
polygons;;@ H
);;H I
;;;I J
};;K L
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeographyPolygonAA+ ;
>AA; <
PolygonsAA= E
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeographyPolygonCC0 @
>CC@ A
(CCA B
thisCCB F
.CCF G
polygonsCCG O
)CCO P
;CCP Q
}CCR S
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| …
=
JJ† ‡
$str
JJˆ ‹
,
JJ‹ Œ
Justification
JJ š
=
JJ› œ
$str
JJ ·
)
JJ· ¸
]
JJ¸ ¹
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeographyPipelineKK$ 5
pipelineKK6 >
)KK> ?
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeographyNN #
(NN# $
SpatialTypeNN$ /
.NN/ 0
MultiPolygonNN0 <
)NN< =
;NN= >
forOO 
(OO 
intOO 
iOO 
=OO 
$numOO 
;OO 
iOO 
<OO 
thisOO  $
.OO$ %
polygonsOO% -
.OO- .
LengthOO. 4
;OO4 5
++OO6 8
iOO8 9
)OO9 :
{PP 
thisQQ 
.QQ 
polygonsQQ 
[QQ 
iQQ 
]QQ  
.QQ  !
SendToQQ! '
(QQ' (
pipelineQQ( 0
)QQ0 1
;QQ1 2
}RR 
pipelineTT 
.TT 
EndGeographyTT !
(TT! "
)TT" #
;TT# $
}UU 	
}VV 
}WW ÕB
BD:\odata.net\src\Microsoft.Spatial\GeographyPointImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class (
GeographyPointImplementation /
:0 1
GeographyPoint2 @
{ 
private 
double 
latitude 
;  
private 
double 
	longitude  
;  !
private 
double 
? 
z 
; 
private"" 
double"" 
?"" 
m"" 
;"" 
[// 	
System//	 
.// 
Diagnostics// 
.// 
CodeAnalysis// (
.//( )
SuppressMessage//) 8
(//8 9
$str//9 K
,//K L
$str//M U
,//U V
Justification//W d
=//e f
$str	//g 
)
// ‘
]
//‘ ’
internal00 (
GeographyPointImplementation00 -
(00- .
CoordinateSystem00. >
coordinateSystem00? O
,00O P!
SpatialImplementation00Q f
creator00g n
,00n o
double00p v
latitude00w 
,	00 €
double
00 ‡
	longitude
00ˆ ‘
,
00‘ ’
double
00“ ™
?
00™ š
zvalue
00› ¡
,
00¡ ¢
double
00£ ©
?
00© ª
mvalue
00« ±
)
00± ²
:11 
base11 
(11 
coordinateSystem11 #
,11# $
creator11% ,
)11, -
{22 	
if33 
(33 
double33 
.33 
IsNaN33 
(33 
latitude33 %
)33% &
||33' )
double33* 0
.330 1

IsInfinity331 ;
(33; <
latitude33< D
)33D E
)33E F
{44 
throw55 
new55 
ArgumentException55 +
(55+ ,
Strings55, 3
.553 4"
InvalidPointCoordinate554 J
(55J K
latitude55K S
,55S T
$str55U _
)55_ `
)55` a
;55a b
}66 
if88 
(88 
double88 
.88 
IsNaN88 
(88 
	longitude88 &
)88& '
||88( *
double88+ 1
.881 2

IsInfinity882 <
(88< =
	longitude88= F
)88F G
)88G H
{99 
throw:: 
new:: 
ArgumentException:: +
(::+ ,
Strings::, 3
.::3 4"
InvalidPointCoordinate::4 J
(::J K
	longitude::K T
,::T U
$str::V a
)::a b
)::b c
;::c d
};; 
this== 
.== 
latitude== 
=== 
latitude== $
;==$ %
this>> 
.>> 
	longitude>> 
=>> 
	longitude>> &
;>>& '
this?? 
.?? 
z?? 
=?? 
zvalue?? 
;?? 
this@@ 
.@@ 
m@@ 
=@@ 
mvalue@@ 
;@@ 
}AA 	
internalHH (
GeographyPointImplementationHH -
(HH- .
CoordinateSystemHH. >
coordinateSystemHH? O
,HHO P!
SpatialImplementationHHQ f
creatorHHg n
)HHn o
:II 
baseII 
(II 
coordinateSystemII #
,II# $
creatorII% ,
)II, -
{JJ 	
thisKK 
.KK 
latitudeKK 
=KK 
doubleKK "
.KK" #
NaNKK# &
;KK& '
thisLL 
.LL 
	longitudeLL 
=LL 
doubleLL #
.LL# $
NaNLL$ '
;LL' (
}MM 	
publicTT 
overrideTT 
doubleTT 
LatitudeTT '
{UU 	
getVV 
{WW 
ifXX 
(XX 
thisXX 
.XX 
IsEmptyXX  
)XX  !
{YY 
throwZZ 
newZZ !
NotSupportedExceptionZZ 3
(ZZ3 4
StringsZZ4 ;
.ZZ; <+
Point_AccessCoordinateWhenEmptyZZ< [
)ZZ[ \
;ZZ\ ]
}[[ 
return]] 
this]] 
.]] 
latitude]] $
;]]$ %
}^^ 
}__ 	
publicdd 
overridedd 
doubledd 
	Longitudedd (
{ee 	
getff 
{gg 
ifhh 
(hh 
thishh 
.hh 
IsEmptyhh  
)hh  !
{ii 
throwjj 
newjj !
NotSupportedExceptionjj 3
(jj3 4
Stringsjj4 ;
.jj; <+
Point_AccessCoordinateWhenEmptyjj< [
)jj[ \
;jj\ ]
}kk 
returnmm 
thismm 
.mm 
	longitudemm %
;mm% &
}nn 
}oo 	
publictt 
overridett 
booltt 
IsEmptytt $
{uu 	
getvv 
{ww 
returnxx 
doublexx 
.xx 
IsNaNxx #
(xx# $
thisxx$ (
.xx( )
latitudexx) 1
)xx1 2
;xx2 3
}yy 
}zz 	
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$strg 
)	 €
]
€ 
public
€€ 
override
€€ 
double
€€ 
?
€€ 
Z
€€  !
{
 	
get
‚‚ 
{
‚‚ 
return
‚‚ 
this
‚‚ 
.
‚‚ 
z
‚‚ 
;
‚‚  
}
‚‚! "
}
ƒƒ 	
[
ˆˆ 	
System
ˆˆ	 
.
ˆˆ 
Diagnostics
ˆˆ 
.
ˆˆ 
CodeAnalysis
ˆˆ (
.
ˆˆ( )
SuppressMessage
ˆˆ) 8
(
ˆˆ8 9
$str
ˆˆ9 K
,
ˆˆK L
$str
ˆˆM U
,
ˆˆU V
Justification
ˆˆW d
=
ˆˆe f
$str
ˆˆg 
)ˆˆ €
]ˆˆ€ 
public
‰‰ 
override
‰‰ 
double
‰‰ 
?
‰‰ 
M
‰‰  !
{
ŠŠ 	
get
‹‹ 
{
‹‹ 
return
‹‹ 
this
‹‹ 
.
‹‹ 
m
‹‹ 
;
‹‹  
}
‹‹! "
}
ŒŒ 	
[
’’ 	
System
’’	 
.
’’ 
Diagnostics
’’ 
.
’’ 
CodeAnalysis
’’ (
.
’’( )
SuppressMessage
’’) 8
(
’’8 9
$str
’’9 K
,
’’K L
$str
’’M z
,
’’z {
	MessageId’’| …
=’’† ‡
$str’’ˆ ‹
,’’‹ Œ
Justification’’ š
=’’› œ
$str’’ ·
)’’· ¸
]’’¸ ¹
public
““ 
override
““ 
void
““ 
SendTo
““ #
(
““# $
GeographyPipeline
““$ 5
pipeline
““6 >
)
““> ?
{
”” 	
base
•• 
.
•• 
SendTo
•• 
(
•• 
pipeline
••  
)
••  !
;
••! "
pipeline
–– 
.
–– 
BeginGeography
–– #
(
––# $
SpatialType
––$ /
.
––/ 0
Point
––0 5
)
––5 6
;
––6 7
if
—— 
(
—— 
!
—— 
this
—— 
.
—— 
IsEmpty
—— 
)
—— 
{
˜˜ 
pipeline
™™ 
.
™™ 
BeginFigure
™™ $
(
™™$ %
new
™™% (
GeographyPosition
™™) :
(
™™: ;
this
™™; ?
.
™™? @
latitude
™™@ H
,
™™H I
this
™™J N
.
™™N O
	longitude
™™O X
,
™™X Y
this
™™Z ^
.
™™^ _
z
™™_ `
,
™™` a
this
™™b f
.
™™f g
m
™™g h
)
™™h i
)
™™i j
;
™™j k
pipeline
šš 
.
šš 
	EndFigure
šš "
(
šš" #
)
šš# $
;
šš$ %
}
›› 
pipeline
 
.
 
EndGeography
 !
(
! "
)
" #
;
# $
}
 	
}
ŸŸ 
}   
DD:\odata.net\src\Microsoft.Spatial\GeographyPolygonImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class *
GeographyPolygonImplementation 1
:2 3
GeographyPolygon4 D
{ 
private 
GeographyLineString #
[# $
]$ %
rings& +
;+ ,
internal *
GeographyPolygonImplementation /
(/ 0
CoordinateSystem0 @
coordinateSystemA Q
,Q R!
SpatialImplementationS h
creatori p
,p q
paramsr x 
GeographyLineString	y Œ
[
Œ 
]
 
rings
 ”
)
” •
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
rings 
= 
rings 
?? !
new" %
GeographyLineString& 9
[9 :
$num: ;
]; <
;< =
} 	
internal&& *
GeographyPolygonImplementation&& /
(&&/ 0!
SpatialImplementation&&0 E
creator&&F M
,&&M N
params&&O U
GeographyLineString&&V i
[&&i j
]&&j k
rings&&l q
)&&q r
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
rings''? D
)''D E
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
rings22 !
.22! "
Length22" (
==22) +
$num22, -
;22- .
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
GeographyLineString99+ >
>99> ?
Rings99@ E
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
GeographyLineString;;0 C
>;;C D
(;;D E
this;;E I
.;;I J
rings;;J O
);;O P
;;;P Q
};;R S
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| …
=
BB† ‡
$str
BBˆ ‹
,
BB‹ Œ
Justification
BB š
=
BB› œ
$str
BB ·
)
BB· ¸
]
BB¸ ¹
publicCC 
overrideCC 
voidCC 
SendToCC #
(CC# $
GeographyPipelineCC$ 5
pipelineCC6 >
)CC> ?
{DD 	
baseEE 
.EE 
SendToEE 
(EE 
pipelineEE  
)EE  !
;EE! "
pipelineFF 
.FF 
BeginGeographyFF #
(FF# $
SpatialTypeFF$ /
.FF/ 0
PolygonFF0 7
)FF7 8
;FF8 9
forHH 
(HH 
intHH 
iHH 
=HH 
$numHH 
;HH 
iHH 
<HH 
thisHH  $
.HH$ %
ringsHH% *
.HH* +
LengthHH+ 1
;HH1 2
++HH3 5
iHH5 6
)HH6 7
{II 
thisJJ 
.JJ 
ringsJJ 
[JJ 
iJJ 
]JJ 
.JJ 

SendFigureJJ (
(JJ( )
pipelineJJ) 1
)JJ1 2
;JJ2 3
}KK 
pipelineMM 
.MM 
EndGeographyMM !
(MM! "
)MM" #
;MM# $
}NN 	
}OO 
}PP ¼
GD:\odata.net\src\Microsoft.Spatial\GeographyCollectionImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class -
!GeographyCollectionImplementation 4
:5 6
GeographyCollection7 J
{ 
private 
	Geography 
[ 
] 
geographyArray *
;* +
internal -
!GeographyCollectionImplementation 2
(2 3
CoordinateSystem3 C
coordinateSystemD T
,T U!
SpatialImplementationV k
creatorl s
,s t
paramsu {
	Geography	| …
[
… †
]
† ‡
	geography
ˆ ‘
)
‘ ’
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
geographyArray 
=  !
	geography" +
??, .
new/ 2
	Geography3 <
[< =
$num= >
]> ?
;? @
} 	
internal&& -
!GeographyCollectionImplementation&& 2
(&&2 3!
SpatialImplementation&&3 H
creator&&I P
,&&P Q
params&&R X
	Geography&&Y b
[&&b c
]&&c d
	geography&&e n
)&&n o
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
	geography''? H
)''H I
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
geographyArray22 *
.22* +
Length22+ 1
==222 4
$num225 6
;226 7
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
	Geography99+ 4
>994 5
Geographies996 A
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
	Geography;;0 9
>;;9 :
(;;: ;
this;;; ?
.;;? @
geographyArray;;@ N
);;N O
;;;O P
};;Q R
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| …
=
BB† ‡
$str
BBˆ ‹
,
BB‹ Œ
Justification
BB š
=
BB› œ
$str
BB ·
)
BB· ¸
]
BB¸ ¹
publicCC 
overrideCC 
voidCC 
SendToCC #
(CC# $
GeographyPipelineCC$ 5
pipelineCC6 >
)CC> ?
{DD 	
baseEE 
.EE 
SendToEE 
(EE 
pipelineEE  
)EE  !
;EE! "
pipelineFF 
.FF 
BeginGeographyFF #
(FF# $
SpatialTypeFF$ /
.FF/ 0

CollectionFF0 :
)FF: ;
;FF; <
forGG 
(GG 
intGG 
iGG 
=GG 
$numGG 
;GG 
iGG 
<GG 
thisGG  $
.GG$ %
geographyArrayGG% 3
.GG3 4
LengthGG4 :
;GG: ;
++GG< >
iGG> ?
)GG? @
{HH 
thisII 
.II 
geographyArrayII #
[II# $
iII$ %
]II% &
.II& '
SendToII' -
(II- .
pipelineII. 6
)II6 7
;II7 8
}JJ 
pipelineLL 
.LL 
EndGeographyLL !
(LL! "
)LL" #
;LL# $
}MM 	
}NN 
}OO É
<D:\odata.net\src\Microsoft.Spatial\GeographyHelperMethods.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class "
GeographyHelperMethods 0
{ 
internal 
static 
void 

SendFigure '
(' (
this( ,
GeographyLineString- @

lineStringA K
,K L
GeographyPipelineM ^
pipeline_ g
)g h
{ 	
ReadOnlyCollection 
< 
GeographyPoint -
>- .
points/ 5
=6 7

lineString8 B
.B C
PointsC I
;I J
for 
( 
int 
i 
= 
$num 
; 
i 
< 
points  &
.& '
Count' ,
;, -
++. 0
i0 1
)1 2
{ 
if 
( 
i 
== 
$num 
) 
{ 
pipeline 
. 
BeginFigure (
(( )
new) ,
GeographyPosition- >
(> ?
points? E
[E F
iF G
]G H
.H I
LatitudeI Q
,Q R
pointsS Y
[Y Z
iZ [
][ \
.\ ]
	Longitude] f
,f g
pointsh n
[n o
io p
]p q
.q r
Zr s
,s t
pointsu {
[{ |
i| }
]} ~
.~ 
M	 €
)
€ 
)
 ‚
;
‚ ƒ
} 
else 
{ 
pipeline   
.   
LineTo   #
(  # $
new  $ '
GeographyPosition  ( 9
(  9 :
points  : @
[  @ A
i  A B
]  B C
.  C D
Latitude  D L
,  L M
points  N T
[  T U
i  U V
]  V W
.  W X
	Longitude  X a
,  a b
points  c i
[  i j
i  j k
]  k l
.  l m
Z  m n
,  n o
points  p v
[  v w
i  w x
]  x y
.  y z
M  z {
)  { |
)  | }
;  } ~
}!! 
}"" 
if$$ 
($$ 
points$$ 
.$$ 
Count$$ 
>$$ 
$num$$  
)$$  !
{%% 
pipeline&& 
.&& 
	EndFigure&& "
(&&" #
)&&# $
;&&$ %
}'' 
}(( 	
})) 
}** ‰
FD:\odata.net\src\Microsoft.Spatial\GeographyFullGlobeImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class ,
 GeographyFullGlobeImplementation 3
:4 5
GeographyFullGlobe6 H
{ 
internal ,
 GeographyFullGlobeImplementation 1
(1 2
CoordinateSystem2 B
coordinateSystemC S
,S T!
SpatialImplementationU j
creatork r
)r s
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
internal ,
 GeographyFullGlobeImplementation 1
(1 2!
SpatialImplementation2 G
creatorH O
)O P
: 
this 
( 
CoordinateSystem #
.# $
DefaultGeography$ 4
,4 5
creator6 =
)= >
{   	
}!! 	
public&& 
override&& 
bool&& 
IsEmpty&& $
{'' 	
get(( 
{(( 
return(( 
false(( 
;(( 
}((  !
})) 	
[// 	
SuppressMessage//	 
(// 
$str// +
,//+ ,
$str//- Z
,//Z [
	MessageId//\ e
=//f g
$str//h k
,//k l
Justification//m z
=//{ |
$str	//} —
)
//— ˜
]
//˜ ™
public00 
override00 
void00 
SendTo00 #
(00# $
GeographyPipeline00$ 5
pipeline006 >
)00> ?
{11 	
base22 
.22 
SendTo22 
(22 
pipeline22  
)22  !
;22! "
pipeline33 
.33 
BeginGeography33 #
(33# $
SpatialType33$ /
.33/ 0
	FullGlobe330 9
)339 :
;33: ;
pipeline44 
.44 
EndGeography44 !
(44! "
)44" #
;44# $
}55 	
}66 
}77 ı
FD:\odata.net\src\Microsoft.Spatial\GeometryLineStringImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class ,
 GeometryLineStringImplementation 3
:4 5
GeometryLineString6 H
{ 
private 
GeometryPoint 
[ 
] 
points  &
;& '
internal ,
 GeometryLineStringImplementation 1
(1 2
CoordinateSystem2 B
coordinateSystemC S
,S T!
SpatialImplementationU j
creatork r
,r s
paramst z
GeometryPoint	{ ˆ
[
ˆ ‰
]
‰ Š
points
‹ ‘
)
‘ ’
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
points 
= 
points  
??! #
new$ '
GeometryPoint( 5
[5 6
$num6 7
]7 8
;8 9
} 	
internal&& ,
 GeometryLineStringImplementation&& 1
(&&1 2!
SpatialImplementation&&2 G
creator&&H O
,&&O P
params&&Q W
GeometryPoint&&X e
[&&e f
]&&f g
points&&h n
)&&n o
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
points''> D
)''D E
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
points22 "
.22" #
Length22# )
==22* ,
$num22- .
;22. /
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
GeometryPoint99+ 8
>998 9
Points99: @
{:: 	
get;; 
{<< 
return== 
new== 
ReadOnlyCollection== -
<==- .
GeometryPoint==. ;
>==; <
(==< =
this=== A
.==A B
points==B H
)==H I
;==I J
}>> 
}?? 	
[EE 	
SystemEE	 
.EE 
DiagnosticsEE 
.EE 
CodeAnalysisEE (
.EE( )
SuppressMessageEE) 8
(EE8 9
$strEE9 K
,EEK L
$strEEM z
,EEz {
	MessageId	EE| …
=
EE† ‡
$str
EEˆ ‹
,
EE‹ Œ
Justification
EE š
=
EE› œ
$str
EE ·
)
EE· ¸
]
EE¸ ¹
publicFF 
overrideFF 
voidFF 
SendToFF #
(FF# $
GeometryPipelineFF$ 4
pipelineFF5 =
)FF= >
{GG 	
baseHH 
.HH 
SendToHH 
(HH 
pipelineHH  
)HH  !
;HH! "
pipelineII 
.II 
BeginGeometryII "
(II" #
SpatialTypeII# .
.II. /

LineStringII/ 9
)II9 :
;II: ;
thisJJ 
.JJ 

SendFigureJJ 
(JJ 
pipelineJJ $
)JJ$ %
;JJ% &
pipelineKK 
.KK 
EndGeometryKK  
(KK  !
)KK! "
;KK" #
}LL 	
}MM 
}NN Á#
KD:\odata.net\src\Microsoft.Spatial\GeometryMultiLineStringImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 1
%GeometryMultiLineStringImplementation 8
:9 :#
GeometryMultiLineString; R
{ 
private 
GeometryLineString "
[" #
]# $
lineStrings% 0
;0 1
internal 1
%GeometryMultiLineStringImplementation 6
(6 7
CoordinateSystem7 G
coordinateSystemH X
,X Y!
SpatialImplementationZ o
creatorp w
,w x
paramsy  
GeometryLineString
€ ’
[
’ “
]
“ ”
lineStrings
•  
)
  ¡
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
lineStrings 
= 
lineStrings *
??+ -
new. 1
GeometryLineString2 D
[D E
$numE F
]F G
;G H
} 	
internal&& 1
%GeometryMultiLineStringImplementation&& 6
(&&6 7!
SpatialImplementation&&7 L
creator&&M T
,&&T U
params&&V \
GeometryLineString&&] o
[&&o p
]&&p q
lineStrings&&r }
)&&} ~
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
lineStrings''> I
)''I J
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
lineStrings22 '
.22' (
Length22( .
==22/ 1
$num222 3
;223 4
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
Geometry99+ 3
>993 4

Geometries995 ?
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
Geometry;;0 8
>;;8 9
(;;9 :
this;;: >
.;;> ?
lineStrings;;? J
);;J K
;;;K L
};;M N
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeometryLineStringAA+ =
>AA= >
LineStringsAA? J
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeometryLineStringCC0 B
>CCB C
(CCC D
thisCCD H
.CCH I
lineStringsCCI T
)CCT U
;CCU V
}CCW X
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| …
=
JJ† ‡
$str
JJˆ ‹
,
JJ‹ Œ
Justification
JJ š
=
JJ› œ
$str
JJ ·
)
JJ· ¸
]
JJ¸ ¹
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeometryPipelineKK$ 4
pipelineKK5 =
)KK= >
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeometryNN "
(NN" #
SpatialTypeNN# .
.NN. /
MultiLineStringNN/ >
)NN> ?
;NN? @
forPP 
(PP 
intPP 
iPP 
=PP 
$numPP 
;PP 
iPP 
<PP 
thisPP  $
.PP$ %
lineStringsPP% 0
.PP0 1
LengthPP1 7
;PP7 8
++PP9 ;
iPP; <
)PP< =
{QQ 
thisRR 
.RR 
lineStringsRR  
[RR  !
iRR! "
]RR" #
.RR# $
SendToRR$ *
(RR* +
pipelineRR+ 3
)RR3 4
;RR4 5
}SS 
pipelineUU 
.UU 
EndGeometryUU  
(UU  !
)UU! "
;UU" #
}VV 	
}WW 
}XX È"
FD:\odata.net\src\Microsoft.Spatial\GeometryMultiPointImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class ,
 GeometryMultiPointImplementation 3
:4 5
GeometryMultiPoint6 H
{ 
private 
GeometryPoint 
[ 
] 
points  &
;& '
internal ,
 GeometryMultiPointImplementation 1
(1 2
CoordinateSystem2 B
coordinateSystemC S
,S T!
SpatialImplementationU j
creatork r
,r s
paramst z
GeometryPoint	{ ˆ
[
ˆ ‰
]
‰ Š
points
‹ ‘
)
‘ ’
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
points 
= 
points  
??! #
new$ '
GeometryPoint( 5
[5 6
$num6 7
]7 8
;8 9
} 	
internal&& ,
 GeometryMultiPointImplementation&& 1
(&&1 2!
SpatialImplementation&&2 G
creator&&H O
,&&O P
params&&Q W
GeometryPoint&&X e
[&&e f
]&&f g
points&&h n
)&&n o
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
points''> D
)''D E
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
points22 "
.22" #
Length22# )
==22* ,
$num22- .
;22. /
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
Geometry99+ 3
>993 4

Geometries995 ?
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
Geometry;;0 8
>;;8 9
(;;9 :
this;;: >
.;;> ?
points;;? E
);;E F
;;;F G
};;H I
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeometryPointAA+ 8
>AA8 9
PointsAA: @
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeometryPointCC0 =
>CC= >
(CC> ?
thisCC? C
.CCC D
pointsCCD J
)CCJ K
;CCK L
}CCM N
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| …
=
JJ† ‡
$str
JJˆ ‹
,
JJ‹ Œ
Justification
JJ š
=
JJ› œ
$str
JJ ·
)
JJ· ¸
]
JJ¸ ¹
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeometryPipelineKK$ 4
pipelineKK5 =
)KK= >
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeometryNN "
(NN" #
SpatialTypeNN# .
.NN. /

MultiPointNN/ 9
)NN9 :
;NN: ;
forPP 
(PP 
intPP 
iPP 
=PP 
$numPP 
;PP 
iPP 
<PP 
thisPP  $
.PP$ %
pointsPP% +
.PP+ ,
LengthPP, 2
;PP2 3
++PP4 6
iPP6 7
)PP7 8
{QQ 
thisRR 
.RR 
pointsRR 
[RR 
iRR 
]RR 
.RR 
SendToRR %
(RR% &
pipelineRR& .
)RR. /
;RR/ 0
}SS 
pipelineUU 
.UU 
EndGeometryUU  
(UU  !
)UU! "
;UU" #
}VV 	
}WW 
}XX Š"
HD:\odata.net\src\Microsoft.Spatial\GeometryMultiPolygonImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class .
"GeometryMultiPolygonImplementation 5
:6 7 
GeometryMultiPolygon8 L
{ 
private 
GeometryPolygon 
[  
]  !
polygons" *
;* +
internal .
"GeometryMultiPolygonImplementation 3
(3 4
CoordinateSystem4 D
coordinateSystemE U
,U V!
SpatialImplementationW l
creatorm t
,t u
paramsv |
GeometryPolygon	} Œ
[
Œ 
]
 
polygons
 —
)
— ˜
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
polygons 
= 
polygons $
;$ %
} 	
internal&& .
"GeometryMultiPolygonImplementation&& 3
(&&3 4!
SpatialImplementation&&4 I
creator&&J Q
,&&Q R
params&&S Y
GeometryPolygon&&Z i
[&&i j
]&&j k
polygons&&l t
)&&t u
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
polygons''> F
)''F G
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
polygons22 $
.22$ %
Length22% +
==22, .
$num22/ 0
;220 1
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
Geometry99+ 3
>993 4

Geometries995 ?
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
Geometry;;0 8
>;;8 9
(;;9 :
this;;: >
.;;> ?
polygons;;? G
);;G H
;;;H I
};;J K
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeometryPolygonAA+ :
>AA: ;
PolygonsAA< D
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeometryPolygonCC0 ?
>CC? @
(CC@ A
thisCCA E
.CCE F
polygonsCCF N
)CCN O
;CCO P
}CCQ R
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| …
=
JJ† ‡
$str
JJˆ ‹
,
JJ‹ Œ
Justification
JJ š
=
JJ› œ
$str
JJ ·
)
JJ· ¸
]
JJ¸ ¹
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeometryPipelineKK$ 4
pipelineKK5 =
)KK= >
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeometryNN "
(NN" #
SpatialTypeNN# .
.NN. /
MultiPolygonNN/ ;
)NN; <
;NN< =
forOO 
(OO 
intOO 
iOO 
=OO 
$numOO 
;OO 
iOO 
<OO 
thisOO  $
.OO$ %
polygonsOO% -
.OO- .
LengthOO. 4
;OO4 5
++OO6 8
iOO8 9
)OO9 :
{PP 
thisQQ 
.QQ 
polygonsQQ 
[QQ 
iQQ 
]QQ  
.QQ  !
SendToQQ! '
(QQ' (
pipelineQQ( 0
)QQ0 1
;QQ1 2
}RR 
pipelineTT 
.TT 
EndGeometryTT  
(TT  !
)TT! "
;TT" #
}UU 	
}VV 
}WW “F
AD:\odata.net\src\Microsoft.Spatial\GeometryPointImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class '
GeometryPointImplementation .
:/ 0
GeometryPoint1 >
{ 
private 
double 
x 
; 
private 
double 
y 
; 
private 
double 
? 
z 
; 
private"" 
double"" 
?"" 
m"" 
;"" 
internal)) '
GeometryPointImplementation)) ,
()), -
CoordinateSystem))- =
coordinateSystem))> N
,))N O!
SpatialImplementation))P e
creator))f m
)))m n
:** 
base** 
(** 
coordinateSystem** #
,**# $
creator**% ,
)**, -
{++ 	
this,, 
.,, 
x,, 
=,, 
double,, 
.,, 
NaN,, 
;,,  
this-- 
.-- 
y-- 
=-- 
double-- 
.-- 
NaN-- 
;--  
}.. 	
[99 	
System99	 
.99 
Diagnostics99 
.99 
CodeAnalysis99 (
.99( )
SuppressMessage99) 8
(998 9
$str999 K
,99K L
$str99M U
,99U V
Justification99W d
=99e f
$str	99g 
)
99 ‘
]
99‘ ’
internal:: '
GeometryPointImplementation:: ,
(::, -
CoordinateSystem::- =
coordinateSystem::> N
,::N O!
SpatialImplementation::P e
creator::f m
,::m n
double::o u
x::v w
,::w x
double::y 
y
::€ 
,
:: ‚
double
::ƒ ‰
?
::‰ Š
z
::‹ Œ
,
::Œ 
double
:: ”
?
::” •
m
::– —
)
::— ˜
:;; 
base;; 
(;; 
coordinateSystem;; #
,;;# $
creator;;% ,
);;, -
{<< 	
if== 
(== 
double== 
.== 
IsNaN== 
(== 
x== 
)== 
||==  "
double==# )
.==) *

IsInfinity==* 4
(==4 5
x==5 6
)==6 7
)==7 8
{>> 
throw?? 
new?? 
ArgumentException?? +
(??+ ,
Strings??, 3
.??3 4"
InvalidPointCoordinate??4 J
(??J K
x??K L
,??L M
$str??N Q
)??Q R
)??R S
;??S T
}@@ 
ifBB 
(BB 
doubleBB 
.BB 
IsNaNBB 
(BB 
yBB 
)BB 
||BB  "
doubleBB# )
.BB) *

IsInfinityBB* 4
(BB4 5
yBB5 6
)BB6 7
)BB7 8
{CC 
throwDD 
newDD 
ArgumentExceptionDD +
(DD+ ,
StringsDD, 3
.DD3 4"
InvalidPointCoordinateDD4 J
(DDJ K
yDDK L
,DDL M
$strDDN Q
)DDQ R
)DDR S
;DDS T
}EE 
thisGG 
.GG 
xGG 
=GG 
xGG 
;GG 
thisHH 
.HH 
yHH 
=HH 
yHH 
;HH 
thisII 
.II 
zII 
=II 
zII 
;II 
thisJJ 
.JJ 
mJJ 
=JJ 
mJJ 
;JJ 
}KK 	
[PP 	
SystemPP	 
.PP 
DiagnosticsPP 
.PP 
CodeAnalysisPP (
.PP( )
SuppressMessagePP) 8
(PP8 9
$strPP9 K
,PPK L
$strPPM U
,PPU V
JustificationPPW d
=PPe f
$strPPg x
)PPx y
]PPy z
publicQQ 
overrideQQ 
doubleQQ 
XQQ  
{RR 	
getSS 
{TT 
ifUU 
(UU 
thisUU 
.UU 
IsEmptyUU  
)UU  !
{VV 
throwWW 
newWW !
NotSupportedExceptionWW 3
(WW3 4
StringsWW4 ;
.WW; <+
Point_AccessCoordinateWhenEmptyWW< [
)WW[ \
;WW\ ]
}XX 
returnZZ 
thisZZ 
.ZZ 
xZZ 
;ZZ 
}[[ 
}\\ 	
[aa 	
Systemaa	 
.aa 
Diagnosticsaa 
.aa 
CodeAnalysisaa (
.aa( )
SuppressMessageaa) 8
(aa8 9
$straa9 K
,aaK L
$straaM U
,aaU V
JustificationaaW d
=aae f
$straag x
)aax y
]aay z
publicbb 
overridebb 
doublebb 
Ybb  
{cc 	
getdd 
{ee 
ifff 
(ff 
thisff 
.ff 
IsEmptyff  
)ff  !
{gg 
throwhh 
newhh !
NotSupportedExceptionhh 3
(hh3 4
Stringshh4 ;
.hh; <+
Point_AccessCoordinateWhenEmptyhh< [
)hh[ \
;hh\ ]
}ii 
returnkk 
thiskk 
.kk 
ykk 
;kk 
}ll 
}mm 	
publicrr 
overriderr 
boolrr 
IsEmptyrr $
{ss 	
gettt 
{uu 
returnvv 
doublevv 
.vv 
IsNaNvv #
(vv# $
thisvv$ (
.vv( )
xvv) *
)vv* +
;vv+ ,
}ww 
}xx 	
[}} 	
System}}	 
.}} 
Diagnostics}} 
.}} 
CodeAnalysis}} (
.}}( )
SuppressMessage}}) 8
(}}8 9
$str}}9 K
,}}K L
$str}}M U
,}}U V
Justification}}W d
=}}e f
$str}}g 
)	}} €
]
}}€ 
public~~ 
override~~ 
double~~ 
?~~ 
Z~~  !
{ 	
get
€€ 
{
€€ 
return
€€ 
this
€€ 
.
€€ 
z
€€ 
;
€€  
}
€€! "
}
 	
[
†† 	
System
††	 
.
†† 
Diagnostics
†† 
.
†† 
CodeAnalysis
†† (
.
††( )
SuppressMessage
††) 8
(
††8 9
$str
††9 K
,
††K L
$str
††M U
,
††U V
Justification
††W d
=
††e f
$str
††g 
)†† €
]††€ 
public
‡‡ 
override
‡‡ 
double
‡‡ 
?
‡‡ 
M
‡‡  !
{
ˆˆ 	
get
‰‰ 
{
‰‰ 
return
‰‰ 
this
‰‰ 
.
‰‰ 
m
‰‰ 
;
‰‰  
}
‰‰! "
}
ŠŠ 	
[
 	
System
	 
.
 
Diagnostics
 
.
 
CodeAnalysis
 (
.
( )
SuppressMessage
) 8
(
8 9
$str
9 K
,
K L
$str
M z
,
z {
	MessageId| …
=† ‡
$strˆ ‹
,‹ Œ
Justification š
=› œ
$str ·
)· ¸
]¸ ¹
public
‘‘ 
override
‘‘ 
void
‘‘ 
SendTo
‘‘ #
(
‘‘# $
GeometryPipeline
‘‘$ 4
pipeline
‘‘5 =
)
‘‘= >
{
’’ 	
base
““ 
.
““ 
SendTo
““ 
(
““ 
pipeline
““  
)
““  !
;
““! "
pipeline
”” 
.
”” 
BeginGeometry
”” "
(
””" #
SpatialType
””# .
.
””. /
Point
””/ 4
)
””4 5
;
””5 6
if
•• 
(
•• 
!
•• 
this
•• 
.
•• 
IsEmpty
•• 
)
•• 
{
–– 
pipeline
—— 
.
—— 
BeginFigure
—— $
(
——$ %
new
——% (
GeometryPosition
——) 9
(
——9 :
this
——: >
.
——> ?
x
——? @
,
——@ A
this
——B F
.
——F G
y
——G H
,
——H I
this
——J N
.
——N O
z
——O P
,
——P Q
this
——R V
.
——V W
m
——W X
)
——X Y
)
——Y Z
;
——Z [
pipeline
˜˜ 
.
˜˜ 
	EndFigure
˜˜ "
(
˜˜" #
)
˜˜# $
;
˜˜$ %
}
™™ 
pipeline
›› 
.
›› 
EndGeometry
››  
(
››  !
)
››! "
;
››" #
}
œœ 	
}
 
} 
CD:\odata.net\src\Microsoft.Spatial\GeometryPolygonImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class )
GeometryPolygonImplementation 0
:1 2
GeometryPolygon3 B
{ 
private 
GeometryLineString "
[" #
]# $
rings% *
;* +
internal )
GeometryPolygonImplementation .
(. /
CoordinateSystem/ ?
coordinateSystem@ P
,P Q!
SpatialImplementationR g
creatorh o
,o p
paramsq w
GeometryLineString	x Š
[
Š ‹
]
‹ Œ
rings
 ’
)
’ “
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
rings 
= 
rings 
?? !
new" %
GeometryLineString& 8
[8 9
$num9 :
]: ;
;; <
} 	
internal&& )
GeometryPolygonImplementation&& .
(&&. /!
SpatialImplementation&&/ D
creator&&E L
,&&L M
params&&N T
GeometryLineString&&U g
[&&g h
]&&h i
rings&&j o
)&&o p
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
rings''> C
)''C D
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
rings22 !
.22! "
Length22" (
==22) +
$num22, -
;22- .
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
GeometryLineString99+ =
>99= >
Rings99? D
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
GeometryLineString;;0 B
>;;B C
(;;C D
this;;D H
.;;H I
rings;;I N
);;N O
;;;O P
};;Q R
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| …
=
BB† ‡
$str
BBˆ ‹
,
BB‹ Œ
Justification
BB š
=
BB› œ
$str
BB ·
)
BB· ¸
]
BB¸ ¹
publicCC 
overrideCC 
voidCC 
SendToCC #
(CC# $
GeometryPipelineCC$ 4
pipelineCC5 =
)CC= >
{DD 	
baseEE 
.EE 
SendToEE 
(EE 
pipelineEE  
)EE  !
;EE! "
pipelineFF 
.FF 
BeginGeometryFF "
(FF" #
SpatialTypeFF# .
.FF. /
PolygonFF/ 6
)FF6 7
;FF7 8
forHH 
(HH 
intHH 
iHH 
=HH 
$numHH 
;HH 
iHH 
<HH 
thisHH  $
.HH$ %
ringsHH% *
.HH* +
LengthHH+ 1
;HH1 2
++HH3 5
iHH5 6
)HH6 7
{II 
thisJJ 
.JJ 
ringsJJ 
[JJ 
iJJ 
]JJ 
.JJ 

SendFigureJJ (
(JJ( )
pipelineJJ) 1
)JJ1 2
;JJ2 3
}KK 
pipelineMM 
.MM 
EndGeometryMM  
(MM  !
)MM! "
;MM" #
}NN 	
}OO 
}PP ¢
FD:\odata.net\src\Microsoft.Spatial\GeometryCollectionImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class ,
 GeometryCollectionImplementation 3
:4 5
GeometryCollection6 H
{ 
private 
Geometry 
[ 
] 
geometryArray (
;( )
internal ,
 GeometryCollectionImplementation 1
(1 2
CoordinateSystem2 B
coordinateSystemC S
,S T!
SpatialImplementationU j
creatork r
,r s
paramst z
Geometry	{ ƒ
[
ƒ „
]
„ …
geometry
† 
)
 
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
geometryArray 
=  
geometry! )
??* ,
new- 0
Geometry1 9
[9 :
$num: ;
]; <
;< =
} 	
internal&& ,
 GeometryCollectionImplementation&& 1
(&&1 2!
SpatialImplementation&&2 G
creator&&H O
,&&O P
params&&Q W
Geometry&&X `
[&&` a
]&&a b
geometry&&c k
)&&k l
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
geometry''> F
)''F G
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
geometryArray22 )
.22) *
Length22* 0
==221 3
$num224 5
;225 6
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
Geometry99+ 3
>993 4

Geometries995 ?
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
Geometry;;0 8
>;;8 9
(;;9 :
this;;: >
.;;> ?
geometryArray;;? L
);;L M
;;;M N
};;O P
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| …
=
BB† ‡
$str
BBˆ ‹
,
BB‹ Œ
Justification
BB š
=
BB› œ
$str
BB ·
)
BB· ¸
]
BB¸ ¹
publicCC 
overrideCC 
voidCC 
SendToCC #
(CC# $
GeometryPipelineCC$ 4
pipelineCC5 =
)CC= >
{DD 	
baseEE 
.EE 
SendToEE 
(EE 
pipelineEE  
)EE  !
;EE! "
pipelineFF 
.FF 
BeginGeometryFF "
(FF" #
SpatialTypeFF# .
.FF. /

CollectionFF/ 9
)FF9 :
;FF: ;
forGG 
(GG 
intGG 
iGG 
=GG 
$numGG 
;GG 
iGG 
<GG 
thisGG  $
.GG$ %
geometryArrayGG% 2
.GG2 3
LengthGG3 9
;GG9 :
++GG; =
iGG= >
)GG> ?
{HH 
thisII 
.II 
geometryArrayII "
[II" #
iII# $
]II$ %
.II% &
SendToII& ,
(II, -
pipelineII- 5
)II5 6
;II6 7
}JJ 
pipelineLL 
.LL 
EndGeometryLL  
(LL  !
)LL! "
;LL" #
}MM 	
}NN 
}OO İ
0D:\odata.net\src\Microsoft.Spatial\DebugUtils.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class 

DebugUtils $
{ 
[ 	
System	 
. 
Diagnostics 
. 
Conditional '
(' (
$str( /
)/ 0
]0 1
internal 
static 
void "
CheckNoExternalCallers 3
(3 4
)4 5
{ 	
} 	
} 
} 
;D:\odata.net\src\Microsoft.Spatial\GeometryHelperMethods.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class !
GeometryHelperMethods /
{ 
internal 
static 
void 

SendFigure '
(' (
this( ,
GeometryLineString- ?
GeometryLineString@ R
,R S
GeometryPipelineT d
pipelinee m
)m n
{ 	
Util 
. 
CheckArgumentNull "
(" #
GeometryLineString# 5
,5 6
$str7 K
)K L
;L M
for 
( 
int 
i 
= 
$num 
; 
i 
< 
GeometryLineString  2
.2 3
Points3 9
.9 :
Count: ?
;? @
++A C
iC D
)D E
{ 
GeometryPoint 
currentPoint *
=+ ,
GeometryLineString- ?
.? @
Points@ F
[F G
iG H
]H I
;I J
var 
position 
= 
new "
GeometryPosition# 3
(3 4
currentPoint4 @
.@ A
XA B
,B C
currentPointD P
.P Q
YQ R
,R S
currentPointT `
.` a
Za b
,b c
currentPointd p
.p q
Mq r
)r s
;s t
if 
( 
i 
== 
$num 
) 
{ 
pipeline 
. 
BeginFigure (
(( )
position) 1
)1 2
;2 3
} 
else 
{ 
pipeline   
.   
LineTo   #
(  # $
position  $ ,
)  , -
;  - .
}!! 
}"" 
if$$ 
($$ 
GeometryLineString$$ "
.$$" #
Points$$# )
.$$) *
Count$$* /
>$$0 1
$num$$2 3
)$$3 4
{%% 
pipeline&& 
.&& 
	EndFigure&& "
(&&" #
)&&# $
;&&$ %
}'' 
}(( 	
})) 
}** Ê•
/D:\odata.net\src\Microsoft.Spatial\GmlReader.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
	GmlReader 
: 
SpatialReader ,
<, -
	XmlReader- 6
>6 7
{ 
public 
	GmlReader 
( 
SpatialPipeline (
destination) 4
)4 5
: 
base 
( 
destination 
) 
{ 	
} 	
	protected   
override   
void   '
ReadGeographyImplementation    ;
(  ; <
	XmlReader  < E
input  F K
)  K L
{!! 	
new"" 
Parser"" 
("" 
input"" 
,"" 
new"" !0
$TypeWashedToGeographyLatLongPipeline""" F
(""F G
Destination""G R
)""R S
)""S T
.""T U
Read""U Y
(""Y Z
)""Z [
;""[ \
}## 	
	protected)) 
override)) 
void)) &
ReadGeometryImplementation))  :
()): ;
	XmlReader)); D
input))E J
)))J K
{** 	
new++ 
Parser++ 
(++ 
input++ 
,++ 
new++ !(
TypeWashedToGeometryPipeline++" >
(++> ?
Destination++? J
)++J K
)++K L
.++L M
Read++M Q
(++Q R
)++R S
;++S T
},, 	
private11 
class11 
Parser11 
{22 	
private66 
static66 
readonly66 #
char66$ (
[66( )
]66) *
coordinateDelimiter66+ >
=66? @
{66A B
$char66C F
,66F G
$char66H L
,66L M
$char66N R
,66R S
$char66T X
}66Y Z
;66Z [
private;; 
static;; 
readonly;; #

Dictionary;;$ .
<;;. /
String;;/ 5
,;;5 6
String;;7 =
>;;= >
skippableElements;;? P
=;;Q R
new;;S V

Dictionary;;W a
<;;a b
string;;b h
,;;h i
string;;j p
>;;p q
(;;q r
StringComparer	;;r €
.
;;€ 
Ordinal
;; ˆ
)
;;ˆ ‰
{<< 
{== 
GmlConstants== "
.==" #
Name==# '
,==' (
GmlConstants==) 5
.==5 6
Name==6 :
}==; <
,==< =
{>> 
GmlConstants>> "
.>>" #
Description>># .
,>>. /
GmlConstants>>0 <
.>>< =
Description>>= H
}>>I J
,>>J K
{?? 
GmlConstants?? "
.??" #
MetadataProperty??# 3
,??3 4
GmlConstants??5 A
.??A B
MetadataProperty??B R
}??S T
,??T U
{@@ 
GmlConstants@@ "
.@@" # 
DescriptionReference@@# 7
,@@7 8
GmlConstants@@9 E
.@@E F 
DescriptionReference@@F Z
}@@[ \
,@@\ ]
{AA 
GmlConstantsAA "
.AA" #
IdentifierElementAA# 4
,AA4 5
GmlConstantsAA6 B
.AAB C
IdentifierElementAAC T
}AAU V
}BB 
;BB 
privateII 
readonlyII 
stringII #
gmlNamespaceII$ 0
;II0 1
privateNN 
readonlyNN 
stringNN #
fullGlobeNamespaceNN$ 6
;NN6 7
privateUU 
readonlyUU 
TypeWashedPipelineUU /
pipelineUU0 8
;UU8 9
privateZZ 
readonlyZZ 
	XmlReaderZZ &
readerZZ' -
;ZZ- .
private__ 
int__ 
points__ 
;__ 
internalff 
Parserff 
(ff 
	XmlReaderff %
readerff& ,
,ff, -
TypeWashedPipelineff. @
pipelineffA I
)ffI J
{gg 
Debughh 
.hh 
Asserthh 
(hh 
readerhh #
!=hh$ &
nullhh' +
&&hh, .
pipelinehh/ 7
!=hh8 :
nullhh; ?
,hh? @
$strhhA ]
)hh] ^
;hh^ _
thisii 
.ii 
readerii 
=ii 
readerii $
;ii$ %
thisjj 
.jj 
pipelinejj 
=jj 
pipelinejj  (
;jj( )
varll 
	nametablell 
=ll 
thisll  $
.ll$ %
readerll% +
.ll+ ,
	NameTablell, 5
;ll5 6
thismm 
.mm 
gmlNamespacemm !
=mm" #
	nametablemm$ -
.mm- .
Addmm. 1
(mm1 2
GmlConstantsmm2 >
.mm> ?
GmlNamespacemm? K
)mmK L
;mmL M
thisnn 
.nn 
fullGlobeNamespacenn '
=nn( )
	nametablenn* 3
.nn3 4
Addnn4 7
(nn7 8
GmlConstantsnn8 D
.nnD E
FullGlobeNamespacennE W
)nnW X
;nnX Y
}oo 
publictt 
voidtt 
Readtt 
(tt 
)tt 
{uu 
thisvv 
.vv 
ParseGmlGeometryvv %
(vv% &
truevv& *
)vv* +
;vv+ ,
}ww 
private}} 
void}} 
ParseGmlGeometry}} )
(}}) *
bool}}* . 
readCoordinateSystem}}/ C
)}}C D
{~~ 
if 
( 
! 
this 
. 
reader  
.  !
IsStartElement! /
(/ 0
)0 1
)1 2
{
€€ 
throw
 
new
 
FormatException
 -
(
- .
Strings
. 5
.
5 6-
GmlReader_ExpectReaderAtElement
6 U
)
U V
;
V W
}
‚‚ 
if
…… 
(
…… 
object
…… 
.
…… 
ReferenceEquals
…… *
(
……* +
this
……+ /
.
……/ 0
reader
……0 6
.
……6 7
NamespaceURI
……7 C
,
……C D
this
……E I
.
……I J
gmlNamespace
……J V
)
……V W
)
……W X
{
†† 
this
‡‡ 
.
‡‡ 
ReadAttributes
‡‡ '
(
‡‡' ("
readCoordinateSystem
‡‡( <
)
‡‡< =
;
‡‡= >
switch
‰‰ 
(
‰‰ 
this
‰‰  
.
‰‰  !
reader
‰‰! '
.
‰‰' (
	LocalName
‰‰( 1
)
‰‰1 2
{
ŠŠ 
case
‹‹ 
GmlConstants
‹‹ )
.
‹‹) *
Point
‹‹* /
:
‹‹/ 0
this
ŒŒ  
.
ŒŒ  ! 
ParseGmlPointShape
ŒŒ! 3
(
ŒŒ3 4
)
ŒŒ4 5
;
ŒŒ5 6
break
 !
;
! "
case
 
GmlConstants
 )
.
) *

LineString
* 4
:
4 5
this
  
.
  !%
ParseGmlLineStringShape
! 8
(
8 9
)
9 :
;
: ;
break
 !
;
! "
case
‘‘ 
GmlConstants
‘‘ )
.
‘‘) *
Polygon
‘‘* 1
:
‘‘1 2
this
’’  
.
’’  !"
ParseGmlPolygonShape
’’! 5
(
’’5 6
)
’’6 7
;
’’7 8
break
““ !
;
““! "
case
”” 
GmlConstants
”” )
.
””) *

MultiPoint
””* 4
:
””4 5
this
••  
.
••  !%
ParseGmlMultiPointShape
••! 8
(
••8 9
)
••9 :
;
••: ;
break
–– !
;
––! "
case
—— 
GmlConstants
—— )
.
——) *
MultiLineString
——* 9
:
——9 :
this
˜˜  
.
˜˜  !%
ParseGmlMultiCurveShape
˜˜! 8
(
˜˜8 9
)
˜˜9 :
;
˜˜: ;
break
™™ !
;
™™! "
case
šš 
GmlConstants
šš )
.
šš) *
MultiPolygon
šš* 6
:
šš6 7
this
››  
.
››  !'
ParseGmlMultiSurfaceShape
››! :
(
››: ;
)
››; <
;
››< =
break
œœ !
;
œœ! "
case
 
GmlConstants
 )
.
) *

Collection
* 4
:
4 5
this
  
.
  !(
ParseGmlMultiGeometryShape
! ;
(
; <
)
< =
;
= >
break
ŸŸ !
;
ŸŸ! "
default
   
:
    
throw
¡¡ !
new
¡¡" %
FormatException
¡¡& 5
(
¡¡5 6
Strings
¡¡6 =
.
¡¡= >*
GmlReader_InvalidSpatialType
¡¡> Z
(
¡¡Z [
this
¡¡[ _
.
¡¡_ `
reader
¡¡` f
.
¡¡f g
	LocalName
¡¡g p
)
¡¡p q
)
¡¡q r
;
¡¡r s
}
¢¢ 
}
££ 
else
¤¤ 
if
¤¤ 
(
¤¤ 
object
¤¤ 
.
¤¤  
ReferenceEquals
¤¤  /
(
¤¤/ 0
this
¤¤0 4
.
¤¤4 5
reader
¤¤5 ;
.
¤¤; <
NamespaceURI
¤¤< H
,
¤¤H I
this
¤¤J N
.
¤¤N O 
fullGlobeNamespace
¤¤O a
)
¤¤a b
&&
¤¤c e
this
¤¤f j
.
¤¤j k
reader
¤¤k q
.
¤¤q r
	LocalName
¤¤r {
.
¤¤{ |
Equals¤¤| ‚
(¤¤‚ ƒ
GmlConstants¤¤ƒ 
.¤¤ 
	FullGlobe¤¤ ™
)¤¤™ š
)¤¤š ›
{
¥¥ 
this
¦¦ 
.
¦¦ 
ReadAttributes
¦¦ '
(
¦¦' ("
readCoordinateSystem
¦¦( <
)
¦¦< =
;
¦¦= >
this
§§ 
.
§§ &
ParseGmlFullGlobeElement
§§ 1
(
§§1 2
)
§§2 3
;
§§3 4
}
¨¨ 
else
©© 
{
ªª 
throw
«« 
new
«« 
FormatException
«« -
(
««- .
Strings
««. 5
.
««5 6-
GmlReader_ExpectReaderAtElement
««6 U
)
««U V
;
««V W
}
¬¬ 
}
­­ 
private
³³ 
void
³³ 
ReadAttributes
³³ '
(
³³' (
bool
³³( ,
expectSrsName
³³- :
)
³³: ;
{
´´ 
bool
µµ 
crsSet
µµ 
=
µµ 
false
µµ #
;
µµ# $
this
¸¸ 
.
¸¸ 
reader
¸¸ 
.
¸¸ 
MoveToContent
¸¸ )
(
¸¸) *
)
¸¸* +
;
¸¸+ ,
if
¹¹ 
(
¹¹ 
this
¹¹ 
.
¹¹ 
reader
¹¹ 
.
¹¹  "
MoveToFirstAttribute
¹¹  4
(
¹¹4 5
)
¹¹5 6
)
¹¹6 7
{
ºº 
do
»» 
{
¼¼ 
if
½½ 
(
½½ 
this
½½  
.
½½  !
reader
½½! '
.
½½' (
NamespaceURI
½½( 4
.
½½4 5
Equals
½½5 ;
(
½½; <
XmlConstants
½½< H
.
½½H I
XmlnsNamespace
½½I W
,
½½W X
StringComparison
½½Y i
.
½½i j
Ordinal
½½j q
)
½½q r
)
½½r s
{
¾¾ 
continue
ÀÀ $
;
ÀÀ$ %
}
ÁÁ 
string
ÃÃ 
attributeName
ÃÃ ,
=
ÃÃ- .
this
ÃÃ/ 3
.
ÃÃ3 4
reader
ÃÃ4 :
.
ÃÃ: ;
	LocalName
ÃÃ; D
;
ÃÃD E
switch
ÄÄ 
(
ÄÄ  
attributeName
ÄÄ  -
)
ÄÄ- .
{
ÅÅ 
case
ÆÆ  
GmlConstants
ÆÆ! -
.
ÆÆ- .

AxisLabels
ÆÆ. 8
:
ÆÆ8 9
case
ÇÇ  
GmlConstants
ÇÇ! -
.
ÇÇ- .
	UomLabels
ÇÇ. 7
:
ÇÇ7 8
case
ÈÈ  
GmlConstants
ÈÈ! -
.
ÈÈ- .
Count
ÈÈ. 3
:
ÈÈ3 4
case
ÉÉ  
GmlConstants
ÉÉ! -
.
ÉÉ- .
IdName
ÉÉ. 4
:
ÉÉ4 5
break
ÊÊ  %
;
ÊÊ% &
case
ËË  
GmlConstants
ËË! -
.
ËË- .
SrsName
ËË. 5
:
ËË5 6
if
ÌÌ  "
(
ÌÌ# $
!
ÌÌ$ %
expectSrsName
ÌÌ% 2
)
ÌÌ2 3
{
ÍÍ  !
this
ÎÎ$ (
.
ÎÎ( )
reader
ÎÎ) /
.
ÎÎ/ 0
MoveToElement
ÎÎ0 =
(
ÎÎ= >
)
ÎÎ> ?
;
ÎÎ? @
throw
ÏÏ$ )
new
ÏÏ* -
FormatException
ÏÏ. =
(
ÏÏ= >
Strings
ÏÏ> E
.
ÏÏE F(
GmlReader_InvalidAttribute
ÏÏF `
(
ÏÏ` a
attributeName
ÏÏa n
,
ÏÏn o
this
ÏÏp t
.
ÏÏt u
reader
ÏÏu {
.
ÏÏ{ |
NameÏÏ| €
)ÏÏ€ 
)ÏÏ ‚
;ÏÏ‚ ƒ
}
ĞĞ  !
string
ÓÓ  &
attributeValue
ÓÓ' 5
=
ÓÓ6 7
this
ÓÓ8 <
.
ÓÓ< =
reader
ÓÓ= C
.
ÓÓC D
Value
ÓÓD I
;
ÓÓI J
if
ÔÔ  "
(
ÔÔ# $
attributeValue
ÔÔ$ 2
.
ÔÔ2 3

StartsWith
ÔÔ3 =
(
ÔÔ= >
GmlConstants
ÔÔ> J
.
ÔÔJ K
	SrsPrefix
ÔÔK T
,
ÔÔT U
StringComparison
ÔÔV f
.
ÔÔf g
Ordinal
ÔÔg n
)
ÔÔn o
)
ÔÔo p
{
ÕÕ  !
int
ÖÖ$ '
id
ÖÖ( *
=
ÖÖ+ ,

XmlConvert
ÖÖ- 7
.
ÖÖ7 8
ToInt32
ÖÖ8 ?
(
ÖÖ? @
attributeValue
ÖÖ@ N
.
ÖÖN O
	Substring
ÖÖO X
(
ÖÖX Y
GmlConstants
ÖÖY e
.
ÖÖe f
	SrsPrefix
ÖÖf o
.
ÖÖo p
Length
ÖÖp v
)
ÖÖv w
)
ÖÖw x
;
ÖÖx y
this
××$ (
.
××( )
pipeline
××) 1
.
××1 2!
SetCoordinateSystem
××2 E
(
××E F
id
××F H
)
××H I
;
××I J
crsSet
ØØ$ *
=
ØØ+ ,
true
ØØ- 1
;
ØØ1 2
}
ÙÙ  !
else
ÚÚ  $
{
ÛÛ  !
throw
ÜÜ$ )
new
ÜÜ* -
FormatException
ÜÜ. =
(
ÜÜ= >
Strings
ÜÜ> E
.
ÜÜE F&
GmlReader_InvalidSrsName
ÜÜF ^
(
ÜÜ^ _
GmlConstants
ÜÜ_ k
.
ÜÜk l
	SrsPrefix
ÜÜl u
)
ÜÜu v
)
ÜÜv w
;
ÜÜw x
}
İİ  !
break
ßß  %
;
ßß% &
default
àà #
:
àà# $
this
áá  $
.
áá$ %
reader
áá% +
.
áá+ ,
MoveToElement
áá, 9
(
áá9 :
)
áá: ;
;
áá; <
throw
ââ  %
new
ââ& )
FormatException
ââ* 9
(
ââ9 :
Strings
ââ: A
.
ââA B(
GmlReader_InvalidAttribute
ââB \
(
ââ\ ]
attributeName
ââ] j
,
ââj k
this
ââl p
.
ââp q
reader
ââq w
.
ââw x
Name
ââx |
)
ââ| }
)
ââ} ~
;
ââ~ 
}
ãã 
}
ää 
while
åå 
(
åå 
this
åå 
.
åå  
reader
åå  &
.
åå& '!
MoveToNextAttribute
åå' :
(
åå: ;
)
åå; <
)
åå< =
;
åå= >
this
çç 
.
çç 
reader
çç 
.
çç  
MoveToElement
çç  -
(
çç- .
)
çç. /
;
çç/ 0
}
èè 
if
êê 
(
êê 
expectSrsName
êê !
&&
êê" $
!
êê% &
crsSet
êê& ,
)
êê, -
{
ëë 
this
ìì 
.
ìì 
pipeline
ìì !
.
ìì! "!
SetCoordinateSystem
ìì" 5
(
ìì5 6
null
ìì6 :
)
ìì: ;
;
ìì; <
}
íí 
}
îî 
private
õõ 
void
õõ  
ParseGmlPointShape
õõ +
(
õõ+ ,
)
õõ, -
{
öö 
this
÷÷ 
.
÷÷ 
pipeline
÷÷ 
.
÷÷ 
BeginGeo
÷÷ &
(
÷÷& '
SpatialType
÷÷' 2
.
÷÷2 3
Point
÷÷3 8
)
÷÷8 9
;
÷÷9 :
this
øø 
.
øø 
PrepareFigure
øø "
(
øø" #
)
øø# $
;
øø$ %
this
ùù 
.
ùù "
ParseGmlPointElement
ùù )
(
ùù) *
true
ùù* .
)
ùù? @
;
ùù@ A
this
úú 
.
úú 
	EndFigure
úú 
(
úú 
)
úú  
;
úú  !
this
ûû 
.
ûû 
pipeline
ûû 
.
ûû 
EndGeo
ûû $
(
ûû$ %
)
ûû% &
;
ûû& '
}
üü 
private
 
void
 %
ParseGmlLineStringShape
 0
(
0 1
)
1 2
{
‚‚ 
this
ƒƒ 
.
ƒƒ 
pipeline
ƒƒ 
.
ƒƒ 
BeginGeo
ƒƒ &
(
ƒƒ& '
SpatialType
ƒƒ' 2
.
ƒƒ2 3

LineString
ƒƒ3 =
)
ƒƒ= >
;
ƒƒ> ?
this
„„ 
.
„„ 
PrepareFigure
„„ "
(
„„" #
)
„„# $
;
„„$ %
this
…… 
.
……  
ParseGmlLineString
…… '
(
……' (
)
……( )
;
……) *
this
†† 
.
†† 
	EndFigure
†† 
(
†† 
)
††  
;
††  !
this
‡‡ 
.
‡‡ 
pipeline
‡‡ 
.
‡‡ 
EndGeo
‡‡ $
(
‡‡$ %
)
‡‡% &
;
‡‡& '
}
ˆˆ 
private
 
void
 "
ParseGmlPolygonShape
 -
(
- .
)
. /
{
 
this
”” 
.
”” 
pipeline
”” 
.
”” 
BeginGeo
”” &
(
””& '
SpatialType
””' 2
.
””2 3
Polygon
””3 :
)
””: ;
;
””; <
if
–– 
(
–– 
this
–– 
.
–– %
ReadStartOrEmptyElement
–– 0
(
––0 1
GmlConstants
––1 =
.
––= >
Polygon
––> E
)
––E F
)
––F G
{
—— 
this
˜˜ 
.
˜˜ #
ReadSkippableElements
˜˜ .
(
˜˜. /
)
˜˜/ 0
;
˜˜0 1
if
™™ 
(
™™ 
!
™™ 
this
™™ 
.
™™ 
IsEndElement
™™ *
(
™™* +
GmlConstants
™™+ 7
.
™™7 8
Polygon
™™8 ?
)
™™? @
)
™™@ A
{
šš 
this
›› 
.
›› 
PrepareFigure
›› *
(
››* +
)
››+ ,
;
››, -
this
œœ 
.
œœ !
ParseGmlRingElement
œœ 0
(
œœ0 1
GmlConstants
œœ1 =
.
œœ= >
ExteriorRing
œœ> J
)
œœJ K
;
œœK L
this
 
.
 
	EndFigure
 &
(
& '
)
' (
;
( )
this
ŸŸ 
.
ŸŸ #
ReadSkippableElements
ŸŸ 2
(
ŸŸ2 3
)
ŸŸ3 4
;
ŸŸ4 5
while
   
(
   
this
   #
.
  # $
IsStartElement
  $ 2
(
  2 3
GmlConstants
  3 ?
.
  ? @
InteriorRing
  @ L
)
  L M
)
  M N
{
¡¡ 
this
¢¢  
.
¢¢  !
PrepareFigure
¢¢! .
(
¢¢. /
)
¢¢/ 0
;
¢¢0 1
this
££  
.
££  !!
ParseGmlRingElement
££! 4
(
££4 5
GmlConstants
££5 A
.
££A B
InteriorRing
££B N
)
££N O
;
££O P
this
¤¤  
.
¤¤  !
	EndFigure
¤¤! *
(
¤¤* +
)
¤¤+ ,
;
¤¤, -
this
¥¥  
.
¥¥  !#
ReadSkippableElements
¥¥! 6
(
¥¥6 7
)
¥¥7 8
;
¥¥8 9
}
¦¦ 
}
§§ 
this
©© 
.
©© #
ReadSkippableElements
©© .
(
©©. /
)
©©/ 0
;
©©0 1
this
ªª 
.
ªª 
ReadEndElement
ªª '
(
ªª' (
)
ªª( )
;
ªª) *
}
«« 
this
­­ 
.
­­ 
pipeline
­­ 
.
­­ 
EndGeo
­­ $
(
­­$ %
)
­­% &
;
­­& '
}
®® 
private
³³ 
void
³³ %
ParseGmlMultiPointShape
³³ 0
(
³³0 1
)
³³1 2
{
´´ 
this
µµ 
.
µµ 
pipeline
µµ 
.
µµ 
BeginGeo
µµ &
(
µµ& '
SpatialType
µµ' 2
.
µµ2 3

MultiPoint
µµ3 =
)
µµ= >
;
µµ> ?
this
¶¶ 
.
¶¶ #
ParseMultiItemElement
¶¶ *
(
¶¶* +
GmlConstants
¶¶+ 7
.
¶¶7 8

MultiPoint
¶¶8 B
,
¶¶B C
GmlConstants
¶¶D P
.
¶¶P Q
PointMember
¶¶Q \
,
¶¶\ ]
GmlConstants
¶¶^ j
.
¶¶j k
PointMembers
¶¶k w
,
¶¶w x
this
¶¶y }
.
¶¶} ~!
ParseGmlPointShape¶¶~ 
)¶¶ ‘
;¶¶‘ ’
this
·· 
.
·· 
pipeline
·· 
.
·· 
EndGeo
·· $
(
··$ %
)
··% &
;
··& '
}
¸¸ 
private
½½ 
void
½½ %
ParseGmlMultiCurveShape
½½ 0
(
½½0 1
)
½½1 2
{
¾¾ 
this
¿¿ 
.
¿¿ 
pipeline
¿¿ 
.
¿¿ 
BeginGeo
¿¿ &
(
¿¿& '
SpatialType
¿¿' 2
.
¿¿2 3
MultiLineString
¿¿3 B
)
¿¿B C
;
¿¿C D
this
ÀÀ 
.
ÀÀ #
ParseMultiItemElement
ÀÀ *
(
ÀÀ* +
GmlConstants
ÀÀ+ 7
.
ÀÀ7 8
MultiLineString
ÀÀ8 G
,
ÀÀG H
GmlConstants
ÀÀI U
.
ÀÀU V
LineStringMember
ÀÀV f
,
ÀÀf g
GmlConstants
ÀÀh t
.
ÀÀt u 
LineStringMembersÀÀu †
,ÀÀ† ‡
thisÀÀˆ Œ
.ÀÀŒ '
ParseGmlLineStringShapeÀÀ ¤
)ÀÀ¤ ¥
;ÀÀ¥ ¦
this
ÁÁ 
.
ÁÁ 
pipeline
ÁÁ 
.
ÁÁ 
EndGeo
ÁÁ $
(
ÁÁ$ %
)
ÁÁ% &
;
ÁÁ& '
}
ÂÂ 
private
ÇÇ 
void
ÇÇ '
ParseGmlMultiSurfaceShape
ÇÇ 2
(
ÇÇ2 3
)
ÇÇ3 4
{
ÈÈ 
this
ÉÉ 
.
ÉÉ 
pipeline
ÉÉ 
.
ÉÉ 
BeginGeo
ÉÉ &
(
ÉÉ& '
SpatialType
ÉÉ' 2
.
ÉÉ2 3
MultiPolygon
ÉÉ3 ?
)
ÉÉ? @
;
ÉÉ@ A
this
ÊÊ 
.
ÊÊ #
ParseMultiItemElement
ÊÊ *
(
ÊÊ* +
GmlConstants
ÊÊ+ 7
.
ÊÊ7 8
MultiPolygon
ÊÊ8 D
,
ÊÊD E
GmlConstants
ÊÊF R
.
ÊÊR S
PolygonMember
ÊÊS `
,
ÊÊ` a
GmlConstants
ÊÊb n
.
ÊÊn o
PolygonMembers
ÊÊo }
,
ÊÊ} ~
thisÊÊ ƒ
.ÊÊƒ „$
ParseGmlPolygonShapeÊÊ„ ˜
)ÊÊ˜ ™
;ÊÊ™ š
this
ËË 
.
ËË 
pipeline
ËË 
.
ËË 
EndGeo
ËË $
(
ËË$ %
)
ËË% &
;
ËË& '
}
ÌÌ 
private
ÑÑ 
void
ÑÑ (
ParseGmlMultiGeometryShape
ÑÑ 3
(
ÑÑ3 4
)
ÑÑ4 5
{
ÒÒ 
this
ÓÓ 
.
ÓÓ 
pipeline
ÓÓ 
.
ÓÓ 
BeginGeo
ÓÓ &
(
ÓÓ& '
SpatialType
ÓÓ' 2
.
ÓÓ2 3

Collection
ÓÓ3 =
)
ÓÓ= >
;
ÓÓ> ?
this
ÔÔ 
.
ÔÔ #
ParseMultiItemElement
ÔÔ *
(
ÔÔ* +
GmlConstants
ÔÔ+ 7
.
ÔÔ7 8

Collection
ÔÔ8 B
,
ÔÔB C
GmlConstants
ÔÔD P
.
ÔÔP Q
CollectionMember
ÔÔQ a
,
ÔÔa b
GmlConstants
ÔÔc o
.
ÔÔo p 
CollectionMembersÔÔp 
,ÔÔ ‚
(ÔÔƒ „
)ÔÔ„ …
=>ÔÔ† ˆ
thisÔÔ‰ 
.ÔÔ  
ParseGmlGeometryÔÔ 
(ÔÔ Ÿ
falseÔÔŸ ¤
)ÔÔ¤ ¥
)ÔÔ¥ ¦
;ÔÔ¦ §
this
ÕÕ 
.
ÕÕ 
pipeline
ÕÕ 
.
ÕÕ 
EndGeo
ÕÕ $
(
ÕÕ$ %
)
ÕÕ% &
;
ÕÕ& '
}
ÖÖ 
private
ÛÛ 
void
ÛÛ &
ParseGmlFullGlobeElement
ÛÛ 1
(
ÛÛ1 2
)
ÛÛ2 3
{
ÜÜ 
this
àà 
.
àà 
pipeline
àà 
.
àà 
BeginGeo
àà &
(
àà& '
SpatialType
àà' 2
.
àà2 3
	FullGlobe
àà3 <
)
àà< =
;
àà= >
if
áá 
(
áá 
this
áá 
.
áá %
ReadStartOrEmptyElement
áá 0
(
áá0 1
GmlConstants
áá1 =
.
áá= >
	FullGlobe
áá> G
)
ááG H
)
ááH I
{
ââ 
if
ãã 
(
ãã 
this
ãã 
.
ãã 
IsEndElement
ãã )
(
ãã) *
GmlConstants
ãã* 6
.
ãã6 7
	FullGlobe
ãã7 @
)
ãã@ A
)
ããA B
{
ää 
this
åå 
.
åå 
ReadEndElement
åå +
(
åå+ ,
)
åå, -
;
åå- .
}
ææ 
}
çç 
this
éé 
.
éé 
pipeline
éé 
.
éé 
EndGeo
éé $
(
éé$ %
)
éé% &
;
éé& '
}
êê 
private
ğğ 
void
ğğ "
ParseGmlPointElement
ğğ -
(
ğğ- .
bool
ğğ. 2

allowEmpty
ğğ3 =
)
ğğ= >
{
ññ 
if
òò 
(
òò 
this
òò 
.
òò %
ReadStartOrEmptyElement
òò 0
(
òò0 1
GmlConstants
òò1 =
.
òò= >
Point
òò> C
)
òòC D
)
òòD E
{
óó 
this
ùù 
.
ùù #
ReadSkippableElements
ùù .
(
ùù. /
)
ùù/ 0
;
ùù0 1
this
úú 
.
úú  
ParseGmlPosElement
úú +
(
úú+ ,

allowEmpty
úú, 6
)
úú6 7
;
úú7 8
this
ûû 
.
ûû #
ReadSkippableElements
ûû .
(
ûû. /
)
ûû/ 0
;
ûû0 1
this
üü 
.
üü 
ReadEndElement
üü '
(
üü' (
)
üü( )
;
üü) *
}
ıı 
}
şş 
private
ƒƒ 
void
ƒƒ  
ParseGmlLineString
ƒƒ +
(
ƒƒ+ ,
)
ƒƒ, -
{
„„ 
if
ŒŒ 
(
ŒŒ 
this
ŒŒ 
.
ŒŒ %
ReadStartOrEmptyElement
ŒŒ 0
(
ŒŒ0 1
GmlConstants
ŒŒ1 =
.
ŒŒ= >

LineString
ŒŒ> H
)
ŒŒH I
)
ŒŒI J
{
 
this
 
.
 #
ReadSkippableElements
 .
(
. /
)
/ 0
;
0 1
if
 
(
 
this
 
.
 
IsPosListStart
 +
(
+ ,
)
, -
)
- .
{
 
this
‘‘ 
.
‘‘ 
ParsePosList
‘‘ )
(
‘‘) *
false
‘‘* /
)
‘‘@ A
;
‘‘A B
}
’’ 
else
““ 
{
”” 
this
•• 
.
•• $
ParseGmlPosListElement
•• 3
(
••3 4
true
••4 8
)
••I J
;
••J K
}
–– 
this
˜˜ 
.
˜˜ #
ReadSkippableElements
˜˜ .
(
˜˜. /
)
˜˜/ 0
;
˜˜0 1
this
™™ 
.
™™ 
ReadEndElement
™™ '
(
™™' (
)
™™( )
;
™™) *
}
šš 
}
›› 
private
¡¡ 
void
¡¡ !
ParseGmlRingElement
¡¡ ,
(
¡¡, -
string
¡¡- 3
ringTag
¡¡4 ;
)
¡¡; <
{
¢¢ 
if
¨¨ 
(
¨¨ 
this
¨¨ 
.
¨¨ %
ReadStartOrEmptyElement
¨¨ 0
(
¨¨0 1
ringTag
¨¨1 8
)
¨¨8 9
)
¨¨9 :
{
©© 
if
ªª 
(
ªª 
!
ªª 
this
ªª 
.
ªª 
IsEndElement
ªª *
(
ªª* +
ringTag
ªª+ 2
)
ªª2 3
)
ªª3 4
{
«« 
this
¬¬ 
.
¬¬ '
ParseGmlLinearRingElement
¬¬ 6
(
¬¬6 7
)
¬¬7 8
;
¬¬8 9
}
­­ 
this
¯¯ 
.
¯¯ 
ReadEndElement
¯¯ '
(
¯¯' (
)
¯¯( )
;
¯¯) *
}
°° 
}
±± 
private
¶¶ 
void
¶¶ '
ParseGmlLinearRingElement
¶¶ 2
(
¶¶2 3
)
¶¶3 4
{
·· 
if
¾¾ 
(
¾¾ 
this
¾¾ 
.
¾¾ %
ReadStartOrEmptyElement
¾¾ 0
(
¾¾0 1
GmlConstants
¾¾1 =
.
¾¾= >

LinearRing
¾¾> H
)
¾¾H I
)
¾¾I J
{
¿¿ 
if
ÀÀ 
(
ÀÀ 
this
ÀÀ 
.
ÀÀ 
IsEndElement
ÀÀ )
(
ÀÀ) *
GmlConstants
ÀÀ* 6
.
ÀÀ6 7

LinearRing
ÀÀ7 A
)
ÀÀA B
)
ÀÀB C
{
ÁÁ 
throw
ÃÃ 
new
ÃÃ !
FormatException
ÃÃ" 1
(
ÃÃ1 2
Strings
ÃÃ2 9
.
ÃÃ9 :,
GmlReader_EmptyRingsNotAllowed
ÃÃ: X
)
ÃÃX Y
;
ÃÃY Z
}
ÄÄ 
else
ÅÅ 
{
ÆÆ 
if
ÇÇ 
(
ÇÇ 
this
ÇÇ  
.
ÇÇ  !
IsPosListStart
ÇÇ! /
(
ÇÇ/ 0
)
ÇÇ0 1
)
ÇÇ1 2
{
ÈÈ 
this
ÉÉ  
.
ÉÉ  !
ParsePosList
ÉÉ! -
(
ÉÉ- .
false
ÉÉ. 3
)
ÉÉD E
;
ÉÉE F
}
ÊÊ 
else
ËË 
{
ÌÌ 
this
ÍÍ  
.
ÍÍ  !$
ParseGmlPosListElement
ÍÍ! 7
(
ÍÍ7 8
false
ÍÍ8 =
)
ÍÍN O
;
ÍÍO P
}
ÎÎ 
}
ÏÏ 
this
ÑÑ 
.
ÑÑ 
ReadEndElement
ÑÑ '
(
ÑÑ' (
)
ÑÑ( )
;
ÑÑ) *
}
ÒÒ 
}
ÓÓ 
private
ÜÜ 
void
ÜÜ #
ParseMultiItemElement
ÜÜ .
(
ÜÜ. /
string
ÜÜ/ 5
header
ÜÜ6 <
,
ÜÜ< =
string
ÜÜ> D
member
ÜÜE K
,
ÜÜK L
string
ÜÜM S
members
ÜÜT [
,
ÜÜ[ \
Action
ÜÜ] c
	parseItem
ÜÜd m
)
ÜÜm n
{
İİ 
if
ğğ 
(
ğğ 
this
ğğ 
.
ğğ %
ReadStartOrEmptyElement
ğğ 0
(
ğğ0 1
header
ğğ1 7
)
ğğ7 8
)
ğğ8 9
{
ññ 
this
òò 
.
òò #
ReadSkippableElements
òò .
(
òò. /
)
òò/ 0
;
òò0 1
if
óó 
(
óó 
!
óó 
this
óó 
.
óó 
IsEndElement
óó *
(
óó* +
header
óó+ 1
)
óó1 2
)
óó2 3
{
ôô 
while
õõ 
(
õõ 
this
õõ #
.
õõ# $
IsStartElement
õõ$ 2
(
õõ2 3
member
õõ3 9
)
õõ9 :
)
õõ: ;
{
öö 
if
÷÷ 
(
÷÷  
this
÷÷  $
.
÷÷$ %%
ReadStartOrEmptyElement
÷÷% <
(
÷÷< =
member
÷÷= C
)
÷÷C D
)
÷÷D E
{
øø 
if
ùù  "
(
ùù# $
!
ùù$ %
this
ùù% )
.
ùù) *
IsEndElement
ùù* 6
(
ùù6 7
member
ùù7 =
)
ùù= >
)
ùù> ?
{
úú  !
	parseItem
ûû$ -
(
ûû- .
)
ûû. /
;
ûû/ 0
this
üü$ (
.
üü( )
ReadEndElement
üü) 7
(
üü7 8
)
üü8 9
;
üü9 :
this
ıı$ (
.
ıı( )#
ReadSkippableElements
ıı) >
(
ıı> ?
)
ıı? @
;
ıı@ A
}
şş  !
}
ÿÿ 
}
€€ 
if
‚‚ 
(
‚‚ 
this
‚‚  
.
‚‚  !
IsStartElement
‚‚! /
(
‚‚/ 0
members
‚‚0 7
)
‚‚7 8
)
‚‚8 9
{
ƒƒ 
if
„„ 
(
„„  
this
„„  $
.
„„$ %%
ReadStartOrEmptyElement
„„% <
(
„„< =
members
„„= D
)
„„D E
)
„„E F
{
…… 
while
††  %
(
††& '
reader
††' -
.
††- .
IsStartElement
††. <
(
††< =
)
††= >
)
††> ?
{
‡‡  !
	parseItem
ˆˆ$ -
(
ˆˆ- .
)
ˆˆ. /
;
ˆˆ/ 0
}
‰‰  !
this
‹‹  $
.
‹‹$ %
ReadEndElement
‹‹% 3
(
‹‹3 4
)
‹‹4 5
;
‹‹5 6
}
ŒŒ 
}
 
}
 
this
 
.
 #
ReadSkippableElements
 .
(
. /
)
/ 0
;
0 1
this
‘‘ 
.
‘‘ 
ReadEndElement
‘‘ '
(
‘‘' (
)
‘‘( )
;
‘‘) *
}
’’ 
}
““ 
private
šš 
void
šš  
ParseGmlPosElement
šš +
(
šš+ ,
bool
šš, 0

allowEmpty
šš1 ;
)
šš; <
{
›› 
this
¡¡ 
.
¡¡ 
ReadAttributes
¡¡ #
(
¡¡# $
false
¡¡$ )
)
¡¡) *
;
¡¡* +
if
¢¢ 
(
¢¢ 
this
¢¢ 
.
¢¢ %
ReadStartOrEmptyElement
¢¢ 0
(
¢¢0 1
GmlConstants
¢¢1 =
.
¢¢= >
Position
¢¢> F
)
¢¢F G
)
¢¢G H
{
££ 
double
¤¤ 
[
¤¤ 
]
¤¤ 

doubleList
¤¤ '
=
¤¤( )
this
¤¤* .
.
¤¤. /&
ReadContentAsDoubleArray
¤¤/ G
(
¤¤G H
)
¤¤H I
;
¤¤I J
if
¦¦ 
(
¦¦ 

doubleList
¦¦ "
.
¦¦" #
Length
¦¦# )
!=
¦¦* ,
$num
¦¦- .
)
¦¦. /
{
§§ 
if
¨¨ 
(
¨¨ 

doubleList
¨¨ &
.
¨¨& '
Length
¨¨' -
<
¨¨. /
$num
¨¨0 1
)
¨¨1 2
{
©© 
throw
«« !
new
««" %
FormatException
««& 5
(
««5 6
Strings
««6 =
.
««= >)
GmlReader_PosNeedTwoNumbers
««> Y
)
««Y Z
;
««Z [
}
¬¬ 
this
®® 
.
®® 
AddPoint
®® %
(
®®% &

doubleList
®®& 0
[
®®0 1
$num
®®1 2
]
®®2 3
,
®®3 4

doubleList
®®5 ?
[
®®? @
$num
®®@ A
]
®®A B
,
®®B C

doubleList
®®D N
.
®®N O
Length
®®O U
>
®®V W
$num
®®X Y
?
®®Z [

doubleList
®®\ f
[
®®f g
$num
®®g h
]
®®h i
:
®®j k
default
®®l s
(
®®s t
double
®®t z
?
®®z {
)
®®{ |
,
®®| }

doubleList®®~ ˆ
.®®ˆ ‰
Length®®‰ 
>®® ‘
$num®®’ “
?®®” •

doubleList®®–  
[®®  ¡
$num®®¡ ¢
]®®¢ £
:®®¤ ¥
default®®¦ ­
(®®­ ®
double®®® ´
?®®´ µ
)®®µ ¶
)®®¶ ·
;®®· ¸
}
¯¯ 
else
°° 
if
°° 
(
°° 
!
°° 

allowEmpty
°° (
)
°°( )
{
±± 
throw
²² 
new
²² !
FormatException
²²" 1
(
²²1 2
Strings
²²2 9
.
²²9 :)
GmlReader_PosNeedTwoNumbers
²²: U
)
²²U V
;
²²V W
}
³³ 
this
µµ 
.
µµ 
ReadEndElement
µµ '
(
µµ' (
)
µµ( )
;
µµ) *
}
¶¶ 
else
·· 
if
·· 
(
·· 
!
·· 

allowEmpty
·· $
)
··$ %
{
¸¸ 
throw
ºº 
new
ºº 
FormatException
ºº -
(
ºº- .
Strings
ºº. 5
.
ºº5 6)
GmlReader_PosNeedTwoNumbers
ºº6 Q
)
ººQ R
;
ººR S
}
»» 
}
¼¼ 
private
ÂÂ 
void
ÂÂ 
ParsePosList
ÂÂ %
(
ÂÂ% &
bool
ÂÂ& *

allowEmpty
ÂÂ+ 5
)
ÂÂ5 6
{
ÃÃ 
do
ÅÅ 
{
ÆÆ 
if
ÇÇ 
(
ÇÇ 
this
ÇÇ 
.
ÇÇ 
IsStartElement
ÇÇ +
(
ÇÇ+ ,
GmlConstants
ÇÇ, 8
.
ÇÇ8 9
Position
ÇÇ9 A
)
ÇÇA B
)
ÇÇB C
{
ÈÈ 
this
ÉÉ 
.
ÉÉ  
ParseGmlPosElement
ÉÉ /
(
ÉÉ/ 0

allowEmpty
ÉÉ0 :
)
ÉÉ: ;
;
ÉÉ; <
}
ÊÊ 
else
ËË 
{
ÌÌ 
this
ÍÍ 
.
ÍÍ *
ParseGmlPointPropertyElement
ÍÍ 9
(
ÍÍ9 :

allowEmpty
ÍÍ: D
)
ÍÍD E
;
ÍÍE F
}
ÎÎ 
}
ÏÏ 
while
ĞĞ 
(
ĞĞ 
this
ĞĞ 
.
ĞĞ 
IsPosListStart
ĞĞ *
(
ĞĞ* +
)
ĞĞ+ ,
)
ĞĞ, -
;
ĞĞ- .
}
ÑÑ 
private
×× 
void
×× *
ParseGmlPointPropertyElement
×× 5
(
××5 6
bool
××6 :

allowEmpty
××; E
)
××E F
{
ØØ 
if
İİ 
(
İİ 
this
İİ 
.
İİ %
ReadStartOrEmptyElement
İİ 0
(
İİ0 1
GmlConstants
İİ1 =
.
İİ= >
PointProperty
İİ> K
)
İİK L
)
İİL M
{
ŞŞ 
this
ßß 
.
ßß "
ParseGmlPointElement
ßß -
(
ßß- .

allowEmpty
ßß. 8
)
ßß8 9
;
ßß9 :
this
àà 
.
àà 
ReadEndElement
àà '
(
àà' (
)
àà( )
;
àà) *
}
áá 
}
ââ 
private
èè 
void
èè $
ParseGmlPosListElement
èè /
(
èè/ 0
bool
èè0 4

allowEmpty
èè5 ?
)
èè? @
{
éé 
if
ïï 
(
ïï 
this
ïï 
.
ïï %
ReadStartOrEmptyElement
ïï 0
(
ïï0 1
GmlConstants
ïï1 =
.
ïï= >
PositionList
ïï> J
)
ïïJ K
)
ïïK L
{
ğğ 
if
ññ 
(
ññ 
!
ññ 
this
ññ 
.
ññ 
IsEndElement
ññ *
(
ññ* +
GmlConstants
ññ+ 7
.
ññ7 8
PositionList
ññ8 D
)
ññD E
)
ññE F
{
òò 
double
óó 
[
óó 
]
óó  

doubleList
óó! +
=
óó, -
this
óó. 2
.
óó2 3&
ReadContentAsDoubleArray
óó3 K
(
óóK L
)
óóL M
;
óóM N
if
ôô 
(
ôô 

doubleList
ôô &
.
ôô& '
Length
ôô' -
!=
ôô. 0
$num
ôô1 2
)
ôô2 3
{
õõ 
if
öö 
(
öö  

doubleList
öö  *
.
öö* +
Length
öö+ 1
%
öö2 3
$num
öö4 5
!=
öö6 8
$num
öö9 :
)
öö: ;
{
÷÷ 
throw
ùù  %
new
ùù& )
FormatException
ùù* 9
(
ùù9 :
Strings
ùù: A
.
ùùA B-
GmlReader_PosListNeedsEvenCount
ùùB a
)
ùùa b
;
ùùb c
}
úú 
for
ıı 
(
ıı  !
int
ıı! $
i
ıı% &
=
ıı' (
$num
ıı) *
;
ıı* +
i
ıı, -
<
ıı. /

doubleList
ıı0 :
.
ıı: ;
Length
ıı; A
;
ııA B
i
ııC D
+=
ııE G
$num
ııH I
)
ııI J
{
şş 
this
ÿÿ  $
.
ÿÿ$ %
AddPoint
ÿÿ% -
(
ÿÿ- .

doubleList
ÿÿ. 8
[
ÿÿ8 9
i
ÿÿ9 :
]
ÿÿ: ;
,
ÿÿ; <

doubleList
ÿÿ= G
[
ÿÿG H
i
ÿÿH I
+
ÿÿJ K
$num
ÿÿL M
]
ÿÿM N
,
ÿÿN O
null
ÿÿP T
,
ÿÿT U
null
ÿÿV Z
)
ÿÿZ [
;
ÿÿ[ \
}
€€ 
}
 
else
‚‚ 
{
ƒƒ 
throw
…… !
new
……" %
FormatException
……& 5
(
……5 6
Strings
……6 =
.
……= >-
GmlReader_PosListNeedsEvenCount
……> ]
)
……] ^
;
……^ _
}
†† 
}
‡‡ 
else
ˆˆ 
if
ˆˆ 
(
ˆˆ 
!
ˆˆ 

allowEmpty
ˆˆ (
)
ˆˆ( )
{
‰‰ 
throw
‹‹ 
new
‹‹ !
FormatException
‹‹" 1
(
‹‹1 2
Strings
‹‹2 9
.
‹‹9 :-
GmlReader_PosListNeedsEvenCount
‹‹: Y
)
‹‹Y Z
;
‹‹Z [
}
ŒŒ 
this
 
.
 
ReadEndElement
 '
(
' (
)
( )
;
) *
}
 
else
 
if
 
(
 
!
 

allowEmpty
 $
)
$ %
{
‘‘ 
throw
““ 
new
““ 
FormatException
““ -
(
““- .
Strings
““. 5
.
““5 6-
GmlReader_PosListNeedsEvenCount
““6 U
)
““U V
;
““V W
}
”” 
}
•• 
private
ŸŸ 
double
ŸŸ 
[
ŸŸ 
]
ŸŸ &
ReadContentAsDoubleArray
ŸŸ 5
(
ŸŸ5 6
)
ŸŸ6 7
{
   
String
¡¡ 
[
¡¡ 
]
¡¡ 
splitted
¡¡ !
=
¡¡" #
this
¡¡$ (
.
¡¡( )
reader
¡¡) /
.
¡¡/ 0!
ReadContentAsString
¡¡0 C
(
¡¡C D
)
¡¡D E
.
¡¡E F
Split
¡¡F K
(
¡¡K L!
coordinateDelimiter
¡¡L _
,
¡¡_ ` 
StringSplitOptions
¡¡a s
.
¡¡s t!
RemoveEmptyEntries¡¡t †
)¡¡† ‡
;¡¡‡ ˆ
double
¢¢ 
[
¢¢ 
]
¢¢ 
array
¢¢ 
=
¢¢  
new
¢¢! $
double
¢¢% +
[
¢¢+ ,
splitted
¢¢, 4
.
¢¢4 5
Length
¢¢5 ;
]
¢¢; <
;
¢¢< =
for
££ 
(
££ 
int
££ 
i
££ 
=
££ 
$num
££ 
;
££ 
i
££  !
<
££" #
splitted
££$ ,
.
££, -
Length
££- 3
;
££3 4
++
££5 7
i
££7 8
)
££8 9
{
¤¤ 
array
¥¥ 
[
¥¥ 
i
¥¥ 
]
¥¥ 
=
¥¥ 

XmlConvert
¥¥ )
.
¥¥) *
ToDouble
¥¥* 2
(
¥¥2 3
splitted
¥¥3 ;
[
¥¥; <
i
¥¥< =
]
¥¥= >
)
¥¥> ?
;
¥¥? @
}
¦¦ 
return
¨¨ 
array
¨¨ 
;
¨¨ 
}
©© 
private
·· 
bool
·· %
ReadStartOrEmptyElement
·· 0
(
··0 1
string
··1 7
element
··8 ?
)
··? @
{
¸¸ 
bool
¹¹ 
isEmptyElement
¹¹ #
=
¹¹$ %
reader
¹¹& ,
.
¹¹, -
IsEmptyElement
¹¹- ;
;
¹¹; <
if
»» 
(
»» 
element
»» 
!=
»» 
GmlConstants
»» +
.
»»+ ,
	FullGlobe
»», 5
)
»»5 6
{
¼¼ 
reader
½½ 
.
½½ 
ReadStartElement
½½ +
(
½½+ ,
element
½½, 3
,
½½3 4
this
½½5 9
.
½½9 :
gmlNamespace
½½: F
)
½½F G
;
½½G H
}
¾¾ 
else
¿¿ 
{
ÀÀ 
reader
ÁÁ 
.
ÁÁ 
ReadStartElement
ÁÁ +
(
ÁÁ+ ,
element
ÁÁ, 3
,
ÁÁ3 4
GmlConstants
ÁÁ5 A
.
ÁÁA B 
FullGlobeNamespace
ÁÁB T
)
ÁÁT U
;
ÁÁU V
}
ÂÂ 
return
ÄÄ 
!
ÄÄ 
isEmptyElement
ÄÄ &
;
ÄÄ& '
}
ÅÅ 
private
ÌÌ 
bool
ÌÌ 
IsStartElement
ÌÌ '
(
ÌÌ' (
string
ÌÌ( .
element
ÌÌ/ 6
)
ÌÌ6 7
{
ÍÍ 
return
ÎÎ 
reader
ÎÎ 
.
ÎÎ 
IsStartElement
ÎÎ ,
(
ÎÎ, -
element
ÎÎ- 4
,
ÎÎ4 5
this
ÎÎ6 :
.
ÎÎ: ;
gmlNamespace
ÎÎ; G
)
ÎÎG H
;
ÎÎH I
}
ÏÏ 
private
ÖÖ 
bool
ÖÖ 
IsEndElement
ÖÖ %
(
ÖÖ% &
string
ÖÖ& ,
element
ÖÖ- 4
)
ÖÖ4 5
{
×× 
this
ØØ 
.
ØØ 
reader
ØØ 
.
ØØ 
MoveToContent
ØØ )
(
ØØ) *
)
ØØ* +
;
ØØ+ ,
return
ÙÙ 
reader
ÙÙ 
.
ÙÙ 
NodeType
ÙÙ &
==
ÙÙ' )
XmlNodeType
ÙÙ* 5
.
ÙÙ5 6

EndElement
ÙÙ6 @
&&
ÙÙA C
this
ÙÙD H
.
ÙÙH I
reader
ÙÙI O
.
ÙÙO P
	LocalName
ÙÙP Y
.
ÙÙY Z
Equals
ÙÙZ `
(
ÙÙ` a
element
ÙÙa h
,
ÙÙh i
StringComparison
ÙÙj z
.
ÙÙz {
OrdinalÙÙ{ ‚
)ÙÙ‚ ƒ
;ÙÙƒ „
}
ÚÚ 
private
ßß 
void
ßß 
ReadEndElement
ßß '
(
ßß' (
)
ßß( )
{
àà 
this
áá 
.
áá 
reader
áá 
.
áá 
MoveToContent
áá )
(
áá) *
)
áá* +
;
áá+ ,
if
ââ 
(
ââ 
this
ââ 
.
ââ 
reader
ââ 
.
ââ  
NodeType
ââ  (
!=
ââ) +
XmlNodeType
ââ, 7
.
ââ7 8

EndElement
ââ8 B
)
ââB C
{
ãã 
throw
ää 
new
ää 
FormatException
ää -
(
ää- .
Strings
ää. 5
.
ää5 6)
GmlReader_UnexpectedElement
ää6 Q
(
ääQ R
this
ääR V
.
ääV W
reader
ääW ]
.
ää] ^
Name
ää^ b
)
ääb c
)
ääc d
;
ääd e
}
åå 
this
çç 
.
çç 
reader
çç 
.
çç 
ReadEndElement
çç *
(
çç* +
)
çç+ ,
;
çç, -
}
èè 
private
íí 
void
íí #
ReadSkippableElements
íí .
(
íí. /
)
íí/ 0
{
îî 
bool
ïï 

shouldSkip
ïï 
=
ïï  !
true
ïï" &
;
ïï& '
while
ğğ 
(
ğğ 

shouldSkip
ğğ !
)
ğğ! "
{
ññ 
this
òò 
.
òò 
reader
òò 
.
òò  
MoveToContent
òò  -
(
òò- .
)
òò. /
;
òò/ 0
if
óó 
(
óó 
this
óó 
.
óó 
reader
óó #
.
óó# $
NodeType
óó$ ,
==
óó- /
XmlNodeType
óó0 ;
.
óó; <
Element
óó< C
&&
óóD F
Object
ôô 
.
ôô 
ReferenceEquals
ôô .
(
ôô. /
this
ôô/ 3
.
ôô3 4
reader
ôô4 :
.
ôô: ;
NamespaceURI
ôô; G
,
ôôG H
this
ôôI M
.
ôôM N
gmlNamespace
ôôN Z
)
ôôZ [
)
ôô[ \
{
õõ 
String
÷÷ 
	localName
÷÷ (
=
÷÷) *
this
÷÷+ /
.
÷÷/ 0
reader
÷÷0 6
.
÷÷6 7
	LocalName
÷÷7 @
;
÷÷@ A

shouldSkip
øø "
=
øø# $
skippableElements
øø% 6
.
øø6 7
ContainsKey
øø7 B
(
øøB C
	localName
øøC L
)
øøL M
;
øøM N
}
ùù 
else
úú 
{
ûû 

shouldSkip
üü "
=
üü# $
false
üü% *
;
üü* +
}
ıı 
if
ÿÿ 
(
ÿÿ 

shouldSkip
ÿÿ "
)
ÿÿ" #
{
€€ 
this
 
.
 
reader
 #
.
# $
Skip
$ (
(
( )
)
) *
;
* +
}
‚‚ 
}
ƒƒ 
}
„„ 
private
ŠŠ 
bool
ŠŠ 
IsPosListStart
ŠŠ '
(
ŠŠ' (
)
ŠŠ( )
{
‹‹ 
return
ŒŒ 
IsStartElement
ŒŒ %
(
ŒŒ% &
GmlConstants
ŒŒ& 2
.
ŒŒ2 3
Position
ŒŒ3 ;
)
ŒŒ; <
||
ŒŒ= ?
IsStartElement
ŒŒ@ N
(
ŒŒN O
GmlConstants
ŒŒO [
.
ŒŒ[ \
PointProperty
ŒŒ\ i
)
ŒŒi j
;
ŒŒj k
}
 
private
’’ 
void
’’ 
PrepareFigure
’’ &
(
’’& '
)
’’' (
{
““ 
points
”” 
=
”” 
$num
”” 
;
”” 
}
•• 
private
 
void
 
AddPoint
 !
(
! "
double
" (
x
) *
,
* +
double
, 2
y
3 4
,
4 5
double
6 <
?
< =
z
> ?
,
? @
double
A G
?
G H
m
I J
)
J K
{
ŸŸ 
if
   
(
   
z
   
.
   
HasValue
   
&&
   !
double
  " (
.
  ( )
IsNaN
  ) .
(
  . /
z
  / 0
.
  0 1
Value
  1 6
)
  6 7
)
  7 8
{
¡¡ 
z
¢¢ 
=
¢¢ 
null
¢¢ 
;
¢¢ 
}
££ 
if
¥¥ 
(
¥¥ 
m
¥¥ 
.
¥¥ 
HasValue
¥¥ 
&&
¥¥ !
double
¥¥" (
.
¥¥( )
IsNaN
¥¥) .
(
¥¥. /
m
¥¥/ 0
.
¥¥0 1
Value
¥¥1 6
)
¥¥6 7
)
¥¥7 8
{
¦¦ 
m
§§ 
=
§§ 
null
§§ 
;
§§ 
}
¨¨ 
if
ªª 
(
ªª 
points
ªª 
==
ªª 
$num
ªª 
)
ªª  
{
«« 
pipeline
¬¬ 
.
¬¬ 
BeginFigure
¬¬ (
(
¬¬( )
x
¬¬) *
,
¬¬* +
y
¬¬, -
,
¬¬- .
z
¬¬/ 0
,
¬¬0 1
m
¬¬2 3
)
¬¬3 4
;
¬¬4 5
}
­­ 
else
®® 
{
¯¯ 
pipeline
°° 
.
°° 
LineTo
°° #
(
°°# $
x
°°$ %
,
°°% &
y
°°' (
,
°°( )
z
°°* +
,
°°+ ,
m
°°- .
)
°°. /
;
°°/ 0
}
±± 
points
³³ 
+=
³³ 
$num
³³ 
;
³³ 
}
´´ 
private
¹¹ 
void
¹¹ 
	EndFigure
¹¹ "
(
¹¹" #
)
¹¹# $
{
ºº 
if
»» 
(
»» 
points
»» 
>
»» 
$num
»» 
)
»» 
{
¼¼ 
pipeline
½½ 
.
½½ 
	EndFigure
½½ &
(
½½& '
)
½½' (
;
½½( )
}
¾¾ 
}
¿¿ 
}
ÀÀ 	
}
ÁÁ 
}ÂÂ £)
2D:\odata.net\src\Microsoft.Spatial\GmlConstants.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
GmlConstants 
{ 
internal 
const 
string 
GmlNamespace *
=+ ,
$str- I
;I J
internal 
const 
string 
FullGlobeNamespace 0
=1 2
$str3 j
;j k
internal 
const 
string 
	GmlPrefix '
=( )
$str* /
;/ 0
internal   
const   
string   
SrsName   %
=  & '
$str  ( 1
;  1 2
internal%% 
const%% 
string%% 
IdName%% $
=%%% &
$str%%' +
;%%+ ,
internal** 
const** 
string** 
	SrsPrefix** '
=**( )
$str*** R
;**R S
internal// 
const// 
string// 
Position// &
=//' (
$str//) .
;//. /
internal44 
const44 
string44 
Name44 "
=44# $
$str44% +
;44+ ,
internal99 
const99 
string99 
Description99 )
=99* +
$str99, 9
;999 :
internal>> 
const>> 
string>> 
MetadataProperty>> .
=>>/ 0
$str>>1 C
;>>C D
internalCC 
constCC 
stringCC  
DescriptionReferenceCC 2
=CC3 4
$strCC5 K
;CCK L
internalHH 
constHH 
stringHH 
IdentifierElementHH /
=HH0 1
$strHH2 >
;HH> ?
internalMM 
constMM 
stringMM 
PointPropertyMM +
=MM, -
$strMM. =
;MM= >
internalRR 
constRR 
stringRR 
PositionListRR *
=RR+ ,
$strRR- 6
;RR6 7
internalWW 
constWW 
stringWW 
PointWW #
=WW$ %
$strWW& -
;WW- .
internal\\ 
const\\ 
string\\ 

LineString\\ (
=\\) *
$str\\+ 7
;\\7 8
internalaa 
constaa 
stringaa 
Polygonaa %
=aa& '
$straa( 1
;aa1 2
internalff 
constff 
stringff 

MultiPointff (
=ff) *
$strff+ 7
;ff7 8
internalkk 
constkk 
stringkk 
MultiLineStringkk -
=kk. /
$strkk0 <
;kk< =
internalpp 
constpp 
stringpp 
MultiPolygonpp *
=pp+ ,
$strpp- ;
;pp; <
internaluu 
constuu 
stringuu 

Collectionuu (
=uu) *
$struu+ :
;uu: ;
internalzz 
constzz 
stringzz 
	FullGlobezz '
=zz( )
$strzz* 5
;zz5 6
internal 
const 
string 
ExteriorRing *
=+ ,
$str- 7
;7 8
internal
„„ 
const
„„ 
string
„„ 
InteriorRing
„„ *
=
„„+ ,
$str
„„- 7
;
„„7 8
internal
‰‰ 
const
‰‰ 
string
‰‰ 

LinearRing
‰‰ (
=
‰‰) *
$str
‰‰+ 7
;
‰‰7 8
internal
 
const
 
string
 
PointMember
 )
=
* +
$str
, 9
;
9 :
internal
““ 
const
““ 
string
““ 
PointMembers
““ *
=
““+ ,
$str
““- ;
;
““; <
internal
˜˜ 
const
˜˜ 
string
˜˜ 
LineStringMember
˜˜ .
=
˜˜/ 0
$str
˜˜1 >
;
˜˜> ?
internal
 
const
 
string
 
LineStringMembers
 /
=
0 1
$str
2 @
;
@ A
internal
¢¢ 
const
¢¢ 
string
¢¢ 
PolygonMember
¢¢ +
=
¢¢, -
$str
¢¢. =
;
¢¢= >
internal
§§ 
const
§§ 
string
§§ 
PolygonMembers
§§ ,
=
§§- .
$str
§§/ ?
;
§§? @
internal
¬¬ 
const
¬¬ 
string
¬¬ 
CollectionMember
¬¬ .
=
¬¬/ 0
$str
¬¬1 A
;
¬¬A B
internal
±± 
const
±± 
string
±± 
CollectionMembers
±± /
=
±±0 1
$str
±±2 C
;
±±C D
internal
¶¶ 
const
¶¶ 
string
¶¶ 

AxisLabels
¶¶ (
=
¶¶) *
$str
¶¶+ 7
;
¶¶7 8
internal
»» 
const
»» 
string
»» 
	UomLabels
»» '
=
»»( )
$str
»»* 5
;
»»5 6
internal
ÀÀ 
const
ÀÀ 
string
ÀÀ 
Count
ÀÀ #
=
ÀÀ$ %
$str
ÀÀ& -
;
ÀÀ- .
}
ÁÁ 
}ÂÂ “
<D:\odata.net\src\Microsoft.Spatial\WellKnownTextConstants.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class "
WellKnownTextConstants )
{ 
internal 
const 
string 
WktSrid %
=& '
$str( .
;. /
internal 
const 
string 
WktPoint &
=' (
$str) 0
;0 1
internal 
const 
string 
WktLineString +
=, -
$str. :
;: ;
internal   
const   
string   

WktPolygon   (
=  ) *
$str  + 4
;  4 5
internal'' 
const'' 
string'' 
WktCollection'' +
='', -
$str''. B
;''B C
internal,, 
const,, 
string,, 
WktMultiPoint,, +
=,,, -
$str,,. :
;,,: ;
internal11 
const11 
string11 
WktMultiLineString11 0
=111 2
$str113 D
;11D E
internal66 
const66 
string66 
WktMultiPolygon66 -
=66. /
$str660 >
;66> ?
internal;; 
const;; 
string;; 
WktFullGlobe;; *
=;;+ ,
$str;;- 8
;;;8 9
internal@@ 
const@@ 
string@@ 
WktEmpty@@ &
=@@' (
$str@@) 0
;@@0 1
internalEE 
constEE 
stringEE 
WktNullEE %
=EE& '
$strEE( .
;EE. /
internalJJ 
constJJ 
stringJJ 
	WktEqualsJJ '
=JJ( )
$strJJ* -
;JJ- .
internalOO 
constOO 
stringOO 
WktSemiColonOO *
=OO+ ,
$strOO- 0
;OO0 1
internalTT 
constTT 
stringTT &
WktDelimiterWithWhiteSpaceTT 8
=TT9 :
$strTT; ?
;TT? @
internalYY 
constYY 
stringYY 
WktOpenParenYY *
=YY+ ,
$strYY- 0
;YY0 1
internal^^ 
const^^ 
string^^ 
WktCloseParen^^ +
=^^, -
$str^^. 1
;^^1 2
internalcc 
constcc 
stringcc 
WktWhitespacecc +
=cc, -
$strcc. 1
;cc1 2
internalhh 
consthh 
stringhh 
	WktPeriodhh '
=hh( )
$strhh* -
;hh- .
}ii 
}jj Ù„
8D:\odata.net\src\Microsoft.Spatial\SpatialTreeBuilder.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
SpatialTreeBuilder .
<. /
T/ 0
>0 1
:2 3
TypeWashedPipeline4 F
whereG L
TM N
:O P
classQ V
,V W
ISpatialX `
{ 
private 
List 
< 
T 
> 
currentFigure %
;% &
private 
SpatialBuilderNode "
currentNode# .
;. /
private"" 
SpatialBuilderNode"" "
lastConstructedNode""# 6
;""6 7
public'' 
event'' 
Action'' 
<'' 
T'' 
>'' 
ProduceInstance'' .
;''. /
public-- 
T-- 
ConstructedInstance-- $
{.. 	
get// 
{00 
if11 
(11 
this11 
.11 
lastConstructedNode11 ,
==11- /
null110 4
||115 7
this118 <
.11< =
lastConstructedNode11= P
.11P Q
Instance11Q Y
==11Z \
null11] a
||11b d
this11e i
.11i j
lastConstructedNode11j }
.11} ~
Parent	11~ „
!=
11… ‡
null
11ˆ Œ
)
11Œ 
{22 
throw33 
new33 %
InvalidOperationException33 7
(337 8
Strings338 ?
.33? @2
&SpatialBuilder_CannotCreateBeforeDrawn33@ f
)33f g
;33g h
}44 
return66 
this66 
.66 
lastConstructedNode66 /
.66/ 0
Instance660 8
;668 9
}77 
}88 	
public@@ 
override@@ 
bool@@ 
IsGeography@@ (
{AA 	
getBB 
{BB 
returnBB 
typeofBB 
(BB  
	GeographyBB  )
)BB) *
.BB* +
IsAssignableFromBB+ ;
(BB; <
typeofBB< B
(BBB C
TBBC D
)BBD E
)BBE F
;BBF G
}BBH I
}CC 	
[LL 	
SuppressMessageLL	 
(LL 
$strLL +
,LL+ ,
$strLL- 5
,LL5 6
JustificationLL7 D
=LLE F
$strLLG _
)LL_ `
]LL` a
internalMM 
overrideMM 
voidMM 
LineToMM %
(MM% &
doubleMM& ,
xMM- .
,MM. /
doubleMM0 6
yMM7 8
,MM8 9
doubleMM: @
?MM@ A
zMMB C
,MMC D
doubleMME K
?MMK L
mMMM N
)MMN O
{NN 	
thisOO 
.OO 
currentFigureOO 
.OO 
AddOO "
(OO" #
thisOO# '
.OO' (
CreatePointOO( 3
(OO3 4
falseOO4 9
,OO9 :
xOO; <
,OO< =
yOO> ?
,OO? @
zOOA B
,OOB C
mOOD E
)OOE F
)OOF G
;OOG H
}PP 	
[YY 	
SuppressMessageYY	 
(YY 
$strYY +
,YY+ ,
$strYY- 5
,YY5 6
JustificationYY7 D
=YYE F
$strYYG _
)YY_ `
]YY` a
internalZZ 
overrideZZ 
voidZZ 
BeginFigureZZ *
(ZZ* +
doubleZZ+ 1
coordinate1ZZ2 =
,ZZ= >
doubleZZ? E
coordinate2ZZF Q
,ZZQ R
doubleZZS Y
?ZZY Z
coordinate3ZZ[ f
,ZZf g
doubleZZh n
?ZZn o
coordinate4ZZp {
)ZZ{ |
{[[ 	
if\\ 
(\\ 
this\\ 
.\\ 
currentFigure\\ "
==\\# %
null\\& *
)\\* +
{]] 
this^^ 
.^^ 
currentFigure^^ "
=^^# $
new^^% (
List^^) -
<^^- .
T^^. /
>^^/ 0
(^^0 1
)^^1 2
;^^2 3
}__ 
thisaa 
.aa 
currentFigureaa 
.aa 
Addaa "
(aa" #
thisaa# '
.aa' (
CreatePointaa( 3
(aa3 4
falseaa4 9
,aa9 :
coordinate1aa; F
,aaF G
coordinate2aaH S
,aaS T
coordinate3aaU `
,aa` a
coordinate4aab m
)aam n
)aan o
;aao p
}bb 	
internalhh 
overridehh 
voidhh 
BeginGeohh '
(hh' (
SpatialTypehh( 3
typehh4 8
)hh8 9
{ii 	
Debugjj 
.jj 
Assertjj 
(jj 
typejj 
!=jj  
SpatialTypejj! ,
.jj, -
Unknownjj- 4
,jj4 5
$strjj6 s
)jjs t
;jjt u
ifmm 
(mm 
thismm 
.mm 
currentNodemm  
==mm! #
nullmm$ (
)mm( )
{nn 
thisoo 
.oo 
currentNodeoo  
=oo! "
newoo# &
SpatialBuilderNodeoo' 9
{oo: ;
Typeoo< @
=ooA B
typeooC G
}ooH I
;ooI J
thisrr 
.rr 
lastConstructedNoderr (
=rr) *
nullrr+ /
;rr/ 0
}ss 
elsett 
{uu 
thisvv 
.vv 
currentNodevv  
=vv! "
thisvv# '
.vv' (
currentNodevv( 3
.vv3 4
CreateChildrenvv4 B
(vvB C
typevvC G
)vvG H
;vvH I
}ww 
}xx 	
internal}} 
override}} 
void}} 
	EndFigure}} (
(}}( )
)}}) *
{~~ 	
Debug 
. 
Assert 
( 
this 
. 
currentFigure +
!=, .
null/ 3
,3 4
$str5 z
)z {
;{ |
if
‚‚ 
(
‚‚ 
this
‚‚ 
.
‚‚ 
currentFigure
‚‚ "
.
‚‚" #
Count
‚‚# (
==
‚‚) +
$num
‚‚, -
)
‚‚- .
{
ƒƒ  
SpatialBuilderNode
…… "
	pointNode
……# ,
=
……- .
this
……/ 3
.
……3 4
currentNode
……4 ?
.
……? @
CreateChildren
……@ N
(
……N O
SpatialType
……O Z
.
……Z [
Point
……[ `
)
……` a
;
……a b
	pointNode
†† 
.
†† 
Instance
†† "
=
††# $
this
††% )
.
††) *
currentFigure
††* 7
[
††7 8
$num
††8 9
]
††9 :
;
††: ;
}
‡‡ 
else
ˆˆ 
{
‰‰  
SpatialBuilderNode
ŠŠ "
lineStringNode
ŠŠ# 1
=
ŠŠ2 3
this
ŠŠ4 8
.
ŠŠ8 9
currentNode
ŠŠ9 D
.
ŠŠD E
CreateChildren
ŠŠE S
(
ŠŠS T
SpatialType
ŠŠT _
.
ŠŠ_ `

LineString
ŠŠ` j
)
ŠŠj k
;
ŠŠk l
lineStringNode
‹‹ 
.
‹‹ 
Instance
‹‹ '
=
‹‹( )
this
‹‹* .
.
‹‹. /!
CreateShapeInstance
‹‹/ B
(
‹‹B C
SpatialType
‹‹C N
.
‹‹N O

LineString
‹‹O Y
,
‹‹Y Z
this
‹‹[ _
.
‹‹_ `
currentFigure
‹‹` m
)
‹‹m n
;
‹‹n o
}
ŒŒ 
this
 
.
 
currentFigure
 
=
  
null
! %
;
% &
}
 	
internal
•• 
override
•• 
void
•• 
EndGeo
•• %
(
••% &
)
••& '
{
–– 	
switch
˜˜ 
(
˜˜ 
this
˜˜ 
.
˜˜ 
currentNode
˜˜ $
.
˜˜$ %
Type
˜˜% )
)
˜˜) *
{
™™ 
case
šš 
SpatialType
šš  
.
šš  !
Point
šš! &
:
šš& '
this
›› 
.
›› 
currentNode
›› $
.
››$ %
Instance
››% -
=
››. /
this
››0 4
.
››4 5
currentNode
››5 @
.
››@ A
Children
››A I
.
››I J
Count
››J O
>
››P Q
$num
››R S
?
››T U
this
››V Z
.
››Z [
currentNode
››[ f
.
››f g
Children
››g o
[
››o p
$num
››p q
]
››q r
.
››r s
Instance
››s {
:
››| }
this››~ ‚
.››‚ ƒ
CreatePoint››ƒ 
(›› 
true›› “
,››“ ”
double››• ›
.››› œ
NaN››œ Ÿ
,››Ÿ  
double››¡ §
.››§ ¨
NaN››¨ «
,››« ¬
null››­ ±
,››± ²
null››³ ·
)››· ¸
;››¸ ¹
break
œœ 
;
œœ 
case
 
SpatialType
  
.
  !

LineString
! +
:
+ ,
this
 
.
 
currentNode
 $
.
$ %
Instance
% -
=
. /
this
0 4
.
4 5
currentNode
5 @
.
@ A
Children
A I
.
I J
Count
J O
>
P Q
$num
R S
?
T U
this
V Z
.
Z [
currentNode
[ f
.
f g
Children
g o
[
o p
$num
p q
]
q r
.
r s
Instance
s {
:
| }
this~ ‚
.‚ ƒ#
CreateShapeInstanceƒ –
(– —
SpatialType— ¢
.¢ £

LineString£ ­
,­ ®
new¯ ²
T³ ´
[´ µ
$numµ ¶
]¶ ·
)· ¸
;¸ ¹
break
ŸŸ 
;
ŸŸ 
case
   
SpatialType
    
.
    !
Polygon
  ! (
:
  ( )
case
¡¡ 
SpatialType
¡¡  
.
¡¡  !

MultiPoint
¡¡! +
:
¡¡+ ,
case
¢¢ 
SpatialType
¢¢  
.
¢¢  !
MultiLineString
¢¢! 0
:
¢¢0 1
case
££ 
SpatialType
££  
.
££  !
MultiPolygon
££! -
:
££- .
case
¤¤ 
SpatialType
¤¤  
.
¤¤  !

Collection
¤¤! +
:
¤¤+ ,
this
¥¥ 
.
¥¥ 
currentNode
¥¥ $
.
¥¥$ %
Instance
¥¥% -
=
¥¥. /
this
¥¥0 4
.
¥¥4 5!
CreateShapeInstance
¥¥5 H
(
¥¥H I
this
¥¥I M
.
¥¥M N
currentNode
¥¥N Y
.
¥¥Y Z
Type
¥¥Z ^
,
¥¥^ _
this
¥¥` d
.
¥¥d e
currentNode
¥¥e p
.
¥¥p q
Children
¥¥q y
.
¥¥y z
Select¥¥z €
(¥¥€ 
node¥¥ …
=>¥¥† ˆ
node¥¥‰ 
.¥¥ 
Instance¥¥ –
)¥¥– —
)¥¥— ˜
;¥¥˜ ™
break
¦¦ 
;
¦¦ 
case
§§ 
SpatialType
§§  
.
§§  !
	FullGlobe
§§! *
:
§§* +
this
¨¨ 
.
¨¨ 
currentNode
¨¨ $
.
¨¨$ %
Instance
¨¨% -
=
¨¨. /
this
¨¨0 4
.
¨¨4 5!
CreateShapeInstance
¨¨5 H
(
¨¨H I
SpatialType
¨¨I T
.
¨¨T U
	FullGlobe
¨¨U ^
,
¨¨^ _
new
¨¨` c
T
¨¨d e
[
¨¨e f
$num
¨¨f g
]
¨¨g h
)
¨¨h i
;
¨¨i j
break
©© 
;
©© 
default
ªª 
:
ªª 
Debug
«« 
.
«« 
Assert
««  
(
««  !
false
««! &
,
««& '
$str
««( @
)
««@ A
;
««A B
break
¬¬ 
;
¬¬ 
}
­­ 
this
¯¯ 
.
¯¯ 
TraverseUpTheTree
¯¯ "
(
¯¯" #
)
¯¯# $
;
¯¯$ %
this
°° 
.
°° 5
'NotifyIfWeJustFinishedBuildingSomething
°° 8
(
°°8 9
)
°°9 :
;
°°: ;
}
±± 	
internal
¶¶ 
override
¶¶ 
void
¶¶ 
Reset
¶¶ $
(
¶¶$ %
)
¶¶% &
{
·· 	
this
¸¸ 
.
¸¸ 
currentNode
¸¸ 
=
¸¸ 
null
¸¸ #
;
¸¸# $
this
¹¹ 
.
¹¹ 
currentFigure
¹¹ 
=
¹¹  
null
¹¹! %
;
¹¹% &
}
ºº 	
	protected
ÅÅ 
abstract
ÅÅ 
T
ÅÅ 
CreatePoint
ÅÅ (
(
ÅÅ( )
bool
ÅÅ) -
isEmpty
ÅÅ. 5
,
ÅÅ5 6
double
ÅÅ7 =
x
ÅÅ> ?
,
ÅÅ? @
double
ÅÅA G
y
ÅÅH I
,
ÅÅI J
double
ÅÅK Q
?
ÅÅQ R
z
ÅÅS T
,
ÅÅT U
double
ÅÅV \
?
ÅÅ\ ]
m
ÅÅ^ _
)
ÅÅ_ `
;
ÅÅ` a
	protected
ÍÍ 
abstract
ÍÍ 
T
ÍÍ !
CreateShapeInstance
ÍÍ 0
(
ÍÍ0 1
SpatialType
ÍÍ1 <
type
ÍÍ= A
,
ÍÍA B
IEnumerable
ÍÍC N
<
ÍÍN O
T
ÍÍO P
>
ÍÍP Q
spatialData
ÍÍR ]
)
ÍÍ] ^
;
ÍÍ^ _
private
ÒÒ 
void
ÒÒ 5
'NotifyIfWeJustFinishedBuildingSomething
ÒÒ <
(
ÒÒ< =
)
ÒÒ= >
{
ÓÓ 	
if
ÔÔ 
(
ÔÔ 
this
ÔÔ 
.
ÔÔ 
currentNode
ÔÔ  
==
ÔÔ! #
null
ÔÔ$ (
&&
ÔÔ) +
this
ÔÔ, 0
.
ÔÔ0 1
ProduceInstance
ÔÔ1 @
!=
ÔÔA C
null
ÔÔD H
)
ÔÔH I
{
ÕÕ 
this
ÖÖ 
.
ÖÖ 
ProduceInstance
ÖÖ $
(
ÖÖ$ %
this
ÖÖ% )
.
ÖÖ) *!
lastConstructedNode
ÖÖ* =
.
ÖÖ= >
Instance
ÖÖ> F
)
ÖÖF G
;
ÖÖG H
}
×× 
}
ØØ 	
private
İİ 
void
İİ 
TraverseUpTheTree
İİ &
(
İİ& '
)
İİ' (
{
ŞŞ 	
this
ßß 
.
ßß !
lastConstructedNode
ßß $
=
ßß% &
this
ßß' +
.
ßß+ ,
currentNode
ßß, 7
;
ßß7 8
this
àà 
.
àà 
currentNode
àà 
=
àà 
this
àà #
.
àà# $
currentNode
àà$ /
.
àà/ 0
Parent
àà0 6
;
àà6 7
}
áá 	
private
ææ 
class
ææ  
SpatialBuilderNode
ææ (
{
çç 	
public
ëë  
SpatialBuilderNode
ëë %
(
ëë% &
)
ëë& '
{
ìì 
this
íí 
.
íí 
Children
íí 
=
íí 
new
íí  #
List
íí$ (
<
íí( ) 
SpatialBuilderNode
íí) ;
>
íí; <
(
íí< =
)
íí= >
;
íí> ?
}
îî 
public
óó 
List
óó 
<
óó  
SpatialBuilderNode
óó *
>
óó* +
Children
óó, 4
{
óó5 6
get
óó7 :
;
óó: ;
private
óó< C
set
óóD G
;
óóG H
}
óóI J
public
øø 
T
øø 
Instance
øø 
{
øø 
get
øø  #
;
øø# $
set
øø% (
;
øø( )
}
øø* +
public
ıı  
SpatialBuilderNode
ıı %
Parent
ıı& ,
{
ıı- .
get
ıı/ 2
;
ıı2 3
private
ıı4 ;
set
ıı< ?
;
ıı? @
}
ııA B
public
‚‚ 
SpatialType
‚‚ 
Type
‚‚ #
{
‚‚$ %
get
‚‚& )
;
‚‚) *
set
‚‚+ .
;
‚‚. /
}
‚‚0 1
internal
‰‰  
SpatialBuilderNode
‰‰ '
CreateChildren
‰‰( 6
(
‰‰6 7
SpatialType
‰‰7 B
type
‰‰C G
)
‰‰G H
{
ŠŠ 
var
‹‹ 
node
‹‹ 
=
‹‹ 
new
‹‹  
SpatialBuilderNode
‹‹ 1
{
‹‹2 3
Parent
‹‹4 :
=
‹‹; <
this
‹‹= A
,
‹‹A B
Type
‹‹C G
=
‹‹H I
type
‹‹J N
}
‹‹O P
;
‹‹P Q
this
ŒŒ 
.
ŒŒ 
Children
ŒŒ 
.
ŒŒ 
Add
ŒŒ !
(
ŒŒ! "
node
ŒŒ" &
)
ŒŒ& '
;
ŒŒ' (
return
 
node
 
;
 
}
 
}
 	
}
 
}‘‘  
8D:\odata.net\src\Microsoft.Spatial\TypeWashedPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
TypeWashedPipeline .
{ 
public 
abstract 
bool 
IsGeography (
{) *
get+ .
;. /
}0 1
internal 
abstract 
void 
SetCoordinateSystem 2
(2 3
int3 6
?6 7
epsgId8 >
)> ?
;? @
internal 
abstract 
void 
Reset $
($ %
)% &
;& '
internal%% 
abstract%% 
void%% 
BeginGeo%% '
(%%' (
SpatialType%%( 3
type%%4 8
)%%8 9
;%%9 :
internal.. 
abstract.. 
void.. 
BeginFigure.. *
(..* +
double..+ 1
coordinate1..2 =
,..= >
double..? E
coordinate2..F Q
,..Q R
double..S Y
?..Y Z
coordinate3..[ f
,..f g
double..h n
?..n o
coordinate4..p {
)..{ |
;..| }
internal77 
abstract77 
void77 
LineTo77 %
(77% &
double77& ,
coordinate177- 8
,778 9
double77: @
coordinate277A L
,77L M
double77N T
?77T U
coordinate377V a
,77a b
double77c i
?77i j
coordinate477k v
)77v w
;77w x
internal<< 
abstract<< 
void<< 
	EndFigure<< (
(<<( )
)<<) *
;<<* +
internalAA 
abstractAA 
voidAA 
EndGeoAA %
(AA% &
)AA& '
;AA' (
}BB 
}CC É 
BD:\odata.net\src\Microsoft.Spatial\TypeWashedToGeometryPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class (
TypeWashedToGeometryPipeline /
:0 1
TypeWashedPipeline2 D
{ 
private 
readonly 
GeometryPipeline )
output* 0
;0 1
public (
TypeWashedToGeometryPipeline +
(+ ,
SpatialPipeline, ;
output< B
)B C
{ 	
this 
. 
output 
= 
output  
;  !
} 	
public"" 
override"" 
bool"" 
IsGeography"" (
{## 	
get$$ 
{$$ 
return$$ 
false$$ 
;$$ 
}$$  !
}%% 	
internal++ 
override++ 
void++ 
SetCoordinateSystem++ 2
(++2 3
int++3 6
?++6 7
epsgId++8 >
)++> ?
{,, 	
var-- 
coordinateSystem--  
=--! "
CoordinateSystem--# 3
.--3 4
Geometry--4 <
(--< =
epsgId--= C
)--C D
;--D E
this.. 
... 
output.. 
... 
SetCoordinateSystem.. +
(..+ ,
coordinateSystem.., <
)..< =
;..= >
}// 	
internal44 
override44 
void44 
Reset44 $
(44$ %
)44% &
{55 	
output66 
.66 
Reset66 
(66 
)66 
;66 
}77 	
internal== 
override== 
void== 
BeginGeo== '
(==' (
SpatialType==( 3
type==4 8
)==8 9
{>> 	
this?? 
.?? 
output?? 
.?? 
BeginGeometry?? %
(??% &
type??& *
)??* +
;??+ ,
}@@ 	
internalII 
overrideII 
voidII 
BeginFigureII *
(II* +
doubleII+ 1
coordinate1II2 =
,II= >
doubleII? E
coordinate2IIF Q
,IIQ R
doubleIIS Y
?IIY Z
coordinate3II[ f
,IIf g
doubleIIh n
?IIn o
coordinate4IIp {
)II{ |
{JJ 	
thisKK 
.KK 
outputKK 
.KK 
BeginFigureKK #
(KK# $
newKK$ '
GeometryPositionKK( 8
(KK8 9
coordinate1KK9 D
,KKD E
coordinate2KKF Q
,KKQ R
coordinate3KKS ^
,KK^ _
coordinate4KK` k
)KKk l
)KKl m
;KKm n
}LL 	
internalUU 
overrideUU 
voidUU 
LineToUU %
(UU% &
doubleUU& ,
coordinate1UU- 8
,UU8 9
doubleUU: @
coordinate2UUA L
,UUL M
doubleUUN T
?UUT U
coordinate3UUV a
,UUa b
doubleUUc i
?UUi j
coordinate4UUk v
)UUv w
{VV 	
thisWW 
.WW 
outputWW 
.WW 
LineToWW 
(WW 
newWW "
GeometryPositionWW# 3
(WW3 4
coordinate1WW4 ?
,WW? @
coordinate2WWA L
,WWL M
coordinate3WWN Y
,WWY Z
coordinate4WW[ f
)WWf g
)WWg h
;WWh i
}XX 	
internal]] 
override]] 
void]] 
	EndFigure]] (
(]]( )
)]]) *
{^^ 	
this__ 
.__ 
output__ 
.__ 
	EndFigure__ !
(__! "
)__" #
;__# $
}`` 	
internalee 
overrideee 
voidee 
EndGeoee %
(ee% &
)ee& '
{ff 	
thisgg 
.gg 
outputgg 
.gg 
EndGeometrygg #
(gg# $
)gg$ %
;gg% &
}hh 	
}ii 
}jj ©•
DD:\odata.net\src\Microsoft.Spatial\SpatialValidatorImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal++ 
class++ *
SpatialValidatorImplementation++ 1
:++2 3
SpatialPipeline++4 C
{,, 
internal33 
const33 
double33 
MaxLongitude33 *
=33+ ,
$num33- 2
;332 3
internal88 
const88 
double88 
MaxLatitude88 )
=88* +
$num88, .
;88. /
private== 
readonly== 
NestedValidator== (&
geographyValidatorInstance==) C
===D E
new==F I
NestedValidator==J Y
(==Y Z
)==Z [
;==[ \
privateBB 
readonlyBB 
NestedValidatorBB (%
geometryValidatorInstanceBB) B
=BBC D
newBBE H
NestedValidatorBBI X
(BBX Y
)BBY Z
;BBZ [
publicGG 
overrideGG 
GeographyPipelineGG )
GeographyPipelineGG* ;
{HH 	
getII 
{II 
returnII 
thisII 
.II &
geographyValidatorInstanceII 8
.II8 9
GeographyPipelineII9 J
;IIJ K
}IIL M
}JJ 	
publicOO 
overrideOO 
GeometryPipelineOO (
GeometryPipelineOO) 9
{PP 	
getQQ 
{QQ 
returnQQ 
thisQQ 
.QQ %
geometryValidatorInstanceQQ 7
.QQ7 8
GeometryPipelineQQ8 H
;QQH I
}QQJ K
}RR 	
private[[ 
class[[ 
NestedValidator[[ %
:[[& '
DrawBoth[[( 0
{\\ 	
private`` 
static`` 
readonly`` #
ValidatorState``$ 2
CoordinateSystem``3 C
=``D E
new``F I$
SetCoordinateSystemState``J b
(``b c
)``c d
;``d e
privateee 
staticee 
readonlyee #
ValidatorStateee$ 2
BeginSpatialee3 ?
=ee@ A
neweeB E
BeginGeoStateeeF S
(eeS T
)eeT U
;eeU V
privatejj 
staticjj 
readonlyjj #
ValidatorStatejj$ 2

PointStartjj3 =
=jj> ?
newjj@ C
PointStartStatejjD S
(jjS T
)jjT U
;jjU V
privateoo 
staticoo 
readonlyoo #
ValidatorStateoo$ 2
PointBuildingoo3 @
=ooA B
newooC F
PointBuildingStateooG Y
(ooY Z
)ooZ [
;oo[ \
privatett 
statictt 
readonlytt #
ValidatorStatett$ 2
PointEndtt3 ;
=tt< =
newtt> A
PointEndStatettB O
(ttO P
)ttP Q
;ttQ R
privateyy 
staticyy 
readonlyyy #
ValidatorStateyy$ 2
LineStringStartyy3 B
=yyC D
newyyE H 
LineStringStartStateyyI ]
(yy] ^
)yy^ _
;yy_ `
private~~ 
static~~ 
readonly~~ #
ValidatorState~~$ 2
LineStringBuilding~~3 E
=~~F G
new~~H K#
LineStringBuildingState~~L c
(~~c d
)~~d e
;~~e f
private
ƒƒ 
static
ƒƒ 
readonly
ƒƒ #
ValidatorState
ƒƒ$ 2
LineStringEnd
ƒƒ3 @
=
ƒƒA B
new
ƒƒC F 
LineStringEndState
ƒƒG Y
(
ƒƒY Z
)
ƒƒZ [
;
ƒƒ[ \
private
ˆˆ 
static
ˆˆ 
readonly
ˆˆ #
ValidatorState
ˆˆ$ 2
PolygonStart
ˆˆ3 ?
=
ˆˆ@ A
new
ˆˆB E
PolygonStartState
ˆˆF W
(
ˆˆW X
)
ˆˆX Y
;
ˆˆY Z
private
 
static
 
readonly
 #
ValidatorState
$ 2
PolygonBuilding
3 B
=
C D
new
E H"
PolygonBuildingState
I ]
(
] ^
)
^ _
;
_ `
private
’’ 
static
’’ 
readonly
’’ #
ValidatorState
’’$ 2

MultiPoint
’’3 =
=
’’> ?
new
’’@ C
MultiPointState
’’D S
(
’’S T
)
’’T U
;
’’U V
private
—— 
static
—— 
readonly
—— #
ValidatorState
——$ 2
MultiLineString
——3 B
=
——C D
new
——E H"
MultiLineStringState
——I ]
(
——] ^
)
——^ _
;
——_ `
private
œœ 
static
œœ 
readonly
œœ #
ValidatorState
œœ$ 2
MultiPolygon
œœ3 ?
=
œœ@ A
new
œœB E
MultiPolygonState
œœF W
(
œœW X
)
œœX Y
;
œœY Z
private
¡¡ 
static
¡¡ 
readonly
¡¡ #
ValidatorState
¡¡$ 2

Collection
¡¡3 =
=
¡¡> ?
new
¡¡@ C
CollectionState
¡¡D S
(
¡¡S T
)
¡¡T U
;
¡¡U V
private
¦¦ 
static
¦¦ 
readonly
¦¦ #
ValidatorState
¦¦$ 2
	FullGlobe
¦¦3 <
=
¦¦= >
new
¦¦? B
FullGlobeState
¦¦C Q
(
¦¦Q R
)
¦¦R S
;
¦¦S T
private
¬¬ 
const
¬¬ 
int
¬¬ (
MaxGeometryCollectionDepth
¬¬ 8
=
¬¬9 :
$num
¬¬; =
;
¬¬= >
private
±± 
readonly
±± 
Stack
±± "
<
±±" #
ValidatorState
±±# 1
>
±±1 2
stack
±±3 8
=
±±9 :
new
±±; >
Stack
±±? D
<
±±D E
ValidatorState
±±E S
>
±±S T
(
±±T U
$num
±±U W
)
±±W X
;
±±X Y
private
¶¶ 
CoordinateSystem
¶¶ $(
validationCoordinateSystem
¶¶% ?
;
¶¶? @
private
»» 
int
»» 
	ringCount
»» !
;
»»! "
private
ÀÀ 
double
ÀÀ $
initialFirstCoordinate
ÀÀ 1
;
ÀÀ1 2
private
ÅÅ 
double
ÅÅ %
initialSecondCoordinate
ÅÅ 2
;
ÅÅ2 3
private
ÊÊ 
double
ÊÊ '
mostRecentFirstCoordinate
ÊÊ 4
;
ÊÊ4 5
private
ÏÏ 
double
ÏÏ (
mostRecentSecondCoordinate
ÏÏ 5
;
ÏÏ5 6
private
ÔÔ 
bool
ÔÔ !
processingGeography
ÔÔ ,
;
ÔÔ, -
private
àà 
int
àà 

pointCount
àà "
;
àà" #
private
åå 
int
åå 
depth
åå 
;
åå 
public
êê 
NestedValidator
êê "
(
êê" #
)
êê# $
{
ëë 
InitializeObject
ìì  
(
ìì  !
)
ìì! "
;
ìì" #
}
íí 
private
òò 
enum
òò 
PipelineCall
òò %
{
óó !
SetCoordinateSystem
÷÷ #
,
÷÷# $
Begin
ıı 
,
ıı 

BeginPoint
‚‚ 
,
‚‚ 
BeginLineString
‡‡ 
,
‡‡  
BeginPolygon
ŒŒ 
,
ŒŒ 
BeginMultiPoint
‘‘ 
,
‘‘  "
BeginMultiLineString
–– $
,
––$ %
BeginMultiPolygon
›› !
,
››! "
BeginCollection
   
,
    
BeginFullGlobe
¥¥ 
,
¥¥ 
BeginFigure
ªª 
,
ªª 
LineTo
¯¯ 
,
¯¯ 
	EndFigure
½½ 
,
½½ 
End
ÂÂ 
,
ÂÂ 
}
ÃÃ 
	protected
ÊÊ 
override
ÊÊ 
CoordinateSystem
ÊÊ /#
OnSetCoordinateSystem
ÊÊ0 E
(
ÊÊE F
CoordinateSystem
ÊÊF V
coordinateSystem
ÊÊW g
)
ÊÊg h
{
ËË 
ValidatorState
ÌÌ 
currentState
ÌÌ +
=
ÌÌ, -
this
ÌÌ. 2
.
ÌÌ2 3
stack
ÌÌ3 8
.
ÌÌ8 9
Peek
ÌÌ9 =
(
ÌÌ= >
)
ÌÌ> ?
;
ÌÌ? @
Execute
ÍÍ 
(
ÍÍ 
PipelineCall
ÍÍ $
.
ÍÍ$ %!
SetCoordinateSystem
ÍÍ% 8
)
ÍÍ8 9
;
ÍÍ9 :
if
ÏÏ 
(
ÏÏ 
currentState
ÏÏ  
==
ÏÏ! #
CoordinateSystem
ÏÏ$ 4
)
ÏÏ4 5
{
ĞĞ 
this
ÑÑ 
.
ÑÑ (
validationCoordinateSystem
ÑÑ 3
=
ÑÑ4 5
coordinateSystem
ÑÑ6 F
;
ÑÑF G
}
ÒÒ 
else
ÓÓ 
if
ÓÓ 
(
ÓÓ 
this
ÓÓ 
.
ÓÓ (
validationCoordinateSystem
ÓÓ 8
!=
ÓÓ9 ;
coordinateSystem
ÓÓ< L
)
ÓÓL M
{
ÔÔ 
throw
ÕÕ 
new
ÕÕ 
FormatException
ÕÕ -
(
ÕÕ- .
Strings
ÕÕ. 5
.
ÕÕ5 6$
Validator_SridMismatch
ÕÕ6 L
)
ÕÕL M
;
ÕÕM N
}
ÖÖ 
return
ØØ 
coordinateSystem
ØØ '
;
ØØ' (
}
ÙÙ 
	protected
àà 
override
àà 
SpatialType
àà *
OnBeginGeography
àà+ ;
(
àà; <
SpatialType
àà< G
shape
ààH M
)
ààM N
{
áá 
if
ââ 
(
ââ 
this
ââ 
.
ââ 
depth
ââ 
>
ââ  
$num
ââ! "
&&
ââ# %
!
ââ& '
this
ââ' +
.
ââ+ ,!
processingGeography
ââ, ?
)
ââ? @
{
ãã 
throw
ää 
new
ää 
FormatException
ää -
(
ää- .
Strings
ää. 5
.
ää5 6*
Validator_UnexpectedGeometry
ää6 R
)
ääR S
;
ääS T
}
åå 
this
çç 
.
çç !
processingGeography
çç (
=
çç) *
true
çç+ /
;
çç/ 0

BeginShape
èè 
(
èè 
shape
èè  
)
èè  !
;
èè! "
return
êê 
shape
êê 
;
êê 
}
ëë 
	protected
ğğ 
override
ğğ 
void
ğğ #
OnEndGeography
ğğ$ 2
(
ğğ2 3
)
ğğ3 4
{
ññ 
Execute
òò 
(
òò 
PipelineCall
òò $
.
òò$ %
End
òò% (
)
òò( )
;
òò) *
if
óó 
(
óó 
!
óó 
this
óó 
.
óó !
processingGeography
óó -
)
óó- .
{
ôô 
throw
õõ 
new
õõ 
FormatException
õõ -
(
õõ- .
Strings
õõ. 5
.
õõ5 6*
Validator_UnexpectedGeometry
õõ6 R
)
õõR S
;
õõS T
}
öö 
this
øø 
.
øø 
depth
øø 
-=
øø 
$num
øø 
;
øø  
}
ùù 
	protected
€€ 
override
€€ 
SpatialType
€€ *
OnBeginGeometry
€€+ :
(
€€: ;
SpatialType
€€; F
shape
€€G L
)
€€L M
{
 
if
‚‚ 
(
‚‚ 
this
‚‚ 
.
‚‚ 
depth
‚‚ 
>
‚‚  
$num
‚‚! "
&&
‚‚# %
this
‚‚& *
.
‚‚* +!
processingGeography
‚‚+ >
)
‚‚> ?
{
ƒƒ 
throw
„„ 
new
„„ 
FormatException
„„ -
(
„„- .
Strings
„„. 5
.
„„5 6+
Validator_UnexpectedGeography
„„6 S
)
„„S T
;
„„T U
}
…… 
this
‡‡ 
.
‡‡ !
processingGeography
‡‡ (
=
‡‡) *
false
‡‡+ 0
;
‡‡0 1

BeginShape
ˆˆ 
(
ˆˆ 
shape
ˆˆ  
)
ˆˆ  !
;
ˆˆ! "
return
‰‰ 
shape
‰‰ 
;
‰‰ 
}
ŠŠ 
	protected
 
override
 
void
 #
OnEndGeometry
$ 1
(
1 2
)
2 3
{
 
Execute
‘‘ 
(
‘‘ 
PipelineCall
‘‘ $
.
‘‘$ %
End
‘‘% (
)
‘‘( )
;
‘‘) *
if
’’ 
(
’’ 
this
’’ 
.
’’ !
processingGeography
’’ ,
)
’’, -
{
““ 
throw
”” 
new
”” 
FormatException
”” -
(
””- .
Strings
””. 5
.
””5 6+
Validator_UnexpectedGeography
””6 S
)
””S T
;
””T U
}
•• 
this
—— 
.
—— 
depth
—— 
-=
—— 
$num
—— 
;
——  
}
˜˜ 
	protected
ŸŸ 
override
ŸŸ 
GeographyPosition
ŸŸ 0
OnBeginFigure
ŸŸ1 >
(
ŸŸ> ?
GeographyPosition
ŸŸ? P
position
ŸŸQ Y
)
ŸŸY Z
{
   
BeginFigure
¡¡ 
(
¡¡ '
ValidateGeographyPosition
¡¡ 5
,
¡¡5 6
position
¡¡7 ?
.
¡¡? @
Latitude
¡¡@ H
,
¡¡H I
position
¡¡J R
.
¡¡R S
	Longitude
¡¡S \
,
¡¡\ ]
position
¡¡^ f
.
¡¡f g
Z
¡¡g h
,
¡¡h i
position
¡¡j r
.
¡¡r s
M
¡¡s t
)
¡¡t u
;
¡¡u v
return
¢¢ 
position
¢¢ 
;
¢¢  
}
££ 
	protected
ªª 
override
ªª 
GeometryPosition
ªª /
OnBeginFigure
ªª0 =
(
ªª= >
GeometryPosition
ªª> N
position
ªªO W
)
ªªW X
{
«« 
BeginFigure
¬¬ 
(
¬¬ &
ValidateGeometryPosition
¬¬ 4
,
¬¬4 5
position
¬¬6 >
.
¬¬> ?
X
¬¬? @
,
¬¬@ A
position
¬¬B J
.
¬¬J K
Y
¬¬K L
,
¬¬L M
position
¬¬N V
.
¬¬V W
Z
¬¬W X
,
¬¬X Y
position
¬¬Z b
.
¬¬b c
M
¬¬c d
)
¬¬d e
;
¬¬e f
return
­­ 
position
­­ 
;
­­  
}
®® 
	protected
³³ 
override
³³ 
void
³³ #
OnEndFigure
³³$ /
(
³³/ 0
)
³³0 1
{
´´ 
Execute
µµ 
(
µµ 
PipelineCall
µµ $
.
µµ$ %
	EndFigure
µµ% .
)
µµ. /
;
µµ/ 0
}
¶¶ 
	protected
»» 
override
»» 
void
»» #
OnReset
»»$ +
(
»»+ ,
)
»», -
{
¼¼ 
InitializeObject
½½  
(
½½  !
)
½½! "
;
½½" #
}
¾¾ 
	protected
ÅÅ 
override
ÅÅ 
GeographyPosition
ÅÅ 0
OnLineTo
ÅÅ1 9
(
ÅÅ9 :
GeographyPosition
ÅÅ: K
position
ÅÅL T
)
ÅÅT U
{
ÆÆ 
if
ÇÇ 
(
ÇÇ 
this
ÇÇ 
.
ÇÇ !
processingGeography
ÇÇ ,
)
ÇÇ, -
{
ÈÈ '
ValidateGeographyPosition
ÉÉ -
(
ÉÉ- .
position
ÉÉ. 6
.
ÉÉ6 7
Latitude
ÉÉ7 ?
,
ÉÉ? @
position
ÉÉA I
.
ÉÉI J
	Longitude
ÉÉJ S
,
ÉÉS T
position
ÉÉU ]
.
ÉÉ] ^
Z
ÉÉ^ _
,
ÉÉ_ `
position
ÉÉa i
.
ÉÉi j
M
ÉÉj k
)
ÉÉk l
;
ÉÉl m
}
ÊÊ 
AddControlPoint
ÌÌ 
(
ÌÌ  
position
ÌÌ  (
.
ÌÌ( )
Latitude
ÌÌ) 1
,
ÌÌ1 2
position
ÌÌ3 ;
.
ÌÌ; <
	Longitude
ÌÌ< E
)
ÌÌE F
;
ÌÌF G
if
ÎÎ 
(
ÎÎ 
!
ÎÎ 
this
ÎÎ 
.
ÎÎ !
processingGeography
ÎÎ -
)
ÎÎ- .
{
ÏÏ 
throw
ĞĞ 
new
ĞĞ 
FormatException
ĞĞ -
(
ĞĞ- .
Strings
ĞĞ. 5
.
ĞĞ5 6*
Validator_UnexpectedGeometry
ĞĞ6 R
)
ĞĞR S
;
ĞĞS T
}
ÑÑ 
return
ÓÓ 
position
ÓÓ 
;
ÓÓ  
}
ÔÔ 
	protected
ÛÛ 
override
ÛÛ 
GeometryPosition
ÛÛ /
OnLineTo
ÛÛ0 8
(
ÛÛ8 9
GeometryPosition
ÛÛ9 I
position
ÛÛJ R
)
ÛÛR S
{
ÜÜ 
if
İİ 
(
İİ 
!
İİ 
this
İİ 
.
İİ !
processingGeography
İİ -
)
İİ- .
{
ŞŞ &
ValidateGeometryPosition
ßß ,
(
ßß, -
position
ßß- 5
.
ßß5 6
X
ßß6 7
,
ßß7 8
position
ßß9 A
.
ßßA B
Y
ßßB C
,
ßßC D
position
ßßE M
.
ßßM N
Z
ßßN O
,
ßßO P
position
ßßQ Y
.
ßßY Z
M
ßßZ [
)
ßß[ \
;
ßß\ ]
}
àà 
AddControlPoint
ââ 
(
ââ  
position
ââ  (
.
ââ( )
X
ââ) *
,
ââ* +
position
ââ, 4
.
ââ4 5
Y
ââ5 6
)
ââ6 7
;
ââ7 8
if
ää 
(
ää 
this
ää 
.
ää !
processingGeography
ää ,
)
ää, -
{
åå 
throw
ææ 
new
ææ 
FormatException
ææ -
(
ææ- .
Strings
ææ. 5
.
ææ5 6+
Validator_UnexpectedGeography
ææ6 S
)
ææS T
;
ææT U
}
çç 
return
éé 
position
éé 
;
éé  
}
êê 
private
ññ 
static
ññ 
bool
ññ 
IsFinite
ññ  (
(
ññ( )
double
ññ) /
value
ññ0 5
)
ññ5 6
{
òò 
return
óó 
!
óó 
double
óó 
.
óó 
IsNaN
óó $
(
óó$ %
value
óó% *
)
óó* +
&&
óó, .
!
óó/ 0
double
óó0 6
.
óó6 7

IsInfinity
óó7 A
(
óóA B
value
óóB G
)
óóG H
;
óóH I
}
ôô 
[
şş 
SuppressMessage
şş 
(
şş 
$str
şş /
,
şş/ 0
$str
şş1 9
,
şş9 :
Justification
şş; H
=
şşI J
$str
şşK c
)
şşc d
]
şşd e
private
ÿÿ 
static
ÿÿ 
bool
ÿÿ 
IsPointValid
ÿÿ  ,
(
ÿÿ, -
double
ÿÿ- 3
first
ÿÿ4 9
,
ÿÿ9 :
double
ÿÿ; A
second
ÿÿB H
,
ÿÿH I
double
ÿÿJ P
?
ÿÿP Q
z
ÿÿR S
,
ÿÿS T
double
ÿÿU [
?
ÿÿ[ \
m
ÿÿ] ^
)
ÿÿ^ _
{
€€ 
return
 
IsFinite
 
(
  
first
  %
)
% &
&&
' )
IsFinite
* 2
(
2 3
second
3 9
)
9 :
&&
; =
(
> ?
z
? @
==
A C
null
D H
||
I K
IsFinite
L T
(
T U
z
U V
.
V W
Value
W \
)
\ ]
)
] ^
&&
_ a
(
‚‚ 
m
‚‚ 
==
‚‚ 
null
‚‚ !
||
‚‚" $
IsFinite
‚‚% -
(
‚‚- .
m
‚‚. /
.
‚‚/ 0
Value
‚‚0 5
)
‚‚5 6
)
‚‚6 7
;
‚‚7 8
}
ƒƒ 
private
ŒŒ 
static
ŒŒ 
void
ŒŒ !
ValidateOnePosition
ŒŒ  3
(
ŒŒ3 4
double
ŒŒ4 :
first
ŒŒ; @
,
ŒŒ@ A
double
ŒŒB H
second
ŒŒI O
,
ŒŒO P
double
ŒŒQ W
?
ŒŒW X
z
ŒŒY Z
,
ŒŒZ [
double
ŒŒ\ b
?
ŒŒb c
m
ŒŒd e
)
ŒŒe f
{
 
if
 
(
 
!
 
IsPointValid
 !
(
! "
first
" '
,
' (
second
) /
,
/ 0
z
1 2
,
2 3
m
4 5
)
5 6
)
6 7
{
 
throw
 
new
 
FormatException
 -
(
- .
Strings
. 5
.
5 6.
 Validator_InvalidPointCoordinate
6 V
(
V W
first
W \
,
\ ]
second
^ d
,
d e
z
f g
,
g h
m
i j
)
j k
)
k l
;
l m
}
‘‘ 
}
’’ 
private
›› 
static
›› 
void
›› '
ValidateGeographyPosition
››  9
(
››9 :
double
››: @
latitude
››A I
,
››I J
double
››K Q
	longitude
››R [
,
››[ \
double
››] c
?
››c d
z
››e f
,
››f g
double
››h n
?
››n o
m
››p q
)
››q r
{
œœ !
ValidateOnePosition
 #
(
# $
latitude
$ ,
,
, -
	longitude
. 7
,
7 8
z
9 :
,
: ;
m
< =
)
= >
;
> ?
if
 
(
 
!
 
IsLatitudeValid
 $
(
$ %
latitude
% -
)
- .
)
. /
{
ŸŸ 
throw
   
new
   
FormatException
   -
(
  - .
Strings
  . 5
.
  5 61
#Validator_InvalidLatitudeCoordinate
  6 Y
(
  Y Z
latitude
  Z b
)
  b c
)
  c d
;
  d e
}
¡¡ 
if
££ 
(
££ 
!
££ 
IsLongitudeValid
££ %
(
££% &
	longitude
££& /
)
££/ 0
)
££0 1
{
¤¤ 
throw
¥¥ 
new
¥¥ 
FormatException
¥¥ -
(
¥¥- .
Strings
¥¥. 5
.
¥¥5 62
$Validator_InvalidLongitudeCoordinate
¥¥6 Z
(
¥¥Z [
	longitude
¥¥[ d
)
¥¥d e
)
¥¥e f
;
¥¥f g
}
¦¦ 
}
§§ 
private
°° 
static
°° 
void
°° &
ValidateGeometryPosition
°°  8
(
°°8 9
double
°°9 ?
x
°°@ A
,
°°A B
double
°°C I
y
°°J K
,
°°K L
double
°°M S
?
°°S T
z
°°U V
,
°°V W
double
°°X ^
?
°°^ _
m
°°` a
)
°°a b
{
±± !
ValidateOnePosition
²² #
(
²²# $
x
²²$ %
,
²²% &
y
²²' (
,
²²( )
z
²²* +
,
²²+ ,
m
²²- .
)
²². /
;
²²/ 0
}
³³ 
private
ºº 
static
ºº 
bool
ºº 
IsLatitudeValid
ºº  /
(
ºº/ 0
double
ºº0 6
latitude
ºº7 ?
)
ºº? @
{
»» 
return
¼¼ 
latitude
¼¼ 
>=
¼¼  "
-
¼¼# $
MaxLatitude
¼¼$ /
&&
¼¼0 2
latitude
¼¼3 ;
<=
¼¼< >
MaxLatitude
¼¼? J
;
¼¼J K
}
½½ 
private
ÄÄ 
static
ÄÄ 
bool
ÄÄ 
IsLongitudeValid
ÄÄ  0
(
ÄÄ0 1
double
ÄÄ1 7
	longitude
ÄÄ8 A
)
ÄÄA B
{
ÅÅ 
return
ÆÆ 
	longitude
ÆÆ  
>=
ÆÆ! #
-
ÆÆ$ %
MaxLongitude
ÆÆ% 1
&&
ÆÆ2 4
	longitude
ÆÆ5 >
<=
ÆÆ? A
MaxLongitude
ÆÆB N
;
ÆÆN O
}
ÇÇ 
private
ÑÑ 
static
ÑÑ 
void
ÑÑ &
ValidateGeographyPolygon
ÑÑ  8
(
ÑÑ8 9
int
ÒÒ 
numOfPoints
ÒÒ 
,
ÒÒ  
double
ÓÓ $
initialFirstCoordinate
ÓÓ -
,
ÓÓ- .
double
ÔÔ %
initialSecondCoordinate
ÔÔ .
,
ÔÔ. /
double
ÕÕ '
mostRecentFirstCoordinate
ÕÕ 0
,
ÕÕ0 1
double
ÖÖ (
mostRecentSecondCoordinate
ÖÖ 1
)
ÖÖ1 2
{
×× 
if
ØØ 
(
ØØ 
numOfPoints
ØØ 
<
ØØ  !
$num
ØØ" #
||
ØØ$ &$
initialFirstCoordinate
ØØ' =
!=
ØØ> @'
mostRecentFirstCoordinate
ØØA Z
||
ØØ[ ]
!
ÙÙ  
AreLongitudesEqual
ÙÙ '
(
ÙÙ' (%
initialSecondCoordinate
ÙÙ( ?
,
ÙÙ? @(
mostRecentSecondCoordinate
ÙÙA [
)
ÙÙ[ \
)
ÙÙ\ ]
{
ÚÚ 
throw
ÛÛ 
new
ÛÛ 
FormatException
ÛÛ -
(
ÛÛ- .
Strings
ÛÛ. 5
.
ÛÛ5 6,
Validator_InvalidPolygonPoints
ÛÛ6 T
)
ÛÛT U
;
ÛÛU V
}
ÜÜ 
}
İİ 
private
çç 
static
çç 
void
çç %
ValidateGeometryPolygon
çç  7
(
çç7 8
int
èè 
numOfPoints
èè 
,
èè  
double
éé $
initialFirstCoordinate
éé -
,
éé- .
double
êê %
initialSecondCoordinate
êê .
,
êê. /
double
ëë '
mostRecentFirstCoordinate
ëë 0
,
ëë0 1
double
ìì (
mostRecentSecondCoordinate
ìì 1
)
ìì1 2
{
íí 
if
îî 
(
îî 
numOfPoints
îî 
<
îî  !
$num
îî" #
||
îî$ &$
initialFirstCoordinate
îî' =
!=
îî> @'
mostRecentFirstCoordinate
îîA Z
||
îî[ ]%
initialSecondCoordinate
ïï +
!=
ïï, .(
mostRecentSecondCoordinate
ïï/ I
)
ïïI J
{
ğğ 
throw
ññ 
new
ññ 
FormatException
ññ -
(
ññ- .
Strings
ññ. 5
.
ññ5 6,
Validator_InvalidPolygonPoints
ññ6 T
)
ññT U
;
ññU V
}
òò 
}
óó 
private
ûû 
static
ûû 
bool
ûû  
AreLongitudesEqual
ûû  2
(
ûû2 3
double
ûû3 9
left
ûû: >
,
ûû> ?
double
ûû@ F
right
ûûG L
)
ûûL M
{
üü 
return
ıı 
left
ıı 
==
ıı 
right
ıı $
||
ıı% '
(
ıı( )
left
ıı) -
-
ıı. /
right
ıı0 5
)
ıı5 6
%
ıı7 8
$num
ıı9 <
==
ıı= ?
$num
ıı@ A
;
ııA B
}
şş 
private
ˆˆ 
void
ˆˆ 
BeginFigure
ˆˆ $
(
ˆˆ$ %
Action
ˆˆ% +
<
ˆˆ+ ,
double
ˆˆ, 2
,
ˆˆ2 3
double
ˆˆ4 :
,
ˆˆ: ;
double
ˆˆ< B
?
ˆˆB C
,
ˆˆC D
double
ˆˆE K
?
ˆˆK L
>
ˆˆL M
validate
ˆˆN V
,
ˆˆV W
double
ˆˆX ^
x
ˆˆ_ `
,
ˆˆ` a
double
ˆˆb h
y
ˆˆi j
,
ˆˆj k
double
ˆˆl r
?
ˆˆr s
z
ˆˆt u
,
ˆˆu v
double
ˆˆw }
?
ˆˆ} ~
mˆˆ €
)ˆˆ€ 
{
‰‰ 
validate
ŠŠ 
(
ŠŠ 
x
ŠŠ 
,
ŠŠ 
y
ŠŠ 
,
ŠŠ 
z
ŠŠ  
,
ŠŠ  !
m
ŠŠ" #
)
ŠŠ# $
;
ŠŠ$ %
this
‹‹ 
.
‹‹ 
Execute
‹‹ 
(
‹‹ 
PipelineCall
‹‹ )
.
‹‹) *
BeginFigure
‹‹* 5
)
‹‹5 6
;
‹‹6 7
this
ŒŒ 
.
ŒŒ 

pointCount
ŒŒ 
=
ŒŒ  !
$num
ŒŒ" #
;
ŒŒ# $
this
 
.
 
TrackPosition
 "
(
" #
x
# $
,
$ %
y
& '
)
' (
;
( )
}
 
private
”” 
void
”” 

BeginShape
”” #
(
””# $
SpatialType
””$ /
type
””0 4
)
””4 5
{
•• 
this
–– 
.
–– 
depth
–– 
+=
–– 
$num
–– 
;
––  
switch
˜˜ 
(
˜˜ 
type
˜˜ 
)
˜˜ 
{
™™ 
case
šš 
SpatialType
šš $
.
šš$ %
Point
šš% *
:
šš* +
Execute
›› 
(
››  
PipelineCall
››  ,
.
››, -

BeginPoint
››- 7
)
››7 8
;
››8 9
break
œœ 
;
œœ 
case
 
SpatialType
 $
.
$ %

LineString
% /
:
/ 0
Execute
 
(
  
PipelineCall
  ,
.
, -
BeginLineString
- <
)
< =
;
= >
break
ŸŸ 
;
ŸŸ 
case
   
SpatialType
   $
.
  $ %
Polygon
  % ,
:
  , -
Execute
¡¡ 
(
¡¡  
PipelineCall
¡¡  ,
.
¡¡, -
BeginPolygon
¡¡- 9
)
¡¡9 :
;
¡¡: ;
break
¢¢ 
;
¢¢ 
case
££ 
SpatialType
££ $
.
££$ %

MultiPoint
££% /
:
££/ 0
Execute
¤¤ 
(
¤¤  
PipelineCall
¤¤  ,
.
¤¤, -
BeginMultiPoint
¤¤- <
)
¤¤< =
;
¤¤= >
break
¥¥ 
;
¥¥ 
case
¦¦ 
SpatialType
¦¦ $
.
¦¦$ %
MultiLineString
¦¦% 4
:
¦¦4 5
Execute
§§ 
(
§§  
PipelineCall
§§  ,
.
§§, -"
BeginMultiLineString
§§- A
)
§§A B
;
§§B C
break
¨¨ 
;
¨¨ 
case
©© 
SpatialType
©© $
.
©©$ %
MultiPolygon
©©% 1
:
©©1 2
Execute
ªª 
(
ªª  
PipelineCall
ªª  ,
.
ªª, -
BeginMultiPolygon
ªª- >
)
ªª> ?
;
ªª? @
break
«« 
;
«« 
case
¬¬ 
SpatialType
¬¬ $
.
¬¬$ %

Collection
¬¬% /
:
¬¬/ 0
Execute
­­ 
(
­­  
PipelineCall
­­  ,
.
­­, -
BeginCollection
­­- <
)
­­< =
;
­­= >
break
®® 
;
®® 
case
¯¯ 
SpatialType
¯¯ $
.
¯¯$ %
	FullGlobe
¯¯% .
:
¯¯. /
if
°° 
(
°° 
!
°° 
this
°° !
.
°°! "!
processingGeography
°°" 5
)
°°5 6
{
±± 
throw
²² !
new
²²" %
FormatException
²²& 5
(
²²5 6
Strings
²²6 =
.
²²= >#
Validator_InvalidType
²²> S
(
²²S T
type
²²T X
)
²²X Y
)
²²Y Z
;
²²Z [
}
³³ 
Execute
µµ 
(
µµ  
PipelineCall
µµ  ,
.
µµ, -
BeginFullGlobe
µµ- ;
)
µµ; <
;
µµ< =
break
¶¶ 
;
¶¶ 
default
ÄÄ 
:
ÄÄ 
throw
ÅÅ 
new
ÅÅ !
FormatException
ÅÅ" 1
(
ÅÅ1 2
Strings
ÅÅ2 9
.
ÅÅ9 :#
Validator_InvalidType
ÅÅ: O
(
ÅÅO P
type
ÅÅP T
)
ÅÅT U
)
ÅÅU V
;
ÅÅV W
}
ÆÆ 
}
ÇÇ 
private
ÎÎ 
void
ÎÎ 
AddControlPoint
ÎÎ (
(
ÎÎ( )
double
ÎÎ) /
first
ÎÎ0 5
,
ÎÎ5 6
double
ÎÎ7 =
second
ÎÎ> D
)
ÎÎD E
{
ÏÏ 
Execute
ĞĞ 
(
ĞĞ 
PipelineCall
ĞĞ $
.
ĞĞ$ %
LineTo
ĞĞ% +
)
ĞĞ+ ,
;
ĞĞ, -
TrackPosition
ÒÒ 
(
ÒÒ 
first
ÒÒ #
,
ÒÒ# $
second
ÒÒ% +
)
ÒÒ+ ,
;
ÒÒ, -
}
ÓÓ 
private
ÚÚ 
void
ÚÚ 
TrackPosition
ÚÚ &
(
ÚÚ& '
double
ÚÚ' -
first
ÚÚ. 3
,
ÚÚ3 4
double
ÚÚ5 ;
second
ÚÚ< B
)
ÚÚB C
{
ÛÛ 
if
ÜÜ 
(
ÜÜ 
this
ÜÜ 
.
ÜÜ 

pointCount
ÜÜ #
==
ÜÜ$ &
$num
ÜÜ' (
)
ÜÜ( )
{
İİ 
this
ŞŞ 
.
ŞŞ $
initialFirstCoordinate
ŞŞ /
=
ŞŞ0 1
first
ŞŞ2 7
;
ŞŞ7 8
this
ßß 
.
ßß %
initialSecondCoordinate
ßß 0
=
ßß1 2
second
ßß3 9
;
ßß9 :
}
àà 
this
ââ 
.
ââ '
mostRecentFirstCoordinate
ââ .
=
ââ/ 0
first
ââ1 6
;
ââ6 7
this
ãã 
.
ãã (
mostRecentSecondCoordinate
ãã /
=
ãã0 1
second
ãã2 8
;
ãã8 9
this
çç 
.
çç 

pointCount
çç 
+=
çç  "
$num
çç# $
;
çç$ %
}
èè 
private
îî 
void
îî 
Execute
îî  
(
îî  !
PipelineCall
îî! -

transition
îî. 8
)
îî8 9
{
ïï 
ValidatorState
ğğ 
state
ğğ $
=
ğğ% &
this
ğğ' +
.
ğğ+ ,
stack
ğğ, 1
.
ğğ1 2
Peek
ğğ2 6
(
ğğ6 7
)
ğğ7 8
;
ğğ8 9
state
ññ 
.
ññ  
ValidateTransition
ññ (
(
ññ( )

transition
ññ) 3
,
ññ3 4
this
ññ5 9
)
ññ9 :
;
ññ: ;
}
òò 
private
÷÷ 
void
÷÷ 
InitializeObject
÷÷ )
(
÷÷) *
)
÷÷* +
{
øø 
this
ùù 
.
ùù 
depth
ùù 
=
ùù 
default
ùù $
(
ùù$ %
int
ùù% (
)
ùù( )
;
ùù) *
this
úú 
.
úú $
initialFirstCoordinate
úú +
=
úú, -
default
úú. 5
(
úú5 6
double
úú6 <
)
úú< =
;
úú= >
this
ûû 
.
ûû %
initialSecondCoordinate
ûû ,
=
ûû- .
default
ûû/ 6
(
ûû6 7
double
ûû7 =
)
ûû= >
;
ûû> ?
this
üü 
.
üü '
mostRecentFirstCoordinate
üü .
=
üü/ 0
default
üü1 8
(
üü8 9
double
üü9 ?
)
üü? @
;
üü@ A
this
ıı 
.
ıı (
mostRecentSecondCoordinate
ıı /
=
ıı0 1
default
ıı2 9
(
ıı9 :
double
ıı: @
)
ıı@ A
;
ııA B
this
şş 
.
şş 

pointCount
şş 
=
şş  !
default
şş" )
(
şş) *
int
şş* -
)
şş- .
;
şş. /
this
ÿÿ 
.
ÿÿ (
validationCoordinateSystem
ÿÿ /
=
ÿÿ0 1
null
ÿÿ2 6
;
ÿÿ6 7
this
€€ 
.
€€ 
	ringCount
€€ 
=
€€  
default
€€! (
(
€€( )
int
€€) ,
)
€€, -
;
€€- .
this
‚‚ 
.
‚‚ 
stack
‚‚ 
.
‚‚ 
Clear
‚‚  
(
‚‚  !
)
‚‚! "
;
‚‚" #
this
ƒƒ 
.
ƒƒ 
stack
ƒƒ 
.
ƒƒ 
Push
ƒƒ 
(
ƒƒ  
CoordinateSystem
ƒƒ  0
)
ƒƒ0 1
;
ƒƒ1 2
}
„„ 
private
ŠŠ 
void
ŠŠ 
Call
ŠŠ 
(
ŠŠ 
ValidatorState
ŠŠ ,
state
ŠŠ- 2
)
ŠŠ2 3
{
‹‹ 
if
ŒŒ 
(
ŒŒ 
this
ŒŒ 
.
ŒŒ 
stack
ŒŒ 
.
ŒŒ 
Count
ŒŒ $
>
ŒŒ% &(
MaxGeometryCollectionDepth
ŒŒ' A
)
ŒŒA B
{
 
throw
 
new
 
FormatException
 -
(
- .
Strings
. 5
.
5 6'
Validator_NestingOverflow
6 O
(
O P(
MaxGeometryCollectionDepth
P j
)
j k
)
k l
;
l m
}
 
this
‘‘ 
.
‘‘ 
stack
‘‘ 
.
‘‘ 
Push
‘‘ 
(
‘‘  
state
‘‘  %
)
‘‘% &
;
‘‘& '
}
’’ 
private
—— 
void
—— 
Return
—— 
(
——  
)
——  !
{
˜˜ 
this
™™ 
.
™™ 
stack
™™ 
.
™™ 
Pop
™™ 
(
™™ 
)
™™  
;
™™  !
Debug
šš 
.
šš 
Assert
šš 
(
šš 
this
šš !
.
šš! "
stack
šš" '
.
šš' (
Count
šš( -
>
šš. /
$num
šš0 1
,
šš1 2
$str
šš3 n
)
ššn o
;
ššo p
}
›› 
private
¡¡ 
void
¡¡ 
Jump
¡¡ 
(
¡¡ 
ValidatorState
¡¡ ,
state
¡¡- 2
)
¡¡2 3
{
¢¢ 
this
££ 
.
££ 
stack
££ 
.
££ 
Pop
££ 
(
££ 
)
££  
;
££  !
Debug
¤¤ 
.
¤¤ 
Assert
¤¤ 
(
¤¤ 
this
¤¤ !
.
¤¤! "
stack
¤¤" '
.
¤¤' (
Count
¤¤( -
>
¤¤. /
$num
¤¤0 1
,
¤¤1 2
$str
¤¤3 n
)
¤¤n o
;
¤¤o p
this
¥¥ 
.
¥¥ 
stack
¥¥ 
.
¥¥ 
Push
¥¥ 
(
¥¥  
state
¥¥  %
)
¥¥% &
;
¥¥& '
}
¦¦ 
private
­­ 
abstract
­­ 
class
­­ "
ValidatorState
­­# 1
{
®® 
internal
´´ 
abstract
´´ !
void
´´" & 
ValidateTransition
´´' 9
(
´´9 :
PipelineCall
µµ  

transition
µµ! +
,
µµ+ ,
NestedValidator
¶¶ #
	validator
¶¶$ -
)
¶¶- .
;
¶¶. /
	protected
½½ 
static
½½  
void
½½! %
ThrowExpected
½½& 3
(
½½3 4
PipelineCall
½½4 @

transition
½½A K
,
½½K L
PipelineCall
½½M Y
actual
½½Z `
)
½½` a
{
¾¾ 
throw
¿¿ 
new
¿¿ 
FormatException
¿¿ -
(
¿¿- .
Strings
¿¿. 5
.
¿¿5 6&
Validator_UnexpectedCall
¿¿6 N
(
¿¿N O

transition
¿¿O Y
,
¿¿Y Z
actual
¿¿[ a
)
¿¿a b
)
¿¿b c
;
¿¿c d
}
ÀÀ 
	protected
ÈÈ 
static
ÈÈ  
void
ÈÈ! %
ThrowExpected
ÈÈ& 3
(
ÈÈ3 4
PipelineCall
ÉÉ  
transition1
ÉÉ! ,
,
ÉÉ, -
PipelineCall
ÊÊ  
transition2
ÊÊ! ,
,
ÊÊ, -
PipelineCall
ËË  
actual
ËË! '
)
ËË' (
{
ÌÌ 
throw
ÍÍ 
new
ÍÍ 
FormatException
ÍÍ -
(
ÍÍ- .
Strings
ÍÍ. 5
.
ÍÍ5 6'
Validator_UnexpectedCall2
ÍÍ6 O
(
ÍÍO P
transition1
ÍÍP [
,
ÍÍ[ \
transition2
ÍÍ] h
,
ÍÍh i
actual
ÍÍj p
)
ÍÍp q
)
ÍÍq r
;
ÍÍr s
}
ÎÎ 
	protected
×× 
static
××  
void
××! %
ThrowExpected
××& 3
(
××3 4
PipelineCall
ØØ  
transition1
ØØ! ,
,
ØØ, -
PipelineCall
ÙÙ  
transition2
ÙÙ! ,
,
ÙÙ, -
PipelineCall
ÚÚ  
transition3
ÚÚ! ,
,
ÚÚ, -
PipelineCall
ÛÛ  
actual
ÛÛ! '
)
ÛÛ' (
{
ÜÜ 
throw
İİ 
new
İİ 
FormatException
İİ -
(
İİ- .
Strings
İİ. 5
.
İİ5 6'
Validator_UnexpectedCall2
İİ6 O
(
İİO P
transition1
İİP [
+
İİ\ ]
$str
İİ^ b
+
İİc d
transition2
İİe p
,
İİp q
transition3
İİr }
,
İİ} ~
actualİİ …
)İİ… †
)İİ† ‡
;İİ‡ ˆ
}
ŞŞ 
}
ßß 
private
åå 
class
åå &
SetCoordinateSystemState
åå 2
:
åå3 4
ValidatorState
åå5 C
{
ææ 
internal
ìì 
override
ìì !
void
ìì" & 
ValidateTransition
ìì' 9
(
ìì9 :
PipelineCall
íí  

transition
íí! +
,
íí+ ,
NestedValidator
îî #
	validator
îî$ -
)
îî- .
{
ïï 
switch
ğğ 
(
ğğ 

transition
ğğ &
)
ğğ& '
{
ññ 
case
òò 
PipelineCall
òò )
.
òò) *!
SetCoordinateSystem
òò* =
:
òò= >
	validator
óó %
.
óó% &
Call
óó& *
(
óó* +
BeginSpatial
óó+ 7
)
óó7 8
;
óó8 9
return
ôô "
;
ôô" #
default
õõ 
:
õõ  
ThrowExpected
öö )
(
öö) *
PipelineCall
öö* 6
.
öö6 7!
SetCoordinateSystem
öö7 J
,
ööJ K

transition
ööL V
)
ööV W
;
ööW X
return
÷÷ "
;
÷÷" #
}
øø 
}
ùù 
}
úú 
private
€€ 
class
€€ 
BeginGeoState
€€ '
:
€€( )
ValidatorState
€€* 8
{
 
internal
‡‡ 
override
‡‡ !
void
‡‡" & 
ValidateTransition
‡‡' 9
(
‡‡9 :
PipelineCall
ˆˆ  

transition
ˆˆ! +
,
ˆˆ+ ,
NestedValidator
‰‰ #
	validator
‰‰$ -
)
‰‰- .
{
ŠŠ 
switch
‹‹ 
(
‹‹ 

transition
‹‹ &
)
‹‹& '
{
ŒŒ 
case
 
PipelineCall
 )
.
) *

BeginPoint
* 4
:
4 5
	validator
 %
.
% &
Jump
& *
(
* +

PointStart
+ 5
)
5 6
;
6 7
return
 "
;
" #
case
 
PipelineCall
 )
.
) *
BeginLineString
* 9
:
9 :
	validator
‘‘ %
.
‘‘% &
Jump
‘‘& *
(
‘‘* +
LineStringStart
‘‘+ :
)
‘‘: ;
;
‘‘; <
return
’’ "
;
’’" #
case
““ 
PipelineCall
““ )
.
““) *
BeginPolygon
““* 6
:
““6 7
	validator
”” %
.
””% &
Jump
””& *
(
””* +
PolygonStart
””+ 7
)
””7 8
;
””8 9
return
•• "
;
••" #
case
–– 
PipelineCall
–– )
.
––) *
BeginMultiPoint
––* 9
:
––9 :
	validator
—— %
.
——% &
Jump
——& *
(
——* +

MultiPoint
——+ 5
)
——5 6
;
——6 7
return
˜˜ "
;
˜˜" #
case
™™ 
PipelineCall
™™ )
.
™™) *"
BeginMultiLineString
™™* >
:
™™> ?
	validator
šš %
.
šš% &
Jump
šš& *
(
šš* +
MultiLineString
šš+ :
)
šš: ;
;
šš; <
return
›› "
;
››" #
case
œœ 
PipelineCall
œœ )
.
œœ) *
BeginMultiPolygon
œœ* ;
:
œœ; <
	validator
 %
.
% &
Jump
& *
(
* +
MultiPolygon
+ 7
)
7 8
;
8 9
return
 "
;
" #
case
ŸŸ 
PipelineCall
ŸŸ )
.
ŸŸ) *
BeginCollection
ŸŸ* 9
:
ŸŸ9 :
	validator
   %
.
  % &
Jump
  & *
(
  * +

Collection
  + 5
)
  5 6
;
  6 7
return
¡¡ "
;
¡¡" #
case
¢¢ 
PipelineCall
¢¢ )
.
¢¢) *
BeginFullGlobe
¢¢* 8
:
¢¢8 9
if
££ 
(
££  
	validator
££  )
.
££) *
depth
££* /
!=
££0 2
$num
££3 4
)
££4 5
{
¤¤ 
throw
¥¥  %
new
¥¥& )
FormatException
¥¥* 9
(
¥¥9 :
Strings
¥¥: A
.
¥¥A B-
Validator_FullGlobeInCollection
¥¥B a
)
¥¥a b
;
¥¥b c
}
¦¦ 
	validator
¨¨ %
.
¨¨% &
Jump
¨¨& *
(
¨¨* +
	FullGlobe
¨¨+ 4
)
¨¨4 5
;
¨¨5 6
return
©© "
;
©©" #
default
µµ 
:
µµ  
ThrowExpected
¶¶ )
(
¶¶) *
PipelineCall
¶¶* 6
.
¶¶6 7
Begin
¶¶7 <
,
¶¶< =

transition
¶¶> H
)
¶¶H I
;
¶¶I J
return
·· "
;
··" #
}
¸¸ 
}
¹¹ 
}
ºº 
private
ÀÀ 
class
ÀÀ 
PointStartState
ÀÀ )
:
ÀÀ* +
ValidatorState
ÀÀ, :
{
ÁÁ 
internal
ÇÇ 
override
ÇÇ !
void
ÇÇ" & 
ValidateTransition
ÇÇ' 9
(
ÇÇ9 :
PipelineCall
ÇÇ: F

transition
ÇÇG Q
,
ÇÇQ R
NestedValidator
ÇÇS b
	validator
ÇÇc l
)
ÇÇl m
{
ÈÈ 
switch
ÉÉ 
(
ÉÉ 

transition
ÉÉ &
)
ÉÉ& '
{
ÊÊ 
case
ËË 
PipelineCall
ËË )
.
ËË) *
BeginFigure
ËË* 5
:
ËË5 6
	validator
ÌÌ %
.
ÌÌ% &
Jump
ÌÌ& *
(
ÌÌ* +
PointBuilding
ÌÌ+ 8
)
ÌÌ8 9
;
ÌÌ9 :
return
ÍÍ "
;
ÍÍ" #
case
ÎÎ 
PipelineCall
ÎÎ )
.
ÎÎ) *
End
ÎÎ* -
:
ÎÎ- .
	validator
ÏÏ %
.
ÏÏ% &
Return
ÏÏ& ,
(
ÏÏ, -
)
ÏÏ- .
;
ÏÏ. /
return
ĞĞ "
;
ĞĞ" #
default
ÑÑ 
:
ÑÑ  
ThrowExpected
ÒÒ )
(
ÒÒ) *
PipelineCall
ÒÒ* 6
.
ÒÒ6 7
BeginFigure
ÒÒ7 B
,
ÒÒB C
PipelineCall
ÒÒD P
.
ÒÒP Q
End
ÒÒQ T
,
ÒÒT U

transition
ÒÒV `
)
ÒÒ` a
;
ÒÒa b
return
ÓÓ "
;
ÓÓ" #
}
ÔÔ 
}
ÕÕ 
}
ÖÖ 
private
ÜÜ 
class
ÜÜ  
PointBuildingState
ÜÜ ,
:
ÜÜ- .
ValidatorState
ÜÜ/ =
{
İİ 
internal
ãã 
override
ãã !
void
ãã" & 
ValidateTransition
ãã' 9
(
ãã9 :
PipelineCall
ãã: F

transition
ããG Q
,
ããQ R
NestedValidator
ããS b
	validator
ããc l
)
ããl m
{
ää 
switch
åå 
(
åå 

transition
åå &
)
åå& '
{
ææ 
case
çç 
PipelineCall
çç )
.
çç) *
LineTo
çç* 0
:
çç0 1
if
èè 
(
èè  
	validator
èè  )
.
èè) *

pointCount
èè* 4
!=
èè5 7
$num
èè8 9
)
èè9 :
{
éé 
ThrowExpected
êê  -
(
êê- .
PipelineCall
êê. :
.
êê: ;
	EndFigure
êê; D
,
êêD E

transition
êêF P
)
êêP Q
;
êêQ R
}
ëë 
return
íí "
;
íí" #
case
ïï 
PipelineCall
ïï )
.
ïï) *
	EndFigure
ïï* 3
:
ïï3 4
if
ğğ 
(
ğğ  
	validator
ğğ  )
.
ğğ) *

pointCount
ğğ* 4
==
ğğ5 7
$num
ğğ8 9
)
ğğ9 :
{
ññ 
ThrowExpected
òò  -
(
òò- .
PipelineCall
òò. :
.
òò: ;
BeginFigure
òò; F
,
òòF G

transition
òòH R
)
òòR S
;
òòS T
}
óó 
	validator
õõ %
.
õõ% &
Jump
õõ& *
(
õõ* +
PointEnd
õõ+ 3
)
õõ3 4
;
õõ4 5
return
öö "
;
öö" #
default
øø 
:
øø  
ThrowExpected
ùù )
(
ùù) *
PipelineCall
ùù* 6
.
ùù6 7
	EndFigure
ùù7 @
,
ùù@ A

transition
ùùB L
)
ùùL M
;
ùùM N
return
úú "
;
úú" #
}
ûû 
}
üü 
}
ıı 
private
ƒƒ 
class
ƒƒ 
PointEndState
ƒƒ '
:
ƒƒ( )
ValidatorState
ƒƒ* 8
{
„„ 
internal
ŠŠ 
override
ŠŠ !
void
ŠŠ" & 
ValidateTransition
ŠŠ' 9
(
ŠŠ9 :
PipelineCall
ŠŠ: F

transition
ŠŠG Q
,
ŠŠQ R
NestedValidator
ŠŠS b
	validator
ŠŠc l
)
ŠŠl m
{
‹‹ 
switch
ŒŒ 
(
ŒŒ 

transition
ŒŒ &
)
ŒŒ& '
{
 
case
 
PipelineCall
 )
.
) *
End
* -
:
- .
	validator
 %
.
% &
Return
& ,
(
, -
)
- .
;
. /
return
 "
;
" #
default
‘‘ 
:
‘‘  
ThrowExpected
’’ )
(
’’) *
PipelineCall
’’* 6
.
’’6 7
End
’’7 :
,
’’: ;

transition
’’< F
)
’’F G
;
’’G H
return
““ "
;
““" #
}
”” 
}
•• 
}
–– 
private
œœ 
class
œœ "
LineStringStartState
œœ .
:
œœ/ 0
ValidatorState
œœ1 ?
{
 
internal
££ 
override
££ !
void
££" & 
ValidateTransition
££' 9
(
££9 :
PipelineCall
££: F

transition
££G Q
,
££Q R
NestedValidator
££S b
	validator
££c l
)
££l m
{
¤¤ 
switch
¥¥ 
(
¥¥ 

transition
¥¥ &
)
¥¥& '
{
¦¦ 
case
§§ 
PipelineCall
§§ )
.
§§) *
BeginFigure
§§* 5
:
§§5 6
	validator
¨¨ %
.
¨¨% &
Jump
¨¨& *
(
¨¨* + 
LineStringBuilding
¨¨+ =
)
¨¨= >
;
¨¨> ?
return
©© "
;
©©" #
case
ªª 
PipelineCall
ªª )
.
ªª) *
End
ªª* -
:
ªª- .
	validator
«« %
.
««% &
Return
««& ,
(
««, -
)
««- .
;
««. /
return
¬¬ "
;
¬¬" #
default
­­ 
:
­­  
ThrowExpected
®® )
(
®®) *
PipelineCall
®®* 6
.
®®6 7
BeginFigure
®®7 B
,
®®B C
PipelineCall
®®D P
.
®®P Q
End
®®Q T
,
®®T U

transition
®®V `
)
®®` a
;
®®a b
return
¯¯ "
;
¯¯" #
}
°° 
}
±± 
}
²² 
private
¹¹ 
class
¹¹ %
LineStringBuildingState
¹¹ 1
:
¹¹2 3
ValidatorState
¹¹4 B
{
ºº 
internal
ÀÀ 
override
ÀÀ !
void
ÀÀ" & 
ValidateTransition
ÀÀ' 9
(
ÀÀ9 :
PipelineCall
ÀÀ: F

transition
ÀÀG Q
,
ÀÀQ R
NestedValidator
ÀÀS b
	validator
ÀÀc l
)
ÀÀl m
{
ÁÁ 
switch
ÂÂ 
(
ÂÂ 

transition
ÂÂ &
)
ÂÂ& '
{
ÃÃ 
case
ÄÄ 
PipelineCall
ÄÄ )
.
ÄÄ) *
LineTo
ÄÄ* 0
:
ÄÄ0 1
return
ÅÅ "
;
ÅÅ" #
case
ÆÆ 
PipelineCall
ÆÆ )
.
ÆÆ) *
	EndFigure
ÆÆ* 3
:
ÆÆ3 4
if
ÇÇ 
(
ÇÇ  
	validator
ÇÇ  )
.
ÇÇ) *

pointCount
ÇÇ* 4
<
ÇÇ5 6
$num
ÇÇ7 8
)
ÇÇ8 9
{
ÈÈ 
throw
ÉÉ  %
new
ÉÉ& )
FormatException
ÉÉ* 9
(
ÉÉ9 :
Strings
ÉÉ: A
.
ÉÉA B0
"Validator_LineStringNeedsTwoPoints
ÉÉB d
)
ÉÉd e
;
ÉÉe f
}
ÊÊ 
	validator
ÌÌ %
.
ÌÌ% &
Jump
ÌÌ& *
(
ÌÌ* +
LineStringEnd
ÌÌ+ 8
)
ÌÌ8 9
;
ÌÌ9 :
return
ÍÍ "
;
ÍÍ" #
default
ÎÎ 
:
ÎÎ  
ThrowExpected
ÏÏ )
(
ÏÏ) *
PipelineCall
ÏÏ* 6
.
ÏÏ6 7
LineTo
ÏÏ7 =
,
ÏÏ= >
PipelineCall
ÏÏ? K
.
ÏÏK L
	EndFigure
ÏÏL U
,
ÏÏU V

transition
ÏÏW a
)
ÏÏa b
;
ÏÏb c
return
ĞĞ "
;
ĞĞ" #
}
ÑÑ 
}
ÒÒ 
}
ÓÓ 
private
ÚÚ 
class
ÚÚ  
LineStringEndState
ÚÚ ,
:
ÚÚ- .
ValidatorState
ÚÚ/ =
{
ÛÛ 
internal
áá 
override
áá !
void
áá" & 
ValidateTransition
áá' 9
(
áá9 :
PipelineCall
áá: F

transition
ááG Q
,
ááQ R
NestedValidator
ááS b
	validator
áác l
)
áál m
{
ââ 
switch
ãã 
(
ãã 

transition
ãã &
)
ãã& '
{
ää 
case
åå 
PipelineCall
åå )
.
åå) *
End
åå* -
:
åå- .
	validator
ææ %
.
ææ% &
Return
ææ& ,
(
ææ, -
)
ææ- .
;
ææ. /
return
çç "
;
çç" #
default
èè 
:
èè  
ThrowExpected
éé )
(
éé) *
PipelineCall
éé* 6
.
éé6 7
End
éé7 :
,
éé: ;

transition
éé< F
)
ééF G
;
ééG H
return
êê "
;
êê" #
}
ëë 
}
ìì 
}
íí 
private
óó 
class
óó 
PolygonStartState
óó +
:
óó, -
ValidatorState
óó. <
{
ôô 
internal
úú 
override
úú !
void
úú" & 
ValidateTransition
úú' 9
(
úú9 :
PipelineCall
úú: F

transition
úúG Q
,
úúQ R
NestedValidator
úúS b
	validator
úúc l
)
úúl m
{
ûû 
switch
üü 
(
üü 

transition
üü &
)
üü& '
{
ıı 
case
şş 
PipelineCall
şş )
.
şş) *
BeginFigure
şş* 5
:
şş5 6
	validator
ÿÿ %
.
ÿÿ% &
Jump
ÿÿ& *
(
ÿÿ* +
PolygonBuilding
ÿÿ+ :
)
ÿÿ: ;
;
ÿÿ; <
return
€	€	 "
;
€	€	" #
case
		 
PipelineCall
		 )
.
		) *
End
		* -
:
		- .
	validator
‚	‚	 %
.
‚	‚	% &
	ringCount
‚	‚	& /
=
‚	‚	0 1
$num
‚	‚	2 3
;
‚	‚	3 4
	validator
ƒ	ƒ	 %
.
ƒ	ƒ	% &
Return
ƒ	ƒ	& ,
(
ƒ	ƒ	, -
)
ƒ	ƒ	- .
;
ƒ	ƒ	. /
return
„	„	 "
;
„	„	" #
default
…	…	 
:
…	…	  
ThrowExpected
†	†	 )
(
†	†	) *
PipelineCall
†	†	* 6
.
†	†	6 7
BeginFigure
†	†	7 B
,
†	†	B C
PipelineCall
†	†	D P
.
†	†	P Q
End
†	†	Q T
,
†	†	T U

transition
†	†	V `
)
†	†	` a
;
†	†	a b
return
‡	‡	 "
;
‡	‡	" #
}
ˆ	ˆ	 
}
‰	‰	 
}
Š	Š	 
private
		 
class
		 "
PolygonBuildingState
		 .
:
		/ 0
ValidatorState
		1 ?
{
‘	‘	 
internal
—	—	 
override
—	—	 !
void
—	—	" & 
ValidateTransition
—	—	' 9
(
—	—	9 :
PipelineCall
—	—	: F

transition
—	—	G Q
,
—	—	Q R
NestedValidator
—	—	S b
	validator
—	—	c l
)
—	—	l m
{
˜	˜	 
switch
™	™	 
(
™	™	 

transition
™	™	 &
)
™	™	& '
{
š	š	 
case
›	›	 
PipelineCall
›	›	 )
.
›	›	) *
LineTo
›	›	* 0
:
›	›	0 1
return
œ	œ	 "
;
œ	œ	" #
case
		 
PipelineCall
		 )
.
		) *
	EndFigure
		* 3
:
		3 4
	validator
		 %
.
		% &
	ringCount
		& /
+=
		0 2
$num
		3 4
;
		4 5
if
Ÿ	Ÿ	 
(
Ÿ	Ÿ	  
	validator
Ÿ	Ÿ	  )
.
Ÿ	Ÿ	) *!
processingGeography
Ÿ	Ÿ	* =
)
Ÿ	Ÿ	= >
{
 	 	 &
ValidateGeographyPolygon
¡	¡	  8
(
¡	¡	8 9
	validator
¢	¢	$ -
.
¢	¢	- .

pointCount
¢	¢	. 8
,
¢	¢	8 9
	validator
£	£	$ -
.
£	£	- .$
initialFirstCoordinate
£	£	. D
,
£	£	D E
	validator
¤	¤	$ -
.
¤	¤	- .%
initialSecondCoordinate
¤	¤	. E
,
¤	¤	E F
	validator
¥	¥	$ -
.
¥	¥	- .'
mostRecentFirstCoordinate
¥	¥	. G
,
¥	¥	G H
	validator
¦	¦	$ -
.
¦	¦	- .(
mostRecentSecondCoordinate
¦	¦	. H
)
¦	¦	H I
;
¦	¦	I J
}
§	§	 
else
¨	¨	  
{
©	©	 %
ValidateGeometryPolygon
ª	ª	  7
(
ª	ª	7 8
	validator
«	«	$ -
.
«	«	- .

pointCount
«	«	. 8
,
«	«	8 9
	validator
¬	¬	$ -
.
¬	¬	- .$
initialFirstCoordinate
¬	¬	. D
,
¬	¬	D E
	validator
­	­	$ -
.
­	­	- .%
initialSecondCoordinate
­	­	. E
,
­	­	E F
	validator
®	®	$ -
.
®	®	- .'
mostRecentFirstCoordinate
®	®	. G
,
®	®	G H
	validator
¯	¯	$ -
.
¯	¯	- .(
mostRecentSecondCoordinate
¯	¯	. H
)
¯	¯	H I
;
¯	¯	I J
}
°	°	 
	validator
²	²	 %
.
²	²	% &
Jump
²	²	& *
(
²	²	* +
PolygonStart
²	²	+ 7
)
²	²	7 8
;
²	²	8 9
return
³	³	 "
;
³	³	" #
default
´	´	 
:
´	´	  
ThrowExpected
µ	µ	 )
(
µ	µ	) *
PipelineCall
µ	µ	* 6
.
µ	µ	6 7
LineTo
µ	µ	7 =
,
µ	µ	= >
PipelineCall
µ	µ	? K
.
µ	µ	K L
	EndFigure
µ	µ	L U
,
µ	µ	U V

transition
µ	µ	W a
)
µ	µ	a b
;
µ	µ	b c
return
¶	¶	 "
;
¶	¶	" #
}
·	·	 
}
¸	¸	 
}
¹	¹	 
private
¿	¿	 
class
¿	¿	 
MultiPointState
¿	¿	 )
:
¿	¿	* +
ValidatorState
¿	¿	, :
{
À	À	 
internal
Æ	Æ	 
override
Æ	Æ	 !
void
Æ	Æ	" & 
ValidateTransition
Æ	Æ	' 9
(
Æ	Æ	9 :
PipelineCall
Æ	Æ	: F

transition
Æ	Æ	G Q
,
Æ	Æ	Q R
NestedValidator
Æ	Æ	S b
	validator
Æ	Æ	c l
)
Æ	Æ	l m
{
Ç	Ç	 
switch
È	È	 
(
È	È	 

transition
È	È	 &
)
È	È	& '
{
É	É	 
case
Ê	Ê	 
PipelineCall
Ê	Ê	 )
.
Ê	Ê	) *!
SetCoordinateSystem
Ê	Ê	* =
:
Ê	Ê	= >
return
Ë	Ë	 "
;
Ë	Ë	" #
case
Ì	Ì	 
PipelineCall
Ì	Ì	 )
.
Ì	Ì	) *

BeginPoint
Ì	Ì	* 4
:
Ì	Ì	4 5
	validator
Í	Í	 %
.
Í	Í	% &
Call
Í	Í	& *
(
Í	Í	* +

PointStart
Í	Í	+ 5
)
Í	Í	5 6
;
Í	Í	6 7
return
Î	Î	 "
;
Î	Î	" #
case
Ï	Ï	 
PipelineCall
Ï	Ï	 )
.
Ï	Ï	) *
End
Ï	Ï	* -
:
Ï	Ï	- .
	validator
Ğ	Ğ	 %
.
Ğ	Ğ	% &
Return
Ğ	Ğ	& ,
(
Ğ	Ğ	, -
)
Ğ	Ğ	- .
;
Ğ	Ğ	. /
return
Ñ	Ñ	 "
;
Ñ	Ñ	" #
default
Ò	Ò	 
:
Ò	Ò	  
ThrowExpected
Ó	Ó	 )
(
Ó	Ó	) *
PipelineCall
Ó	Ó	* 6
.
Ó	Ó	6 7!
SetCoordinateSystem
Ó	Ó	7 J
,
Ó	Ó	J K
PipelineCall
Ó	Ó	L X
.
Ó	Ó	X Y

BeginPoint
Ó	Ó	Y c
,
Ó	Ó	c d
PipelineCall
Ó	Ó	e q
.
Ó	Ó	q r
End
Ó	Ó	r u
,
Ó	Ó	u v

transitionÓ	Ó	w 
)Ó	Ó	 ‚
;Ó	Ó	‚ ƒ
return
Ô	Ô	 "
;
Ô	Ô	" #
}
Õ	Õ	 
}
Ö	Ö	 
}
×	×	 
private
İ	İ	 
class
İ	İ	 "
MultiLineStringState
İ	İ	 .
:
İ	İ	/ 0
ValidatorState
İ	İ	1 ?
{
Ş	Ş	 
internal
ä	ä	 
override
ä	ä	 !
void
ä	ä	" & 
ValidateTransition
ä	ä	' 9
(
ä	ä	9 :
PipelineCall
ä	ä	: F

transition
ä	ä	G Q
,
ä	ä	Q R
NestedValidator
ä	ä	S b
	validator
ä	ä	c l
)
ä	ä	l m
{
å	å	 
switch
æ	æ	 
(
æ	æ	 

transition
æ	æ	 &
)
æ	æ	& '
{
ç	ç	 
case
è	è	 
PipelineCall
è	è	 )
.
è	è	) *!
SetCoordinateSystem
è	è	* =
:
è	è	= >
return
é	é	 "
;
é	é	" #
case
ê	ê	 
PipelineCall
ê	ê	 )
.
ê	ê	) *
BeginLineString
ê	ê	* 9
:
ê	ê	9 :
	validator
ë	ë	 %
.
ë	ë	% &
Call
ë	ë	& *
(
ë	ë	* +
LineStringStart
ë	ë	+ :
)
ë	ë	: ;
;
ë	ë	; <
return
ì	ì	 "
;
ì	ì	" #
case
í	í	 
PipelineCall
í	í	 )
.
í	í	) *
End
í	í	* -
:
í	í	- .
	validator
î	î	 %
.
î	î	% &
Return
î	î	& ,
(
î	î	, -
)
î	î	- .
;
î	î	. /
return
ï	ï	 "
;
ï	ï	" #
default
ğ	ğ	 
:
ğ	ğ	  
ThrowExpected
ñ	ñ	 )
(
ñ	ñ	) *
PipelineCall
ñ	ñ	* 6
.
ñ	ñ	6 7!
SetCoordinateSystem
ñ	ñ	7 J
,
ñ	ñ	J K
PipelineCall
ñ	ñ	L X
.
ñ	ñ	X Y
BeginLineString
ñ	ñ	Y h
,
ñ	ñ	h i
PipelineCall
ñ	ñ	j v
.
ñ	ñ	v w
End
ñ	ñ	w z
,
ñ	ñ	z {

transitionñ	ñ	| †
)ñ	ñ	† ‡
;ñ	ñ	‡ ˆ
return
ò	ò	 "
;
ò	ò	" #
}
ó	ó	 
}
ô	ô	 
}
õ	õ	 
private
û	û	 
class
û	û	 
MultiPolygonState
û	û	 +
:
û	û	, -
ValidatorState
û	û	. <
{
ü	ü	 
internal
‚
‚
 
override
‚
‚
 !
void
‚
‚
" & 
ValidateTransition
‚
‚
' 9
(
‚
‚
9 :
PipelineCall
‚
‚
: F

transition
‚
‚
G Q
,
‚
‚
Q R
NestedValidator
‚
‚
S b
	validator
‚
‚
c l
)
‚
‚
l m
{
ƒ
ƒ
 
switch
„
„
 
(
„
„
 

transition
„
„
 &
)
„
„
& '
{
…
…
 
case
†
†
 
PipelineCall
†
†
 )
.
†
†
) *!
SetCoordinateSystem
†
†
* =
:
†
†
= >
return
‡
‡
 "
;
‡
‡
" #
case
ˆ
ˆ
 
PipelineCall
ˆ
ˆ
 )
.
ˆ
ˆ
) *
BeginPolygon
ˆ
ˆ
* 6
:
ˆ
ˆ
6 7
	validator
‰
‰
 %
.
‰
‰
% &
Call
‰
‰
& *
(
‰
‰
* +
PolygonStart
‰
‰
+ 7
)
‰
‰
7 8
;
‰
‰
8 9
return
Š
Š
 "
;
Š
Š
" #
case
‹
‹
 
PipelineCall
‹
‹
 )
.
‹
‹
) *
End
‹
‹
* -
:
‹
‹
- .
	validator
Œ
Œ
 %
.
Œ
Œ
% &
Return
Œ
Œ
& ,
(
Œ
Œ
, -
)
Œ
Œ
- .
;
Œ
Œ
. /
return


 "
;


" #
default


 
:


  
ThrowExpected


 )
(


) *
PipelineCall


* 6
.


6 7!
SetCoordinateSystem


7 J
,


J K
PipelineCall


L X
.


X Y
BeginPolygon


Y e
,


e f
PipelineCall


g s
.


s t
End


t w
,


w x

transition

y ƒ
)

ƒ „
;

„ …
return


 "
;


" #
}
‘
‘
 
}
’
’
 
}
“
“
 
private
™
™
 
class
™
™
 
CollectionState
™
™
 )
:
™
™
* +
ValidatorState
™
™
, :
{
š
š
 
internal
 
 
 
override
 
 
 !
void
 
 
" & 
ValidateTransition
 
 
' 9
(
 
 
9 :
PipelineCall
 
 
: F

transition
 
 
G Q
,
 
 
Q R
NestedValidator
 
 
S b
	validator
 
 
c l
)
 
 
l m
{
¡
¡
 
switch
¢
¢
 
(
¢
¢
 

transition
¢
¢
 &
)
¢
¢
& '
{
£
£
 
case
¤
¤
 
PipelineCall
¤
¤
 )
.
¤
¤
) *!
SetCoordinateSystem
¤
¤
* =
:
¤
¤
= >
return
¥
¥
 "
;
¥
¥
" #
case
¦
¦
 
PipelineCall
¦
¦
 )
.
¦
¦
) *

BeginPoint
¦
¦
* 4
:
¦
¦
4 5
	validator
§
§
 %
.
§
§
% &
Call
§
§
& *
(
§
§
* +

PointStart
§
§
+ 5
)
§
§
5 6
;
§
§
6 7
return
¨
¨
 "
;
¨
¨
" #
case
©
©
 
PipelineCall
©
©
 )
.
©
©
) *
BeginLineString
©
©
* 9
:
©
©
9 :
	validator
ª
ª
 %
.
ª
ª
% &
Call
ª
ª
& *
(
ª
ª
* +
LineStringStart
ª
ª
+ :
)
ª
ª
: ;
;
ª
ª
; <
return
«
«
 "
;
«
«
" #
case
¬
¬
 
PipelineCall
¬
¬
 )
.
¬
¬
) *
BeginPolygon
¬
¬
* 6
:
¬
¬
6 7
	validator
­
­
 %
.
­
­
% &
Call
­
­
& *
(
­
­
* +
PolygonStart
­
­
+ 7
)
­
­
7 8
;
­
­
8 9
return
®
®
 "
;
®
®
" #
case
¯
¯
 
PipelineCall
¯
¯
 )
.
¯
¯
) *
BeginMultiPoint
¯
¯
* 9
:
¯
¯
9 :
	validator
°
°
 %
.
°
°
% &
Call
°
°
& *
(
°
°
* +

MultiPoint
°
°
+ 5
)
°
°
5 6
;
°
°
6 7
return
±
±
 "
;
±
±
" #
case
²
²
 
PipelineCall
²
²
 )
.
²
²
) *"
BeginMultiLineString
²
²
* >
:
²
²
> ?
	validator
³
³
 %
.
³
³
% &
Call
³
³
& *
(
³
³
* +
MultiLineString
³
³
+ :
)
³
³
: ;
;
³
³
; <
return
´
´
 "
;
´
´
" #
case
µ
µ
 
PipelineCall
µ
µ
 )
.
µ
µ
) *
BeginMultiPolygon
µ
µ
* ;
:
µ
µ
; <
	validator
¶
¶
 %
.
¶
¶
% &
Call
¶
¶
& *
(
¶
¶
* +
MultiPolygon
¶
¶
+ 7
)
¶
¶
7 8
;
¶
¶
8 9
return
·
·
 "
;
·
·
" #
case
¸
¸
 
PipelineCall
¸
¸
 )
.
¸
¸
) *
BeginCollection
¸
¸
* 9
:
¸
¸
9 :
	validator
¹
¹
 %
.
¹
¹
% &
Call
¹
¹
& *
(
¹
¹
* +

Collection
¹
¹
+ 5
)
¹
¹
5 6
;
¹
¹
6 7
return
º
º
 "
;
º
º
" #
case
»
»
 
PipelineCall
»
»
 )
.
»
»
) *
End
»
»
* -
:
»
»
- .
	validator
¼
¼
 %
.
¼
¼
% &
Return
¼
¼
& ,
(
¼
¼
, -
)
¼
¼
- .
;
¼
¼
. /
return
½
½
 "
;
½
½
" #
case
¾
¾
 
PipelineCall
¾
¾
 )
.
¾
¾
) *
BeginFullGlobe
¾
¾
* 8
:
¾
¾
8 9
throw
¿
¿
 !
new
¿
¿
" %
FormatException
¿
¿
& 5
(
¿
¿
5 6
Strings
¿
¿
6 =
.
¿
¿
= >-
Validator_FullGlobeInCollection
¿
¿
> ]
)
¿
¿
] ^
;
¿
¿
^ _
default
Í
Í
 
:
Í
Í
  
ThrowExpected
Î
Î
 )
(
Î
Î
) *
PipelineCall
Î
Î
* 6
.
Î
Î
6 7!
SetCoordinateSystem
Î
Î
7 J
,
Î
Î
J K
PipelineCall
Î
Î
L X
.
Î
Î
X Y
Begin
Î
Î
Y ^
,
Î
Î
^ _
PipelineCall
Î
Î
` l
.
Î
Î
l m
End
Î
Î
m p
,
Î
Î
p q

transition
Î
Î
r |
)
Î
Î
| }
;
Î
Î
} ~
return
Ï
Ï
 "
;
Ï
Ï
" #
}
Ğ
Ğ
 
}
Ñ
Ñ
 
}
Ò
Ò
 
private
Ø
Ø
 
class
Ø
Ø
 
FullGlobeState
Ø
Ø
 (
:
Ø
Ø
) *
ValidatorState
Ø
Ø
+ 9
{
Ù
Ù
 
internal
ß
ß
 
override
ß
ß
 !
void
ß
ß
" & 
ValidateTransition
ß
ß
' 9
(
ß
ß
9 :
PipelineCall
ß
ß
: F

transition
ß
ß
G Q
,
ß
ß
Q R
NestedValidator
ß
ß
S b
	validator
ß
ß
c l
)
ß
ß
l m
{
à
à
 
switch
á
á
 
(
á
á
 

transition
á
á
 &
)
á
á
& '
{
â
â
 
case
ã
ã
 
PipelineCall
ã
ã
 )
.
ã
ã
) *
End
ã
ã
* -
:
ã
ã
- .
	validator
ä
ä
 %
.
ä
ä
% &
Return
ä
ä
& ,
(
ä
ä
, -
)
ä
ä
- .
;
ä
ä
. /
return
å
å
 "
;
å
å
" #
default
æ
æ
 
:
æ
æ
  
throw
ç
ç
 !
new
ç
ç
" %
FormatException
ç
ç
& 5
(
ç
ç
5 6
Strings
ç
ç
6 =
.
ç
ç
= >3
%Validator_FullGlobeCannotHaveElements
ç
ç
> c
)
ç
ç
c d
;
ç
ç
d e
}
è
è
 
}
é
é
 
}
ê
ê
 
}
í
í
 	
}
î
î
 
}ï
ï
 ¿
6D:\odata.net\src\Microsoft.Spatial\ExtensionMethods.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class 
ExtensionMethods *
{ 
public 
static 
void 
WriteRoundtrippable .
(. /
this/ 3

TextWriter4 >
writer? E
,E F
doubleG M
dN O
)O P
{ 	
writer 
. 
Write 
( 
d 
. 
ToString #
(# $
$str$ '
,' (
CultureInfo) 4
.4 5
InvariantCulture5 E
)E F
)F G
;G H
} 	
internal$$ 
static$$ 
TResult$$ 
?$$  $
IfValidReturningNullable$$! 9
<$$9 :
TArg$$: >
,$$> ?
TResult$$@ G
>$$G H
($$H I
this$$I M
TArg$$N R
arg$$S V
,$$V W
Func$$X \
<$$\ ]
TArg$$] a
,$$a b
TResult$$c j
>$$j k
op$$l n
)$$n o
where%% 
TArg%% 
:%% 
class%% 
where&& 
TResult&& 
:&& 
struct&& "
{'' 	
return(( 
arg(( 
==(( 
null(( 
?((  
(((! "
TResult((" )
?(() *
)((* +
null((+ /
:((0 1
op((2 4
(((4 5
arg((5 8
)((8 9
;((9 :
})) 	
internal33 
static33 
TResult33 
IfValid33  '
<33' (
TArg33( ,
,33, -
TResult33. 5
>335 6
(336 7
this337 ;
TArg33< @
arg33A D
,33D E
Func33F J
<33J K
TArg33K O
,33O P
TResult33Q X
>33X Y
op33Z \
)33\ ]
where44 
TArg44 
:44 
class44 
where55 
TResult55 
:55 
class55 !
{66 	
return77 
arg77 
==77 
null77 
?77  
default77! (
(77( )
TResult77) 0
)770 1
:772 3
op774 6
(776 7
arg777 :
)77: ;
;77; <
}88 	
}99 
}:: ×
0D:\odata.net\src\Microsoft.Spatial\LexerToken.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 

LexerToken 
{ 
public 
string 
Text 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Type 
{ 
get 
; 
set "
;" #
}$ %
public!! 
bool!! 

MatchToken!! 
(!! 
int!! "

targetType!!# -
,!!- .
String!!/ 5

targetText!!6 @
,!!@ A
StringComparison!!B R

comparison!!S ]
)!!] ^
{"" 	
return## 
(## 
this## 
.## 
Type## 
==##  

targetType##! +
)##+ ,
&&##- /
(##0 1
String##1 7
.##7 8
IsNullOrEmpty##8 E
(##E F

targetText##F P
)##P Q
||##R T
this##U Y
.##Y Z
Text##Z ^
.##^ _
Equals##_ e
(##e f

targetText##f p
,##p q

comparison##r |
)##| }
)##} ~
;##~ 
}$$ 	
public** 
override** 
string** 
ToString** '
(**' (
)**( )
{++ 	
return,, 
$str,, 
+,, 
this,, "
.,," #
Type,,# '
+,,( )
$str,,* 4
+,,5 6
this,,7 ;
.,,; <
Text,,< @
+,,A B
$str,,C F
;,,F G
}-- 	
}.. 
}// Ø8
3D:\odata.net\src\Microsoft.Spatial\TextLexerBase.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
TextLexerBase )
{ 
private 

TextReader 
reader !
;! "
private 

LexerToken 
currentToken '
;' (
private 

LexerToken 
	peekToken $
;$ %
	protected%% 
TextLexerBase%% 
(%%  

TextReader%%  *
text%%+ /
)%%/ 0
{&& 	
this'' 
.'' 
reader'' 
='' 
text'' 
;'' 
}(( 	
public-- 

LexerToken-- 
CurrentToken-- &
{.. 	
get// 
{// 
return// 
this// 
.// 
currentToken// *
;//* +
}//, -
}00 	
public77 
bool77 
Peek77 
(77 
out77 

LexerToken77 '
token77( -
)77- .
{88 	
if<< 
(<< 
this<< 
.<< 
	peekToken<< 
!=<< !
null<<" &
)<<& '
{== 
token?? 
=?? 
this?? 
.?? 
	peekToken?? &
;??& '
return@@ 
true@@ 
;@@ 
}AA 

LexerTokenDD 
tempDD 
=DD 
thisDD "
.DD" #
currentTokenDD# /
;DD/ 0
ifGG 
(GG 
thisGG 
.GG 
NextGG 
(GG 
)GG 
)GG 
{HH 
thisII 
.II 
	peekTokenII 
=II  
thisII! %
.II% &
currentTokenII& 2
;II2 3
tokenJJ 
=JJ 
thisJJ 
.JJ 
currentTokenJJ )
;JJ) *
thisMM 
.MM 
currentTokenMM !
=MM" #
tempMM$ (
;MM( )
returnNN 
trueNN 
;NN 
}OO 
elsePP 
{QQ 
thisRR 
.RR 
	peekTokenRR 
=RR  
nullRR! %
;RR% &
tokenSS 
=SS 
nullSS 
;SS 
thisVV 
.VV 
currentTokenVV !
=VV" #
tempVV$ (
;VV( )
returnWW 
falseWW 
;WW 
}XX 
}YY 	
public__ 
bool__ 
Next__ 
(__ 
)__ 
{`` 	
ifoo 
(oo 
thisoo 
.oo 
	peekTokenoo 
!=oo !
nulloo" &
)oo& '
{pp 
thisqq 
.qq 
currentTokenqq !
=qq" #
thisqq$ (
.qq( )
	peekTokenqq) 2
;qq2 3
thisrr 
.rr 
	peekTokenrr 
=rr  
nullrr! %
;rr% &
returnss 
truess 
;ss 
}tt 

LexerTokenvv 
originalTokenvv $
=vv% &
thisvv' +
.vv+ ,
CurrentTokenvv, 8
;vv8 9
intww 
?ww 
currentTokenTypeww !
=ww" #
nullww$ (
;ww( )
intxx 
	textValuexx 
;xx 
StringBuilderyy 
nextTokenTextyy '
=yy( )
nullyy* .
;yy. /
boolzz 
isDelimiterzz 
=zz 
falsezz $
;zz$ %
while|| 
(|| 
!|| 
isDelimiter|| 
&&||  "
(||# $
	textValue||$ -
=||. /
this||0 4
.||4 5
reader||5 ;
.||; <
Peek||< @
(||@ A
)||A B
)||B C
>=||D F
$num||G H
)||H I
{}} 
char~~ 
currentChar~~  
=~~! "
(~~# $
char~~$ (
)~~( )
	textValue~~) 2
;~~2 3
int 
newTokenType  
;  !
isDelimiter
€€ 
=
€€ 
this
€€ "
.
€€" #
MatchTokenType
€€# 1
(
€€1 2
currentChar
€€2 =
,
€€= >
currentTokenType
€€? O
,
€€O P
out
€€Q T
newTokenType
€€U a
)
€€a b
;
€€b c
if
‚‚ 
(
‚‚ 
!
‚‚ 
currentTokenType
‚‚ %
.
‚‚% &
HasValue
‚‚& .
)
‚‚. /
{
ƒƒ 
currentTokenType
…… $
=
……% &
newTokenType
……' 3
;
……3 4
nextTokenText
†† !
=
††" #
new
††$ '
StringBuilder
††( 5
(
††5 6
)
††6 7
;
††7 8
nextTokenText
‡‡ !
.
‡‡! "
Append
‡‡" (
(
‡‡( )
currentChar
‡‡) 4
)
‡‡4 5
;
‡‡5 6
this
ˆˆ 
.
ˆˆ 
reader
ˆˆ 
.
ˆˆ  
Read
ˆˆ  $
(
ˆˆ$ %
)
ˆˆ% &
;
ˆˆ& '
}
‰‰ 
else
ŠŠ 
{
‹‹ 
if
 
(
 
currentTokenType
 (
==
) +
newTokenType
, 8
)
8 9
{
 
nextTokenText
 %
.
% &
Append
& ,
(
, -
currentChar
- 8
)
8 9
;
9 :
this
‘‘ 
.
‘‘ 
reader
‘‘ #
.
‘‘# $
Read
‘‘$ (
(
‘‘( )
)
‘‘) *
;
‘‘* +
}
’’ 
else
““ 
{
”” 
isDelimiter
–– #
=
––$ %
true
––& *
;
––* +
}
—— 
}
˜˜ 
}
™™ 
if
œœ 
(
œœ 
currentTokenType
œœ  
.
œœ  !
HasValue
œœ! )
)
œœ) *
{
 
Debug
 
.
 
Assert
 
(
 
nextTokenText
 *
!=
+ -
null
. 2
,
2 3
$str
4 s
)
s t
;
t u
this
ŸŸ 
.
ŸŸ 
currentToken
ŸŸ !
=
ŸŸ" #
new
ŸŸ$ '

LexerToken
ŸŸ( 2
(
ŸŸ2 3
)
ŸŸ3 4
{
ŸŸ5 6
Text
ŸŸ7 ;
=
ŸŸ< =
nextTokenText
ŸŸ> K
.
ŸŸK L
ToString
ŸŸL T
(
ŸŸT U
)
ŸŸU V
,
ŸŸV W
Type
ŸŸX \
=
ŸŸ] ^
currentTokenType
ŸŸ_ o
.
ŸŸo p
Value
ŸŸp u
}
ŸŸv w
;
ŸŸw x
}
   
return
¢¢ 
originalToken
¢¢  
!=
¢¢! #
this
¢¢$ (
.
¢¢( )
currentToken
¢¢) 5
;
¢¢5 6
}
££ 	
	protected
¬¬ 
abstract
¬¬ 
bool
¬¬ 
MatchTokenType
¬¬  .
(
¬¬. /
char
¬¬/ 3
nextChar
¬¬4 <
,
¬¬< =
int
¬¬> A
?
¬¬A B
currentType
¬¬C N
,
¬¬N O
out
¬¬P S
int
¬¬T W
type
¬¬X \
)
¬¬\ ]
;
¬¬] ^
}
­­ 
}®® ´ÿ
<D:\odata.net\src\Microsoft.Spatial\WellKnownTextSqlReader.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class "
WellKnownTextSqlReader )
:* +
SpatialReader, 9
<9 :

TextReader: D
>D E
{ 
private 
bool "
allowOnlyTwoDimensions +
;+ ,
public   "
WellKnownTextSqlReader   %
(  % &
SpatialPipeline  & 5
destination  6 A
)  A B
:!! 
this!! 
(!! 
destination!! 
,!! 
false!!  %
)!!% &
{"" 	
}## 	
public** "
WellKnownTextSqlReader** %
(**% &
SpatialPipeline**& 5
destination**6 A
,**A B
bool**C G"
allowOnlyTwoDimensions**H ^
)**^ _
:++ 
base++ 
(++ 
destination++ 
)++ 
{,, 	
this-- 
.-- "
allowOnlyTwoDimensions-- '
=--( )"
allowOnlyTwoDimensions--* @
;--@ A
}.. 	
	protected44 
override44 
void44 '
ReadGeographyImplementation44  ;
(44; <

TextReader44< F
input44G L
)44L M
{55 	
new77 
Parser77 
(77 
input77 
,77 
new77 !0
$TypeWashedToGeographyLongLatPipeline77" F
(77F G
this77G K
.77K L
Destination77L W
)77W X
,77X Y"
allowOnlyTwoDimensions77Z p
)77p q
.77q r
Read77r v
(77v w
)77w x
;77x y
}88 	
	protected>> 
override>> 
void>> &
ReadGeometryImplementation>>  :
(>>: ;

TextReader>>; E
input>>F K
)>>K L
{?? 	
new@@ 
Parser@@ 
(@@ 
input@@ 
,@@ 
new@@ !(
TypeWashedToGeometryPipeline@@" >
(@@> ?
this@@? C
.@@C D
Destination@@D O
)@@O P
,@@P Q"
allowOnlyTwoDimensions@@R h
)@@h i
.@@i j
Read@@j n
(@@n o
)@@o p
;@@p q
}AA 	
privateFF 
classFF 
ParserFF 
{GG 	
privateKK 
readonlyKK 
boolKK !"
allowOnlyTwoDimensionsKK" 8
;KK8 9
privatePP 
readonlyPP 
TextLexerBasePP *
lexerPP+ 0
;PP0 1
privateUU 
readonlyUU 
TypeWashedPipelineUU /
pipelineUU0 8
;UU8 9
public]] 
Parser]] 
(]] 

TextReader]] $
reader]]% +
,]]+ ,
TypeWashedPipeline]]- ?
pipeline]]@ H
,]]H I
bool]]J N"
allowOnlyTwoDimensions]]O e
)]]e f
{^^ 
this__ 
.__ 
lexer__ 
=__ 
new__  
WellKnownTextLexer__! 3
(__3 4
reader__4 :
)__: ;
;__; <
this`` 
.`` 
pipeline`` 
=`` 
pipeline``  (
;``( )
thisaa 
.aa "
allowOnlyTwoDimensionsaa +
=aa, -"
allowOnlyTwoDimensionsaa. D
;aaD E
}bb 
publicgg 
voidgg 
Readgg 
(gg 
)gg 
{hh 
thisii 
.ii 
	ParseSRIDii 
(ii 
)ii  
;ii  !
thisjj 
.jj 
ParseTaggedTextjj $
(jj$ %
)jj% &
;jj& '
}kk 
privatess 
boolss 
IsTokenMatchss %
(ss% &"
WellKnownTextTokenTypess& <
typess= A
,ssA B
StringssC I
textssJ N
)ssN O
{tt 
returnuu 
thisuu 
.uu 
lexeruu !
.uu! "
CurrentTokenuu" .
.uu. /

MatchTokenuu/ 9
(uu9 :
(uu: ;
intuu; >
)uu> ?
typeuu? C
,uuC D
textuuE I
,uuI J
StringComparisonuuK [
.uu[ \
OrdinalIgnoreCaseuu\ m
)uum n
;uun o
}vv 
private|| 
bool|| 
	NextToken|| "
(||" #
)||# $
{}} 
while~~ 
(~~ 
this~~ 
.~~ 
lexer~~ !
.~~! "
Next~~" &
(~~& '
)~~' (
)~~( )
{ 
if
€€ 
(
€€ 
!
€€ 
this
€€ 
.
€€ 
lexer
€€ #
.
€€# $
CurrentToken
€€$ 0
.
€€0 1

MatchToken
€€1 ;
(
€€; <
(
€€< =
int
€€= @
)
€€@ A$
WellKnownTextTokenType
€€A W
.
€€W X

WhiteSpace
€€X b
,
€€b c
String
€€d j
.
€€j k
Empty
€€k p
,
€€p q
StringComparison€€r ‚
.€€‚ ƒ
Ordinal€€ƒ Š
)€€Š ‹
)€€‹ Œ
{
 
return
‚‚ 
true
‚‚ #
;
‚‚# $
}
ƒƒ 
}
„„ 
return
†† 
false
†† 
;
†† 
}
‡‡ 
private
ŒŒ 
void
ŒŒ !
ParseCollectionText
ŒŒ ,
(
ŒŒ, -
)
ŒŒ- .
{
 
if
 
(
 
!
 
this
 
.
 
ReadEmptySet
 &
(
& '
)
' (
)
( )
{
 
this
‘‘ 
.
‘‘ 
	ReadToken
‘‘ "
(
‘‘" #$
WellKnownTextTokenType
‘‘# 9
.
‘‘9 :
	LeftParen
‘‘: C
,
‘‘C D
null
‘‘E I
)
‘‘I J
;
‘‘J K
this
’’ 
.
’’ 
ParseTaggedText
’’ (
(
’’( )
)
’’) *
;
’’* +
while
““ 
(
““ 
this
““ 
.
““  
ReadOptionalToken
““  1
(
““1 2$
WellKnownTextTokenType
““2 H
.
““H I
Comma
““I N
,
““N O
null
““P T
)
““T U
)
““U V
{
”” 
this
•• 
.
•• 
ParseTaggedText
•• ,
(
••, -
)
••- .
;
••. /
}
–– 
this
˜˜ 
.
˜˜ 
	ReadToken
˜˜ "
(
˜˜" #$
WellKnownTextTokenType
˜˜# 9
.
˜˜9 :

RightParen
˜˜: D
,
˜˜D E
null
˜˜F J
)
˜˜J K
;
˜˜K L
}
™™ 
}
šš 
private
ŸŸ 
void
ŸŸ !
ParseLineStringText
ŸŸ ,
(
ŸŸ, -
)
ŸŸ- .
{
   
if
¢¢ 
(
¢¢ 
!
¢¢ 
this
¢¢ 
.
¢¢ 
ReadEmptySet
¢¢ &
(
¢¢& '
)
¢¢' (
)
¢¢( )
{
££ 
this
¤¤ 
.
¤¤ 
	ReadToken
¤¤ "
(
¤¤" #$
WellKnownTextTokenType
¤¤# 9
.
¤¤9 :
	LeftParen
¤¤: C
,
¤¤C D
null
¤¤E I
)
¤¤I J
;
¤¤J K
this
¥¥ 
.
¥¥ 

ParsePoint
¥¥ #
(
¥¥# $
true
¥¥$ (
)
¥¥( )
;
¥¥) *
while
¦¦ 
(
¦¦ 
this
¦¦ 
.
¦¦  
ReadOptionalToken
¦¦  1
(
¦¦1 2$
WellKnownTextTokenType
¦¦2 H
.
¦¦H I
Comma
¦¦I N
,
¦¦N O
null
¦¦P T
)
¦¦T U
)
¦¦U V
{
§§ 
this
¨¨ 
.
¨¨ 

ParsePoint
¨¨ '
(
¨¨' (
false
¨¨( -
)
¨¨- .
;
¨¨. /
}
©© 
this
«« 
.
«« 
	ReadToken
«« "
(
««" #$
WellKnownTextTokenType
««# 9
.
««9 :

RightParen
««: D
,
««D E
null
««F J
)
««J K
;
««K L
this
¬¬ 
.
¬¬ 
pipeline
¬¬ !
.
¬¬! "
	EndFigure
¬¬" +
(
¬¬+ ,
)
¬¬, -
;
¬¬- .
}
­­ 
}
®® 
private
µµ 
void
µµ 
ParseMultiGeoText
µµ *
(
µµ* +
SpatialType
µµ+ 6
	innerType
µµ7 @
,
µµ@ A
Action
µµB H
innerReader
µµI T
)
µµT U
{
¶¶ 
if
ºº 
(
ºº 
!
ºº 
this
ºº 
.
ºº 
ReadEmptySet
ºº &
(
ºº& '
)
ºº' (
)
ºº( )
{
»» 
this
¼¼ 
.
¼¼ 
	ReadToken
¼¼ "
(
¼¼" #$
WellKnownTextTokenType
¼¼# 9
.
¼¼9 :
	LeftParen
¼¼: C
,
¼¼C D
null
¼¼E I
)
¼¼I J
;
¼¼J K
this
½½ 
.
½½ 
pipeline
½½ !
.
½½! "
BeginGeo
½½" *
(
½½* +
	innerType
½½+ 4
)
½½4 5
;
½½5 6
innerReader
¾¾ 
(
¾¾  
)
¾¾  !
;
¾¾! "
this
¿¿ 
.
¿¿ 
pipeline
¿¿ !
.
¿¿! "
EndGeo
¿¿" (
(
¿¿( )
)
¿¿) *
;
¿¿* +
while
ÁÁ 
(
ÁÁ 
this
ÁÁ 
.
ÁÁ  
ReadOptionalToken
ÁÁ  1
(
ÁÁ1 2$
WellKnownTextTokenType
ÁÁ2 H
.
ÁÁH I
Comma
ÁÁI N
,
ÁÁN O
null
ÁÁP T
)
ÁÁT U
)
ÁÁU V
{
ÂÂ 
this
ÃÃ 
.
ÃÃ 
pipeline
ÃÃ %
.
ÃÃ% &
BeginGeo
ÃÃ& .
(
ÃÃ. /
	innerType
ÃÃ/ 8
)
ÃÃ8 9
;
ÃÃ9 :
innerReader
ÄÄ #
(
ÄÄ# $
)
ÄÄ$ %
;
ÄÄ% &
this
ÅÅ 
.
ÅÅ 
pipeline
ÅÅ %
.
ÅÅ% &
EndGeo
ÅÅ& ,
(
ÅÅ, -
)
ÅÅ- .
;
ÅÅ. /
}
ÆÆ 
this
ÈÈ 
.
ÈÈ 
	ReadToken
ÈÈ "
(
ÈÈ" #$
WellKnownTextTokenType
ÈÈ# 9
.
ÈÈ9 :

RightParen
ÈÈ: D
,
ÈÈD E
null
ÈÈF J
)
ÈÈJ K
;
ÈÈK L
}
ÉÉ 
}
ÊÊ 
private
ĞĞ 
void
ĞĞ 

ParsePoint
ĞĞ #
(
ĞĞ# $
bool
ĞĞ$ (
firstFigure
ĞĞ) 4
)
ĞĞ4 5
{
ÑÑ 
double
ÒÒ 
x
ÒÒ 
=
ÒÒ 
this
ÒÒ 
.
ÒÒ  

ReadDouble
ÒÒ  *
(
ÒÒ* +
)
ÒÒ+ ,
;
ÒÒ, -
double
ÓÓ 
y
ÓÓ 
=
ÓÓ 
this
ÓÓ 
.
ÓÓ  

ReadDouble
ÓÓ  *
(
ÓÓ* +
)
ÓÓ+ ,
;
ÓÓ, -
double
ÔÔ 
?
ÔÔ 
z
ÔÔ 
;
ÔÔ 
double
ÕÕ 
?
ÕÕ 
m
ÕÕ 
;
ÕÕ 
if
×× 
(
×× 
this
×× 
.
×× +
TryReadOptionalNullableDouble
×× 6
(
××6 7
out
××7 :
z
××; <
)
××< =
&&
××> @$
allowOnlyTwoDimensions
××A W
)
××W X
{
ØØ 
throw
ÙÙ 
new
ÙÙ 
FormatException
ÙÙ -
(
ÙÙ- .
Strings
ÙÙ. 5
.
ÙÙ5 6-
WellKnownText_TooManyDimensions
ÙÙ6 U
)
ÙÙU V
;
ÙÙV W
}
ÚÚ 
if
ÜÜ 
(
ÜÜ 
this
ÜÜ 
.
ÜÜ +
TryReadOptionalNullableDouble
ÜÜ 6
(
ÜÜ6 7
out
ÜÜ7 :
m
ÜÜ; <
)
ÜÜ< =
&&
ÜÜ> @$
allowOnlyTwoDimensions
ÜÜA W
)
ÜÜW X
{
İİ 
throw
ŞŞ 
new
ŞŞ 
FormatException
ŞŞ -
(
ŞŞ- .
Strings
ŞŞ. 5
.
ŞŞ5 6-
WellKnownText_TooManyDimensions
ŞŞ6 U
)
ŞŞU V
;
ŞŞV W
}
ßß 
if
áá 
(
áá 
firstFigure
áá 
)
áá  
{
ââ 
this
ãã 
.
ãã 
pipeline
ãã !
.
ãã! "
BeginFigure
ãã" -
(
ãã- .
x
ãã. /
,
ãã/ 0
y
ãã1 2
,
ãã2 3
z
ãã4 5
,
ãã5 6
m
ãã7 8
)
ãã8 9
;
ãã9 :
}
ää 
else
åå 
{
ææ 
this
çç 
.
çç 
pipeline
çç !
.
çç! "
LineTo
çç" (
(
çç( )
x
çç) *
,
çç* +
y
çç, -
,
çç- .
z
çç/ 0
,
çç0 1
m
çç2 3
)
çç3 4
;
çç4 5
}
èè 
}
éé 
private
îî 
void
îî 
ParsePointText
îî '
(
îî' (
)
îî( )
{
ïï 
if
ññ 
(
ññ 
!
ññ 
this
ññ 
.
ññ 
ReadEmptySet
ññ &
(
ññ& '
)
ññ' (
)
ññ( )
{
òò 
this
óó 
.
óó 
	ReadToken
óó "
(
óó" #$
WellKnownTextTokenType
óó# 9
.
óó9 :
	LeftParen
óó: C
,
óóC D
null
óóE I
)
óóI J
;
óóJ K
this
ôô 
.
ôô 

ParsePoint
ôô #
(
ôô# $
true
ôô$ (
)
ôô( )
;
ôô) *
this
õõ 
.
õõ 
	ReadToken
õõ "
(
õõ" #$
WellKnownTextTokenType
õõ# 9
.
õõ9 :

RightParen
õõ: D
,
õõD E
null
õõF J
)
õõJ K
;
õõK L
this
öö 
.
öö 
pipeline
öö !
.
öö! "
	EndFigure
öö" +
(
öö+ ,
)
öö, -
;
öö- .
}
÷÷ 
}
øø 
private
ıı 
void
ıı 
ParsePolygonText
ıı )
(
ıı) *
)
ıı* +
{
şş 
if
€€ 
(
€€ 
!
€€ 
this
€€ 
.
€€ 
ReadEmptySet
€€ &
(
€€& '
)
€€' (
)
€€( )
{
 
this
‚‚ 
.
‚‚ 
	ReadToken
‚‚ "
(
‚‚" #$
WellKnownTextTokenType
‚‚# 9
.
‚‚9 :
	LeftParen
‚‚: C
,
‚‚C D
null
‚‚E I
)
‚‚I J
;
‚‚J K
this
ƒƒ 
.
ƒƒ !
ParseLineStringText
ƒƒ ,
(
ƒƒ, -
)
ƒƒ- .
;
ƒƒ. /
while
„„ 
(
„„ 
this
„„ 
.
„„  
ReadOptionalToken
„„  1
(
„„1 2$
WellKnownTextTokenType
„„2 H
.
„„H I
Comma
„„I N
,
„„N O
null
„„P T
)
„„T U
)
„„U V
{
…… 
this
†† 
.
†† !
ParseLineStringText
†† 0
(
††0 1
)
††1 2
;
††2 3
}
‡‡ 
this
‰‰ 
.
‰‰ 
	ReadToken
‰‰ "
(
‰‰" #$
WellKnownTextTokenType
‰‰# 9
.
‰‰9 :

RightParen
‰‰: D
,
‰‰D E
null
‰‰F J
)
‰‰J K
;
‰‰K L
}
ŠŠ 
}
‹‹ 
private
 
void
 
	ParseSRID
 "
(
" #
)
# $
{
‘‘ 
if
““ 
(
““ 
this
““ 
.
““ 
ReadOptionalToken
““ *
(
““* +$
WellKnownTextTokenType
““+ A
.
““A B
Text
““B F
,
““F G$
WellKnownTextConstants
““H ^
.
““^ _
WktSrid
““_ f
)
““f g
)
““g h
{
”” 
this
•• 
.
•• 
	ReadToken
•• "
(
••" #$
WellKnownTextTokenType
••# 9
.
••9 :
Equals
••: @
,
••@ A
null
••B F
)
••F G
;
••G H
this
–– 
.
–– 
pipeline
–– !
.
––! "!
SetCoordinateSystem
––" 5
(
––5 6
this
––6 :
.
––: ;
ReadInteger
––; F
(
––F G
)
––G H
)
––H I
;
––I J
this
—— 
.
—— 
	ReadToken
—— "
(
——" #$
WellKnownTextTokenType
——# 9
.
——9 :
	Semicolon
——: C
,
——C D
null
——E I
)
——I J
;
——J K
}
˜˜ 
else
™™ 
{
šš 
this
›› 
.
›› 
pipeline
›› !
.
››! "!
SetCoordinateSystem
››" 5
(
››5 6
null
››6 :
)
››: ;
;
››; <
}
œœ 
}
 
private
¢¢ 
void
¢¢ 
ParseTaggedText
¢¢ (
(
¢¢( )
)
¢¢) *
{
££ 
if
²² 
(
²² 
!
²² 
this
²² 
.
²² 
	NextToken
²² #
(
²²# $
)
²²$ %
)
²²% &
{
³³ 
throw
´´ 
new
´´ 
FormatException
´´ -
(
´´- .
Strings
´´. 5
.
´´5 6-
WellKnownText_UnknownTaggedText
´´6 U
(
´´U V
String
´´V \
.
´´\ ]
Empty
´´] b
)
´´b c
)
´´c d
;
´´d e
}
µµ 
switch
·· 
(
·· 
this
·· 
.
·· 
lexer
·· "
.
··" #
CurrentToken
··# /
.
··/ 0
Text
··0 4
.
··4 5
ToUpperInvariant
··5 E
(
··E F
)
··F G
)
··G H
{
¸¸ 
case
¹¹ $
WellKnownTextConstants
¹¹ /
.
¹¹/ 0
WktPoint
¹¹0 8
:
¹¹8 9
this
ºº 
.
ºº 
pipeline
ºº %
.
ºº% &
BeginGeo
ºº& .
(
ºº. /
SpatialType
ºº/ :
.
ºº: ;
Point
ºº; @
)
ºº@ A
;
ººA B
this
»» 
.
»» 
ParsePointText
»» +
(
»»+ ,
)
»», -
;
»»- .
this
¼¼ 
.
¼¼ 
pipeline
¼¼ %
.
¼¼% &
EndGeo
¼¼& ,
(
¼¼, -
)
¼¼- .
;
¼¼. /
break
½½ 
;
½½ 
case
¾¾ $
WellKnownTextConstants
¾¾ /
.
¾¾/ 0
WktLineString
¾¾0 =
:
¾¾= >
this
¿¿ 
.
¿¿ 
pipeline
¿¿ %
.
¿¿% &
BeginGeo
¿¿& .
(
¿¿. /
SpatialType
¿¿/ :
.
¿¿: ;

LineString
¿¿; E
)
¿¿E F
;
¿¿F G
this
ÀÀ 
.
ÀÀ !
ParseLineStringText
ÀÀ 0
(
ÀÀ0 1
)
ÀÀ1 2
;
ÀÀ2 3
this
ÁÁ 
.
ÁÁ 
pipeline
ÁÁ %
.
ÁÁ% &
EndGeo
ÁÁ& ,
(
ÁÁ, -
)
ÁÁ- .
;
ÁÁ. /
break
ÂÂ 
;
ÂÂ 
case
ÃÃ $
WellKnownTextConstants
ÃÃ /
.
ÃÃ/ 0

WktPolygon
ÃÃ0 :
:
ÃÃ: ;
this
ÄÄ 
.
ÄÄ 
pipeline
ÄÄ %
.
ÄÄ% &
BeginGeo
ÄÄ& .
(
ÄÄ. /
SpatialType
ÄÄ/ :
.
ÄÄ: ;
Polygon
ÄÄ; B
)
ÄÄB C
;
ÄÄC D
this
ÅÅ 
.
ÅÅ 
ParsePolygonText
ÅÅ -
(
ÅÅ- .
)
ÅÅ. /
;
ÅÅ/ 0
this
ÆÆ 
.
ÆÆ 
pipeline
ÆÆ %
.
ÆÆ% &
EndGeo
ÆÆ& ,
(
ÆÆ, -
)
ÆÆ- .
;
ÆÆ. /
break
ÇÇ 
;
ÇÇ 
case
ÈÈ $
WellKnownTextConstants
ÈÈ /
.
ÈÈ/ 0
WktMultiPoint
ÈÈ0 =
:
ÈÈ= >
this
ÉÉ 
.
ÉÉ 
pipeline
ÉÉ %
.
ÉÉ% &
BeginGeo
ÉÉ& .
(
ÉÉ. /
SpatialType
ÉÉ/ :
.
ÉÉ: ;

MultiPoint
ÉÉ; E
)
ÉÉE F
;
ÉÉF G
this
ÊÊ 
.
ÊÊ 
ParseMultiGeoText
ÊÊ .
(
ÊÊ. /
SpatialType
ÊÊ/ :
.
ÊÊ: ;
Point
ÊÊ; @
,
ÊÊ@ A
this
ÊÊB F
.
ÊÊF G
ParsePointText
ÊÊG U
)
ÊÊU V
;
ÊÊV W
this
ËË 
.
ËË 
pipeline
ËË %
.
ËË% &
EndGeo
ËË& ,
(
ËË, -
)
ËË- .
;
ËË. /
break
ÌÌ 
;
ÌÌ 
case
ÍÍ $
WellKnownTextConstants
ÍÍ /
.
ÍÍ/ 0 
WktMultiLineString
ÍÍ0 B
:
ÍÍB C
this
ÎÎ 
.
ÎÎ 
pipeline
ÎÎ %
.
ÎÎ% &
BeginGeo
ÎÎ& .
(
ÎÎ. /
SpatialType
ÎÎ/ :
.
ÎÎ: ;
MultiLineString
ÎÎ; J
)
ÎÎJ K
;
ÎÎK L
this
ÏÏ 
.
ÏÏ 
ParseMultiGeoText
ÏÏ .
(
ÏÏ. /
SpatialType
ÏÏ/ :
.
ÏÏ: ;

LineString
ÏÏ; E
,
ÏÏE F
this
ÏÏG K
.
ÏÏK L!
ParseLineStringText
ÏÏL _
)
ÏÏ_ `
;
ÏÏ` a
this
ĞĞ 
.
ĞĞ 
pipeline
ĞĞ %
.
ĞĞ% &
EndGeo
ĞĞ& ,
(
ĞĞ, -
)
ĞĞ- .
;
ĞĞ. /
break
ÑÑ 
;
ÑÑ 
case
ÒÒ $
WellKnownTextConstants
ÒÒ /
.
ÒÒ/ 0
WktMultiPolygon
ÒÒ0 ?
:
ÒÒ? @
this
ÓÓ 
.
ÓÓ 
pipeline
ÓÓ %
.
ÓÓ% &
BeginGeo
ÓÓ& .
(
ÓÓ. /
SpatialType
ÓÓ/ :
.
ÓÓ: ;
MultiPolygon
ÓÓ; G
)
ÓÓG H
;
ÓÓH I
this
ÔÔ 
.
ÔÔ 
ParseMultiGeoText
ÔÔ .
(
ÔÔ. /
SpatialType
ÔÔ/ :
.
ÔÔ: ;
Polygon
ÔÔ; B
,
ÔÔB C
this
ÔÔD H
.
ÔÔH I
ParsePolygonText
ÔÔI Y
)
ÔÔY Z
;
ÔÔZ [
this
ÕÕ 
.
ÕÕ 
pipeline
ÕÕ %
.
ÕÕ% &
EndGeo
ÕÕ& ,
(
ÕÕ, -
)
ÕÕ- .
;
ÕÕ. /
break
ÖÖ 
;
ÖÖ 
case
×× $
WellKnownTextConstants
×× /
.
××/ 0
WktCollection
××0 =
:
××= >
this
ØØ 
.
ØØ 
pipeline
ØØ %
.
ØØ% &
BeginGeo
ØØ& .
(
ØØ. /
SpatialType
ØØ/ :
.
ØØ: ;

Collection
ØØ; E
)
ØØE F
;
ØØF G
this
ÙÙ 
.
ÙÙ !
ParseCollectionText
ÙÙ 0
(
ÙÙ0 1
)
ÙÙ1 2
;
ÙÙ2 3
this
ÚÚ 
.
ÚÚ 
pipeline
ÚÚ %
.
ÚÚ% &
EndGeo
ÚÚ& ,
(
ÚÚ, -
)
ÚÚ- .
;
ÚÚ. /
break
ÛÛ 
;
ÛÛ 
case
ÜÜ $
WellKnownTextConstants
ÜÜ /
.
ÜÜ/ 0
WktFullGlobe
ÜÜ0 <
:
ÜÜ< =
this
İİ 
.
İİ 
pipeline
İİ %
.
İİ% &
BeginGeo
İİ& .
(
İİ. /
SpatialType
İİ/ :
.
İİ: ;
	FullGlobe
İİ; D
)
İİD E
;
İİE F
this
ŞŞ 
.
ŞŞ 
pipeline
ŞŞ %
.
ŞŞ% &
EndGeo
ŞŞ& ,
(
ŞŞ, -
)
ŞŞ- .
;
ŞŞ. /
break
ßß 
;
ßß 
default
àà 
:
àà 
throw
áá 
new
áá !
FormatException
áá" 1
(
áá1 2
Strings
áá2 9
.
áá9 :-
WellKnownText_UnknownTaggedText
áá: Y
(
ááY Z
this
ááZ ^
.
áá^ _
lexer
áá_ d
.
áád e
CurrentToken
ááe q
.
ááq r
Text
áár v
)
ááv w
)
ááw x
;
ááx y
}
ââ 
}
ãã 
private
éé 
double
éé 

ReadDouble
éé %
(
éé% &
)
éé& '
{
êê 
var
ìì 

numberText
ìì 
=
ìì  
new
ìì! $
StringBuilder
ìì% 2
(
ìì2 3
)
ìì3 4
;
ìì4 5
this
íí 
.
íí 
	ReadToken
íí 
(
íí $
WellKnownTextTokenType
íí 5
.
íí5 6
Number
íí6 <
,
íí< =
null
íí> B
)
ííB C
;
ííC D

numberText
îî 
.
îî 
Append
îî !
(
îî! "
this
îî" &
.
îî& '
lexer
îî' ,
.
îî, -
CurrentToken
îî- 9
.
îî9 :
Text
îî: >
)
îî> ?
;
îî? @
if
ïï 
(
ïï 
this
ïï 
.
ïï 
ReadOptionalToken
ïï *
(
ïï* +$
WellKnownTextTokenType
ïï+ A
.
ïïA B
Period
ïïB H
,
ïïH I
null
ïïJ N
)
ïïN O
)
ïïO P
{
ğğ 

numberText
ññ 
.
ññ 
Append
ññ %
(
ññ% &$
WellKnownTextConstants
ññ& <
.
ññ< =
	WktPeriod
ññ= F
)
ññF G
;
ññG H
this
òò 
.
òò 
	ReadToken
òò "
(
òò" #$
WellKnownTextTokenType
òò# 9
.
òò9 :
Number
òò: @
,
òò@ A
null
òòB F
)
òòF G
;
òòG H

numberText
óó 
.
óó 
Append
óó %
(
óó% &
this
óó& *
.
óó* +
lexer
óó+ 0
.
óó0 1
CurrentToken
óó1 =
.
óó= >
Text
óó> B
)
óóB C
;
óóC D
}
ôô 
return
öö 
Double
öö 
.
öö 
Parse
öö #
(
öö# $

numberText
öö$ .
.
öö. /
ToString
öö/ 7
(
öö7 8
)
öö8 9
,
öö9 :
CultureInfo
öö; F
.
ööF G
InvariantCulture
ööG W
)
ööW X
;
ööX Y
}
÷÷ 
private
ıı 
bool
ıı 
ReadEmptySet
ıı %
(
ıı% &
)
ıı& '
{
şş 
return
€€ 
this
€€ 
.
€€ 
ReadOptionalToken
€€ -
(
€€- .$
WellKnownTextTokenType
€€. D
.
€€D E
Text
€€E I
,
€€I J$
WellKnownTextConstants
€€K a
.
€€a b
WktEmpty
€€b j
)
€€j k
;
€€k l
}
 
private
‡‡ 
Int32
‡‡ 
ReadInteger
‡‡ %
(
‡‡% &
)
‡‡& '
{
ˆˆ 
this
‰‰ 
.
‰‰ 
	ReadToken
‰‰ 
(
‰‰ $
WellKnownTextTokenType
‰‰ 5
.
‰‰5 6
Number
‰‰6 <
,
‰‰< =
null
‰‰> B
)
‰‰B C
;
‰‰C D
return
ŠŠ 

XmlConvert
ŠŠ !
.
ŠŠ! "
ToInt32
ŠŠ" )
(
ŠŠ) *
this
ŠŠ* .
.
ŠŠ. /
lexer
ŠŠ/ 4
.
ŠŠ4 5
CurrentToken
ŠŠ5 A
.
ŠŠA B
Text
ŠŠB F
)
ŠŠF G
;
ŠŠG H
}
‹‹ 
private
’’ 
bool
’’ +
TryReadOptionalNullableDouble
’’ 6
(
’’6 7
out
’’7 :
double
’’; A
?
’’A B
value
’’C H
)
’’H I
{
““ 
var
•• 

numberText
•• 
=
••  
new
••! $
StringBuilder
••% 2
(
••2 3
)
••3 4
;
••4 5
if
—— 
(
—— 
this
—— 
.
—— 
ReadOptionalToken
—— *
(
——* +$
WellKnownTextTokenType
——+ A
.
——A B
Number
——B H
,
——H I
null
——J N
)
——N O
)
——O P
{
˜˜ 

numberText
™™ 
.
™™ 
Append
™™ %
(
™™% &
this
™™& *
.
™™* +
lexer
™™+ 0
.
™™0 1
CurrentToken
™™1 =
.
™™= >
Text
™™> B
)
™™B C
;
™™C D
if
šš 
(
šš 
this
šš 
.
šš 
ReadOptionalToken
šš .
(
šš. /$
WellKnownTextTokenType
šš/ E
.
ššE F
Period
ššF L
,
ššL M
null
ššN R
)
ššR S
)
ššS T
{
›› 

numberText
œœ "
.
œœ" #
Append
œœ# )
(
œœ) *$
WellKnownTextConstants
œœ* @
.
œœ@ A
	WktPeriod
œœA J
)
œœJ K
;
œœK L
this
 
.
 
	ReadToken
 &
(
& '$
WellKnownTextTokenType
' =
.
= >
Number
> D
,
D E
null
F J
)
J K
;
K L

numberText
 "
.
" #
Append
# )
(
) *
this
* .
.
. /
lexer
/ 4
.
4 5
CurrentToken
5 A
.
A B
Text
B F
)
F G
;
G H
}
ŸŸ 
value
¡¡ 
=
¡¡ 
Double
¡¡ "
.
¡¡" #
Parse
¡¡# (
(
¡¡( )

numberText
¡¡) 3
.
¡¡3 4
ToString
¡¡4 <
(
¡¡< =
)
¡¡= >
,
¡¡> ?
CultureInfo
¡¡@ K
.
¡¡K L
InvariantCulture
¡¡L \
)
¡¡\ ]
;
¡¡] ^
return
¢¢ 
true
¢¢ 
;
¢¢  
}
££ 
value
¥¥ 
=
¥¥ 
null
¥¥ 
;
¥¥ 
return
¦¦ 
this
¦¦ 
.
¦¦ 
ReadOptionalToken
¦¦ -
(
¦¦- .$
WellKnownTextTokenType
¦¦. D
.
¦¦D E
Text
¦¦E I
,
¦¦I J$
WellKnownTextConstants
¦¦K a
.
¦¦a b
WktNull
¦¦b i
)
¦¦i j
;
¦¦j k
}
§§ 
private
¯¯ 
bool
¯¯ 
ReadOptionalToken
¯¯ *
(
¯¯* +$
WellKnownTextTokenType
¯¯+ A
expectedTokenType
¯¯B S
,
¯¯S T
String
¯¯U [
expectedTokenText
¯¯\ m
)
¯¯m n
{
°° 

LexerToken
±± 
token
±±  
;
±±  !
while
²² 
(
²² 
this
²² 
.
²² 
lexer
²² !
.
²²! "
Peek
²²" &
(
²²& '
out
²²' *
token
²²+ 0
)
²²0 1
)
²²1 2
{
³³ 
if
´´ 
(
´´ 
token
´´ 
.
´´ 

MatchToken
´´ (
(
´´( )
(
´´) *
int
´´* -
)
´´- .$
WellKnownTextTokenType
´´. D
.
´´D E

WhiteSpace
´´E O
,
´´O P
null
´´Q U
,
´´U V
StringComparison
´´W g
.
´´g h
OrdinalIgnoreCase
´´h y
)
´´y z
)
´´z {
{
µµ 
this
¶¶ 
.
¶¶ 
lexer
¶¶ "
.
¶¶" #
Next
¶¶# '
(
¶¶' (
)
¶¶( )
;
¶¶) *
}
·· 
else
¸¸ 
if
¸¸ 
(
¸¸ 
token
¸¸ "
.
¸¸" #

MatchToken
¸¸# -
(
¸¸- .
(
¸¸. /
int
¸¸/ 2
)
¸¸2 3
expectedTokenType
¸¸3 D
,
¸¸D E
expectedTokenText
¸¸F W
,
¸¸W X
StringComparison
¸¸Y i
.
¸¸i j
OrdinalIgnoreCase
¸¸j {
)
¸¸{ |
)
¸¸| }
{
¹¹ 
this
ºº 
.
ºº 
lexer
ºº "
.
ºº" #
Next
ºº# '
(
ºº' (
)
ºº( )
;
ºº) *
return
»» 
true
»» #
;
»»# $
}
¼¼ 
else
½½ 
{
¾¾ 
return
¿¿ 
false
¿¿ $
;
¿¿$ %
}
ÀÀ 
}
ÁÁ 
return
ÃÃ 
false
ÃÃ 
;
ÃÃ 
}
ÄÄ 
private
ËË 
void
ËË 
	ReadToken
ËË "
(
ËË" #$
WellKnownTextTokenType
ËË# 9
type
ËË: >
,
ËË> ?
String
ËË@ F
text
ËËG K
)
ËËK L
{
ÌÌ 
if
ÍÍ 
(
ÍÍ 
!
ÍÍ 
(
ÍÍ 
this
ÍÍ 
.
ÍÍ 
	NextToken
ÍÍ $
(
ÍÍ$ %
)
ÍÍ% &
&&
ÍÍ' )
this
ÍÍ* .
.
ÍÍ. /
IsTokenMatch
ÍÍ/ ;
(
ÍÍ; <
type
ÍÍ< @
,
ÍÍ@ A
text
ÍÍB F
)
ÍÍF G
)
ÍÍG H
)
ÍÍH I
{
ÎÎ 
throw
ÏÏ 
new
ÏÏ 
FormatException
ÏÏ -
(
ÏÏ- .
Strings
ÏÏ. 5
.
ÏÏ5 6+
WellKnownText_UnexpectedToken
ÏÏ6 S
(
ÏÏS T
type
ÏÏT X
,
ÏÏX Y
text
ÏÏZ ^
,
ÏÏ^ _
this
ÏÏ` d
.
ÏÏd e
lexer
ÏÏe j
.
ÏÏj k
CurrentToken
ÏÏk w
)
ÏÏw x
)
ÏÏx y
;
ÏÏy z
}
ĞĞ 
}
ÑÑ 
}
ÒÒ 	
}
ÓÓ 
}ÔÔ ˜Ë
<D:\odata.net\src\Microsoft.Spatial\WellKnownTextSqlWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
sealed 
class "
WellKnownTextSqlWriter 0
:1 2
DrawBoth3 ;
{ 
private 
bool "
allowOnlyTwoDimensions +
;+ ,
private 

TextWriter 
writer !
;! "
private 
Stack 
< 
SpatialType !
>! "
parentStack# .
;. /
private$$ 
bool$$ #
coordinateSystemWritten$$ ,
;$$, -
private)) 
bool)) 
figureWritten)) "
;))" #
private.. 
bool.. 
shapeWritten.. !
;..! "
public44 "
WellKnownTextSqlWriter44 %
(44% &

TextWriter44& 0
writer441 7
)447 8
:55 	
this55
 
(55 
writer55 
,55 
false55 
)55 
{66 	
}77 	
public>> "
WellKnownTextSqlWriter>> %
(>>% &

TextWriter>>& 0
writer>>1 7
,>>7 8
bool>>9 ="
allowOnlyTwoDimensions>>> T
)>>T U
{?? 	
this@@ 
.@@ "
allowOnlyTwoDimensions@@ '
=@@( )"
allowOnlyTwoDimensions@@* @
;@@@ A
thisAA 
.AA 
writerAA 
=AA 
writerAA  
;AA  !
thisBB 
.BB 
parentStackBB 
=BB 
newBB "
StackBB# (
<BB( )
SpatialTypeBB) 4
>BB4 5
(BB5 6
)BB6 7
;BB7 8
ResetCC 
(CC 
)CC 
;CC 
}DD 	
	protectedOO 
overrideOO 
GeographyPositionOO ,
OnLineToOO- 5
(OO5 6
GeographyPositionOO6 G
positionOOH P
)OOP Q
{PP 	
thisQQ 
.QQ 
	AddLineToQQ 
(QQ 
positionQQ #
.QQ# $
	LongitudeQQ$ -
,QQ- .
positionQQ/ 7
.QQ7 8
LatitudeQQ8 @
,QQ@ A
positionQQB J
.QQJ K
ZQQK L
,QQL M
positionQQN V
.QQV W
MQQW X
)QQX Y
;QQY Z
returnRR 
positionRR 
;RR 
}SS 	
	protected\\ 
override\\ 
GeometryPosition\\ +
OnLineTo\\, 4
(\\4 5
GeometryPosition\\5 E
position\\F N
)\\N O
{]] 	
this^^ 
.^^ 
	AddLineTo^^ 
(^^ 
position^^ #
.^^# $
X^^$ %
,^^% &
position^^' /
.^^/ 0
Y^^0 1
,^^1 2
position^^3 ;
.^^; <
Z^^< =
,^^= >
position^^? G
.^^G H
M^^H I
)^^I J
;^^J K
return__ 
position__ 
;__ 
}`` 	
	protectedii 
overrideii 
SpatialTypeii &
OnBeginGeographyii' 7
(ii7 8
SpatialTypeii8 C
typeiiD H
)iiH I
{jj 	
BeginGeokk 
(kk 
typekk 
)kk 
;kk 
returnll 
typell 
;ll 
}mm 	
	protectedvv 
overridevv 
SpatialTypevv &
OnBeginGeometryvv' 6
(vv6 7
SpatialTypevv7 B
typevvC G
)vvG H
{ww 	
BeginGeoxx 
(xx 
typexx 
)xx 
;xx 
returnyy 
typeyy 
;yy 
}zz 	
	protected
 
override
 
GeographyPosition
 ,
OnBeginFigure
- :
(
: ;
GeographyPosition
; L
position
M U
)
U V
{
‚‚ 	
WriteFigureScope
ƒƒ 
(
ƒƒ 
position
ƒƒ %
.
ƒƒ% &
	Longitude
ƒƒ& /
,
ƒƒ/ 0
position
ƒƒ1 9
.
ƒƒ9 :
Latitude
ƒƒ: B
,
ƒƒB C
position
ƒƒD L
.
ƒƒL M
Z
ƒƒM N
,
ƒƒN O
position
ƒƒP X
.
ƒƒX Y
M
ƒƒY Z
)
ƒƒZ [
;
ƒƒ[ \
return
„„ 
position
„„ 
;
„„ 
}
…… 	
	protected
ŒŒ 
override
ŒŒ 
GeometryPosition
ŒŒ +
OnBeginFigure
ŒŒ, 9
(
ŒŒ9 :
GeometryPosition
ŒŒ: J
position
ŒŒK S
)
ŒŒS T
{
 	
WriteFigureScope
 
(
 
position
 %
.
% &
X
& '
,
' (
position
) 1
.
1 2
Y
2 3
,
3 4
position
5 =
.
= >
Z
> ?
,
? @
position
A I
.
I J
M
J K
)
K L
;
L M
return
 
position
 
;
 
}
 	
	protected
•• 
override
•• 
void
•• 
OnEndFigure
••  +
(
••+ ,
)
••, -
{
–– 	
	EndFigure
—— 
(
—— 
)
—— 
;
—— 
}
˜˜ 	
	protected
 
override
 
void
 
OnEndGeography
  .
(
. /
)
/ 0
{
 	
EndGeo
ŸŸ 
(
ŸŸ 
)
ŸŸ 
;
ŸŸ 
}
   	
	protected
¥¥ 
override
¥¥ 
void
¥¥ 
OnEndGeometry
¥¥  -
(
¥¥- .
)
¥¥. /
{
¦¦ 	
EndGeo
§§ 
(
§§ 
)
§§ 
;
§§ 
}
¨¨ 	
	protected
±± 
override
±± 
CoordinateSystem
±± +#
OnSetCoordinateSystem
±±, A
(
±±A B
CoordinateSystem
±±B R
coordinateSystem
±±S c
)
±±c d
{
²² 	#
WriteCoordinateSystem
³³ !
(
³³! "
coordinateSystem
³³" 2
)
³³2 3
;
³³3 4
return
´´ 
coordinateSystem
´´ #
;
´´# $
}
µµ 	
	protected
ºº 
override
ºº 
void
ºº 
OnReset
ºº  '
(
ºº' (
)
ºº( )
{
»» 	
Reset
¼¼ 
(
¼¼ 
)
¼¼ 
;
¼¼ 
}
½½ 	
private
ÄÄ 
void
ÄÄ #
WriteCoordinateSystem
ÄÄ *
(
ÄÄ* +
CoordinateSystem
ÄÄ+ ;
coordinateSystem
ÄÄ< L
)
ÄÄL M
{
ÅÅ 	
if
ÆÆ 
(
ÆÆ 
!
ÆÆ 
this
ÆÆ 
.
ÆÆ %
coordinateSystemWritten
ÆÆ -
)
ÆÆ- .
{
ÇÇ 
this
ÉÉ 
.
ÉÉ 
writer
ÉÉ 
.
ÉÉ 
Write
ÉÉ !
(
ÉÉ! "$
WellKnownTextConstants
ÉÉ" 8
.
ÉÉ8 9
WktSrid
ÉÉ9 @
)
ÉÉ@ A
;
ÉÉA B
this
ÊÊ 
.
ÊÊ 
writer
ÊÊ 
.
ÊÊ 
Write
ÊÊ !
(
ÊÊ! "$
WellKnownTextConstants
ÊÊ" 8
.
ÊÊ8 9
	WktEquals
ÊÊ9 B
)
ÊÊB C
;
ÊÊC D
this
ËË 
.
ËË 
writer
ËË 
.
ËË 
Write
ËË !
(
ËË! "
coordinateSystem
ËË" 2
.
ËË2 3
Id
ËË3 5
)
ËË5 6
;
ËË6 7
this
ÌÌ 
.
ÌÌ 
writer
ÌÌ 
.
ÌÌ 
Write
ÌÌ !
(
ÌÌ! "$
WellKnownTextConstants
ÌÌ" 8
.
ÌÌ8 9
WktSemiColon
ÌÌ9 E
)
ÌÌE F
;
ÌÌF G
this
ÎÎ 
.
ÎÎ %
coordinateSystemWritten
ÎÎ ,
=
ÎÎ- .
true
ÎÎ/ 3
;
ÎÎ3 4
}
ÏÏ 
}
ĞĞ 	
private
ÕÕ 
void
ÕÕ 
Reset
ÕÕ 
(
ÕÕ 
)
ÕÕ 
{
ÖÖ 	
this
×× 
.
×× 
figureWritten
×× 
=
××  !
default
××" )
(
××) *
bool
××* .
)
××. /
;
××/ 0
this
ØØ 
.
ØØ 
parentStack
ØØ 
.
ØØ 
Clear
ØØ "
(
ØØ" #
)
ØØ# $
;
ØØ$ %
this
ÙÙ 
.
ÙÙ 
shapeWritten
ÙÙ 
=
ÙÙ 
default
ÙÙ  '
(
ÙÙ' (
bool
ÙÙ( ,
)
ÙÙ, -
;
ÙÙ- .
this
ÚÚ 
.
ÚÚ %
coordinateSystemWritten
ÚÚ (
=
ÚÚ) *
default
ÚÚ+ 2
(
ÚÚ2 3
bool
ÚÚ3 7
)
ÚÚ7 8
;
ÚÚ8 9
}
ßß 	
private
åå 
void
åå 
BeginGeo
åå 
(
åå 
SpatialType
åå )
type
åå* .
)
åå. /
{
ææ 	
SpatialType
çç 

parentType
çç "
=
çç# $
this
çç% )
.
çç) *
parentStack
çç* 5
.
çç5 6
Count
çç6 ;
==
çç< >
$num
çç? @
?
ççA B
SpatialType
ççC N
.
ççN O
Unknown
ççO V
:
ççW X
this
ççY ]
.
çç] ^
parentStack
çç^ i
.
ççi j
Peek
ççj n
(
ççn o
)
çço p
;
ççp q
if
éé 
(
éé 

parentType
éé 
==
éé 
SpatialType
éé )
.
éé) *

MultiPoint
éé* 4
||
éé5 7

parentType
éé8 B
==
ééC E
SpatialType
ééF Q
.
ééQ R
MultiLineString
ééR a
||
ééb d

parentType
éée o
==
éép r
SpatialType
éés ~
.
éé~ 
MultiPolygonéé ‹
||ééŒ 

parentTypeéé ™
==ééš œ
SpatialTypeéé ¨
.éé¨ ©

Collectionéé© ³
)éé³ ´
{
êê 
this
ìì 
.
ìì 
writer
ìì 
.
ìì 
Write
ìì !
(
ìì! "
this
ìì" &
.
ìì& '
shapeWritten
ìì' 3
?
ìì4 5$
WellKnownTextConstants
ìì6 L
.
ììL M(
WktDelimiterWithWhiteSpace
ììM g
:
ììh i%
WellKnownTextConstantsììj €
.ìì€ 
WktOpenParenìì 
)ìì 
;ìì 
}
íí 
if
ññ 
(
ññ 

parentType
ññ 
==
ññ 
SpatialType
ññ )
.
ññ) *
Unknown
ññ* 1
||
ññ2 4

parentType
ññ5 ?
==
ññ@ B
SpatialType
ññC N
.
ññN O

Collection
ññO Y
)
ññY Z
{
òò 
this
óó 
.
óó 
WriteTaggedText
óó $
(
óó$ %
type
óó% )
)
óó) *
;
óó* +
}
ôô 
this
öö 
.
öö 
figureWritten
öö 
=
öö  
false
öö! &
;
öö& '
this
÷÷ 
.
÷÷ 
parentStack
÷÷ 
.
÷÷ 
Push
÷÷ !
(
÷÷! "
type
÷÷" &
)
÷÷& '
;
÷÷' (
}
øø 	
private
 
void
 
	AddLineTo
 
(
 
double
 %
x
& '
,
' (
double
) /
y
0 1
,
1 2
double
3 9
?
9 :
z
; <
,
< =
double
> D
?
D E
m
F G
)
G H
{
‚‚ 	
this
ƒƒ 
.
ƒƒ 
writer
ƒƒ 
.
ƒƒ 
Write
ƒƒ 
(
ƒƒ $
WellKnownTextConstants
ƒƒ 4
.
ƒƒ4 5(
WktDelimiterWithWhiteSpace
ƒƒ5 O
)
ƒƒO P
;
ƒƒP Q
this
„„ 
.
„„ 

WritePoint
„„ 
(
„„ 
x
„„ 
,
„„ 
y
„„  
,
„„  !
z
„„" #
,
„„# $
m
„„% &
)
„„& '
;
„„' (
}
…… 	
private
ŠŠ 
void
ŠŠ 
	EndFigure
ŠŠ 
(
ŠŠ 
)
ŠŠ  
{
‹‹ 	
this
ŒŒ 
.
ŒŒ 
writer
ŒŒ 
.
ŒŒ 
Write
ŒŒ 
(
ŒŒ $
WellKnownTextConstants
ŒŒ 4
.
ŒŒ4 5
WktCloseParen
ŒŒ5 B
)
ŒŒB C
;
ŒŒC D
}
 	
private
““ 
void
““ 
WriteTaggedText
““ $
(
““$ %
SpatialType
““% 0
type
““1 5
)
““5 6
{
”” 	
switch
•• 
(
•• 
type
•• 
)
•• 
{
–– 
case
—— 
SpatialType
——  
.
——  !
Point
——! &
:
——& '
this
˜˜ 
.
˜˜ 
writer
˜˜ 
.
˜˜  
Write
˜˜  %
(
˜˜% &$
WellKnownTextConstants
˜˜& <
.
˜˜< =
WktPoint
˜˜= E
)
˜˜E F
;
˜˜F G
break
™™ 
;
™™ 
case
šš 
SpatialType
šš  
.
šš  !

LineString
šš! +
:
šš+ ,
this
›› 
.
›› 
writer
›› 
.
››  
Write
››  %
(
››% &$
WellKnownTextConstants
››& <
.
››< =
WktLineString
››= J
)
››J K
;
››K L
break
œœ 
;
œœ 
case
 
SpatialType
  
.
  !
Polygon
! (
:
( )
this
 
.
 
writer
 
.
  
Write
  %
(
% &$
WellKnownTextConstants
& <
.
< =

WktPolygon
= G
)
G H
;
H I
break
ŸŸ 
;
ŸŸ 
case
   
SpatialType
    
.
    !

Collection
  ! +
:
  + ,
this
¡¡ 
.
¡¡ 
shapeWritten
¡¡ %
=
¡¡& '
false
¡¡( -
;
¡¡- .
this
¢¢ 
.
¢¢ 
writer
¢¢ 
.
¢¢  
Write
¢¢  %
(
¢¢% &$
WellKnownTextConstants
¢¢& <
.
¢¢< =
WktCollection
¢¢= J
)
¢¢J K
;
¢¢K L
break
££ 
;
££ 
case
¤¤ 
SpatialType
¤¤  
.
¤¤  !

MultiPoint
¤¤! +
:
¤¤+ ,
this
¥¥ 
.
¥¥ 
shapeWritten
¥¥ %
=
¥¥& '
false
¥¥( -
;
¥¥- .
this
¦¦ 
.
¦¦ 
writer
¦¦ 
.
¦¦  
Write
¦¦  %
(
¦¦% &$
WellKnownTextConstants
¦¦& <
.
¦¦< =
WktMultiPoint
¦¦= J
)
¦¦J K
;
¦¦K L
break
§§ 
;
§§ 
case
¨¨ 
SpatialType
¨¨  
.
¨¨  !
MultiLineString
¨¨! 0
:
¨¨0 1
this
©© 
.
©© 
shapeWritten
©© %
=
©©& '
false
©©( -
;
©©- .
this
ªª 
.
ªª 
writer
ªª 
.
ªª  
Write
ªª  %
(
ªª% &$
WellKnownTextConstants
ªª& <
.
ªª< = 
WktMultiLineString
ªª= O
)
ªªO P
;
ªªP Q
break
«« 
;
«« 
case
¬¬ 
SpatialType
¬¬  
.
¬¬  !
MultiPolygon
¬¬! -
:
¬¬- .
this
­­ 
.
­­ 
shapeWritten
­­ %
=
­­& '
false
­­( -
;
­­- .
this
®® 
.
®® 
writer
®® 
.
®®  
Write
®®  %
(
®®% &$
WellKnownTextConstants
®®& <
.
®®< =
WktMultiPolygon
®®= L
)
®®L M
;
®®M N
break
¯¯ 
;
¯¯ 
case
°° 
SpatialType
°°  
.
°°  !
	FullGlobe
°°! *
:
°°* +
this
±± 
.
±± 
writer
±± 
.
±±  
Write
±±  %
(
±±% &$
WellKnownTextConstants
±±& <
.
±±< =
WktFullGlobe
±±= I
)
±±I J
;
±±J K
break
²² 
;
²² 
}
³³ 
if
µµ 
(
µµ 
type
µµ 
!=
µµ 
SpatialType
µµ #
.
µµ# $
	FullGlobe
µµ$ -
)
µµ- .
{
¶¶ 
this
·· 
.
·· 
writer
·· 
.
·· 
Write
·· !
(
··! "$
WellKnownTextConstants
··" 8
.
··8 9
WktWhitespace
··9 F
)
··F G
;
··G H
}
¸¸ 
}
¹¹ 	
private
ÂÂ 
void
ÂÂ 
WriteFigureScope
ÂÂ %
(
ÂÂ% &
double
ÂÂ& ,
coordinate1
ÂÂ- 8
,
ÂÂ8 9
double
ÂÂ: @
coordinate2
ÂÂA L
,
ÂÂL M
double
ÂÂN T
?
ÂÂT U
coordinate3
ÂÂV a
,
ÂÂa b
double
ÂÂc i
?
ÂÂi j
coordinate4
ÂÂk v
)
ÂÂv w
{
ÃÃ 	
Debug
ÄÄ 
.
ÄÄ 
Assert
ÄÄ 
(
ÄÄ 
this
ÄÄ 
.
ÄÄ 
parentStack
ÄÄ )
.
ÄÄ) *
Count
ÄÄ* /
>
ÄÄ0 1
$num
ÄÄ2 3
,
ÄÄ3 4
$str
ÄÄ5 R
)
ÄÄR S
;
ÄÄS T
if
ÆÆ 
(
ÆÆ 
this
ÆÆ 
.
ÆÆ 
figureWritten
ÆÆ "
)
ÆÆ" #
{
ÇÇ 
this
ÈÈ 
.
ÈÈ 
writer
ÈÈ 
.
ÈÈ 
Write
ÈÈ !
(
ÈÈ! "$
WellKnownTextConstants
ÈÈ" 8
.
ÈÈ8 9(
WktDelimiterWithWhiteSpace
ÈÈ9 S
)
ÈÈS T
;
ÈÈT U
}
ÉÉ 
else
ÊÊ 
{
ËË 
if
ÍÍ 
(
ÍÍ 
this
ÍÍ 
.
ÍÍ 
parentStack
ÍÍ $
.
ÍÍ$ %
Peek
ÍÍ% )
(
ÍÍ) *
)
ÍÍ* +
==
ÍÍ, .
SpatialType
ÍÍ/ :
.
ÍÍ: ;
Polygon
ÍÍ; B
)
ÍÍB C
{
ÎÎ 
this
ĞĞ 
.
ĞĞ 
writer
ĞĞ 
.
ĞĞ  
Write
ĞĞ  %
(
ĞĞ% &$
WellKnownTextConstants
ĞĞ& <
.
ĞĞ< =
WktOpenParen
ĞĞ= I
)
ĞĞI J
;
ĞĞJ K
}
ÑÑ 
}
ÒÒ 
this
ÕÕ 
.
ÕÕ 
writer
ÕÕ 
.
ÕÕ 
Write
ÕÕ 
(
ÕÕ $
WellKnownTextConstants
ÕÕ 4
.
ÕÕ4 5
WktOpenParen
ÕÕ5 A
)
ÕÕA B
;
ÕÕB C
this
ÖÖ 
.
ÖÖ 
figureWritten
ÖÖ 
=
ÖÖ  
true
ÖÖ! %
;
ÖÖ% &
this
ØØ 
.
ØØ 

WritePoint
ØØ 
(
ØØ 
coordinate1
ØØ '
,
ØØ' (
coordinate2
ØØ) 4
,
ØØ4 5
coordinate3
ØØ6 A
,
ØØA B
coordinate4
ØØC N
)
ØØN O
;
ØØO P
}
ÙÙ 	
private
ŞŞ 
void
ŞŞ 
EndGeo
ŞŞ 
(
ŞŞ 
)
ŞŞ 
{
ßß 	
switch
àà 
(
àà 
this
àà 
.
àà 
parentStack
àà $
.
àà$ %
Pop
àà% (
(
àà( )
)
àà) *
)
àà* +
{
áá 
case
ââ 
SpatialType
ââ  
.
ââ  !
Point
ââ! &
:
ââ& '
case
ãã 
SpatialType
ãã  
.
ãã  !

LineString
ãã! +
:
ãã+ ,
if
ää 
(
ää 
!
ää 
figureWritten
ää &
)
ää& '
{
åå 
this
ææ 
.
ææ 
writer
ææ #
.
ææ# $
Write
ææ$ )
(
ææ) *$
WellKnownTextConstants
ææ* @
.
ææ@ A
WktEmpty
ææA I
)
ææI J
;
ææJ K
}
çç 
break
éé 
;
éé 
case
êê 
SpatialType
êê  
.
êê  !
Polygon
êê! (
:
êê( )
this
ëë 
.
ëë 
writer
ëë 
.
ëë  
Write
ëë  %
(
ëë% &
figureWritten
ëë& 3
?
ëë4 5$
WellKnownTextConstants
ëë6 L
.
ëëL M
WktCloseParen
ëëM Z
:
ëë[ \$
WellKnownTextConstants
ëë] s
.
ëës t
WktEmpty
ëët |
)
ëë| }
;
ëë} ~
break
ìì 
;
ìì 
case
íí 
SpatialType
íí  
.
íí  !

Collection
íí! +
:
íí+ ,
case
îî 
SpatialType
îî  
.
îî  !

MultiPoint
îî! +
:
îî+ ,
case
ïï 
SpatialType
ïï  
.
ïï  !
MultiLineString
ïï! 0
:
ïï0 1
case
ğğ 
SpatialType
ğğ  
.
ğğ  !
MultiPolygon
ğğ! -
:
ğğ- .
this
ññ 
.
ññ 
writer
ññ 
.
ññ  
Write
ññ  %
(
ññ% &
this
ññ& *
.
ññ* +
shapeWritten
ññ+ 7
?
ññ8 9$
WellKnownTextConstants
ññ: P
.
ññP Q
WktCloseParen
ññQ ^
:
ññ_ `$
WellKnownTextConstants
ñña w
.
ññw x
WktEmptyññx €
)ññ€ 
;ññ ‚
break
òò 
;
òò 
case
óó 
SpatialType
óó  
.
óó  !
	FullGlobe
óó! *
:
óó* +
this
ôô 
.
ôô 
writer
ôô 
.
ôô  
Write
ôô  %
(
ôô% &$
WellKnownTextConstants
ôô& <
.
ôô< =
WktCloseParen
ôô= J
)
ôôJ K
;
ôôK L
break
õõ 
;
õõ 
}
öö 
this
øø 
.
øø 
shapeWritten
øø 
=
øø 
true
øø  $
;
øø$ %
this
ùù 
.
ùù 
writer
ùù 
.
ùù 
Flush
ùù 
(
ùù 
)
ùù 
;
ùù  
}
úú 	
[
ƒƒ 	
System
ƒƒ	 
.
ƒƒ 
Diagnostics
ƒƒ 
.
ƒƒ 
CodeAnalysis
ƒƒ (
.
ƒƒ( )
SuppressMessage
ƒƒ) 8
(
ƒƒ8 9
$str
ƒƒ9 K
,
ƒƒK L
$str
ƒƒM U
,
ƒƒU V
Justification
ƒƒW d
=
ƒƒe f
$strƒƒg ‚
)ƒƒ‚ ƒ
]ƒƒƒ „
private
„„ 
void
„„ 

WritePoint
„„ 
(
„„  
double
„„  &
x
„„' (
,
„„( )
double
„„* 0
y
„„1 2
,
„„2 3
double
„„4 :
?
„„: ;
z
„„< =
,
„„= >
double
„„? E
?
„„E F
m
„„G H
)
„„H I
{
…… 	
this
†† 
.
†† 
writer
†† 
.
†† !
WriteRoundtrippable
†† +
(
††+ ,
x
††, -
)
††- .
;
††. /
this
‡‡ 
.
‡‡ 
writer
‡‡ 
.
‡‡ 
Write
‡‡ 
(
‡‡ $
WellKnownTextConstants
‡‡ 4
.
‡‡4 5
WktWhitespace
‡‡5 B
)
‡‡B C
;
‡‡C D
this
ˆˆ 
.
ˆˆ 
writer
ˆˆ 
.
ˆˆ !
WriteRoundtrippable
ˆˆ +
(
ˆˆ+ ,
y
ˆˆ, -
)
ˆˆ- .
;
ˆˆ. /
if
ŠŠ 
(
ŠŠ 
!
ŠŠ 
this
ŠŠ 
.
ŠŠ $
allowOnlyTwoDimensions
ŠŠ ,
&&
ŠŠ- /
z
ŠŠ0 1
.
ŠŠ1 2
HasValue
ŠŠ2 :
)
ŠŠ: ;
{
‹‹ 
this
ŒŒ 
.
ŒŒ 
writer
ŒŒ 
.
ŒŒ 
Write
ŒŒ !
(
ŒŒ! "$
WellKnownTextConstants
ŒŒ" 8
.
ŒŒ8 9
WktWhitespace
ŒŒ9 F
)
ŒŒF G
;
ŒŒG H
this
 
.
 
writer
 
.
 !
WriteRoundtrippable
 /
(
/ 0
z
0 1
.
1 2
Value
2 7
)
7 8
;
8 9
if
 
(
 
!
 
this
 
.
 $
allowOnlyTwoDimensions
 0
&&
1 3
m
4 5
.
5 6
HasValue
6 >
)
> ?
{
 
this
‘‘ 
.
‘‘ 
writer
‘‘ 
.
‘‘  
Write
‘‘  %
(
‘‘% &$
WellKnownTextConstants
‘‘& <
.
‘‘< =
WktWhitespace
‘‘= J
)
‘‘J K
;
‘‘K L
this
’’ 
.
’’ 
writer
’’ 
.
’’  !
WriteRoundtrippable
’’  3
(
’’3 4
m
’’4 5
.
’’5 6
Value
’’6 ;
)
’’; <
;
’’< =
}
““ 
}
”” 
else
•• 
{
–– 
if
—— 
(
—— 
!
—— 
this
—— 
.
—— $
allowOnlyTwoDimensions
—— 0
&&
——1 3
m
——4 5
.
——5 6
HasValue
——6 >
)
——> ?
{
˜˜ 
this
™™ 
.
™™ 
writer
™™ 
.
™™  
Write
™™  %
(
™™% &$
WellKnownTextConstants
™™& <
.
™™< =
WktWhitespace
™™= J
)
™™J K
;
™™K L
this
šš 
.
šš 
writer
šš 
.
šš  
Write
šš  %
(
šš% &$
WellKnownTextConstants
šš& <
.
šš< =
WktNull
šš= D
)
ššD E
;
ššE F
this
›› 
.
›› 
writer
›› 
.
››  
Write
››  %
(
››% &$
WellKnownTextConstants
››& <
.
››< =
WktWhitespace
››= J
)
››J K
;
››K L
this
œœ 
.
œœ 
writer
œœ 
.
œœ  
Write
œœ  %
(
œœ% &
m
œœ& '
.
œœ' (
Value
œœ( -
)
œœ- .
;
œœ. /
}
 
}
 
}
ŸŸ 	
}
   
}¡¡ Ø
3D:\odata.net\src\Microsoft.Spatial\GeoJsonMember.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
enum 
GeoJsonMember 
{ 
Type 
, 
Coordinates 
, 

Geometries 
, 
Crs   
,   

Properties%% 
,%% 
Name** 
,** 
}++ 
},, ’
6D:\odata.net\src\Microsoft.Spatial\GeoJsonConstants.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class 
GeoJsonConstants *
{ 
internal 
const 
string 
TypeMemberName ,
=- .
$str/ 5
;5 6
internal 
const 
string  
TypeMemberValuePoint 2
=3 4
$str5 <
;< =
internal 
const 
string %
TypeMemberValueLineString 7
=8 9
$str: F
;F G
internal!! 
const!! 
string!! "
TypeMemberValuePolygon!! 4
=!!5 6
$str!!7 @
;!!@ A
internal&& 
const&& 
string&& %
TypeMemberValueMultiPoint&& 7
=&&8 9
$str&&: F
;&&F G
internal++ 
const++ 
string++ *
TypeMemberValueMultiLineString++ <
=++= >
$str++? P
;++P Q
internal00 
const00 
string00 '
TypeMemberValueMultiPolygon00 9
=00: ;
$str00< J
;00J K
internal55 
const55 
string55 -
!TypeMemberValueGeometryCollection55 ?
=55@ A
$str55B V
;55V W
internal:: 
const:: 
string:: !
CoordinatesMemberName:: 3
=::4 5
$str::6 C
;::C D
internal?? 
const?? 
string??  
GeometriesMemberName?? 2
=??3 4
$str??5 A
;??A B
internalDD 
constDD 
stringDD 
CrsMemberNameDD +
=DD, -
$strDD. 3
;DD3 4
internalII 
constII 
stringII 
CrsTypeMemberValueII 0
=II1 2
$strII3 9
;II9 :
internalNN 
constNN 
stringNN 
CrsNameMemberNameNN /
=NN0 1
$strNN2 8
;NN8 9
internalSS 
constSS 
stringSS #
CrsPropertiesMemberNameSS 5
=SS6 7
$strSS8 D
;SSD E
internalXX 
constXX 
stringXX 
CrsValuePrefixXX ,
=XX- .
$strXX/ 5
;XX5 6
}YY 
}ZZ ¿Ñ
7D:\odata.net\src\Microsoft.Spatial\ForwardingSegment.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
ForwardingSegment $
:% &
SpatialPipeline' 6
{ 
internal 
static 
readonly  
SpatialPipeline! 0
SpatialPipelineNoOp1 D
=E F
newG J
SpatialPipelineK Z
(Z [
new[ ^!
NoOpGeographyPipeline_ t
(t u
)u v
,v w
newx {!
NoOpGeometryPipeline	| 
(
 ‘
)
‘ ’
)
’ “
;
“ ”
private 
readonly 
SpatialPipeline (
current) 0
;0 1
private!! 
SpatialPipeline!! 
next!!  $
=!!% &
SpatialPipelineNoOp!!' :
;!!: ;
private&& 
GeographyForwarder&& "
geographyForwarder&&# 5
;&&5 6
private++ 
GeometryForwarder++ !
geometryForwarder++" 3
;++3 4
public11 
ForwardingSegment11  
(11  !
SpatialPipeline11! 0
current111 8
)118 9
{22 	
Debug33 
.33 
Assert33 
(33 
current33  
.33  !
GeographyPipeline33! 2
==333 5
null336 :
||33; =
!33> ?
(33? @
current33@ G
.33G H
GeographyPipeline33H Y
is33Z \
GeographyForwarder33] o
)33o p
,33p q
$str	33r 
)
33 Ÿ
;
33Ÿ  
Debug44 
.44 
Assert44 
(44 
current44  
.44  !
GeometryPipeline44! 1
==442 4
null445 9
||44: <
!44= >
(44> ?
current44? F
.44F G
GeometryPipeline44G W
is44X Z
GeometryForwarder44[ l
)44l m
,44m n
$str	44o ›
)
44› œ
;
44œ 
this55 
.55 
current55 
=55 
current55 "
;55" #
}66 	
public== 
ForwardingSegment==  
(==  !
GeographyPipeline==! 2
currentGeography==3 C
,==C D
GeometryPipeline==E U
currentGeometry==V e
)==e f
:>> 
this>> 
(>> 
new>> 
SpatialPipeline>> &
(>>& '
currentGeography>>' 7
,>>7 8
currentGeometry>>9 H
)>>H I
)>>I J
{?? 	
}@@ 	
publicEE 
overrideEE 
GeographyPipelineEE )
GeographyPipelineEE* ;
{FF 	
getGG 
{GG 
returnGG 
thisGG 
.GG 
geographyForwarderGG 0
??GG1 3
(GG4 5
thisGG5 9
.GG9 :
geographyForwarderGG: L
=GGM N
newGGO R
GeographyForwarderGGS e
(GGe f
thisGGf j
)GGj k
)GGk l
;GGl m
}GGn o
}HH 	
publicMM 
overrideMM 
GeometryPipelineMM (
GeometryPipelineMM) 9
{NN 	
getOO 
{OO 
returnOO 
thisOO 
.OO 
geometryForwarderOO /
??OO0 2
(OO3 4
thisOO4 8
.OO8 9
geometryForwarderOO9 J
=OOK L
newOOM P
GeometryForwarderOOQ b
(OOb c
thisOOc g
)OOg h
)OOh i
;OOi j
}OOk l
}PP 	
publicUU 
GeographyPipelineUU  
NextDrawGeographyUU! 2
{VV 	
getWW 
{WW 
returnWW 
thisWW 
.WW 
nextWW "
;WW" #
}WW$ %
}XX 	
public]] 
GeometryPipeline]] 
NextDrawGeometry]]  0
{^^ 	
get__ 
{__ 
return__ 
this__ 
.__ 
next__ "
;__" #
}__$ %
}`` 	
publicgg 
overridegg 
SpatialPipelinegg '
ChainTogg( /
(gg/ 0
SpatialPipelinegg0 ?
destinationgg@ K
)ggK L
{hh 	
Utilii 
.ii 
CheckArgumentNullii "
(ii" #
destinationii# .
,ii. /
$strii0 =
)ii= >
;ii> ?
stringmm 
[mm 
]mm 
spatialNamespacesmm &
=mm' (
newmm) ,
stringmm- 3
[mm3 4
]mm4 5
{mm6 7
$strmm8 K
,mmK L
$strmmM `
}mma b
;mmb c
Debugnn 
.nn 
Assertnn 
(nn 
destinationnn $
.nn$ %
GeographyPipelinenn% 6
==nn7 9
nullnn: >
||nn? A
!nnB C
spatialNamespacesnnC T
.nnT U
AnynnU X
(nnX Y
snnY Z
=>nn[ ]
snn^ _
==nn` b
destinationnnc n
.nnn o
GeographyPipeline	nno €
.
nn€ 
GetType
nn ˆ
(
nnˆ ‰
)
nn‰ Š
.
nnŠ ‹
	Namespace
nn‹ ”
)
nn” •
||
nn– ˜
destination
nn™ ¤
.
nn¤ ¥
GeographyPipeline
nn¥ ¶
is
nn· ¹ 
GeographyForwarder
nnº Ì
,
nnÌ Í
$str
nnÎ ¸
)
nn¸ ¹
;
nn¹ º
Debugoo 
.oo 
Assertoo 
(oo 
destinationoo $
.oo$ %
GeometryPipelineoo% 5
==oo6 8
nulloo9 =
||oo> @
!ooA B
spatialNamespacesooB S
.ooS T
AnyooT W
(ooW X
sooX Y
=>ooZ \
soo] ^
==oo_ a
destinationoob m
.oom n
GeometryPipelineoon ~
.oo~ 
GetType	oo †
(
oo† ‡
)
oo‡ ˆ
.
ooˆ ‰
	Namespace
oo‰ ’
)
oo’ “
||
oo” –
destination
oo— ¢
.
oo¢ £
GeometryPipeline
oo£ ³
is
oo´ ¶
GeometryForwarder
oo· È
,
ooÈ É
$str
ooÊ ´
)
oo´ µ
;
ooµ ¶
thisqq 
.qq 
nextqq 
=qq 
destinationqq #
;qq# $
destinationrr 
.rr 
StartingLinkrr $
=rr% &
thisrr' +
.rr+ ,
StartingLinkrr, 8
;rr8 9
returnss 
destinationss 
;ss 
}tt 	
private}} 
static}} 
void}} 
DoAction}} $
(}}$ %
Action}}% +
handler}}, 3
,}}3 4
Action}}5 ;
handlerReset}}< H
,}}H I
Action}}J P

delegation}}Q [
,}}[ \
Action}}] c
delegationReset}}d s
)}}s t
{~~ 	
try 
{
€€ 
handler
 
(
 
)
 
;
 
}
‚‚ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ 
e
ƒƒ 
)
ƒƒ 
{
„„ 
if
…… 
(
…… 
Util
…… 
.
…… &
IsCatchableExceptionType
…… 1
(
……1 2
e
……2 3
)
……3 4
)
……4 5
{
†† 
handlerReset
‡‡  
(
‡‡  !
)
‡‡! "
;
‡‡" #
delegationReset
ˆˆ #
(
ˆˆ# $
)
ˆˆ$ %
;
ˆˆ% &
}
‰‰ 
throw
‹‹ 
;
‹‹ 
}
ŒŒ 
try
 
{
 

delegation
 
(
 
)
 
;
 
}
‘‘ 
catch
’’ 
(
’’ 
	Exception
’’ 
e
’’ 
)
’’ 
{
““ 
if
”” 
(
”” 
Util
”” 
.
”” &
IsCatchableExceptionType
”” 1
(
””1 2
e
””2 3
)
””3 4
)
””4 5
{
•• 
handlerReset
––  
(
––  !
)
––! "
;
––" #
}
—— 
throw
™™ 
;
™™ 
}
šš 
}
›› 	
private
¦¦ 
static
¦¦ 
void
¦¦ 
DoAction
¦¦ $
<
¦¦$ %
T
¦¦% &
>
¦¦& '
(
¦¦' (
Action
¦¦( .
<
¦¦. /
T
¦¦/ 0
>
¦¦0 1
handler
¦¦2 9
,
¦¦9 :
Action
¦¦; A
handlerReset
¦¦B N
,
¦¦N O
Action
¦¦P V
<
¦¦V W
T
¦¦W X
>
¦¦X Y

delegation
¦¦Z d
,
¦¦d e
Action
¦¦f l
delegationReset
¦¦m |
,
¦¦| }
T
¦¦~ 
argument¦¦€ ˆ
)¦¦ˆ ‰
{
§§ 	
try
¨¨ 
{
©© 
handler
ªª 
(
ªª 
argument
ªª  
)
ªª  !
;
ªª! "
}
«« 
catch
¬¬ 
(
¬¬ 
	Exception
¬¬ 
e
¬¬ 
)
¬¬ 
{
­­ 
if
®® 
(
®® 
Util
®® 
.
®® &
IsCatchableExceptionType
®® 1
(
®®1 2
e
®®2 3
)
®®3 4
)
®®4 5
{
¯¯ 
handlerReset
°°  
(
°°  !
)
°°! "
;
°°" #
delegationReset
±± #
(
±±# $
)
±±$ %
;
±±% &
}
²² 
throw
´´ 
;
´´ 
}
µµ 
try
·· 
{
¸¸ 

delegation
¹¹ 
(
¹¹ 
argument
¹¹ #
)
¹¹# $
;
¹¹$ %
}
ºº 
catch
»» 
(
»» 
	Exception
»» 
e
»» 
)
»» 
{
¼¼ 
if
½½ 
(
½½ 
Util
½½ 
.
½½ &
IsCatchableExceptionType
½½ 1
(
½½1 2
e
½½2 3
)
½½3 4
)
½½4 5
{
¾¾ 
handlerReset
¿¿  
(
¿¿  !
)
¿¿! "
;
¿¿" #
}
ÀÀ 
throw
ÂÂ 
;
ÂÂ 
}
ÃÃ 
}
ÄÄ 	
internal
ÉÉ 
class
ÉÉ  
GeographyForwarder
ÉÉ )
:
ÉÉ* +
GeographyPipeline
ÉÉ, =
{
ÊÊ 	
private
ÏÏ 
readonly
ÏÏ 
ForwardingSegment
ÏÏ .
segment
ÏÏ/ 6
;
ÏÏ6 7
public
ÕÕ  
GeographyForwarder
ÕÕ %
(
ÕÕ% &
ForwardingSegment
ÕÕ& 7
segment
ÕÕ8 ?
)
ÕÕ? @
{
ÖÖ 
this
×× 
.
×× 
segment
×× 
=
×× 
segment
×× &
;
××& '
}
ØØ 
private
İİ 
GeographyPipeline
İİ %
Current
İİ& -
{
ŞŞ 
get
ßß 
{
ßß 
return
ßß 
this
ßß !
.
ßß! "
segment
ßß" )
.
ßß) *
current
ßß* 1
;
ßß1 2
}
ßß3 4
}
àà 
private
åå 
GeographyPipeline
åå %
Next
åå& *
{
ææ 
get
çç 
{
çç 
return
çç 
this
çç !
.
çç! "
segment
çç" )
.
çç) *
next
çç* .
;
çç. /
}
çç0 1
}
èè 
public
îî 
override
îî 
void
îî  !
SetCoordinateSystem
îî! 4
(
îî4 5
CoordinateSystem
îî5 E
coordinateSystem
îîF V
)
îîV W
{
ïï 
DoAction
ğğ 
(
ğğ 
val
ğğ 
=>
ğğ 
Current
ğğ  '
.
ğğ' (!
SetCoordinateSystem
ğğ( ;
(
ğğ; <
val
ğğ< ?
)
ğğ? @
,
ğğ@ A
val
ğğB E
=>
ğğF H
Next
ğğI M
.
ğğM N!
SetCoordinateSystem
ğğN a
(
ğğa b
val
ğğb e
)
ğğe f
,
ğğf g
coordinateSystem
ğğh x
)
ğğx y
;
ğğy z
}
ññ 
public
÷÷ 
override
÷÷ 
void
÷÷  
BeginGeography
÷÷! /
(
÷÷/ 0
SpatialType
÷÷0 ;
type
÷÷< @
)
÷÷@ A
{
øø 
DoAction
ùù 
(
ùù 
val
ùù 
=>
ùù 
Current
ùù  '
.
ùù' (
BeginGeography
ùù( 6
(
ùù6 7
val
ùù7 :
)
ùù: ;
,
ùù; <
val
ùù= @
=>
ùùA C
Next
ùùD H
.
ùùH I
BeginGeography
ùùI W
(
ùùW X
val
ùùX [
)
ùù[ \
,
ùù\ ]
type
ùù^ b
)
ùùb c
;
ùùc d
}
úú 
public
ÿÿ 
override
ÿÿ 
void
ÿÿ  
EndGeography
ÿÿ! -
(
ÿÿ- .
)
ÿÿ. /
{
€€ 
DoAction
 
(
 
Current
  
.
  !
EndGeography
! -
,
- .
Next
/ 3
.
3 4
EndGeography
4 @
)
@ A
;
A B
}
‚‚ 
public
ˆˆ 
override
ˆˆ 
void
ˆˆ  
BeginFigure
ˆˆ! ,
(
ˆˆ, -
GeographyPosition
ˆˆ- >
position
ˆˆ? G
)
ˆˆG H
{
‰‰ 
Util
ŠŠ 
.
ŠŠ 
CheckArgumentNull
ŠŠ &
(
ŠŠ& '
position
ŠŠ' /
,
ŠŠ/ 0
$str
ŠŠ1 ;
)
ŠŠ; <
;
ŠŠ< =
DoAction
‹‹ 
(
‹‹ 
val
ŒŒ 
=>
ŒŒ 
Current
ŒŒ "
.
ŒŒ" #
BeginFigure
ŒŒ# .
(
ŒŒ. /
val
ŒŒ/ 2
)
ŒŒ2 3
,
ŒŒ3 4
val
 
=>
 
Next
 
.
  
BeginFigure
  +
(
+ ,
val
, /
)
/ 0
,
0 1
position
 
)
 
;
 
}
 
public
”” 
override
”” 
void
””  
	EndFigure
””! *
(
””* +
)
””+ ,
{
•• 
DoAction
–– 
(
–– 
Current
––  
.
––  !
	EndFigure
––! *
,
––* +
Next
––, 0
.
––0 1
	EndFigure
––1 :
)
––: ;
;
––; <
}
—— 
public
 
override
 
void
  
LineTo
! '
(
' (
GeographyPosition
( 9
position
: B
)
B C
{
 
Util
ŸŸ 
.
ŸŸ 
CheckArgumentNull
ŸŸ &
(
ŸŸ& '
position
ŸŸ' /
,
ŸŸ/ 0
$str
ŸŸ1 ;
)
ŸŸ; <
;
ŸŸ< =
DoAction
   
(
   
val
¡¡ 
=>
¡¡ 
Current
¡¡ "
.
¡¡" #
LineTo
¡¡# )
(
¡¡) *
val
¡¡* -
)
¡¡- .
,
¡¡. /
val
¢¢ 
=>
¢¢ 
Next
¢¢ 
.
¢¢  
LineTo
¢¢  &
(
¢¢& '
val
¢¢' *
)
¢¢* +
,
¢¢+ ,
position
££ 
)
££ 
;
££ 
}
¤¤ 
public
©© 
override
©© 
void
©©  
Reset
©©! &
(
©©& '
)
©©' (
{
ªª 
DoAction
«« 
(
«« 
Current
««  
.
««  !
Reset
««! &
,
««& '
Next
««( ,
.
««, -
Reset
««- 2
)
««2 3
;
««3 4
}
¬¬ 
private
µµ 
void
µµ 
DoAction
µµ !
<
µµ! "
T
µµ" #
>
µµ# $
(
µµ$ %
Action
µµ% +
<
µµ+ ,
T
µµ, -
>
µµ- .
handler
µµ/ 6
,
µµ6 7
Action
µµ8 >
<
µµ> ?
T
µµ? @
>
µµ@ A

delegation
µµB L
,
µµL M
T
µµN O
argument
µµP X
)
µµX Y
{
¶¶ 
ForwardingSegment
·· !
.
··! "
DoAction
··" *
(
··* +
handler
··+ 2
,
··2 3
Current
··4 ;
.
··; <
Reset
··< A
,
··A B

delegation
··C M
,
··M N
Next
··O S
.
··S T
Reset
··T Y
,
··Y Z
argument
··[ c
)
··c d
;
··d e
}
¸¸ 
private
¿¿ 
void
¿¿ 
DoAction
¿¿ !
(
¿¿! "
Action
¿¿" (
handler
¿¿) 0
,
¿¿0 1
Action
¿¿2 8

delegation
¿¿9 C
)
¿¿C D
{
ÀÀ 
ForwardingSegment
ÁÁ !
.
ÁÁ! "
DoAction
ÁÁ" *
(
ÁÁ* +
handler
ÁÁ+ 2
,
ÁÁ2 3
Current
ÁÁ4 ;
.
ÁÁ; <
Reset
ÁÁ< A
,
ÁÁA B

delegation
ÁÁC M
,
ÁÁM N
Next
ÁÁO S
.
ÁÁS T
Reset
ÁÁT Y
)
ÁÁY Z
;
ÁÁZ [
}
ÂÂ 
}
ÃÃ 	
internal
ÈÈ 
class
ÈÈ 
GeometryForwarder
ÈÈ (
:
ÈÈ) *
GeometryPipeline
ÈÈ+ ;
{
ÉÉ 	
private
ÎÎ 
readonly
ÎÎ 
ForwardingSegment
ÎÎ .
segment
ÎÎ/ 6
;
ÎÎ6 7
public
ÔÔ 
GeometryForwarder
ÔÔ $
(
ÔÔ$ %
ForwardingSegment
ÔÔ% 6
segment
ÔÔ7 >
)
ÔÔ> ?
{
ÕÕ 
this
ÖÖ 
.
ÖÖ 
segment
ÖÖ 
=
ÖÖ 
segment
ÖÖ &
;
ÖÖ& '
}
×× 
private
ÜÜ 
GeometryPipeline
ÜÜ $
Current
ÜÜ% ,
{
İİ 
get
ŞŞ 
{
ŞŞ 
return
ŞŞ 
this
ŞŞ !
.
ŞŞ! "
segment
ŞŞ" )
.
ŞŞ) *
current
ŞŞ* 1
;
ŞŞ1 2
}
ŞŞ3 4
}
ßß 
private
ää 
GeometryPipeline
ää $
Next
ää% )
{
åå 
get
ææ 
{
ææ 
return
ææ 
this
ææ !
.
ææ! "
segment
ææ" )
.
ææ) *
next
ææ* .
;
ææ. /
}
ææ0 1
}
çç 
public
íí 
override
íí 
void
íí  !
SetCoordinateSystem
íí! 4
(
íí4 5
CoordinateSystem
íí5 E
coordinateSystem
ííF V
)
ííV W
{
îî 
DoAction
ïï 
(
ïï 
val
ïï 
=>
ïï 
Current
ïï  '
.
ïï' (!
SetCoordinateSystem
ïï( ;
(
ïï; <
val
ïï< ?
)
ïï? @
,
ïï@ A
val
ïïB E
=>
ïïF H
Next
ïïI M
.
ïïM N!
SetCoordinateSystem
ïïN a
(
ïïa b
val
ïïb e
)
ïïe f
,
ïïf g
coordinateSystem
ïïh x
)
ïïx y
;
ïïy z
}
ğğ 
public
öö 
override
öö 
void
öö  
BeginGeometry
öö! .
(
öö. /
SpatialType
öö/ :
type
öö; ?
)
öö? @
{
÷÷ 
DoAction
øø 
(
øø 
val
øø 
=>
øø 
Current
øø  '
.
øø' (
BeginGeometry
øø( 5
(
øø5 6
val
øø6 9
)
øø9 :
,
øø: ;
val
øø< ?
=>
øø@ B
Next
øøC G
.
øøG H
BeginGeometry
øøH U
(
øøU V
val
øøV Y
)
øøY Z
,
øøZ [
type
øø\ `
)
øø` a
;
øøa b
}
ùù 
public
şş 
override
şş 
void
şş  
EndGeometry
şş! ,
(
şş, -
)
şş- .
{
ÿÿ 
DoAction
€€ 
(
€€ 
Current
€€  
.
€€  !
EndGeometry
€€! ,
,
€€, -
Next
€€. 2
.
€€2 3
EndGeometry
€€3 >
)
€€> ?
;
€€? @
}
 
public
‡‡ 
override
‡‡ 
void
‡‡  
BeginFigure
‡‡! ,
(
‡‡, -
GeometryPosition
‡‡- =
position
‡‡> F
)
‡‡F G
{
ˆˆ 
Util
‰‰ 
.
‰‰ 
CheckArgumentNull
‰‰ &
(
‰‰& '
position
‰‰' /
,
‰‰/ 0
$str
‰‰1 ;
)
‰‰; <
;
‰‰< =
DoAction
ŠŠ 
(
ŠŠ 
val
ŠŠ 
=>
ŠŠ 
Current
ŠŠ  '
.
ŠŠ' (
BeginFigure
ŠŠ( 3
(
ŠŠ3 4
val
ŠŠ4 7
)
ŠŠ7 8
,
ŠŠ8 9
val
ŠŠ: =
=>
ŠŠ> @
Next
ŠŠA E
.
ŠŠE F
BeginFigure
ŠŠF Q
(
ŠŠQ R
val
ŠŠR U
)
ŠŠU V
,
ŠŠV W
position
ŠŠX `
)
ŠŠ` a
;
ŠŠa b
}
‹‹ 
public
 
override
 
void
  
	EndFigure
! *
(
* +
)
+ ,
{
‘‘ 
DoAction
’’ 
(
’’ 
Current
’’  
.
’’  !
	EndFigure
’’! *
,
’’* +
Next
’’, 0
.
’’0 1
	EndFigure
’’1 :
)
’’: ;
;
’’; <
}
““ 
public
™™ 
override
™™ 
void
™™  
LineTo
™™! '
(
™™' (
GeometryPosition
™™( 8
position
™™9 A
)
™™A B
{
šš 
Util
›› 
.
›› 
CheckArgumentNull
›› &
(
››& '
position
››' /
,
››/ 0
$str
››1 ;
)
››; <
;
››< =
DoAction
œœ 
(
œœ 
val
œœ 
=>
œœ 
Current
œœ  '
.
œœ' (
LineTo
œœ( .
(
œœ. /
val
œœ/ 2
)
œœ2 3
,
œœ3 4
val
œœ5 8
=>
œœ9 ;
Next
œœ< @
.
œœ@ A
LineTo
œœA G
(
œœG H
val
œœH K
)
œœK L
,
œœL M
position
œœN V
)
œœV W
;
œœW X
}
 
public
¢¢ 
override
¢¢ 
void
¢¢  
Reset
¢¢! &
(
¢¢& '
)
¢¢' (
{
££ 
DoAction
¤¤ 
(
¤¤ 
Current
¤¤  
.
¤¤  !
Reset
¤¤! &
,
¤¤& '
Next
¤¤( ,
.
¤¤, -
Reset
¤¤- 2
)
¤¤2 3
;
¤¤3 4
}
¥¥ 
private
®® 
void
®® 
DoAction
®® !
<
®®! "
T
®®" #
>
®®# $
(
®®$ %
Action
®®% +
<
®®+ ,
T
®®, -
>
®®- .
handler
®®/ 6
,
®®6 7
Action
®®8 >
<
®®> ?
T
®®? @
>
®®@ A

delegation
®®B L
,
®®L M
T
®®N O
argument
®®P X
)
®®X Y
{
¯¯ 
ForwardingSegment
°° !
.
°°! "
DoAction
°°" *
(
°°* +
handler
°°+ 2
,
°°2 3
Current
°°4 ;
.
°°; <
Reset
°°< A
,
°°A B

delegation
°°C M
,
°°M N
Next
°°O S
.
°°S T
Reset
°°T Y
,
°°Y Z
argument
°°[ c
)
°°c d
;
°°d e
}
±± 
private
¸¸ 
void
¸¸ 
DoAction
¸¸ !
(
¸¸! "
Action
¸¸" (
handler
¸¸) 0
,
¸¸0 1
Action
¸¸2 8

delegation
¸¸9 C
)
¸¸C D
{
¹¹ 
ForwardingSegment
ºº !
.
ºº! "
DoAction
ºº" *
(
ºº* +
handler
ºº+ 2
,
ºº2 3
Current
ºº4 ;
.
ºº; <
Reset
ºº< A
,
ººA B

delegation
ººC M
,
ººM N
Next
ººO S
.
ººS T
Reset
ººT Y
)
ººY Z
;
ººZ [
}
»» 
}
¼¼ 	
private
ÁÁ 
class
ÁÁ #
NoOpGeographyPipeline
ÁÁ +
:
ÁÁ, -
GeographyPipeline
ÁÁ. ?
{
ÂÂ 	
public
ÇÇ 
override
ÇÇ 
void
ÇÇ  
LineTo
ÇÇ! '
(
ÇÇ' (
GeographyPosition
ÇÇ( 9
position
ÇÇ: B
)
ÇÇB C
{
ÈÈ 
}
ÉÉ 
public
ÏÏ 
override
ÏÏ 
void
ÏÏ  
BeginFigure
ÏÏ! ,
(
ÏÏ, -
GeographyPosition
ÏÏ- >
position
ÏÏ? G
)
ÏÏG H
{
ĞĞ 
}
ÑÑ 
public
×× 
override
×× 
void
××  
BeginGeography
××! /
(
××/ 0
SpatialType
××0 ;
type
××< @
)
××@ A
{
ØØ 
}
ÙÙ 
public
ŞŞ 
override
ŞŞ 
void
ŞŞ  
	EndFigure
ŞŞ! *
(
ŞŞ* +
)
ŞŞ+ ,
{
ßß 
}
àà 
public
åå 
override
åå 
void
åå  
EndGeography
åå! -
(
åå- .
)
åå. /
{
ææ 
}
çç 
public
ìì 
override
ìì 
void
ìì  
Reset
ìì! &
(
ìì& '
)
ìì' (
{
íí 
}
îî 
public
ôô 
override
ôô 
void
ôô  !
SetCoordinateSystem
ôô! 4
(
ôô4 5
CoordinateSystem
ôô5 E
coordinateSystem
ôôF V
)
ôôV W
{
õõ 
}
öö 
}
÷÷ 	
private
üü 
class
üü "
NoOpGeometryPipeline
üü *
:
üü+ ,
GeometryPipeline
üü- =
{
ıı 	
public
‚‚ 
override
‚‚ 
void
‚‚  
LineTo
‚‚! '
(
‚‚' (
GeometryPosition
‚‚( 8
position
‚‚9 A
)
‚‚A B
{
ƒƒ 
}
„„ 
public
ŠŠ 
override
ŠŠ 
void
ŠŠ  
BeginFigure
ŠŠ! ,
(
ŠŠ, -
GeometryPosition
ŠŠ- =
position
ŠŠ> F
)
ŠŠF G
{
‹‹ 
}
ŒŒ 
public
’’ 
override
’’ 
void
’’  
BeginGeometry
’’! .
(
’’. /
SpatialType
’’/ :
type
’’; ?
)
’’? @
{
““ 
}
”” 
public
™™ 
override
™™ 
void
™™  
	EndFigure
™™! *
(
™™* +
)
™™+ ,
{
šš 
}
›› 
public
   
override
   
void
    
EndGeometry
  ! ,
(
  , -
)
  - .
{
¡¡ 
}
¢¢ 
public
§§ 
override
§§ 
void
§§  
Reset
§§! &
(
§§& '
)
§§' (
{
¨¨ 
}
©© 
public
¯¯ 
override
¯¯ 
void
¯¯  !
SetCoordinateSystem
¯¯! 4
(
¯¯4 5
CoordinateSystem
¯¯5 E
coordinateSystem
¯¯F V
)
¯¯V W
{
°° 
}
±± 
}
²² 	
}
³³ 
}´´ ş
*D:\odata.net\src\Microsoft.Spatial\Util.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
Util 
{ 
private 
static 
readonly 
Type  $
OutOfMemoryType% 4
=5 6
typeof7 =
(= >
System> D
.D E 
OutOfMemoryExceptionE Y
)Y Z
;Z [
private 
static 
readonly 
Type  $
NullReferenceType% 6
=7 8
typeof9 ?
(? @
System@ F
.F G"
NullReferenceExceptionG ]
)] ^
;^ _
private"" 
static"" 
readonly"" 
Type""  $
SecurityType""% 1
=""2 3
typeof""4 :
("": ;
System""; A
.""A B
Security""B J
.""J K
SecurityException""K \
)""\ ]
;""] ^
internal)) 
static)) 
void)) 
CheckArgumentNull)) .
()). /
[))/ 0
ValidatedNotNull))0 @
]))@ A
object))B H
arg))I L
,))L M
string))N T
errorMessage))U a
)))a b
{** 	
if++ 
(++ 
arg++ 
==++ 
null++ 
)++ 
{,, 
throw-- 
new-- !
ArgumentNullException-- /
(--/ 0
errorMessage--0 <
)--< =
;--= >
}.. 
}// 	
internal66 
static66 
bool66 $
IsCatchableExceptionType66 5
(665 6
	Exception666 ?
e66@ A
)66A B
{77 	
Type99 
type99 
=99 
e99 
.99 
GetType99 !
(99! "
)99" #
;99# $
return;; 
(;; 
(;; 
type;; 
!=;; 
OutOfMemoryType;; ,
);;, -
&&;;. 0
(AA 
typeAA 
!=AA 
NullReferenceTypeAA .
)AA. /
&&AA0 2
!BB 
SecurityTypeBB !
.BB! "
IsAssignableFromBB" 2
(BB2 3
typeBB3 7
)BB7 8
)BB8 9
;BB9 :
}CC 	
privateKK 
sealedKK 
classKK %
ValidatedNotNullAttributeKK 6
:KK7 8
	AttributeKK9 B
{LL 	
}MM 	
}NN 
}OO ˆ
2D:\odata.net\src\Microsoft.Spatial\XmlConstants.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
XmlConstants 
{ 
internal 
const 
string 
XmlnsNamespace ,
=- .
$str/ N
;N O
} 
} Ó
8D:\odata.net\src\Microsoft.Spatial\InternalsVisibleTo.cs
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> c
+d e
AssemblyReff q
.q r
TestPublicKeyr 
)	 €
]
€ 
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> p
+q r
AssemblyRefs ~
.~ 
TestPublicKey	 Œ
)
Œ 
]
 
[		 
assembly		 	
:			 

System		 
.		 
Runtime		 
.		 
CompilerServices		 *
.		* +
InternalsVisibleTo		+ =
(		= >
$str		> ]
+		^ _
AssemblyRef		` k
.		k l
TestPublicKey		l y
)		y z
]		z {
[

 
assembly

 	
:

	 

System

 
.

 
Runtime

 
.

 
CompilerServices

 *
.

* +
InternalsVisibleTo

+ =
(

= >
$str

> ^
+

_ `
AssemblyRef

a l
.

l m
TestPublicKey

m z
)

z {
]

{ |
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> W
+X Y
AssemblyRefZ e
.e f
TestPublicKeyf s
)s t
]t u
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> b
+c d
AssemblyRefe p
.p q
TestPublicKeyq ~
)~ 
]	 €
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> a
+b c
AssemblyRefd o
.o p
TestPublicKeyp }
)} ~
]~ 
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> b
+c d
AssemblyRefe p
.p q
TestPublicKeyq ~
)~ 
]	 €
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> _
+` a
AssemblyRefb m
.m n
TestPublicKeyn {
){ |
]| }Æ
-D:\odata.net\src\AssemblyInfo\AssemblyKeys.cs
internal

 
static

	 
class

 
AssemblyRef

 !
{ 
internal 
const 
string 
ProductPublicKey *
=+ ,
$str	- û
;
û ü
internal 
const 
string 
TestPublicKey '
=( )
$str	* ø
;
ø ù
internal 
const 
string !
ProductPublicKeyToken /
=0 1
$str2 D
;D E
}++ „b
7D:\odata.net\src\Microsoft.Spatial\Microsoft.Spatial.cs
	namespace

 	
	Microsoft


 
.

 
Spatial

 
{

 
internalGG 
sealedGG 
classGG 
TextResGG !
{GG" #
internalHH 
constHH 
stringHH 8
,SpatialImplementation_NoRegisteredOperationsHH J
=HHK L
$strHHM {
;HH{ |
internalII 
constII 
stringII "
InvalidPointCoordinateII 4
=II5 6
$strII7 O
;IIO P
internalJJ 
constJJ 
stringJJ +
Point_AccessCoordinateWhenEmptyJJ =
=JJ> ?
$strJJ@ a
;JJa b
internalKK 
constKK 
stringKK 2
&SpatialBuilder_CannotCreateBeforeDrawnKK D
=KKE F
$strKKG o
;KKo p
internalLL 
constLL 
stringLL '
GmlReader_UnexpectedElementLL 9
=LL: ;
$strLL< Y
;LLY Z
internalMM 
constMM 
stringMM +
GmlReader_ExpectReaderAtElementMM =
=MM> ?
$strMM@ a
;MMa b
internalNN 
constNN 
stringNN (
GmlReader_InvalidSpatialTypeNN :
=NN; <
$strNN= [
;NN[ \
internalOO 
constOO 
stringOO *
GmlReader_EmptyRingsNotAllowedOO <
=OO= >
$strOO? _
;OO_ `
internalPP 
constPP 
stringPP '
GmlReader_PosNeedTwoNumbersPP 9
=PP: ;
$strPP< Y
;PPY Z
internalQQ 
constQQ 
stringQQ +
GmlReader_PosListNeedsEvenCountQQ =
=QQ> ?
$strQQ@ a
;QQa b
internalRR 
constRR 
stringRR $
GmlReader_InvalidSrsNameRR 6
=RR7 8
$strRR9 S
;RRS T
internalSS 
constSS 
stringSS &
GmlReader_InvalidAttributeSS 8
=SS9 :
$strSS; W
;SSW X
internalTT 
constTT 
stringTT )
WellKnownText_UnexpectedTokenTT ;
=TT< =
$strTT> ]
;TT] ^
internalUU 
constUU 
stringUU -
!WellKnownText_UnexpectedCharacterUU ?
=UU@ A
$strUUB e
;UUe f
internalVV 
constVV 
stringVV +
WellKnownText_UnknownTaggedTextVV =
=VV> ?
$strVV@ a
;VVa b
internalWW 
constWW 
stringWW +
WellKnownText_TooManyDimensionsWW =
=WW> ?
$strWW@ a
;WWa b
internalXX 
constXX 
stringXX "
Validator_SridMismatchXX 4
=XX5 6
$strXX7 O
;XXO P
internalYY 
constYY 
stringYY !
Validator_InvalidTypeYY 3
=YY4 5
$strYY6 M
;YYM N
internalZZ 
constZZ 
stringZZ +
Validator_FullGlobeInCollectionZZ =
=ZZ> ?
$strZZ@ a
;ZZa b
internal[[ 
const[[ 
string[[ .
"Validator_LineStringNeedsTwoPoints[[ @
=[[A B
$str[[C g
;[[g h
internal\\ 
const\\ 
string\\ 1
%Validator_FullGlobeCannotHaveElements\\ C
=\\D E
$str\\F m
;\\m n
internal]] 
const]] 
string]] %
Validator_NestingOverflow]] 7
=]]8 9
$str]]: U
;]]U V
internal^^ 
const^^ 
string^^ ,
 Validator_InvalidPointCoordinate^^ >
=^^? @
$str^^A c
;^^c d
internal__ 
const__ 
string__ $
Validator_UnexpectedCall__ 6
=__7 8
$str__9 S
;__S T
internal`` 
const`` 
string`` %
Validator_UnexpectedCall2`` 7
=``8 9
$str``: U
;``U V
internalaa 
constaa 
stringaa *
Validator_InvalidPolygonPointsaa <
=aa= >
$straa? _
;aa_ `
internalbb 
constbb 
stringbb /
#Validator_InvalidLatitudeCoordinatebb A
=bbB C
$strbbD i
;bbi j
internalcc 
constcc 
stringcc 0
$Validator_InvalidLongitudeCoordinatecc B
=ccC D
$strccE k
;cck l
internaldd 
constdd 
stringdd )
Validator_UnexpectedGeographydd ;
=dd< =
$strdd> ]
;dd] ^
internalee 
constee 
stringee (
Validator_UnexpectedGeometryee :
=ee; <
$stree= [
;ee[ \
internalff 
constff 
stringff /
#GeoJsonReader_MissingRequiredMemberff A
=ffB C
$strffD i
;ffi j
internalgg 
constgg 
stringgg )
GeoJsonReader_InvalidPositiongg ;
=gg< =
$strgg> ]
;gg] ^
internalhh 
consthh 
stringhh )
GeoJsonReader_InvalidTypeNamehh ;
=hh< =
$strhh> ]
;hh] ^
internalii 
constii 
stringii ,
 GeoJsonReader_InvalidNullElementii >
=ii? @
$striiA c
;iic d
internaljj 
constjj 
stringjj )
GeoJsonReader_ExpectedNumericjj ;
=jj< =
$strjj> ]
;jj] ^
internalkk 
constkk 
stringkk '
GeoJsonReader_ExpectedArraykk 9
=kk: ;
$strkk< Y
;kkY Z
internalll 
constll 
stringll (
GeoJsonReader_InvalidCrsTypell :
=ll; <
$strll= [
;ll[ \
internalmm 
constmm 
stringmm (
GeoJsonReader_InvalidCrsNamemm :
=mm; <
$strmm= [
;mm[ \
internalnn 
constnn 
stringnn @
4JsonReaderExtensions_CannotReadPropertyValueAsStringnn R
=nnS T
$str	nnU ‹
;
nn‹ Œ
internaloo 
constoo 
stringoo <
0JsonReaderExtensions_CannotReadValueAsJsonObjectoo N
=ooO P
$str	ooQ ƒ
;
ooƒ „
internalpp 
constpp 
stringpp <
0PlatformHelper_DateTimeOffsetMustContainTimeZonepp N
=ppO P
$str	ppQ ƒ
;
ppƒ „
staticrr 
TextResrr 
loaderrr 
=rr 
nullrr  $
;rr$ %
ResourceManagerss 
	resourcesss !
;ss! "
internaluu 
TextResuu 
(uu 
)uu 
{uu 
	resourcesyy 
=yy 
newyy 
Systemyy "
.yy" #
	Resourcesyy# ,
.yy, -
ResourceManageryy- <
(yy< =
$stryy= P
,yyP Q
thisyyR V
.yyV W
GetTypeyyW ^
(yy^ _
)yy_ `
.yy` a
GetTypeInfoyya l
(yyl m
)yym n
.yyn o
Assemblyyyo w
)yyw x
;yyx y
}{{ 	
private}} 
static}} 
TextRes}} 
	GetLoader}} (
(}}( )
)}}) *
{}}+ ,
if~~ 
(~~ 
loader~~ 
==~~ 
null~~ 
)~~ 
{~~  !
TextRes 
sr 
= 
new  
TextRes! (
(( )
)) *
;* +
Interlocked
€€ 
.
€€ 
CompareExchange
€€ +
(
€€+ ,
ref
€€, /
loader
€€0 6
,
€€6 7
sr
€€8 :
,
€€: ;
null
€€< @
)
€€@ A
;
€€A B
}
 
return
‚‚ 
loader
‚‚ 
;
‚‚ 
}
ƒƒ 	
private
…… 
static
…… 
CultureInfo
…… "
Culture
……# *
{
……+ ,
get
†† 
{
†† 
return
†† 
null
†† 
;
††Z [
}
††\ ]
}
‡‡ 	
public
‰‰ 
static
‰‰ 
ResourceManager
‰‰ %
	Resources
‰‰& /
{
‰‰0 1
get
ŠŠ 
{
ŠŠ 
return
‹‹ 
	GetLoader
‹‹  
(
‹‹  !
)
‹‹! "
.
‹‹" #
	resources
‹‹# ,
;
‹‹, -
}
ŒŒ 
}
 	
public
 
static
 
string
 
	GetString
 &
(
& '
string
' -
name
. 2
,
2 3
params
4 :
object
; A
[
A B
]
B C
args
D H
)
H I
{
J K
TextRes
 
sys
 
=
 
	GetLoader
 #
(
# $
)
$ %
;
% &
if
‘‘ 
(
‘‘ 
sys
‘‘ 
==
‘‘ 
null
‘‘ 
)
‘‘ 
return
’’ 
null
’’ 
;
’’ 
string
““ 
res
““ 
=
““ 
sys
““ 
.
““ 
	resources
““ &
.
““& '
	GetString
““' 0
(
““0 1
name
““1 5
,
““5 6
TextRes
““7 >
.
““> ?
Culture
““? F
)
““F G
;
““G H
if
•• 
(
•• 
args
•• 
!=
•• 
null
•• 
&&
•• 
args
••  $
.
••$ %
Length
••% +
>
••, -
$num
••. /
)
••/ 0
{
••1 2
for
–– 
(
–– 
int
–– 
i
–– 
=
–– 
$num
–– 
;
–– 
i
––  !
<
––" #
args
––$ (
.
––( )
Length
––) /
;
––/ 0
i
––1 2
++
––3 5
)
––5 6
{
––7 8
String
—— 
value
——  
=
——! "
args
——# '
[
——' (
i
——( )
]
——) *
as
——+ -
String
——. 4
;
——4 5
if
˜˜ 
(
˜˜ 
value
˜˜ 
!=
˜˜  
null
˜˜! %
&&
˜˜& (
value
˜˜) .
.
˜˜. /
Length
˜˜/ 5
>
˜˜6 7
$num
˜˜8 <
)
˜˜< =
{
˜˜> ?
args
™™ 
[
™™ 
i
™™ 
]
™™ 
=
™™  !
value
™™" '
.
™™' (
	Substring
™™( 1
(
™™1 2
$num
™™2 3
,
™™3 4
$num
™™5 9
-
™™: ;
$num
™™< =
)
™™= >
+
™™? @
$str
™™A F
;
™™F G
}
šš 
}
›› 
return
œœ 
String
œœ 
.
œœ 
Format
œœ $
(
œœ$ %
CultureInfo
œœ% 0
.
œœ0 1
CurrentCulture
œœ1 ?
,
œœ? @
res
œœA D
,
œœD E
args
œœF J
)
œœJ K
;
œœK L
}
 
else
 
{
 
return
ŸŸ 
res
ŸŸ 
;
ŸŸ 
}
   
}
¡¡ 	
public
££ 
static
££ 
string
££ 
	GetString
££ &
(
££& '
string
££' -
name
££. 2
)
££2 3
{
££4 5
TextRes
¤¤ 
sys
¤¤ 
=
¤¤ 
	GetLoader
¤¤ #
(
¤¤# $
)
¤¤$ %
;
¤¤% &
if
¥¥ 
(
¥¥ 
sys
¥¥ 
==
¥¥ 
null
¥¥ 
)
¥¥ 
return
¦¦ 
null
¦¦ 
;
¦¦ 
return
§§ 
sys
§§ 
.
§§ 
	resources
§§  
.
§§  !
	GetString
§§! *
(
§§* +
name
§§+ /
,
§§/ 0
TextRes
§§1 8
.
§§8 9
Culture
§§9 @
)
§§@ A
;
§§A B
}
¨¨ 	
public
ªª 
static
ªª 
string
ªª 
	GetString
ªª &
(
ªª& '
string
ªª' -
name
ªª. 2
,
ªª2 3
out
ªª4 7
bool
ªª8 <
usedFallback
ªª= I
)
ªªI J
{
ªªK L
usedFallback
¬¬ 
=
¬¬ 
false
¬¬  
;
¬¬  !
return
­­ 
	GetString
­­ 
(
­­ 
name
­­ !
)
­­! "
;
­­" #
}
®® 	
}
·· 
}¸¸ ÔÖ
ED:\odata.net\src\Microsoft.Spatial\Parameterized.Microsoft.Spatial.cs
	namespace

 	
	Microsoft


 
.

 
Spatial

 
{

 
internal 
static 
class 
Strings !
{" #
internal 
static 
string 8
,SpatialImplementation_NoRegisteredOperations K
{L M
get 
{ 
return 
	Microsoft  
.  !
Spatial! (
.( )
TextRes) 0
.0 1
	GetString1 :
(: ;
	Microsoft; D
.D E
SpatialE L
.L M
TextResM T
.T U9
,SpatialImplementation_NoRegisteredOperations	U 
)
 ‚
;
‚ ƒ
} 
} 	
internal 
static 
string "
InvalidPointCoordinate 5
(5 6
object6 <
p0= ?
,? @
objectA G
p1H J
)J K
{L M
return 
	Microsoft 
. 
Spatial $
.$ %
TextRes% ,
., -
	GetString- 6
(6 7
	Microsoft7 @
.@ A
SpatialA H
.H I
TextResI P
.P Q"
InvalidPointCoordinateQ g
,g h
p0i k
,k l
p1m o
)o p
;p q
}   	
internal%% 
static%% 
string%% +
Point_AccessCoordinateWhenEmpty%% >
{%%? @
get&& 
{&& 
return'' 
	Microsoft''  
.''  !
Spatial''! (
.''( )
TextRes'') 0
.''0 1
	GetString''1 :
('': ;
	Microsoft''; D
.''D E
Spatial''E L
.''L M
TextRes''M T
.''T U+
Point_AccessCoordinateWhenEmpty''U t
)''t u
;''u v
}(( 
})) 	
internal.. 
static.. 
string.. 2
&SpatialBuilder_CannotCreateBeforeDrawn.. E
{..F G
get// 
{// 
return00 
	Microsoft00  
.00  !
Spatial00! (
.00( )
TextRes00) 0
.000 1
	GetString001 :
(00: ;
	Microsoft00; D
.00D E
Spatial00E L
.00L M
TextRes00M T
.00T U2
&SpatialBuilder_CannotCreateBeforeDrawn00U {
)00{ |
;00| }
}11 
}22 	
internal77 
static77 
string77 '
GmlReader_UnexpectedElement77 :
(77: ;
object77; A
p077B D
)77D E
{77F G
return88 
	Microsoft88 
.88 
Spatial88 $
.88$ %
TextRes88% ,
.88, -
	GetString88- 6
(886 7
	Microsoft887 @
.88@ A
Spatial88A H
.88H I
TextRes88I P
.88P Q'
GmlReader_UnexpectedElement88Q l
,88l m
p088n p
)88p q
;88q r
}99 	
internal>> 
static>> 
string>> +
GmlReader_ExpectReaderAtElement>> >
{>>? @
get?? 
{?? 
return@@ 
	Microsoft@@  
.@@  !
Spatial@@! (
.@@( )
TextRes@@) 0
.@@0 1
	GetString@@1 :
(@@: ;
	Microsoft@@; D
.@@D E
Spatial@@E L
.@@L M
TextRes@@M T
.@@T U+
GmlReader_ExpectReaderAtElement@@U t
)@@t u
;@@u v
}AA 
}BB 	
internalGG 
staticGG 
stringGG (
GmlReader_InvalidSpatialTypeGG ;
(GG; <
objectGG< B
p0GGC E
)GGE F
{GGG H
returnHH 
	MicrosoftHH 
.HH 
SpatialHH $
.HH$ %
TextResHH% ,
.HH, -
	GetStringHH- 6
(HH6 7
	MicrosoftHH7 @
.HH@ A
SpatialHHA H
.HHH I
TextResHHI P
.HHP Q(
GmlReader_InvalidSpatialTypeHHQ m
,HHm n
p0HHo q
)HHq r
;HHr s
}II 	
internalNN 
staticNN 
stringNN *
GmlReader_EmptyRingsNotAllowedNN =
{NN> ?
getOO 
{OO 
returnPP 
	MicrosoftPP  
.PP  !
SpatialPP! (
.PP( )
TextResPP) 0
.PP0 1
	GetStringPP1 :
(PP: ;
	MicrosoftPP; D
.PPD E
SpatialPPE L
.PPL M
TextResPPM T
.PPT U*
GmlReader_EmptyRingsNotAllowedPPU s
)PPs t
;PPt u
}QQ 
}RR 	
internalWW 
staticWW 
stringWW '
GmlReader_PosNeedTwoNumbersWW :
{WW; <
getXX 
{XX 
returnYY 
	MicrosoftYY  
.YY  !
SpatialYY! (
.YY( )
TextResYY) 0
.YY0 1
	GetStringYY1 :
(YY: ;
	MicrosoftYY; D
.YYD E
SpatialYYE L
.YYL M
TextResYYM T
.YYT U'
GmlReader_PosNeedTwoNumbersYYU p
)YYp q
;YYq r
}ZZ 
}[[ 	
internal`` 
static`` 
string`` +
GmlReader_PosListNeedsEvenCount`` >
{``? @
getaa 
{aa 
returnbb 
	Microsoftbb  
.bb  !
Spatialbb! (
.bb( )
TextResbb) 0
.bb0 1
	GetStringbb1 :
(bb: ;
	Microsoftbb; D
.bbD E
SpatialbbE L
.bbL M
TextResbbM T
.bbT U+
GmlReader_PosListNeedsEvenCountbbU t
)bbt u
;bbu v
}cc 
}dd 	
internalii 
staticii 
stringii $
GmlReader_InvalidSrsNameii 7
(ii7 8
objectii8 >
p0ii? A
)iiA B
{iiC D
returnjj 
	Microsoftjj 
.jj 
Spatialjj $
.jj$ %
TextResjj% ,
.jj, -
	GetStringjj- 6
(jj6 7
	Microsoftjj7 @
.jj@ A
SpatialjjA H
.jjH I
TextResjjI P
.jjP Q$
GmlReader_InvalidSrsNamejjQ i
,jji j
p0jjk m
)jjm n
;jjn o
}kk 	
internalpp 
staticpp 
stringpp &
GmlReader_InvalidAttributepp 9
(pp9 :
objectpp: @
p0ppA C
,ppC D
objectppE K
p1ppL N
)ppN O
{ppP Q
returnqq 
	Microsoftqq 
.qq 
Spatialqq $
.qq$ %
TextResqq% ,
.qq, -
	GetStringqq- 6
(qq6 7
	Microsoftqq7 @
.qq@ A
SpatialqqA H
.qqH I
TextResqqI P
.qqP Q&
GmlReader_InvalidAttributeqqQ k
,qqk l
p0qqm o
,qqo p
p1qqq s
)qqs t
;qqt u
}rr 	
internalww 
staticww 
stringww )
WellKnownText_UnexpectedTokenww <
(ww< =
objectww= C
p0wwD F
,wwF G
objectwwH N
p1wwO Q
,wwQ R
objectwwS Y
p2wwZ \
)ww\ ]
{ww^ _
returnxx 
	Microsoftxx 
.xx 
Spatialxx $
.xx$ %
TextResxx% ,
.xx, -
	GetStringxx- 6
(xx6 7
	Microsoftxx7 @
.xx@ A
SpatialxxA H
.xxH I
TextResxxI P
.xxP Q)
WellKnownText_UnexpectedTokenxxQ n
,xxn o
p0xxp r
,xxr s
p1xxt v
,xxv w
p2xxx z
)xxz {
;xx{ |
}yy 	
internal~~ 
static~~ 
string~~ -
!WellKnownText_UnexpectedCharacter~~ @
(~~@ A
object~~A G
p0~~H J
)~~J K
{~~L M
return 
	Microsoft 
. 
Spatial $
.$ %
TextRes% ,
., -
	GetString- 6
(6 7
	Microsoft7 @
.@ A
SpatialA H
.H I
TextResI P
.P Q-
!WellKnownText_UnexpectedCharacterQ r
,r s
p0t v
)v w
;w x
}
€€ 	
internal
…… 
static
…… 
string
…… -
WellKnownText_UnknownTaggedText
…… >
(
……> ?
object
……? E
p0
……F H
)
……H I
{
……J K
return
†† 
	Microsoft
†† 
.
†† 
Spatial
†† $
.
††$ %
TextRes
††% ,
.
††, -
	GetString
††- 6
(
††6 7
	Microsoft
††7 @
.
††@ A
Spatial
††A H
.
††H I
TextRes
††I P
.
††P Q-
WellKnownText_UnknownTaggedText
††Q p
,
††p q
p0
††r t
)
††t u
;
††u v
}
‡‡ 	
internal
ŒŒ 
static
ŒŒ 
string
ŒŒ -
WellKnownText_TooManyDimensions
ŒŒ >
{
ŒŒ? @
get
 
{
 
return
 
	Microsoft
  
.
  !
Spatial
! (
.
( )
TextRes
) 0
.
0 1
	GetString
1 :
(
: ;
	Microsoft
; D
.
D E
Spatial
E L
.
L M
TextRes
M T
.
T U-
WellKnownText_TooManyDimensions
U t
)
t u
;
u v
}
 
}
 	
internal
•• 
static
•• 
string
•• $
Validator_SridMismatch
•• 5
{
••6 7
get
–– 
{
–– 
return
—— 
	Microsoft
——  
.
——  !
Spatial
——! (
.
——( )
TextRes
——) 0
.
——0 1
	GetString
——1 :
(
——: ;
	Microsoft
——; D
.
——D E
Spatial
——E L
.
——L M
TextRes
——M T
.
——T U$
Validator_SridMismatch
——U k
)
——k l
;
——l m
}
˜˜ 
}
™™ 	
internal
 
static
 
string
 #
Validator_InvalidType
 4
(
4 5
object
5 ;
p0
< >
)
> ?
{
@ A
return
ŸŸ 
	Microsoft
ŸŸ 
.
ŸŸ 
Spatial
ŸŸ $
.
ŸŸ$ %
TextRes
ŸŸ% ,
.
ŸŸ, -
	GetString
ŸŸ- 6
(
ŸŸ6 7
	Microsoft
ŸŸ7 @
.
ŸŸ@ A
Spatial
ŸŸA H
.
ŸŸH I
TextRes
ŸŸI P
.
ŸŸP Q#
Validator_InvalidType
ŸŸQ f
,
ŸŸf g
p0
ŸŸh j
)
ŸŸj k
;
ŸŸk l
}
   	
internal
¥¥ 
static
¥¥ 
string
¥¥ -
Validator_FullGlobeInCollection
¥¥ >
{
¥¥? @
get
¦¦ 
{
¦¦ 
return
§§ 
	Microsoft
§§  
.
§§  !
Spatial
§§! (
.
§§( )
TextRes
§§) 0
.
§§0 1
	GetString
§§1 :
(
§§: ;
	Microsoft
§§; D
.
§§D E
Spatial
§§E L
.
§§L M
TextRes
§§M T
.
§§T U-
Validator_FullGlobeInCollection
§§U t
)
§§t u
;
§§u v
}
¨¨ 
}
©© 	
internal
®® 
static
®® 
string
®® 0
"Validator_LineStringNeedsTwoPoints
®® A
{
®®B C
get
¯¯ 
{
¯¯ 
return
°° 
	Microsoft
°°  
.
°°  !
Spatial
°°! (
.
°°( )
TextRes
°°) 0
.
°°0 1
	GetString
°°1 :
(
°°: ;
	Microsoft
°°; D
.
°°D E
Spatial
°°E L
.
°°L M
TextRes
°°M T
.
°°T U0
"Validator_LineStringNeedsTwoPoints
°°U w
)
°°w x
;
°°x y
}
±± 
}
²² 	
internal
·· 
static
·· 
string
·· 3
%Validator_FullGlobeCannotHaveElements
·· D
{
··E F
get
¸¸ 
{
¸¸ 
return
¹¹ 
	Microsoft
¹¹  
.
¹¹  !
Spatial
¹¹! (
.
¹¹( )
TextRes
¹¹) 0
.
¹¹0 1
	GetString
¹¹1 :
(
¹¹: ;
	Microsoft
¹¹; D
.
¹¹D E
Spatial
¹¹E L
.
¹¹L M
TextRes
¹¹M T
.
¹¹T U3
%Validator_FullGlobeCannotHaveElements
¹¹U z
)
¹¹z {
;
¹¹{ |
}
ºº 
}
»» 	
internal
ÀÀ 
static
ÀÀ 
string
ÀÀ '
Validator_NestingOverflow
ÀÀ 8
(
ÀÀ8 9
object
ÀÀ9 ?
p0
ÀÀ@ B
)
ÀÀB C
{
ÀÀD E
return
ÁÁ 
	Microsoft
ÁÁ 
.
ÁÁ 
Spatial
ÁÁ $
.
ÁÁ$ %
TextRes
ÁÁ% ,
.
ÁÁ, -
	GetString
ÁÁ- 6
(
ÁÁ6 7
	Microsoft
ÁÁ7 @
.
ÁÁ@ A
Spatial
ÁÁA H
.
ÁÁH I
TextRes
ÁÁI P
.
ÁÁP Q'
Validator_NestingOverflow
ÁÁQ j
,
ÁÁj k
p0
ÁÁl n
)
ÁÁn o
;
ÁÁo p
}
ÂÂ 	
internal
ÇÇ 
static
ÇÇ 
string
ÇÇ .
 Validator_InvalidPointCoordinate
ÇÇ ?
(
ÇÇ? @
object
ÇÇ@ F
p0
ÇÇG I
,
ÇÇI J
object
ÇÇK Q
p1
ÇÇR T
,
ÇÇT U
object
ÇÇV \
p2
ÇÇ] _
,
ÇÇ_ `
object
ÇÇa g
p3
ÇÇh j
)
ÇÇj k
{
ÇÇl m
return
ÈÈ 
	Microsoft
ÈÈ 
.
ÈÈ 
Spatial
ÈÈ $
.
ÈÈ$ %
TextRes
ÈÈ% ,
.
ÈÈ, -
	GetString
ÈÈ- 6
(
ÈÈ6 7
	Microsoft
ÈÈ7 @
.
ÈÈ@ A
Spatial
ÈÈA H
.
ÈÈH I
TextRes
ÈÈI P
.
ÈÈP Q.
 Validator_InvalidPointCoordinate
ÈÈQ q
,
ÈÈq r
p0
ÈÈs u
,
ÈÈu v
p1
ÈÈw y
,
ÈÈy z
p2
ÈÈ{ }
,
ÈÈ} ~
p3ÈÈ 
)ÈÈ ‚
;ÈÈ‚ ƒ
}
ÉÉ 	
internal
ÎÎ 
static
ÎÎ 
string
ÎÎ &
Validator_UnexpectedCall
ÎÎ 7
(
ÎÎ7 8
object
ÎÎ8 >
p0
ÎÎ? A
,
ÎÎA B
object
ÎÎC I
p1
ÎÎJ L
)
ÎÎL M
{
ÎÎN O
return
ÏÏ 
	Microsoft
ÏÏ 
.
ÏÏ 
Spatial
ÏÏ $
.
ÏÏ$ %
TextRes
ÏÏ% ,
.
ÏÏ, -
	GetString
ÏÏ- 6
(
ÏÏ6 7
	Microsoft
ÏÏ7 @
.
ÏÏ@ A
Spatial
ÏÏA H
.
ÏÏH I
TextRes
ÏÏI P
.
ÏÏP Q&
Validator_UnexpectedCall
ÏÏQ i
,
ÏÏi j
p0
ÏÏk m
,
ÏÏm n
p1
ÏÏo q
)
ÏÏq r
;
ÏÏr s
}
ĞĞ 	
internal
ÕÕ 
static
ÕÕ 
string
ÕÕ '
Validator_UnexpectedCall2
ÕÕ 8
(
ÕÕ8 9
object
ÕÕ9 ?
p0
ÕÕ@ B
,
ÕÕB C
object
ÕÕD J
p1
ÕÕK M
,
ÕÕM N
object
ÕÕO U
p2
ÕÕV X
)
ÕÕX Y
{
ÕÕZ [
return
ÖÖ 
	Microsoft
ÖÖ 
.
ÖÖ 
Spatial
ÖÖ $
.
ÖÖ$ %
TextRes
ÖÖ% ,
.
ÖÖ, -
	GetString
ÖÖ- 6
(
ÖÖ6 7
	Microsoft
ÖÖ7 @
.
ÖÖ@ A
Spatial
ÖÖA H
.
ÖÖH I
TextRes
ÖÖI P
.
ÖÖP Q'
Validator_UnexpectedCall2
ÖÖQ j
,
ÖÖj k
p0
ÖÖl n
,
ÖÖn o
p1
ÖÖp r
,
ÖÖr s
p2
ÖÖt v
)
ÖÖv w
;
ÖÖw x
}
×× 	
internal
ÜÜ 
static
ÜÜ 
string
ÜÜ ,
Validator_InvalidPolygonPoints
ÜÜ =
{
ÜÜ> ?
get
İİ 
{
İİ 
return
ŞŞ 
	Microsoft
ŞŞ  
.
ŞŞ  !
Spatial
ŞŞ! (
.
ŞŞ( )
TextRes
ŞŞ) 0
.
ŞŞ0 1
	GetString
ŞŞ1 :
(
ŞŞ: ;
	Microsoft
ŞŞ; D
.
ŞŞD E
Spatial
ŞŞE L
.
ŞŞL M
TextRes
ŞŞM T
.
ŞŞT U,
Validator_InvalidPolygonPoints
ŞŞU s
)
ŞŞs t
;
ŞŞt u
}
ßß 
}
àà 	
internal
åå 
static
åå 
string
åå 1
#Validator_InvalidLatitudeCoordinate
åå B
(
ååB C
object
ååC I
p0
ååJ L
)
ååL M
{
ååN O
return
ææ 
	Microsoft
ææ 
.
ææ 
Spatial
ææ $
.
ææ$ %
TextRes
ææ% ,
.
ææ, -
	GetString
ææ- 6
(
ææ6 7
	Microsoft
ææ7 @
.
ææ@ A
Spatial
ææA H
.
ææH I
TextRes
ææI P
.
ææP Q1
#Validator_InvalidLatitudeCoordinate
ææQ t
,
ææt u
p0
ææv x
)
ææx y
;
ææy z
}
çç 	
internal
ìì 
static
ìì 
string
ìì 2
$Validator_InvalidLongitudeCoordinate
ìì C
(
ììC D
object
ììD J
p0
ììK M
)
ììM N
{
ììO P
return
íí 
	Microsoft
íí 
.
íí 
Spatial
íí $
.
íí$ %
TextRes
íí% ,
.
íí, -
	GetString
íí- 6
(
íí6 7
	Microsoft
íí7 @
.
íí@ A
Spatial
ííA H
.
ííH I
TextRes
ííI P
.
ííP Q2
$Validator_InvalidLongitudeCoordinate
ííQ u
,
ííu v
p0
ííw y
)
ííy z
;
ííz {
}
îî 	
internal
óó 
static
óó 
string
óó +
Validator_UnexpectedGeography
óó <
{
óó= >
get
ôô 
{
ôô 
return
õõ 
	Microsoft
õõ  
.
õõ  !
Spatial
õõ! (
.
õõ( )
TextRes
õõ) 0
.
õõ0 1
	GetString
õõ1 :
(
õõ: ;
	Microsoft
õõ; D
.
õõD E
Spatial
õõE L
.
õõL M
TextRes
õõM T
.
õõT U+
Validator_UnexpectedGeography
õõU r
)
õõr s
;
õõs t
}
öö 
}
÷÷ 	
internal
üü 
static
üü 
string
üü *
Validator_UnexpectedGeometry
üü ;
{
üü< =
get
ıı 
{
ıı 
return
şş 
	Microsoft
şş  
.
şş  !
Spatial
şş! (
.
şş( )
TextRes
şş) 0
.
şş0 1
	GetString
şş1 :
(
şş: ;
	Microsoft
şş; D
.
şşD E
Spatial
şşE L
.
şşL M
TextRes
şşM T
.
şşT U*
Validator_UnexpectedGeometry
şşU q
)
şşq r
;
şşr s
}
ÿÿ 
}
€€ 	
internal
…… 
static
…… 
string
…… 1
#GeoJsonReader_MissingRequiredMember
…… B
(
……B C
object
……C I
p0
……J L
)
……L M
{
……N O
return
†† 
	Microsoft
†† 
.
†† 
Spatial
†† $
.
††$ %
TextRes
††% ,
.
††, -
	GetString
††- 6
(
††6 7
	Microsoft
††7 @
.
††@ A
Spatial
††A H
.
††H I
TextRes
††I P
.
††P Q1
#GeoJsonReader_MissingRequiredMember
††Q t
,
††t u
p0
††v x
)
††x y
;
††y z
}
‡‡ 	
internal
ŒŒ 
static
ŒŒ 
string
ŒŒ +
GeoJsonReader_InvalidPosition
ŒŒ <
{
ŒŒ= >
get
 
{
 
return
 
	Microsoft
  
.
  !
Spatial
! (
.
( )
TextRes
) 0
.
0 1
	GetString
1 :
(
: ;
	Microsoft
; D
.
D E
Spatial
E L
.
L M
TextRes
M T
.
T U+
GeoJsonReader_InvalidPosition
U r
)
r s
;
s t
}
 
}
 	
internal
•• 
static
•• 
string
•• +
GeoJsonReader_InvalidTypeName
•• <
(
••< =
object
••= C
p0
••D F
)
••F G
{
••H I
return
–– 
	Microsoft
–– 
.
–– 
Spatial
–– $
.
––$ %
TextRes
––% ,
.
––, -
	GetString
––- 6
(
––6 7
	Microsoft
––7 @
.
––@ A
Spatial
––A H
.
––H I
TextRes
––I P
.
––P Q+
GeoJsonReader_InvalidTypeName
––Q n
,
––n o
p0
––p r
)
––r s
;
––s t
}
—— 	
internal
œœ 
static
œœ 
string
œœ .
 GeoJsonReader_InvalidNullElement
œœ ?
{
œœ@ A
get
 
{
 
return
 
	Microsoft
  
.
  !
Spatial
! (
.
( )
TextRes
) 0
.
0 1
	GetString
1 :
(
: ;
	Microsoft
; D
.
D E
Spatial
E L
.
L M
TextRes
M T
.
T U.
 GeoJsonReader_InvalidNullElement
U u
)
u v
;
v w
}
ŸŸ 
}
   	
internal
¥¥ 
static
¥¥ 
string
¥¥ +
GeoJsonReader_ExpectedNumeric
¥¥ <
{
¥¥= >
get
¦¦ 
{
¦¦ 
return
§§ 
	Microsoft
§§  
.
§§  !
Spatial
§§! (
.
§§( )
TextRes
§§) 0
.
§§0 1
	GetString
§§1 :
(
§§: ;
	Microsoft
§§; D
.
§§D E
Spatial
§§E L
.
§§L M
TextRes
§§M T
.
§§T U+
GeoJsonReader_ExpectedNumeric
§§U r
)
§§r s
;
§§s t
}
¨¨ 
}
©© 	
internal
®® 
static
®® 
string
®® )
GeoJsonReader_ExpectedArray
®® :
{
®®; <
get
¯¯ 
{
¯¯ 
return
°° 
	Microsoft
°°  
.
°°  !
Spatial
°°! (
.
°°( )
TextRes
°°) 0
.
°°0 1
	GetString
°°1 :
(
°°: ;
	Microsoft
°°; D
.
°°D E
Spatial
°°E L
.
°°L M
TextRes
°°M T
.
°°T U)
GeoJsonReader_ExpectedArray
°°U p
)
°°p q
;
°°q r
}
±± 
}
²² 	
internal
·· 
static
·· 
string
·· *
GeoJsonReader_InvalidCrsType
·· ;
(
··; <
object
··< B
p0
··C E
)
··E F
{
··G H
return
¸¸ 
	Microsoft
¸¸ 
.
¸¸ 
Spatial
¸¸ $
.
¸¸$ %
TextRes
¸¸% ,
.
¸¸, -
	GetString
¸¸- 6
(
¸¸6 7
	Microsoft
¸¸7 @
.
¸¸@ A
Spatial
¸¸A H
.
¸¸H I
TextRes
¸¸I P
.
¸¸P Q*
GeoJsonReader_InvalidCrsType
¸¸Q m
,
¸¸m n
p0
¸¸o q
)
¸¸q r
;
¸¸r s
}
¹¹ 	
internal
¾¾ 
static
¾¾ 
string
¾¾ *
GeoJsonReader_InvalidCrsName
¾¾ ;
(
¾¾; <
object
¾¾< B
p0
¾¾C E
)
¾¾E F
{
¾¾G H
return
¿¿ 
	Microsoft
¿¿ 
.
¿¿ 
Spatial
¿¿ $
.
¿¿$ %
TextRes
¿¿% ,
.
¿¿, -
	GetString
¿¿- 6
(
¿¿6 7
	Microsoft
¿¿7 @
.
¿¿@ A
Spatial
¿¿A H
.
¿¿H I
TextRes
¿¿I P
.
¿¿P Q*
GeoJsonReader_InvalidCrsName
¿¿Q m
,
¿¿m n
p0
¿¿o q
)
¿¿q r
;
¿¿r s
}
ÀÀ 	
internal
ÅÅ 
static
ÅÅ 
string
ÅÅ B
4JsonReaderExtensions_CannotReadPropertyValueAsString
ÅÅ S
(
ÅÅS T
object
ÅÅT Z
p0
ÅÅ[ ]
,
ÅÅ] ^
object
ÅÅ_ e
p1
ÅÅf h
)
ÅÅh i
{
ÅÅj k
return
ÆÆ 
	Microsoft
ÆÆ 
.
ÆÆ 
Spatial
ÆÆ $
.
ÆÆ$ %
TextRes
ÆÆ% ,
.
ÆÆ, -
	GetString
ÆÆ- 6
(
ÆÆ6 7
	Microsoft
ÆÆ7 @
.
ÆÆ@ A
Spatial
ÆÆA H
.
ÆÆH I
TextRes
ÆÆI P
.
ÆÆP QC
4JsonReaderExtensions_CannotReadPropertyValueAsStringÆÆQ …
,ÆÆ… †
p0ÆÆ‡ ‰
,ÆÆ‰ Š
p1ÆÆ‹ 
)ÆÆ 
;ÆÆ 
}
ÇÇ 	
internal
ÌÌ 
static
ÌÌ 
string
ÌÌ >
0JsonReaderExtensions_CannotReadValueAsJsonObject
ÌÌ O
(
ÌÌO P
object
ÌÌP V
p0
ÌÌW Y
)
ÌÌY Z
{
ÌÌ[ \
return
ÍÍ 
	Microsoft
ÍÍ 
.
ÍÍ 
Spatial
ÍÍ $
.
ÍÍ$ %
TextRes
ÍÍ% ,
.
ÍÍ, -
	GetString
ÍÍ- 6
(
ÍÍ6 7
	Microsoft
ÍÍ7 @
.
ÍÍ@ A
Spatial
ÍÍA H
.
ÍÍH I
TextRes
ÍÍI P
.
ÍÍP Q?
0JsonReaderExtensions_CannotReadValueAsJsonObjectÍÍQ 
,ÍÍ ‚
p0ÍÍƒ …
)ÍÍ… †
;ÍÍ† ‡
}
ÎÎ 	
internal
ÓÓ 
static
ÓÓ 
string
ÓÓ >
0PlatformHelper_DateTimeOffsetMustContainTimeZone
ÓÓ O
(
ÓÓO P
object
ÓÓP V
p0
ÓÓW Y
)
ÓÓY Z
{
ÓÓ[ \
return
ÔÔ 
	Microsoft
ÔÔ 
.
ÔÔ 
Spatial
ÔÔ $
.
ÔÔ$ %
TextRes
ÔÔ% ,
.
ÔÔ, -
	GetString
ÔÔ- 6
(
ÔÔ6 7
	Microsoft
ÔÔ7 @
.
ÔÔ@ A
Spatial
ÔÔA H
.
ÔÔH I
TextRes
ÔÔI P
.
ÔÔP Q?
0PlatformHelper_DateTimeOffsetMustContainTimeZoneÔÔQ 
,ÔÔ ‚
p0ÔÔƒ …
)ÔÔ… †
;ÔÔ† ‡
}
ÕÕ 	
}
×× 
internal
ÜÜ 
static
ÜÜ 
partial
ÜÜ 
class
ÜÜ !
Error
ÜÜ" '
{
ÜÜ( )
internal
áá 
static
áá 
	Exception
áá !
ArgumentNull
áá" .
(
áá. /
string
áá/ 5
	paramName
áá6 ?
)
áá? @
{
ááA B
return
ââ 
new
ââ #
ArgumentNullException
ââ ,
(
ââ, -
	paramName
ââ- 6
)
ââ6 7
;
ââ7 8
}
ãã 	
internal
èè 
static
èè 
	Exception
èè ! 
ArgumentOutOfRange
èè" 4
(
èè4 5
string
èè5 ;
	paramName
èè< E
)
èèE F
{
èèG H
return
éé 
new
éé )
ArgumentOutOfRangeException
éé 2
(
éé2 3
	paramName
éé3 <
)
éé< =
;
éé= >
}
êê 	
internal
ïï 
static
ïï 
	Exception
ïï !
NotImplemented
ïï" 0
(
ïï0 1
)
ïï1 2
{
ïï3 4
return
ğğ 
new
ğğ %
NotImplementedException
ğğ .
(
ğğ. /
)
ğğ/ 0
;
ğğ0 1
}
ññ 	
internal
öö 
static
öö 
	Exception
öö !
NotSupported
öö" .
(
öö. /
)
öö/ 0
{
öö1 2
return
÷÷ 
new
÷÷ #
NotSupportedException
÷÷ ,
(
÷÷, -
)
÷÷- .
;
÷÷. /
}
øø 	
}
ùù 
}úú ¯
3D:\odata.net\src\AssemblyInfo\AssemblyInfoCommon.cs
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 2
)2 3
]3 4
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str X
)X Y
]Y Z
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str	  
)
  ¡
]
¡ ¢
[   
assembly   	
:  	 

AssemblyCulture   
(   
$str   
)   
]   
["" 
assembly"" 	
:""	 
!
AssemblyConfiguration""  
(""  !
$str""! (
)""( )
]"") *
[(( 
assembly(( 	
:((	 

AssemblyProduct(( 
((( 
$str(( 6
)((6 7
]((7 8
[,, 
assembly,, 	
:,,	 

CLSCompliant,, 
(,, 
true,, 
),, 
],, 
[44 
assembly44 	
:44	 


ComVisible44 
(44 
false44 
)44 
]44 
[DD 
assemblyDD 	
:DD	 

SecurityTransparentDD 
]DD 
[WW 
assemblyWW 	
:WW	 
-
!NeutralResourcesLanguageAttributeWW
 +
(WW+ ,
$strWW, 3
)WW3 4
]WW4 5“

^D:\odata.net\obj\AnyCPU\Debug\Microsoft.Spatial.csproj\.NETPortable\v4.5\AssemblyAttributes.cs
[ 
assembly 	
:	 

AssemblyDescription 
( 
$str 6
)6 7
]7 8
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 
 
AssemblyDefaultAlias 
(  
$str  7
)7 8
]8 9
[ 
assembly 	
:	 

AssemblyFileVersion 
( 
$str ,
), -
]- .
[ 
assembly 	
:	 
(
AssemblyInformationalVersion '
(' (
$str( 5
)5 6
]6 7
[		 
assembly		 	
:			 

AssemblyVersion		 
(		 
$str		 (
)		( )
]		) *
[

 
assembly

 	
:

	 
$
SatelliteContractVersion

 #
(

# $
$str

$ 1
)

1 2
]

2 3
[ 
assembly 	
:	 

AssemblyMetadata 
( 
$str )
,) *
$str+ 1
)1 2
]2 3