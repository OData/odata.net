Œò
7D:\odata.net\src\Microsoft.Spatial\..\PlatformHelper.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal11 
static11 
class11 
PlatformHelper11 (
{22 
[66 	
System66	 
.66 
Diagnostics66 
.66 
CodeAnalysis66 (
.66( )
SuppressMessage66) 8
(668 9
$str669 P
,66P Q
$str66R s
,66s t
Justification	66u Ç
=
66É Ñ
$str
66Ö Å
)
66Å Ç
]
66Ç É
internal77 
static77 
readonly77  
Type77! %
[77% &
]77& '

EmptyTypes77( 2
=773 4
new775 8
Type779 =
[77= >
$num77> ?
]77? @
;77@ A
internal<< 
static<< 
readonly<<  
Regex<<! &
DateValidator<<' 4
=<<5 6
CreateCompiled<<7 E
(<<E F
$str<<F {
,<<{ |
RegexOptions	<<} â
.
<<â ä

Singleline
<<ä î
)
<<î ï
;
<<ï ñ
internalAA 
staticAA 
readonlyAA  
RegexAA! &
TimeOfDayValidatorAA' 9
=AA: ;
CreateCompiledAA< J
(AAJ K
$str	AAK é
,
AAé è
RegexOptions
AAê ú
.
AAú ù

Singleline
AAù ß
)
AAß ®
;
AA® ©
internalFF 
staticFF 
readonlyFF  
RegexFF! &,
 PotentialDateTimeOffsetValidatorFF' G
=FFH I
CreateCompiledFFJ X
(FFX Y
$str	FFY ñ
,
FFñ ó
RegexOptions
FFò §
.
FF§ •

Singleline
FF• Ø
)
FFØ ∞
;
FF∞ ±
internalLL 
staticLL 
readonlyLL  
stringLL! '
UriSchemeHttpLL( 5
=LL6 7
$strLL8 >
;LL> ?
internalQQ 
staticQQ 
readonlyQQ  
stringQQ! '
UriSchemeHttpsQQ( 6
=QQ7 8
$strQQ9 @
;QQ@ A
[gg 	
Systemgg	 
.gg 
Diagnosticsgg 
.gg 
CodeAnalysisgg (
.gg( )
SuppressMessagegg) 8
(gg8 9
$strgg9 P
,ggP Q
$strggR s
,ggs t
Justification	ggu Ç
=
ggÉ Ñ
$str
ggÖ Å
)
ggÅ Ç
]
ggÇ É
internalhh 
statichh 
Assemblyhh  
GetAssemblyhh! ,
(hh, -
thishh- 1
Typehh2 6
typehh7 ;
)hh; <
{ii 	
returnkk 
typekk 
.kk 
GetTypeInfokk #
(kk# $
)kk$ %
.kk% &
Assemblykk& .
;kk. /
}oo 	
[vv 	
Systemvv	 
.vv 
Diagnosticsvv 
.vv 
CodeAnalysisvv (
.vv( )
SuppressMessagevv) 8
(vv8 9
$strvv9 P
,vvP Q
$strvvR s
,vvs t
Justification	vvu Ç
=
vvÉ Ñ
$str
vvÖ Å
)
vvÅ Ç
]
vvÇ É
internalww 
staticww 
boolww 
IsValueTypeww (
(ww( )
thisww) -
Typeww. 2
typeww3 7
)ww7 8
{xx 	
returnzz 
typezz 
.zz 
GetTypeInfozz #
(zz# $
)zz$ %
.zz% &
IsValueTypezz& 1
;zz1 2
}~~ 	
[
ÖÖ 	
System
ÖÖ	 
.
ÖÖ 
Diagnostics
ÖÖ 
.
ÖÖ 
CodeAnalysis
ÖÖ (
.
ÖÖ( )
SuppressMessage
ÖÖ) 8
(
ÖÖ8 9
$str
ÖÖ9 P
,
ÖÖP Q
$str
ÖÖR s
,
ÖÖs t
JustificationÖÖu Ç
=ÖÖÉ Ñ
$strÖÖÖ Å
)ÖÖÅ Ç
]ÖÖÇ É
internal
ÜÜ 
static
ÜÜ 
bool
ÜÜ 

IsAbstract
ÜÜ '
(
ÜÜ' (
this
ÜÜ( ,
Type
ÜÜ- 1
type
ÜÜ2 6
)
ÜÜ6 7
{
áá 	
return
ââ 
type
ââ 
.
ââ 
GetTypeInfo
ââ #
(
ââ# $
)
ââ$ %
.
ââ% &

IsAbstract
ââ& 0
;
ââ0 1
}
çç 	
[
îî 	
System
îî	 
.
îî 
Diagnostics
îî 
.
îî 
CodeAnalysis
îî (
.
îî( )
SuppressMessage
îî) 8
(
îî8 9
$str
îî9 P
,
îîP Q
$str
îîR s
,
îîs t
Justificationîîu Ç
=îîÉ Ñ
$strîîÖ Å
)îîÅ Ç
]îîÇ É
internal
ïï 
static
ïï 
bool
ïï 
IsGenericType
ïï *
(
ïï* +
this
ïï+ /
Type
ïï0 4
type
ïï5 9
)
ïï9 :
{
ññ 	
return
òò 
type
òò 
.
òò 
GetTypeInfo
òò #
(
òò# $
)
òò$ %
.
òò% &
IsGenericType
òò& 3
;
òò3 4
}
úú 	
[
££ 	
System
££	 
.
££ 
Diagnostics
££ 
.
££ 
CodeAnalysis
££ (
.
££( )
SuppressMessage
££) 8
(
££8 9
$str
££9 P
,
££P Q
$str
££R s
,
££s t
Justification££u Ç
=££É Ñ
$str££Ö Å
)££Å Ç
]££Ç É
internal
§§ 
static
§§ 
bool
§§ %
IsGenericTypeDefinition
§§ 4
(
§§4 5
this
§§5 9
Type
§§: >
type
§§? C
)
§§C D
{
•• 	
return
ßß 
type
ßß 
.
ßß 
GetTypeInfo
ßß #
(
ßß# $
)
ßß$ %
.
ßß% &%
IsGenericTypeDefinition
ßß& =
;
ßß= >
}
´´ 	
[
≤≤ 	
System
≤≤	 
.
≤≤ 
Diagnostics
≤≤ 
.
≤≤ 
CodeAnalysis
≤≤ (
.
≤≤( )
SuppressMessage
≤≤) 8
(
≤≤8 9
$str
≤≤9 P
,
≤≤P Q
$str
≤≤R s
,
≤≤s t
Justification≤≤u Ç
=≤≤É Ñ
$str≤≤Ö Å
)≤≤Å Ç
]≤≤Ç É
internal
≥≥ 
static
≥≥ 
bool
≥≥ 
	IsVisible
≥≥ &
(
≥≥& '
this
≥≥' +
Type
≥≥, 0
type
≥≥1 5
)
≥≥5 6
{
¥¥ 	
return
∂∂ 
type
∂∂ 
.
∂∂ 
GetTypeInfo
∂∂ #
(
∂∂# $
)
∂∂$ %
.
∂∂% &
	IsVisible
∂∂& /
;
∂∂/ 0
}
∫∫ 	
[
¡¡ 	
System
¡¡	 
.
¡¡ 
Diagnostics
¡¡ 
.
¡¡ 
CodeAnalysis
¡¡ (
.
¡¡( )
SuppressMessage
¡¡) 8
(
¡¡8 9
$str
¡¡9 P
,
¡¡P Q
$str
¡¡R s
,
¡¡s t
Justification¡¡u Ç
=¡¡É Ñ
$str¡¡Ö Å
)¡¡Å Ç
]¡¡Ç É
internal
¬¬ 
static
¬¬ 
bool
¬¬ 
IsInterface
¬¬ (
(
¬¬( )
this
¬¬) -
Type
¬¬. 2
type
¬¬3 7
)
¬¬7 8
{
√√ 	
return
≈≈ 
type
≈≈ 
.
≈≈ 
GetTypeInfo
≈≈ #
(
≈≈# $
)
≈≈$ %
.
≈≈% &
IsInterface
≈≈& 1
;
≈≈1 2
}
…… 	
[
–– 	
System
––	 
.
–– 
Diagnostics
–– 
.
–– 
CodeAnalysis
–– (
.
––( )
SuppressMessage
––) 8
(
––8 9
$str
––9 P
,
––P Q
$str
––R s
,
––s t
Justification––u Ç
=––É Ñ
$str––Ö Å
)––Å Ç
]––Ç É
internal
—— 
static
—— 
bool
—— 
IsClass
—— $
(
——$ %
this
——% )
Type
——* .
type
——/ 3
)
——3 4
{
““ 	
return
‘‘ 
type
‘‘ 
.
‘‘ 
GetTypeInfo
‘‘ #
(
‘‘# $
)
‘‘$ %
.
‘‘% &
IsClass
‘‘& -
;
‘‘- .
}
ÿÿ 	
[
ﬂﬂ 	
System
ﬂﬂ	 
.
ﬂﬂ 
Diagnostics
ﬂﬂ 
.
ﬂﬂ 
CodeAnalysis
ﬂﬂ (
.
ﬂﬂ( )
SuppressMessage
ﬂﬂ) 8
(
ﬂﬂ8 9
$str
ﬂﬂ9 P
,
ﬂﬂP Q
$str
ﬂﬂR s
,
ﬂﬂs t
Justificationﬂﬂu Ç
=ﬂﬂÉ Ñ
$strﬂﬂÖ Å
)ﬂﬂÅ Ç
]ﬂﬂÇ É
internal
‡‡ 
static
‡‡ 
bool
‡‡ 
IsEnum
‡‡ #
(
‡‡# $
this
‡‡$ (
Type
‡‡) -
type
‡‡. 2
)
‡‡2 3
{
·· 	
return
„„ 
type
„„ 
.
„„ 
GetTypeInfo
„„ #
(
„„# $
)
„„$ %
.
„„% &
IsEnum
„„& ,
;
„„, -
}
ÁÁ 	
[
ÓÓ 	
System
ÓÓ	 
.
ÓÓ 
Diagnostics
ÓÓ 
.
ÓÓ 
CodeAnalysis
ÓÓ (
.
ÓÓ( )
SuppressMessage
ÓÓ) 8
(
ÓÓ8 9
$str
ÓÓ9 P
,
ÓÓP Q
$str
ÓÓR s
,
ÓÓs t
JustificationÓÓu Ç
=ÓÓÉ Ñ
$strÓÓÖ Å
)ÓÓÅ Ç
]ÓÓÇ É
internal
ÔÔ 
static
ÔÔ 
Type
ÔÔ 
GetBaseType
ÔÔ (
(
ÔÔ( )
this
ÔÔ) -
Type
ÔÔ. 2
type
ÔÔ3 7
)
ÔÔ7 8
{
 	
return
ÚÚ 
type
ÚÚ 
.
ÚÚ 
GetTypeInfo
ÚÚ #
(
ÚÚ# $
)
ÚÚ$ %
.
ÚÚ% &
BaseType
ÚÚ& .
;
ÚÚ. /
}
ˆˆ 	
[
˝˝ 	
System
˝˝	 
.
˝˝ 
Diagnostics
˝˝ 
.
˝˝ 
CodeAnalysis
˝˝ (
.
˝˝( )
SuppressMessage
˝˝) 8
(
˝˝8 9
$str
˝˝9 P
,
˝˝P Q
$str
˝˝R s
,
˝˝s t
Justification˝˝u Ç
=˝˝É Ñ
$str˝˝Ö Å
)˝˝Å Ç
]˝˝Ç É
internal
˛˛ 
static
˛˛ 
bool
˛˛ '
ContainsGenericParameters
˛˛ 6
(
˛˛6 7
this
˛˛7 ;
Type
˛˛< @
type
˛˛A E
)
˛˛E F
{
ˇˇ 	
return
ÅÅ 
type
ÅÅ 
.
ÅÅ 
GetTypeInfo
ÅÅ #
(
ÅÅ# $
)
ÅÅ$ %
.
ÅÅ% &'
ContainsGenericParameters
ÅÅ& ?
;
ÅÅ? @
}
ÖÖ 	
internal
∞∞ 
static
∞∞ 
DateTimeOffset
∞∞ &+
ConvertStringToDateTimeOffset
∞∞' D
(
∞∞D E
string
∞∞E K
text
∞∞L P
)
∞∞P Q
{
±± 	
text
≤≤ 
=
≤≤ (
AddSecondsPaddingIfMissing
≤≤ -
(
≤≤- .
text
≤≤. 2
)
≤≤2 3
;
≤≤3 4
DateTimeOffset
≥≥ 
dateTimeOffset
≥≥ )
=
≥≥* +

XmlConvert
≥≥, 6
.
≥≥6 7
ToDateTimeOffset
≥≥7 G
(
≥≥G H
text
≥≥H L
)
≥≥L M
;
≥≥M N?
1ValidateTimeZoneInformationInDateTimeOffsetString
∂∂ =
(
∂∂= >
text
∂∂> B
)
∂∂B C
;
∂∂C D
return
∏∏ 
dateTimeOffset
∏∏ !
;
∏∏! "
}
ππ 	
[
ﬂﬂ 	
System
ﬂﬂ	 
.
ﬂﬂ 
Diagnostics
ﬂﬂ 
.
ﬂﬂ 
CodeAnalysis
ﬂﬂ (
.
ﬂﬂ( )
SuppressMessage
ﬂﬂ) 8
(
ﬂﬂ8 9
$str
ﬂﬂ9 P
,
ﬂﬂP Q
$str
ﬂﬂR s
,
ﬂﬂs t
Justificationﬂﬂu Ç
=ﬂﬂÉ Ñ
$strﬂﬂÖ Å
)ﬂﬂÅ Ç
]ﬂﬂÇ É
private
‡‡ 
static
‡‡ 
void
‡‡ ?
1ValidateTimeZoneInformationInDateTimeOffsetString
‡‡ M
(
‡‡M N
string
‡‡N T
text
‡‡U Y
)
‡‡Y Z
{
·· 	
if
ÁÁ 
(
ÁÁ 
text
ÁÁ 
.
ÁÁ 
Length
ÁÁ 
>
ÁÁ 
$num
ÁÁ 
&&
ÁÁ  "
(
ÁÁ# $
text
ÁÁ$ (
[
ÁÁ( )
text
ÁÁ) -
.
ÁÁ- .
Length
ÁÁ. 4
-
ÁÁ5 6
$num
ÁÁ7 8
]
ÁÁ8 9
==
ÁÁ: <
$char
ÁÁ= @
||
ÁÁA C
text
ÁÁD H
[
ÁÁH I
text
ÁÁI M
.
ÁÁM N
Length
ÁÁN T
-
ÁÁU V
$num
ÁÁW X
]
ÁÁX Y
==
ÁÁZ \
$char
ÁÁ] `
)
ÁÁ` a
)
ÁÁa b
{
ËË 
return
ÈÈ 
;
ÈÈ 
}
ÍÍ 
const
ÌÌ 
int
ÌÌ  
timeZoneSignOffset
ÌÌ (
=
ÌÌ) *
$num
ÌÌ+ ,
;
ÌÌ, -
if
ÓÓ 
(
ÓÓ 
text
ÓÓ 
.
ÓÓ 
Length
ÓÓ 
>
ÓÓ  
timeZoneSignOffset
ÓÓ 0
&&
ÓÓ1 3
(
ÓÓ4 5
text
ÓÓ5 9
[
ÓÓ9 :
text
ÓÓ: >
.
ÓÓ> ?
Length
ÓÓ? E
-
ÓÓF G 
timeZoneSignOffset
ÓÓH Z
]
ÓÓZ [
==
ÓÓ\ ^
$char
ÓÓ_ b
||
ÓÓc e
text
ÓÓf j
[
ÓÓj k
text
ÓÓk o
.
ÓÓo p
Length
ÓÓp v
-
ÓÓw x!
timeZoneSignOffsetÓÓy ã
]ÓÓã å
==ÓÓç è
$charÓÓê ì
)ÓÓì î
)ÓÓî ï
{
ÔÔ 
return
 
;
 
}
ÒÒ 
throw
ÙÙ 
new
ÙÙ 
FormatException
ÙÙ %
(
ÙÙ% &
Strings
ÙÙ& -
.
ÙÙ- .>
0PlatformHelper_DateTimeOffsetMustContainTimeZone
ÙÙ. ^
(
ÙÙ^ _
text
ÙÙ_ c
)
ÙÙc d
)
ÙÙd e
;
ÙÙe f
}
ıı 	
internal
¸¸ 
static
¸¸ 
string
¸¸ (
AddSecondsPaddingIfMissing
¸¸ 9
(
¸¸9 :
string
¸¸: @
text
¸¸A E
)
¸¸E F
{
˝˝ 	
int
˛˛ 
indexOfT
˛˛ 
=
˛˛ 
text
˛˛ 
.
˛˛  
IndexOf
˛˛  '
(
˛˛' (
$str
˛˛( +
,
˛˛+ ,
System
˛˛- 3
.
˛˛3 4
StringComparison
˛˛4 D
.
˛˛D E
Ordinal
˛˛E L
)
˛˛L M
;
˛˛M N
const
ˇˇ 
int
ˇˇ &
ColonBeforeSecondsOffset
ˇˇ .
=
ˇˇ/ 0
$num
ˇˇ1 2
;
ˇˇ2 3
int
ÄÄ '
indexOfColonBeforeSeconds
ÄÄ )
=
ÄÄ* +
indexOfT
ÄÄ, 4
+
ÄÄ5 6&
ColonBeforeSecondsOffset
ÄÄ7 O
;
ÄÄO P
if
ÉÉ 
(
ÉÉ 
indexOfT
ÉÉ 
>
ÉÉ 
$num
ÉÉ 
&&
ÉÉ 
(
ÑÑ 
text
ÑÑ 
.
ÑÑ 
Length
ÑÑ 
==
ÑÑ '
indexOfColonBeforeSeconds
ÑÑ  9
||
ÑÑ: <
text
ÑÑ= A
.
ÑÑA B
Length
ÑÑB H
>
ÑÑI J'
indexOfColonBeforeSeconds
ÑÑK d
&&
ÑÑe g
text
ÑÑh l
[
ÑÑl m(
indexOfColonBeforeSecondsÑÑm Ü
]ÑÑÜ á
!=ÑÑà ä
$charÑÑã é
)ÑÑé è
)ÑÑè ê
{
ÖÖ 
text
ÜÜ 
=
ÜÜ 
text
ÜÜ 
.
ÜÜ 
Insert
ÜÜ "
(
ÜÜ" #'
indexOfColonBeforeSeconds
ÜÜ# <
,
ÜÜ< =
$str
ÜÜ> C
)
ÜÜC D
;
ÜÜD E
}
áá 
return
ââ 
text
ââ 
;
ââ 
}
ää 	
[
íí 	
System
íí	 
.
íí 
Diagnostics
íí 
.
íí 
CodeAnalysis
íí (
.
íí( )
SuppressMessage
íí) 8
(
íí8 9
$str
íí9 P
,
ííP Q
$str
ííR s
,
íís t
Justificationííu Ç
=ííÉ Ñ
$strííÖ Å
)ííÅ Ç
]ííÇ É
internal
ìì 
static
ìì 
Type
ìì 
GetTypeOrThrow
ìì +
(
ìì+ ,
string
ìì, 2
typeName
ìì3 ;
)
ìì; <
{
îî 	
return
ïï 
Type
ïï 
.
ïï 
GetType
ïï 
(
ïï  
typeName
ïï  (
,
ïï( )
true
ïï* .
)
ïï. /
;
ïï/ 0
}
ññ 	
internal
°° 
static
°° 
UnicodeCategory
°° ' 
GetUnicodeCategory
°°( :
(
°°: ;
Char
°°; ?
c
°°@ A
)
°°A B
{
¢¢ 	
return
•• 
CharUnicodeInfo
•• "
.
••" # 
GetUnicodeCategory
••# 5
(
••5 6
c
••6 7
)
••7 8
;
••8 9
}
©© 	
[
∞∞ 	
System
∞∞	 
.
∞∞ 
Diagnostics
∞∞ 
.
∞∞ 
CodeAnalysis
∞∞ (
.
∞∞( )
SuppressMessage
∞∞) 8
(
∞∞8 9
$str
∞∞9 P
,
∞∞P Q
$str
∞∞R s
,
∞∞s t
Justification∞∞u Ç
=∞∞É Ñ
$str∞∞Ö Å
)∞∞Å Ç
]∞∞Ç É
internal
±± 
static
±± 
bool
±± 

IsProperty
±± '
(
±±' (

MemberInfo
±±( 2
member
±±3 9
)
±±9 :
{
≤≤ 	
return
¥¥ 
member
¥¥ 
is
¥¥ 
PropertyInfo
¥¥ )
;
¥¥) *
}
∏∏ 	
[
øø 	
System
øø	 
.
øø 
Diagnostics
øø 
.
øø 
CodeAnalysis
øø (
.
øø( )
SuppressMessage
øø) 8
(
øø8 9
$str
øø9 P
,
øøP Q
$str
øøR s
,
øøs t
Justificationøøu Ç
=øøÉ Ñ
$strøøÖ Å
)øøÅ Ç
]øøÇ É
internal
¿¿ 
static
¿¿ 
bool
¿¿ 
IsPrimitive
¿¿ (
(
¿¿( )
this
¿¿) -
Type
¿¿. 2
type
¿¿3 7
)
¿¿7 8
{
¡¡ 	
return
√√ 
type
√√ 
.
√√ 
GetTypeInfo
√√ #
(
√√# $
)
√√$ %
.
√√% &
IsPrimitive
√√& 1
;
√√1 2
}
«« 	
[
ŒŒ 	
System
ŒŒ	 
.
ŒŒ 
Diagnostics
ŒŒ 
.
ŒŒ 
CodeAnalysis
ŒŒ (
.
ŒŒ( )
SuppressMessage
ŒŒ) 8
(
ŒŒ8 9
$str
ŒŒ9 P
,
ŒŒP Q
$str
ŒŒR s
,
ŒŒs t
JustificationŒŒu Ç
=ŒŒÉ Ñ
$strŒŒÖ Å
)ŒŒÅ Ç
]ŒŒÇ É
internal
œœ 
static
œœ 
bool
œœ 
IsSealed
œœ %
(
œœ% &
this
œœ& *
Type
œœ+ /
type
œœ0 4
)
œœ4 5
{
–– 	
return
““ 
type
““ 
.
““ 
GetTypeInfo
““ #
(
““# $
)
““$ %
.
““% &
IsSealed
““& .
;
““. /
}
÷÷ 	
[
›› 	
System
››	 
.
›› 
Diagnostics
›› 
.
›› 
CodeAnalysis
›› (
.
››( )
SuppressMessage
››) 8
(
››8 9
$str
››9 P
,
››P Q
$str
››R s
,
››s t
Justification››u Ç
=››É Ñ
$str››Ö Å
)››Å Ç
]››Ç É
internal
ﬁﬁ 
static
ﬁﬁ 
bool
ﬁﬁ 
IsMethod
ﬁﬁ %
(
ﬁﬁ% &

MemberInfo
ﬁﬁ& 0
member
ﬁﬁ1 7
)
ﬁﬁ7 8
{
ﬂﬂ 	
return
·· 
member
·· 
is
·· 

MethodInfo
·· '
;
··' (
}
ÂÂ 	
[
ÓÓ 	
System
ÓÓ	 
.
ÓÓ 
Diagnostics
ÓÓ 
.
ÓÓ 
CodeAnalysis
ÓÓ (
.
ÓÓ( )
SuppressMessage
ÓÓ) 8
(
ÓÓ8 9
$str
ÓÓ9 P
,
ÓÓP Q
$str
ÓÓR s
,
ÓÓs t
JustificationÓÓu Ç
=ÓÓÉ Ñ
$strÓÓÖ Å
)ÓÓÅ Ç
]ÓÓÇ É
internal
ÔÔ 
static
ÔÔ 
bool
ÔÔ 
AreMembersEqual
ÔÔ ,
(
ÔÔ, -

MemberInfo
ÔÔ- 7
member1
ÔÔ8 ?
,
ÔÔ? @

MemberInfo
ÔÔA K
member2
ÔÔL S
)
ÔÔS T
{
 	
return
ÚÚ 
member1
ÚÚ 
==
ÚÚ 
member2
ÚÚ %
;
ÚÚ% &
}
ˆˆ 	
[
˛˛ 	
System
˛˛	 
.
˛˛ 
Diagnostics
˛˛ 
.
˛˛ 
CodeAnalysis
˛˛ (
.
˛˛( )
SuppressMessage
˛˛) 8
(
˛˛8 9
$str
˛˛9 P
,
˛˛P Q
$str
˛˛R s
,
˛˛s t
Justification˛˛u Ç
=˛˛É Ñ
$str˛˛Ö Å
)˛˛Å Ç
]˛˛Ç É
internal
ˇˇ 
static
ˇˇ 
IEnumerable
ˇˇ #
<
ˇˇ# $
PropertyInfo
ˇˇ$ 0
>
ˇˇ0 1!
GetPublicProperties
ˇˇ2 E
(
ˇˇE F
this
ˇˇF J
Type
ˇˇK O
type
ˇˇP T
,
ˇˇT U
bool
ˇˇV Z
instanceOnly
ˇˇ[ g
)
ˇˇg h
{
ÄÄ 	
return
ÅÅ !
GetPublicProperties
ÅÅ &
(
ÅÅ& '
type
ÅÅ' +
,
ÅÅ+ ,
instanceOnly
ÅÅ- 9
,
ÅÅ9 :
false
ÅÅ; @
)
ÅÅQ R
;
ÅÅR S
}
ÇÇ 	
[
ãã 	
System
ãã	 
.
ãã 
Diagnostics
ãã 
.
ãã 
CodeAnalysis
ãã (
.
ãã( )
SuppressMessage
ãã) 8
(
ãã8 9
$str
ãã9 P
,
ããP Q
$str
ããR s
,
ããs t
Justificationããu Ç
=ããÉ Ñ
$strããÖ Å
)ããÅ Ç
]ããÇ É
internal
åå 
static
åå 
IEnumerable
åå #
<
åå# $
PropertyInfo
åå$ 0
>
åå0 1!
GetPublicProperties
åå2 E
(
ååE F
this
ååF J
Type
ååK O
type
ååP T
,
ååT U
bool
ååV Z
instanceOnly
åå[ g
,
ååg h
bool
ååi m
declaredOnly
åån z
)
ååz {
{
çç 	
IEnumerable
ìì 
<
ìì 
PropertyInfo
ìì $
>
ìì$ %

properties
ìì& 0
=
ìì1 2
declaredOnly
ìì3 ?
?
ìì@ A
type
ììB F
.
ììF G
GetTypeInfo
ììG R
(
ììR S
)
ììS T
.
ììT U 
DeclaredProperties
ììU g
:
ììh i
type
ììj n
.
ììn o#
GetRuntimePropertiesììo É
(ììÉ Ñ
)ììÑ Ö
;ììÖ Ü
return
îî 

properties
îî 
.
îî 
Where
îî #
(
îî# $
p
îî$ %
=>
îî& (
IsPublic
îî) 1
(
îî1 2
p
îî2 3
)
îî3 4
&&
îî5 7
(
îî8 9
!
îî9 :
instanceOnly
îî: F
||
îîG I

IsInstance
îîJ T
(
îîT U
p
îîU V
)
îîV W
)
îîW X
)
îîX Y
;
îîY Z
}
££ 	
internal
¨¨ 
static
¨¨ 
IEnumerable
¨¨ #
<
¨¨# $
PropertyInfo
¨¨$ 0
>
¨¨0 1$
GetNonPublicProperties
¨¨2 H
(
¨¨H I
this
¨¨I M
Type
¨¨N R
type
¨¨S W
,
¨¨W X
bool
¨¨Y ]
instanceOnly
¨¨^ j
,
¨¨j k
bool
¨¨l p
declaredOnly
¨¨q }
)
¨¨} ~
{
≠≠ 	
IEnumerable
≥≥ 
<
≥≥ 
PropertyInfo
≥≥ $
>
≥≥$ %

properties
≥≥& 0
=
≥≥1 2
declaredOnly
≥≥3 ?
?
≥≥@ A
type
≥≥B F
.
≥≥F G
GetTypeInfo
≥≥G R
(
≥≥R S
)
≥≥S T
.
≥≥T U 
DeclaredProperties
≥≥U g
:
≥≥h i
type
≥≥j n
.
≥≥n o#
GetRuntimeProperties≥≥o É
(≥≥É Ñ
)≥≥Ñ Ö
;≥≥Ö Ü
return
¥¥ 

properties
¥¥ 
.
¥¥ 
Where
¥¥ #
(
¥¥# $
p
¥¥$ %
=>
¥¥& (
!
¥¥) *
IsPublic
¥¥* 2
(
¥¥2 3
p
¥¥3 4
)
¥¥4 5
&&
¥¥6 8
(
¥¥9 :
!
¥¥: ;
instanceOnly
¥¥; G
||
¥¥H J

IsInstance
¥¥K U
(
¥¥U V
p
¥¥V W
)
¥¥W X
)
¥¥X Y
)
¥¥Y Z
;
¥¥Z [
}
√√ 	
[
ÀÀ 	
System
ÀÀ	 
.
ÀÀ 
Diagnostics
ÀÀ 
.
ÀÀ 
CodeAnalysis
ÀÀ (
.
ÀÀ( )
SuppressMessage
ÀÀ) 8
(
ÀÀ8 9
$str
ÀÀ9 P
,
ÀÀP Q
$str
ÀÀR s
,
ÀÀs t
JustificationÀÀu Ç
=ÀÀÉ Ñ
$strÀÀÖ Å
)ÀÀÅ Ç
]ÀÀÇ É
internal
ÃÃ 
static
ÃÃ 
IEnumerable
ÃÃ #
<
ÃÃ# $
ConstructorInfo
ÃÃ$ 3
>
ÃÃ3 4%
GetInstanceConstructors
ÃÃ5 L
(
ÃÃL M
this
ÃÃM Q
Type
ÃÃR V
type
ÃÃW [
,
ÃÃ[ \
bool
ÃÃ] a
isPublic
ÃÃb j
)
ÃÃj k
{
ÕÕ 	
return
œœ 
type
œœ 
.
œœ 
GetTypeInfo
œœ #
(
œœ# $
)
œœ$ %
.
œœ% &"
DeclaredConstructors
œœ& :
.
œœ: ;
Where
œœ; @
(
œœ@ A
c
œœA B
=>
œœC E
!
œœF G
c
œœG H
.
œœH I
IsStatic
œœI Q
&&
œœR T
isPublic
œœU ]
==
œœ^ `
c
œœa b
.
œœb c
IsPublic
œœc k
)
œœk l
;
œœl m
}
’’ 	
[
ﬁﬁ 	
System
ﬁﬁ	 
.
ﬁﬁ 
Diagnostics
ﬁﬁ 
.
ﬁﬁ 
CodeAnalysis
ﬁﬁ (
.
ﬁﬁ( )
SuppressMessage
ﬁﬁ) 8
(
ﬁﬁ8 9
$str
ﬁﬁ9 P
,
ﬁﬁP Q
$str
ﬁﬁR s
,
ﬁﬁs t
Justificationﬁﬁu Ç
=ﬁﬁÉ Ñ
$strﬁﬁÖ Å
)ﬁﬁÅ Ç
]ﬁﬁÇ É
internal
ﬂﬂ 
static
ﬂﬂ 
ConstructorInfo
ﬂﬂ '$
GetInstanceConstructor
ﬂﬂ( >
(
ﬂﬂ> ?
this
ﬂﬂ? C
Type
ﬂﬂD H
type
ﬂﬂI M
,
ﬂﬂM N
bool
ﬂﬂO S
isPublic
ﬂﬂT \
,
ﬂﬂ\ ]
Type
ﬂﬂ^ b
[
ﬂﬂb c
]
ﬂﬂc d
argTypes
ﬂﬂe m
)
ﬂﬂm n
{
‡‡ 	
return
‚‚ %
GetInstanceConstructors
‚‚ *
(
‚‚* +
type
‚‚+ /
,
‚‚/ 0
isPublic
‚‚1 9
)
‚‚9 :
.
‚‚: ;
SingleOrDefault
‚‚; J
(
‚‚J K
c
‚‚K L
=>
‚‚M O
CheckTypeArgs
‚‚P ]
(
‚‚] ^
c
‚‚^ _
,
‚‚_ `
argTypes
‚‚a i
)
‚‚i j
)
‚‚j k
;
‚‚k l
}
ÈÈ 	
internal
ÚÚ 
static
ÚÚ 
bool
ÚÚ 
TryGetMethod
ÚÚ )
(
ÚÚ) *
this
ÚÚ* .
Type
ÚÚ/ 3
type
ÚÚ4 8
,
ÚÚ8 9
string
ÚÚ: @
name
ÚÚA E
,
ÚÚE F
Type
ÚÚG K
[
ÚÚK L
]
ÚÚL M
parameterTypes
ÚÚN \
,
ÚÚ\ ]
out
ÚÚ^ a

MethodInfo
ÚÚb l
foundMethod
ÚÚm x
)
ÚÚx y
{
ÛÛ 	
foundMethod
ÙÙ 
=
ÙÙ 
null
ÙÙ 
;
ÙÙ 
try
ıı 
{
ˆˆ 
foundMethod
˜˜ 
=
˜˜ 
type
˜˜ "
.
˜˜" #
	GetMethod
˜˜# ,
(
˜˜, -
name
˜˜- 1
,
˜˜1 2
parameterTypes
˜˜3 A
)
˜˜A B
;
˜˜B C
return
¯¯ 
foundMethod
¯¯ "
!=
¯¯# %
null
¯¯& *
;
¯¯* +
}
˘˘ 
catch
˙˙ 
(
˙˙ #
ArgumentNullException
˙˙ (
)
˙˙( )
{
˚˚ 
return
¸¸ 
false
¸¸ 
;
¸¸ 
}
˝˝ 
}
˛˛ 	
internal
ÖÖ 
static
ÖÖ 
IEnumerable
ÖÖ #
<
ÖÖ# $

MethodInfo
ÖÖ$ .
>
ÖÖ. /

GetMethods
ÖÖ0 :
(
ÖÖ: ;
this
ÖÖ; ?
Type
ÖÖ@ D
type
ÖÖE I
)
ÖÖI J
{
ÜÜ 	
return
àà 
type
àà 
.
àà 
GetRuntimeMethods
àà )
(
àà) *
)
àà* +
;
àà+ ,
}
åå 	
[
ññ 	
System
ññ	 
.
ññ 
Diagnostics
ññ 
.
ññ 
CodeAnalysis
ññ (
.
ññ( )
SuppressMessage
ññ) 8
(
ññ8 9
$str
ññ9 P
,
ññP Q
$str
ññR s
,
ññs t
Justificationññu Ç
=ññÉ Ñ
$strññÖ Å
)ññÅ Ç
]ññÇ É
internal
óó 
static
óó 

MethodInfo
óó "
	GetMethod
óó# ,
(
óó, -
this
óó- 1
Type
óó2 6
type
óó7 ;
,
óó; <
string
óó= C
name
óóD H
,
óóH I
bool
óóJ N
isPublic
óóO W
,
óóW X
bool
óóY ]
isStatic
óó^ f
)
óóf g
{
òò 	
return
ùù 
type
ùù 
.
ùù 
GetRuntimeMethods
ùù )
(
ùù) *
)
ùù* +
.
ûû 
Where
ûû 
(
ûû 
m
üü 
=>
üü 
m
†† 
.
†† 
Name
†† 
==
†† !
name
††" &
&&
††' )
isPublic
°°  
==
°°! #
m
°°$ %
.
°°% &
IsPublic
°°& .
&&
°°/ 1
isStatic
¢¢  
==
¢¢! #
m
¢¢$ %
.
¢¢% &
IsStatic
¢¢& .
)
¢¢. /
.
££ 
SingleOrDefault
££  
(
££  !
)
££! "
;
££" #
}
™™ 	
[
µµ 	
System
µµ	 
.
µµ 
Diagnostics
µµ 
.
µµ 
CodeAnalysis
µµ (
.
µµ( )
SuppressMessage
µµ) 8
(
µµ8 9
$str
µµ9 P
,
µµP Q
$str
µµR s
,
µµs t
Justificationµµu Ç
=µµÉ Ñ
$strµµÖ Å
)µµÅ Ç
]µµÇ É
internal
∂∂ 
static
∂∂ 

MethodInfo
∂∂ "
	GetMethod
∂∂# ,
(
∂∂, -
this
∂∂- 1
Type
∂∂2 6
type
∂∂7 ;
,
∂∂; <
string
∂∂= C
name
∂∂D H
,
∂∂H I
Type
∂∂J N
[
∂∂N O
]
∂∂O P
types
∂∂Q V
,
∂∂V W
bool
∂∂X \
isPublic
∂∂] e
,
∂∂e f
bool
∂∂g k
isStatic
∂∂l t
)
∂∂t u
{
∑∑ 	

MethodInfo
ππ 

methodInfo
ππ !
=
ππ" #
type
ππ$ (
.
ππ( )
	GetMethod
ππ) 2
(
ππ2 3
name
ππ3 7
,
ππ7 8
types
ππ9 >
)
ππ> ?
;
ππ? @
if
∫∫ 
(
∫∫ 
isPublic
∫∫ 
==
∫∫ 

methodInfo
∫∫ &
.
∫∫& '
IsPublic
∫∫' /
&&
∫∫0 2
isStatic
∫∫3 ;
==
∫∫< >

methodInfo
∫∫? I
.
∫∫I J
IsStatic
∫∫J R
)
∫∫R S
{
ªª 
return
ºº 

methodInfo
ºº !
;
ºº! "
}
ΩΩ 
return
øø 
null
øø 
;
øø 
}
∆∆ 	
[
ÕÕ 	
System
ÕÕ	 
.
ÕÕ 
Diagnostics
ÕÕ 
.
ÕÕ 
CodeAnalysis
ÕÕ (
.
ÕÕ( )
SuppressMessage
ÕÕ) 8
(
ÕÕ8 9
$str
ÕÕ9 P
,
ÕÕP Q
$str
ÕÕR s
,
ÕÕs t
JustificationÕÕu Ç
=ÕÕÉ Ñ
$strÕÕÖ Å
)ÕÕÅ Ç
]ÕÕÇ É
internal
ŒŒ 
static
ŒŒ 
IEnumerable
ŒŒ #
<
ŒŒ# $

MethodInfo
ŒŒ$ .
>
ŒŒ. /$
GetPublicStaticMethods
ŒŒ0 F
(
ŒŒF G
this
ŒŒG K
Type
ŒŒL P
type
ŒŒQ U
)
ŒŒU V
{
œœ 	
return
—— 
type
—— 
.
—— 
GetRuntimeMethods
—— )
(
——) *
)
——* +
.
——+ ,
Where
——, 1
(
——1 2
m
——2 3
=>
——4 6
m
——7 8
.
——8 9
IsPublic
——9 A
&&
——B D
m
——E F
.
——F G
IsStatic
——G O
)
——O P
;
——P Q
}
’’ 	
[
‹‹ 	
System
‹‹	 
.
‹‹ 
Diagnostics
‹‹ 
.
‹‹ 
CodeAnalysis
‹‹ (
.
‹‹( )
SuppressMessage
‹‹) 8
(
‹‹8 9
$str
‹‹9 P
,
‹‹P Q
$str
‹‹R s
,
‹‹s t
Justification‹‹u Ç
=‹‹É Ñ
$str‹‹Ö Å
)‹‹Å Ç
]‹‹Ç É
internal
›› 
static
›› 
IEnumerable
›› #
<
››# $
Type
››$ (
>
››( )%
GetNonPublicNestedTypes
››* A
(
››A B
this
››B F
Type
››G K
type
››L P
)
››P Q
{
ﬁﬁ 	
return
‡‡ 
type
‡‡ 
.
‡‡ 
GetTypeInfo
‡‡ #
(
‡‡# $
)
‡‡$ %
.
‡‡% &!
DeclaredNestedTypes
‡‡& 9
.
‡‡9 :
Where
‡‡: ?
(
‡‡? @
t
‡‡@ A
=>
‡‡B D
!
‡‡E F
t
‡‡F G
.
‡‡G H
IsNestedPublic
‡‡H V
)
‡‡V W
.
‡‡W X
Select
‡‡X ^
(
‡‡^ _
t
‡‡_ `
=>
‡‡a c
t
‡‡d e
.
‡‡e f
AsType
‡‡f l
(
‡‡l m
)
‡‡m n
)
‡‡n o
;
‡‡o p
}
‰‰ 	
private
ÓÓ 
static
ÓÓ 
bool
ÓÓ 
CheckTypeArgs
ÓÓ )
(
ÓÓ) *
ConstructorInfo
ÓÓ* 9
constructorInfo
ÓÓ: I
,
ÓÓI J
Type
ÓÓK O
[
ÓÓO P
]
ÓÓP Q
types
ÓÓR W
)
ÓÓW X
{
ÔÔ 	
Debug
 
.
 
Assert
 
(
 
types
 
!=
 !
null
" &
,
& '
$str( ü
)ü †
;† °
ParameterInfo
ÚÚ 
[
ÚÚ 
]
ÚÚ 

parameters
ÚÚ &
=
ÚÚ' (
constructorInfo
ÚÚ) 8
.
ÚÚ8 9
GetParameters
ÚÚ9 F
(
ÚÚF G
)
ÚÚG H
;
ÚÚH I
if
ÛÛ 
(
ÛÛ 

parameters
ÛÛ 
.
ÛÛ 
Length
ÛÛ !
!=
ÛÛ" $
types
ÛÛ% *
.
ÛÛ* +
Length
ÛÛ+ 1
)
ÛÛ1 2
{
ÙÙ 
return
ıı 
false
ıı 
;
ıı 
}
ˆˆ 
for
¯¯ 
(
¯¯ 
int
¯¯ 
i
¯¯ 
=
¯¯ 
$num
¯¯ 
;
¯¯ 
i
¯¯ 
<
¯¯ 

parameters
¯¯  *
.
¯¯* +
Length
¯¯+ 1
;
¯¯1 2
i
¯¯3 4
++
¯¯4 6
)
¯¯6 7
{
˘˘ 
if
˙˙ 
(
˙˙ 

parameters
˙˙ 
[
˙˙ 
i
˙˙  
]
˙˙  !
.
˙˙! "
ParameterType
˙˙" /
!=
˙˙0 2
types
˙˙3 8
[
˙˙8 9
i
˙˙9 :
]
˙˙: ;
)
˙˙; <
{
˚˚ 
return
¸¸ 
false
¸¸  
;
¸¸  !
}
˝˝ 
}
˛˛ 
return
ÄÄ 
true
ÄÄ 
;
ÄÄ 
}
ÅÅ 	
internal
ää 
static
ää 
bool
ää 
IsAssignableFrom
ää -
(
ää- .
this
ää. 2
Type
ää3 7
thisType
ää8 @
,
ää@ A
Type
ääB F
	otherType
ääG P
)
ääP Q
{
ãã 	
return
åå 
thisType
åå 
.
åå 
GetTypeInfo
åå '
(
åå' (
)
åå( )
.
åå) *
IsAssignableFrom
åå* :
(
åå: ;
	otherType
åå; D
.
ååD E
GetTypeInfo
ååE P
(
ååP Q
)
ååQ R
)
ååR S
;
ååS T
}
çç 	
internal
ôô 
static
ôô 
bool
ôô 
IsSubclassOf
ôô )
(
ôô) *
this
ôô* .
Type
ôô/ 3
thisType
ôô4 <
,
ôô< =
Type
ôô> B
	otherType
ôôC L
)
ôôL M
{
öö 	
if
££ 
(
££ 
thisType
££ 
==
££ 
	otherType
££ %
)
££% &
{
§§ 
return
•• 
false
•• 
;
•• 
}
¶¶ 
Type
®® 
type
®® 
=
®® 
thisType
®®  
.
®®  !
GetTypeInfo
®®! ,
(
®®, -
)
®®- .
.
®®. /
BaseType
®®/ 7
;
®®7 8
while
©© 
(
©© 
type
©© 
!=
©© 
null
©© 
)
©©  
{
™™ 
if
´´ 
(
´´ 
type
´´ 
==
´´ 
	otherType
´´ %
)
´´% &
{
¨¨ 
return
≠≠ 
true
≠≠ 
;
≠≠  
}
ÆÆ 
type
∞∞ 
=
∞∞ 
type
∞∞ 
.
∞∞ 
GetTypeInfo
∞∞ '
(
∞∞' (
)
∞∞( )
.
∞∞) *
BaseType
∞∞* 2
;
∞∞2 3
}
±± 
return
≥≥ 
false
≥≥ 
;
≥≥ 
}
¥¥ 	
internal
ºº 
static
ºº 

MethodInfo
ºº "
	GetMethod
ºº# ,
(
ºº, -
this
ºº- 1
Type
ºº2 6
type
ºº7 ;
,
ºº; <
string
ºº= C
name
ººD H
)
ººH I
{
ΩΩ 	
return
ææ 
type
ææ 
.
ææ 
GetRuntimeMethods
ææ )
(
ææ) *
)
ææ* +
.
ææ+ ,
Where
ææ, 1
(
ææ1 2
m
ææ2 3
=>
ææ4 6
m
ææ7 8
.
ææ8 9
IsPublic
ææ9 A
&&
ææB D
m
ææE F
.
ææF G
Name
ææG K
==
ææL N
name
ææO S
)
ææS T
.
ææT U
SingleOrDefault
ææU d
(
ææd e
)
ææe f
;
ææf g
}
øø 	
internal
»» 
static
»» 

MethodInfo
»» "
	GetMethod
»»# ,
(
»», -
this
»»- 1
Type
»»2 6
type
»»7 ;
,
»»; <
string
»»= C
name
»»D H
,
»»H I
Type
»»J N
[
»»N O
]
»»O P
types
»»Q V
)
»»V W
{
…… 	
return
ÀÀ 
type
ÀÀ 
.
ÀÀ 
GetRuntimeMethod
ÀÀ (
(
ÀÀ( )
name
ÀÀ) -
,
ÀÀ- .
types
ÀÀ/ 4
)
ÀÀ4 5
;
ÀÀ5 6
}
ÃÃ 	
internal
◊◊ 
static
◊◊ 

MethodInfo
◊◊ "&
GetMethodWithGenericArgs
◊◊# ;
(
◊◊; <
this
◊◊< @
Type
◊◊A E
type
◊◊F J
,
◊◊J K
string
◊◊L R
name
◊◊S W
,
◊◊W X
bool
◊◊Y ]
isPublic
◊◊^ f
,
◊◊f g
bool
◊◊h l
isStatic
◊◊m u
,
◊◊u v
int
◊◊w z
genericArgCount◊◊{ ä
)◊◊ä ã
{
ÿÿ 	
return
ŸŸ 
type
ŸŸ 
.
ŸŸ 
GetRuntimeMethods
ŸŸ )
(
ŸŸ) *
)
ŸŸ* +
.
ŸŸ+ ,
Single
ŸŸ, 2
(
ŸŸ2 3
m
ŸŸ3 4
=>
ŸŸ5 7
m
ŸŸ8 9
.
ŸŸ9 :
Name
ŸŸ: >
==
ŸŸ? A
name
ŸŸB F
&&
ŸŸG I
m
ŸŸJ K
.
ŸŸK L
IsPublic
ŸŸL T
==
ŸŸU W
isPublic
ŸŸX `
&&
ŸŸa c
m
ŸŸd e
.
ŸŸe f
IsStatic
ŸŸf n
==
ŸŸo q
isStatic
ŸŸr z
&&
ŸŸ{ }
m
ŸŸ~ 
.ŸŸ Ä#
GetGenericArgumentsŸŸÄ ì
(ŸŸì î
)ŸŸî ï
.ŸŸï ñ
CountŸŸñ õ
(ŸŸõ ú
)ŸŸú ù
==ŸŸû †
genericArgCountŸŸ° ∞
)ŸŸ∞ ±
;ŸŸ± ≤
}
⁄⁄ 	
internal
„„ 
static
„„ 
PropertyInfo
„„ $
GetProperty
„„% 0
(
„„0 1
this
„„1 5
Type
„„6 :
type
„„; ?
,
„„? @
string
„„A G
name
„„H L
,
„„L M
Type
„„N R

returnType
„„S ]
)
„„] ^
{
‰‰ 	
PropertyInfo
ÊÊ 
propertyInfo
ÊÊ %
=
ÊÊ& '
type
ÊÊ( ,
.
ÊÊ, - 
GetRuntimeProperty
ÊÊ- ?
(
ÊÊ? @
name
ÊÊ@ D
)
ÊÊD E
;
ÊÊE F
if
ÁÁ 
(
ÁÁ 
propertyInfo
ÁÁ 
!=
ÁÁ 
null
ÁÁ  $
&&
ÁÁ% '
propertyInfo
ÁÁ( 4
.
ÁÁ4 5
PropertyType
ÁÁ5 A
==
ÁÁB D

returnType
ÁÁE O
)
ÁÁO P
{
ËË 
return
ÈÈ 
propertyInfo
ÈÈ #
;
ÈÈ# $
}
ÍÍ 
return
ÏÏ 
null
ÏÏ 
;
ÏÏ 
}
ÌÌ 	
internal
ıı 
static
ıı 
PropertyInfo
ıı $
GetProperty
ıı% 0
(
ıı0 1
this
ıı1 5
Type
ıı6 :
type
ıı; ?
,
ıı? @
string
ııA G
name
ııH L
)
ııL M
{
ˆˆ 	
return
¯¯ 
type
¯¯ 
.
¯¯  
GetRuntimeProperty
¯¯ *
(
¯¯* +
name
¯¯+ /
)
¯¯/ 0
;
¯¯0 1
}
˘˘ 	
internal
ÄÄ 
static
ÄÄ 

MethodInfo
ÄÄ "
GetGetMethod
ÄÄ# /
(
ÄÄ/ 0
this
ÄÄ0 4
PropertyInfo
ÄÄ5 A
propertyInfo
ÄÄB N
)
ÄÄN O
{
ÅÅ 	

MethodInfo
ÇÇ 
	getMethod
ÇÇ  
=
ÇÇ! "
propertyInfo
ÇÇ# /
.
ÇÇ/ 0
	GetMethod
ÇÇ0 9
;
ÇÇ9 :
if
ÉÉ 
(
ÉÉ 
	getMethod
ÉÉ 
!=
ÉÉ 
null
ÉÉ !
&&
ÉÉ" $
	getMethod
ÉÉ% .
.
ÉÉ. /
IsPublic
ÉÉ/ 7
)
ÉÉ7 8
{
ÑÑ 
return
ÖÖ 
	getMethod
ÖÖ  
;
ÖÖ  !
}
ÜÜ 
return
àà 
null
àà 
;
àà 
}
ââ 	
internal
êê 
static
êê 

MethodInfo
êê "
GetSetMethod
êê# /
(
êê/ 0
this
êê0 4
PropertyInfo
êê5 A
propertyInfo
êêB N
)
êêN O
{
ëë 	

MethodInfo
íí 
	setMethod
íí  
=
íí! "
propertyInfo
íí# /
.
íí/ 0
	SetMethod
íí0 9
;
íí9 :
if
ìì 
(
ìì 
	setMethod
ìì 
!=
ìì 
null
ìì !
&&
ìì" $
	setMethod
ìì% .
.
ìì. /
IsPublic
ìì/ 7
)
ìì7 8
{
îî 
return
ïï 
	setMethod
ïï  
;
ïï  !
}
ññ 
return
òò 
null
òò 
;
òò 
}
ôô 	
internal
†† 
static
†† 

MethodInfo
†† "
GetBaseDefinition
††# 4
(
††4 5
this
††5 9

MethodInfo
††: D

methodInfo
††E O
)
††O P
{
°° 	
return
¢¢ 

methodInfo
¢¢ 
.
¢¢ &
GetRuntimeBaseDefinition
¢¢ 6
(
¢¢6 7
)
¢¢7 8
;
¢¢8 9
}
££ 	
internal
™™ 
static
™™ 
IEnumerable
™™ #
<
™™# $
PropertyInfo
™™$ 0
>
™™0 1
GetProperties
™™2 ?
(
™™? @
this
™™@ D
Type
™™E I
type
™™J N
)
™™N O
{
´´ 	
return
¨¨ !
GetPublicProperties
¨¨ &
(
¨¨& '
type
¨¨' +
,
¨¨+ ,
false
¨¨- 2
)
¨¨C D
;
¨¨D E
}
≠≠ 	
internal
¥¥ 
static
¥¥ 
IEnumerable
¥¥ #
<
¥¥# $
	FieldInfo
¥¥$ -
>
¥¥- .
	GetFields
¥¥/ 8
(
¥¥8 9
this
¥¥9 =
Type
¥¥> B
type
¥¥C G
)
¥¥G H
{
µµ 	
return
∑∑ 
type
∑∑ 
.
∑∑ 
GetRuntimeFields
∑∑ (
(
∑∑( )
)
∑∑) *
.
∏∏ 
Where
∏∏ 
(
∏∏ 
m
∏∏ 
=>
∏∏ 
m
∏∏ 
.
∏∏ 
IsPublic
∏∏ &
)
∏∏& '
;
∏∏' (
}
ππ 	
internal
¬¬ 
static
¬¬ 
IEnumerable
¬¬ #
<
¬¬# $
object
¬¬$ *
>
¬¬* +!
GetCustomAttributes
¬¬, ?
(
¬¬? @
this
¬¬@ D
Type
¬¬E I
type
¬¬J N
,
¬¬N O
Type
¬¬P T
attributeType
¬¬U b
,
¬¬b c
bool
¬¬d h
inherit
¬¬i p
)
¬¬p q
{
√√ 	
return
ƒƒ 
type
ƒƒ 
.
ƒƒ 
GetTypeInfo
ƒƒ #
(
ƒƒ# $
)
ƒƒ$ %
.
ƒƒ% &!
GetCustomAttributes
ƒƒ& 9
(
ƒƒ9 :
attributeType
ƒƒ: G
,
ƒƒG H
inherit
ƒƒI P
)
ƒƒP Q
;
ƒƒQ R
}
≈≈ 	
internal
ÕÕ 
static
ÕÕ 
IEnumerable
ÕÕ #
<
ÕÕ# $
object
ÕÕ$ *
>
ÕÕ* +!
GetCustomAttributes
ÕÕ, ?
(
ÕÕ? @
this
ÕÕ@ D
Type
ÕÕE I
type
ÕÕJ N
,
ÕÕN O
bool
ÕÕP T
inherit
ÕÕU \
)
ÕÕ\ ]
{
ŒŒ 	
return
œœ 
type
œœ 
.
œœ 
GetTypeInfo
œœ #
(
œœ# $
)
œœ$ %
.
œœ% &!
GetCustomAttributes
œœ& 9
(
œœ9 :
inherit
œœ: A
)
œœA B
;
œœB C
}
–– 	
internal
◊◊ 
static
◊◊ 
Type
◊◊ 
[
◊◊ 
]
◊◊ !
GetGenericArguments
◊◊ 2
(
◊◊2 3
this
◊◊3 7
Type
◊◊8 <
type
◊◊= A
)
◊◊A B
{
ÿÿ 	
if
ŸŸ 
(
ŸŸ 
type
ŸŸ 
.
ŸŸ 
GetTypeInfo
ŸŸ  
(
ŸŸ  !
)
ŸŸ! "
.
ŸŸ" #%
IsGenericTypeDefinition
ŸŸ# :
)
ŸŸ: ;
{
⁄⁄ 
return
€€ 
type
€€ 
.
€€ 
GetTypeInfo
€€ '
(
€€' (
)
€€( )
.
€€) *#
GenericTypeParameters
€€* ?
;
€€? @
}
‹‹ 
else
›› 
{
ﬁﬁ 
return
ﬂﬂ 
type
ﬂﬂ 
.
ﬂﬂ "
GenericTypeArguments
ﬂﬂ 0
;
ﬂﬂ0 1
}
‡‡ 
}
·· 	
internal
ËË 
static
ËË 
IEnumerable
ËË #
<
ËË# $
Type
ËË$ (
>
ËË( )
GetInterfaces
ËË* 7
(
ËË7 8
this
ËË8 <
Type
ËË= A
type
ËËB F
)
ËËF G
{
ÈÈ 	
return
ÍÍ 
type
ÍÍ 
.
ÍÍ 
GetTypeInfo
ÍÍ #
(
ÍÍ# $
)
ÍÍ$ %
.
ÍÍ% &#
ImplementedInterfaces
ÍÍ& ;
;
ÍÍ; <
}
ÎÎ 	
internal
ÛÛ 
static
ÛÛ 
bool
ÛÛ 
IsInstanceOfType
ÛÛ -
(
ÛÛ- .
this
ÛÛ. 2
Type
ÛÛ3 7
type
ÛÛ8 <
,
ÛÛ< =
object
ÛÛ> D
obj
ÛÛE H
)
ÛÛH I
{
ÙÙ 	
return
ıı 
type
ıı 
.
ıı 
GetTypeInfo
ıı #
(
ıı# $
)
ıı$ %
.
ıı% &
IsAssignableFrom
ıı& 6
(
ıı6 7
obj
ıı7 :
.
ıı: ;
GetType
ıı; B
(
ııB C
)
ııC D
.
ııD E
GetTypeInfo
ııE P
(
ııP Q
)
ııQ R
)
ııR S
;
ııS T
}
ˆˆ 	
internal
ÉÉ 
static
ÉÉ 
Type
ÉÉ 
GetType
ÉÉ $
(
ÉÉ$ %
this
ÉÉ% )
Assembly
ÉÉ* 2
assembly
ÉÉ3 ;
,
ÉÉ; <
string
ÉÉ= C
typeName
ÉÉD L
,
ÉÉL M
bool
ÉÉN R
throwOnError
ÉÉS _
)
ÉÉ_ `
{
ÑÑ 	
Type
ÖÖ 
type
ÖÖ 
=
ÖÖ 
assembly
ÖÖ  
.
ÖÖ  !
GetType
ÖÖ! (
(
ÖÖ( )
typeName
ÖÖ) 1
)
ÖÖ1 2
;
ÖÖ2 3
if
ÜÜ 
(
ÜÜ 
type
ÜÜ 
==
ÜÜ 
null
ÜÜ 
&&
ÜÜ 
throwOnError
ÜÜ  ,
)
ÜÜ, -
{
áá 
throw
àà 
new
àà 
TypeLoadException
àà +
(
àà+ ,
)
àà, -
;
àà- .
}
ââ 
return
ãã 
type
ãã 
;
ãã 
}
åå 	
internal
ìì 
static
ìì 
IEnumerable
ìì #
<
ìì# $
Type
ìì$ (
>
ìì( )
GetTypes
ìì* 2
(
ìì2 3
this
ìì3 7
Assembly
ìì8 @
assembly
ììA I
)
ììI J
{
îî 	
return
ïï 
assembly
ïï 
.
ïï 
DefinedTypes
ïï (
.
ïï( )
Select
ïï) /
(
ïï/ 0
dt
ïï0 2
=>
ïï3 5
dt
ïï6 8
.
ïï8 9
AsType
ïï9 ?
(
ïï? @
)
ïï@ A
)
ïïA B
;
ïïB C
}
ññ 	
internal
ûû 
static
ûû 
	FieldInfo
ûû !
GetField
ûû" *
(
ûû* +
this
ûû+ /
Type
ûû0 4
type
ûû5 9
,
ûû9 :
string
ûû; A
name
ûûB F
)
ûûF G
{
üü 	
return
†† 
type
†† 
.
†† 
	GetFields
†† !
(
††! "
)
††" #
.
††# $
SingleOrDefault
††$ 3
(
††3 4
field
††4 9
=>
††: <
field
††= B
.
††B C
Name
††C G
==
††H J
name
††K O
)
††O P
;
††P Q
}
°° 	
private
®® 
static
®® 
bool
®® 

IsInstance
®® &
(
®®& '
PropertyInfo
®®' 3
propertyInfo
®®4 @
)
®®@ A
{
©© 	
return
™™ 
(
™™ 
propertyInfo
™™  
.
™™  !
	GetMethod
™™! *
!=
™™+ -
null
™™. 2
&&
™™3 5
!
™™6 7
propertyInfo
™™7 C
.
™™C D
	GetMethod
™™D M
.
™™M N
IsStatic
™™N V
)
™™V W
||
™™X Z
(
™™[ \
propertyInfo
™™\ h
.
™™h i
	SetMethod
™™i r
!=
™™s u
null
™™v z
&&
™™{ }
!
™™~ 
propertyInfo™™ ã
.™™ã å
	SetMethod™™å ï
.™™ï ñ
IsStatic™™ñ û
)™™û ü
;™™ü †
}
´´ 	
private
≤≤ 
static
≤≤ 
bool
≤≤ 
IsPublic
≤≤ $
(
≤≤$ %
PropertyInfo
≤≤% 1
propertyInfo
≤≤2 >
)
≤≤> ?
{
≥≥ 	
return
¥¥ 
(
¥¥ 
propertyInfo
¥¥  
.
¥¥  !
	GetMethod
¥¥! *
!=
¥¥+ -
null
¥¥. 2
&&
¥¥3 5
propertyInfo
¥¥6 B
.
¥¥B C
	GetMethod
¥¥C L
.
¥¥L M
IsPublic
¥¥M U
)
¥¥U V
||
¥¥W Y
(
¥¥Z [
propertyInfo
¥¥[ g
.
¥¥g h
	SetMethod
¥¥h q
!=
¥¥r t
null
¥¥u y
&&
¥¥z |
propertyInfo¥¥} â
.¥¥â ä
	SetMethod¥¥ä ì
.¥¥ì î
IsPublic¥¥î ú
)¥¥ú ù
;¥¥ù û
}
µµ 	
public
¿¿ 
static
¿¿ 
Regex
¿¿ 
CreateCompiled
¿¿ *
(
¿¿* +
string
¿¿+ 1
pattern
¿¿2 9
,
¿¿9 :
RegexOptions
¿¿; G
options
¿¿H O
)
¿¿O P
{
¡¡ 	
options
√√ 
=
√√ 
options
√√ 
|
√√ 
RegexOptions
√√  ,
.
√√, -
None
√√- 1
;
√√1 2
return
«« 
new
«« 
Regex
«« 
(
«« 
pattern
«« $
,
««$ %
options
««& -
)
««- .
;
««. /
}
»» 	
}
…… 
}   Û
:D:\odata.net\src\Microsoft.Spatial\WrappedGeoJsonWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
sealed 
class  
WrappedGeoJsonWriter .
:/ 0
GeoJsonWriterBase1 B
{ 
private 
readonly 
IGeoJsonWriter '
writer( .
;. /
public  
WrappedGeoJsonWriter #
(# $
IGeoJsonWriter$ 2
writer3 9
)9 :
{ 	
this 
. 
writer 
= 
writer  
;  !
}   	
	protected'' 
override'' 
void'' 
StartObjectScope''  0
(''0 1
)''1 2
{(( 	
writer)) 
.)) 
StartObjectScope)) #
())# $
)))$ %
;))% &
}** 	
	protected// 
override// 
void// 
StartArrayScope//  /
(/// 0
)//0 1
{00 	
writer11 
.11 
StartArrayScope11 "
(11" #
)11# $
;11$ %
}22 	
	protected88 
override88 
void88 
AddPropertyName88  /
(88/ 0
String880 6
name887 ;
)88; <
{99 	
writer:: 
.:: 
AddPropertyName:: "
(::" #
name::# '
)::' (
;::( )
};; 	
	protectedAA 
overrideAA 
voidAA 
AddValueAA  (
(AA( )
StringAA) /
valueAA0 5
)AA5 6
{BB 	
writerCC 
.CC 
AddValueCC 
(CC 
valueCC !
)CC! "
;CC" #
}DD 	
	protectedJJ 
overrideJJ 
voidJJ 
AddValueJJ  (
(JJ( )
doubleJJ) /
valueJJ0 5
)JJ5 6
{KK 	
writerLL 
.LL 
AddValueLL 
(LL 
valueLL !
)LL! "
;LL" #
}MM 	
	protectedRR 
overrideRR 
voidRR 
EndArrayScopeRR  -
(RR- .
)RR. /
{SS 	
writerTT 
.TT 
EndArrayScopeTT  
(TT  !
)TT! "
;TT" #
}UU 	
	protectedZZ 
overrideZZ 
voidZZ 
EndObjectScopeZZ  .
(ZZ. /
)ZZ/ 0
{[[ 	
writer\\ 
.\\ 
EndObjectScope\\ !
(\\! "
)\\" #
;\\# $
}]] 	
}`` 
}aa ˚%
JD:\odata.net\src\Microsoft.Spatial\GeoJsonObjectFormatterImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 0
$GeoJsonObjectFormatterImplementation 7
:8 9"
GeoJsonObjectFormatter: P
{ 
private 
readonly !
SpatialImplementation .
creator/ 6
;6 7
private 
SpatialBuilder 
builder &
;& '
private 
SpatialPipeline 
parsePipeline  -
;- .
public## 0
$GeoJsonObjectFormatterImplementation## 3
(##3 4!
SpatialImplementation##4 I
creator##J Q
)##Q R
{$$ 	
this%% 
.%% 
creator%% 
=%% 
creator%% "
;%%" #
}&& 	
public.. 
override.. 
T.. 
Read.. 
<.. 
T..  
>..  !
(..! "
IDictionary.." -
<..- .
string... 4
,..4 5
object..6 <
>..< =
source..> D
)..D E
{// 	
this00 
.00 
EnsureParsePipeline00 $
(00$ %
)00% &
;00& '
if11 
(11 
typeof11 
(11 
Geometry11 
)11  
.11  !
IsAssignableFrom11! 1
(111 2
typeof112 8
(118 9
T119 :
)11: ;
)11; <
)11< =
{22 
new33 
GeoJsonObjectReader33 '
(33' (
this33( ,
.33, -
builder33- 4
)334 5
.335 6
ReadGeometry336 B
(33B C
source33C I
)33I J
;33J K
return44 
this44 
.44 
builder44 #
.44# $
ConstructedGeometry44$ 7
as448 :
T44; <
;44< =
}55 
new77 
GeoJsonObjectReader77 #
(77# $
this77$ (
.77( )
builder77) 0
)770 1
.771 2
ReadGeography772 ?
(77? @
source77@ F
)77F G
;77G H
return88 
this88 
.88 
builder88 
.88   
ConstructedGeography88  4
as885 7
T888 9
;889 :
}99 	
public@@ 
override@@ 
IDictionary@@ #
<@@# $
string@@$ *
,@@* +
object@@, 2
>@@2 3
Write@@4 9
(@@9 :
ISpatial@@: B
value@@C H
)@@H I
{AA 	
varBB 
writerBB 
=BB 
newBB 
GeoJsonObjectWriterBB 0
(BB0 1
)BB1 2
;BB2 3
valueCC 
.CC 
SendToCC 
(CC 
newCC 
ForwardingSegmentCC .
(CC. /
writerCC/ 5
)CC5 6
)CC6 7
;CC7 8
returnDD 
writerDD 
.DD 

JsonObjectDD $
;DD$ %
}EE 	
publicJJ 
overrideJJ 
SpatialPipelineJJ '
CreateWriterJJ( 4
(JJ4 5
IGeoJsonWriterJJ5 C
writerJJD J
)JJJ K
{KK 	
returnLL 
newLL 
ForwardingSegmentLL (
(LL( )
newLL) , 
WrappedGeoJsonWriterLL- A
(LLA B
writerLLB H
)LLH I
)LLI J
;LLJ K
}MM 	
privateRR 
voidRR 
EnsureParsePipelineRR (
(RR( )
)RR) *
{SS 	
ifTT 
(TT 
thisTT 
.TT 
parsePipelineTT "
==TT# %
nullTT& *
)TT* +
{UU 
thisVV 
.VV 
builderVV 
=VV 
thisVV #
.VV# $
creatorVV$ +
.VV+ ,
CreateBuilderVV, 9
(VV9 :
)VV: ;
;VV; <
thisWW 
.WW 
parsePipelineWW "
=WW# $
thisWW% )
.WW) *
creatorWW* 1
.WW1 2
CreateValidatorWW2 A
(WWA B
)WWB C
.WWC D
ChainToWWD K
(WWK L
thisWWL P
.WWP Q
builderWWQ X
)WWX Y
;WWY Z
}XX 
elseYY 
{ZZ 
this[[ 
.[[ 
parsePipeline[[ "
.[[" #
GeographyPipeline[[# 4
.[[4 5
Reset[[5 :
([[: ;
)[[; <
;[[< =
this\\ 
.\\ 
parsePipeline\\ "
.\\" #
GeometryPipeline\\# 3
.\\3 4
Reset\\4 9
(\\9 :
)\\: ;
;\\; <
}]] 
}^^ 	
}__ 
}`` ®H
9D:\odata.net\src\Microsoft.Spatial\GeoJsonObjectWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
sealed 
class 
GeoJsonObjectWriter -
:. /
GeoJsonWriterBase0 A
{ 
private 
readonly 
Stack 
< 
object %
>% &

containers' 1
=2 3
new4 7
Stack8 =
<= >
object> D
>D E
(E F
)F G
;G H
private 
string 
currentPropertyName *
;* +
private   
object   
lastCompletedObject   *
;  * +
internal%% 
IDictionary%% 
<%% 
String%% #
,%%# $
Object%%% +
>%%+ ,

JsonObject%%- 7
{&& 	
get'' 
{(( 
return)) 
lastCompletedObject)) *
as))+ -
IDictionary)). 9
<))9 :
String)): @
,))@ A
Object))B H
>))H I
;))I J
}** 
}++ 	
private00 
bool00 
IsArray00 
{11 	
get22 
{22 
return22 
this22 
.22 

containers22 (
.22( )
Peek22) -
(22- .
)22. /
is220 2
IList223 8
;228 9
}22: ;
}33 	
	protected88 
override88 
void88 
StartObjectScope88  0
(880 1
)881 2
{99 	
object:: 

jsonObject:: 
=:: 
new::  #

Dictionary::$ .
<::. /
String::/ 5
,::5 6
Object::7 =
>::= >
(::> ?
StringComparer::? M
.::M N
Ordinal::N U
)::U V
;::V W
if<< 
(<< 
this<< 
.<< 

containers<< 
.<<  
Count<<  %
><<& '
$num<<( )
)<<) *
{== 
this>> 
.>> 

AddToScope>> 
(>>  

jsonObject>>  *
)>>* +
;>>+ ,
}?? 
thisBB 
.BB 

containersBB 
.BB 
PushBB  
(BB  !

jsonObjectBB! +
)BB+ ,
;BB, -
}CC 	
	protectedHH 
overrideHH 
voidHH 
StartArrayScopeHH  /
(HH/ 0
)HH0 1
{II 	
DebugJJ 
.JJ 
AssertJJ 
(JJ 
thisJJ 
.JJ 

containersJJ (
.JJ( )
CountJJ) .
>JJ/ 0
$numJJ1 2
,JJ2 3
$strJJ4 f
)JJf g
;JJg h
objectKK 

jsonObjectKK 
=KK 
newKK  #
ListKK$ (
<KK( )
ObjectKK) /
>KK/ 0
(KK0 1
)KK1 2
;KK2 3
thisLL 
.LL 

AddToScopeLL 
(LL 

jsonObjectLL &
)LL& '
;LL' (
thisMM 
.MM 

containersMM 
.MM 
PushMM  
(MM  !

jsonObjectMM! +
)MM+ ,
;MM, -
}NN 	
	protectedTT 
overrideTT 
voidTT 
AddPropertyNameTT  /
(TT/ 0
StringTT0 6
nameTT7 ;
)TT; <
{UU 	
DebugVV 
.VV 
AssertVV 
(VV 
thisVV 
.VV 
currentPropertyNameVV 1
==VV2 4
nullVV5 9
,VV9 :
$strVV; s
)VVs t
;VVt u
thisWW 
.WW 
currentPropertyNameWW $
=WW% &
nameWW' +
;WW+ ,
}XX 	
	protected^^ 
override^^ 
void^^ 
AddValue^^  (
(^^( )
String^^) /
value^^0 5
)^^5 6
{__ 	
this`` 
.`` 

AddToScope`` 
(`` 
value`` !
)``! "
;``" #
}aa 	
	protectedgg 
overridegg 
voidgg 
AddValuegg  (
(gg( )
doublegg) /
valuegg0 5
)gg5 6
{hh 	
thisii 
.ii 

AddToScopeii 
(ii 
valueii !
)ii! "
;ii" #
}jj 	
	protectedoo 
overrideoo 
voidoo 
EndArrayScopeoo  -
(oo- .
)oo. /
{pp 	
thisqq 
.qq 

containersqq 
.qq 
Popqq 
(qq  
)qq  !
;qq! "
}rr 	
	protectedww 
overrideww 
voidww 
EndObjectScopeww  .
(ww. /
)ww/ 0
{xx 	
objectyy 
oyy 
=yy 
thisyy 
.yy 

containersyy &
.yy& '
Popyy' *
(yy* +
)yy+ ,
;yy, -
if{{ 
({{ 
this{{ 
.{{ 

containers{{ 
.{{  
Count{{  %
=={{& (
$num{{) *
){{* +
{|| 
this}} 
.}} 
lastCompletedObject}} (
=}}) *
o}}+ ,
;}}, -
}~~ 
} 	
private
ÖÖ 
void
ÖÖ 

AddToScope
ÖÖ 
(
ÖÖ  
object
ÖÖ  &

jsonObject
ÖÖ' 1
)
ÖÖ1 2
{
ÜÜ 	
Debug
áá 
.
áá 
Assert
áá 
(
áá 
this
áá 
.
áá 

containers
áá (
.
áá( )
Count
áá) .
>
áá/ 0
$num
áá1 2
,
áá2 3
$str
áá4 O
)
ááO P
;
ááP Q
if
ââ 
(
ââ 
this
ââ 
.
ââ 
IsArray
ââ 
)
ââ 
{
ää 
Debug
ãã 
.
ãã 
Assert
ãã 
(
ãã 
this
ãã !
.
ãã! ",
GetAndClearCurrentPropertyName
ãã" @
(
ãã@ A
)
ããA B
==
ããC E
null
ããF J
,
ããJ K
$str
ããL n
)
ããn o
;
ãão p
this
åå 
.
åå 
AsList
åå 
(
åå 
)
åå 
.
åå 
Add
åå !
(
åå! "

jsonObject
åå" ,
)
åå, -
;
åå- .
}
çç 
else
éé 
{
èè 
string
êê 
name
êê 
=
êê 
this
êê "
.
êê" #,
GetAndClearCurrentPropertyName
êê# A
(
êêA B
)
êêB C
;
êêC D
Debug
ëë 
.
ëë 
Assert
ëë 
(
ëë 
name
ëë !
!=
ëë" $
null
ëë% )
,
ëë) *
$str
ëë+ P
)
ëëP Q
;
ëëQ R
this
íí 
.
íí 
AsDictionary
íí !
(
íí! "
)
íí" #
.
íí# $
Add
íí$ '
(
íí' (
name
íí( ,
,
íí, -

jsonObject
íí. 8
)
íí8 9
;
íí9 :
}
ìì 
}
îî 	
private
†† 
String
†† ,
GetAndClearCurrentPropertyName
†† 5
(
††5 6
)
††6 7
{
°° 	
String
¢¢ 
name
¢¢ 
=
¢¢ 
this
¢¢ 
.
¢¢ !
currentPropertyName
¢¢ 2
;
¢¢2 3
this
££ 
.
££ !
currentPropertyName
££ $
=
££% &
null
££' +
;
££+ ,
return
§§ 
name
§§ 
;
§§ 
}
•• 	
private
´´ 
IList
´´ 
AsList
´´ 
(
´´ 
)
´´ 
{
¨¨ 	
var
≠≠ 
ret
≠≠ 
=
≠≠ 
this
≠≠ 
.
≠≠ 

containers
≠≠ %
.
≠≠% &
Peek
≠≠& *
(
≠≠* +
)
≠≠+ ,
as
≠≠- /
IList
≠≠0 5
;
≠≠5 6
Debug
ÆÆ 
.
ÆÆ 
Assert
ÆÆ 
(
ÆÆ 
ret
ÆÆ 
!=
ÆÆ 
null
ÆÆ  $
,
ÆÆ$ %
$str
ÆÆ& V
)
ÆÆV W
;
ÆÆW X
return
ØØ 
ret
ØØ 
;
ØØ 
}
∞∞ 	
private
∂∂ 
IDictionary
∂∂ 
<
∂∂ 
String
∂∂ "
,
∂∂" #
Object
∂∂$ *
>
∂∂* +
AsDictionary
∂∂, 8
(
∂∂8 9
)
∂∂9 :
{
∑∑ 	
var
∏∏ 
ret
∏∏ 
=
∏∏ 
this
∏∏ 
.
∏∏ 

containers
∏∏ %
.
∏∏% &
Peek
∏∏& *
(
∏∏* +
)
∏∏+ ,
as
∏∏- /
IDictionary
∏∏0 ;
<
∏∏; <
String
∏∏< B
,
∏∏B C
Object
∏∏D J
>
∏∏J K
;
∏∏K L
Debug
ππ 
.
ππ 
Assert
ππ 
(
ππ 
ret
ππ 
!=
ππ 
null
ππ  $
,
ππ$ %
$str
ππ& b
)
ππb c
;
ππc d
return
∫∫ 
ret
∫∫ 
;
∫∫ 
}
ªª 	
}
ºº 
}ΩΩ ›±
7D:\odata.net\src\Microsoft.Spatial\GeoJsonWriterBase.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
GeoJsonWriterBase -
:. /
DrawBoth0 8
{ 
private 
readonly 
Stack 
< 
SpatialType *
>* +
stack, 1
;1 2
private 
CoordinateSystem  #
currentCoordinateSystem! 8
;8 9
private 
bool 
figureDrawn  
;  !
public$$ 
GeoJsonWriterBase$$  
($$  !
)$$! "
{%% 	
this&& 
.&& 
stack&& 
=&& 
new&& 
Stack&& "
<&&" #
SpatialType&&# .
>&&. /
(&&/ 0
)&&0 1
;&&1 2
}'' 	
private,, 
bool,, 
ShapeHasObjectScope,, (
{-- 	
get.. 
{// 
return00 
this00 
.00 

IsTopLevel00 &
||00' )
this00* .
.00. /
stack00/ 4
.004 5
Peek005 9
(009 :
)00: ;
==00< >
SpatialType00? J
.00J K

Collection00K U
;00U V
}11 
}22 	
private77 
bool77 

IsTopLevel77 
{88 	
get99 
{:: 
return;; 
this;; 
.;; 
stack;; !
.;;! "
Count;;" '
==;;( *
$num;;+ ,
;;;, -
}<< 
}== 	
privateBB 
boolBB 
FigureHasArrayScopeBB (
{CC 	
getDD 
{EE 
returnFF 
thisFF 
.FF 
stackFF !
.FF! "
PeekFF" &
(FF& '
)FF' (
!=FF) +
SpatialTypeFF, 7
.FF7 8
PointFF8 =
;FF= >
}GG 
}HH 	
	protectedSS 
overrideSS 
GeographyPositionSS ,
OnLineToSS- 5
(SS5 6
GeographyPositionSS6 G
positionSSH P
)SSP Q
{TT 	
WriteControlPointVV 
(VV 
positionVV &
.VV& '
	LongitudeVV' 0
,VV0 1
positionVV2 :
.VV: ;
LatitudeVV; C
,VVC D
positionVVE M
.VVM N
ZVVN O
,VVO P
positionVVQ Y
.VVY Z
MVVZ [
)VV[ \
;VV\ ]
returnWW 
positionWW 
;WW 
}XX 	
	protectedaa 
overrideaa 
GeometryPositionaa +
OnLineToaa, 4
(aa4 5
GeometryPositionaa5 E
positionaaF N
)aaN O
{bb 	
thiscc 
.cc 
WriteControlPointcc "
(cc" #
positioncc# +
.cc+ ,
Xcc, -
,cc- .
positioncc/ 7
.cc7 8
Ycc8 9
,cc9 :
positioncc; C
.ccC D
ZccD E
,ccE F
positionccG O
.ccO P
MccP Q
)ccQ R
;ccR S
returndd 
positiondd 
;dd 
}ee 	
	protectednn 
overridenn 
SpatialTypenn &
OnBeginGeographynn' 7
(nn7 8
SpatialTypenn8 C
typennD H
)nnH I
{oo 	

BeginShapepp 
(pp 
typepp 
,pp 
CoordinateSystempp -
.pp- .
DefaultGeographypp. >
)pp> ?
;pp? @
returnqq 
typeqq 
;qq 
}rr 	
	protected{{ 
override{{ 
SpatialType{{ &
OnBeginGeometry{{' 6
({{6 7
SpatialType{{7 B
type{{C G
){{G H
{|| 	

BeginShape}} 
(}} 
type}} 
,}} 
CoordinateSystem}} -
.}}- .
DefaultGeometry}}. =
)}}= >
;}}> ?
return~~ 
type~~ 
;~~ 
} 	
	protected
ÜÜ 
override
ÜÜ 
GeographyPosition
ÜÜ ,
OnBeginFigure
ÜÜ- :
(
ÜÜ: ;
GeographyPosition
ÜÜ; L
position
ÜÜM U
)
ÜÜU V
{
áá 	
BeginFigure
àà 
(
àà 
)
àà 
;
àà 
WriteControlPoint
ââ 
(
ââ 
position
ââ &
.
ââ& '
	Longitude
ââ' 0
,
ââ0 1
position
ââ2 :
.
ââ: ;
Latitude
ââ; C
,
ââC D
position
ââE M
.
ââM N
Z
ââN O
,
ââO P
position
ââQ Y
.
ââY Z
M
ââZ [
)
ââ[ \
;
ââ\ ]
return
ää 
position
ää 
;
ää 
}
ãã 	
	protected
íí 
override
íí 
GeometryPosition
íí +
OnBeginFigure
íí, 9
(
íí9 :
GeometryPosition
íí: J
position
ííK S
)
ííS T
{
ìì 	
BeginFigure
îî 
(
îî 
)
îî 
;
îî 
this
ïï 
.
ïï 
WriteControlPoint
ïï "
(
ïï" #
position
ïï# +
.
ïï+ ,
X
ïï, -
,
ïï- .
position
ïï/ 7
.
ïï7 8
Y
ïï8 9
,
ïï9 :
position
ïï; C
.
ïïC D
Z
ïïD E
,
ïïE F
position
ïïG O
.
ïïO P
M
ïïP Q
)
ïïQ R
;
ïïR S
return
ññ 
position
ññ 
;
ññ 
}
óó 	
	protected
úú 
override
úú 
void
úú 
OnEndFigure
úú  +
(
úú+ ,
)
úú, -
{
ùù 	
	EndFigure
ûû 
(
ûû 
)
ûû 
;
ûû 
}
üü 	
	protected
§§ 
override
§§ 
void
§§ 
OnEndGeography
§§  .
(
§§. /
)
§§/ 0
{
•• 	
EndShape
¶¶ 
(
¶¶ 
)
¶¶ 
;
¶¶ 
}
ßß 	
	protected
¨¨ 
override
¨¨ 
void
¨¨ 
OnEndGeometry
¨¨  -
(
¨¨- .
)
¨¨. /
{
≠≠ 	
EndShape
ÆÆ 
(
ÆÆ 
)
ÆÆ 
;
ÆÆ 
}
ØØ 	
	protected
∏∏ 
override
∏∏ 
CoordinateSystem
∏∏ +#
OnSetCoordinateSystem
∏∏, A
(
∏∏A B
CoordinateSystem
∏∏B R
coordinateSystem
∏∏S c
)
∏∏c d
{
ππ 	!
SetCoordinateSystem
∫∫ 
(
∫∫  
coordinateSystem
∫∫  0
)
∫∫0 1
;
∫∫1 2
return
ªª 
coordinateSystem
ªª #
;
ªª# $
}
ºº 	
	protected
¡¡ 
override
¡¡ 
void
¡¡ 
OnReset
¡¡  '
(
¡¡' (
)
¡¡( )
{
¬¬ 	
Reset
√√ 
(
√√ 
)
√√ 
;
√√ 
}
ƒƒ 	
	protected
ŒŒ 
abstract
ŒŒ 
void
ŒŒ 
AddPropertyName
ŒŒ  /
(
ŒŒ/ 0
String
ŒŒ0 6
name
ŒŒ7 ;
)
ŒŒ; <
;
ŒŒ< =
	protected
‘‘ 
abstract
‘‘ 
void
‘‘ 
AddValue
‘‘  (
(
‘‘( )
String
‘‘) /
value
‘‘0 5
)
‘‘5 6
;
‘‘6 7
	protected
⁄⁄ 
abstract
⁄⁄ 
void
⁄⁄ 
AddValue
⁄⁄  (
(
⁄⁄( )
double
⁄⁄) /
value
⁄⁄0 5
)
⁄⁄5 6
;
⁄⁄6 7
	protected
ﬂﬂ 
abstract
ﬂﬂ 
void
ﬂﬂ 
StartObjectScope
ﬂﬂ  0
(
ﬂﬂ0 1
)
ﬂﬂ1 2
;
ﬂﬂ2 3
	protected
‰‰ 
abstract
‰‰ 
void
‰‰ 
StartArrayScope
‰‰  /
(
‰‰/ 0
)
‰‰0 1
;
‰‰1 2
	protected
ÈÈ 
abstract
ÈÈ 
void
ÈÈ 
EndObjectScope
ÈÈ  .
(
ÈÈ. /
)
ÈÈ/ 0
;
ÈÈ0 1
	protected
ÓÓ 
abstract
ÓÓ 
void
ÓÓ 
EndArrayScope
ÓÓ  -
(
ÓÓ- .
)
ÓÓ. /
;
ÓÓ/ 0
	protected
ıı 
virtual
ıı 
void
ıı 
Reset
ıı $
(
ıı$ %
)
ıı% &
{
ˆˆ 	
this
˜˜ 
.
˜˜ 
stack
˜˜ 
.
˜˜ 
Clear
˜˜ 
(
˜˜ 
)
˜˜ 
;
˜˜ 
this
¯¯ 
.
¯¯ %
currentCoordinateSystem
¯¯ (
=
¯¯) *
default
¯¯+ 2
(
¯¯2 3
CoordinateSystem
¯¯3 C
)
¯¯C D
;
¯¯D E
}
˘˘ 	
private
ÇÇ 
static
ÇÇ 
string
ÇÇ  
GetSpatialTypeName
ÇÇ 0
(
ÇÇ0 1
SpatialType
ÇÇ1 <
type
ÇÇ= A
)
ÇÇA B
{
ÉÉ 	
switch
ÑÑ 
(
ÑÑ 
type
ÑÑ 
)
ÑÑ 
{
ÖÖ 
case
ÜÜ 
SpatialType
ÜÜ  
.
ÜÜ  !
Point
ÜÜ! &
:
ÜÜ& '
return
áá 
GeoJsonConstants
áá +
.
áá+ ,"
TypeMemberValuePoint
áá, @
;
áá@ A
case
àà 
SpatialType
àà  
.
àà  !

LineString
àà! +
:
àà+ ,
return
ââ 
GeoJsonConstants
ââ +
.
ââ+ ,'
TypeMemberValueLineString
ââ, E
;
ââE F
case
ää 
SpatialType
ää  
.
ää  !
Polygon
ää! (
:
ää( )
return
ãã 
GeoJsonConstants
ãã +
.
ãã+ ,$
TypeMemberValuePolygon
ãã, B
;
ããB C
case
åå 
SpatialType
åå  
.
åå  !

MultiPoint
åå! +
:
åå+ ,
return
çç 
GeoJsonConstants
çç +
.
çç+ ,'
TypeMemberValueMultiPoint
çç, E
;
ççE F
case
éé 
SpatialType
éé  
.
éé  !
MultiLineString
éé! 0
:
éé0 1
return
èè 
GeoJsonConstants
èè +
.
èè+ ,,
TypeMemberValueMultiLineString
èè, J
;
èèJ K
case
êê 
SpatialType
êê  
.
êê  !
MultiPolygon
êê! -
:
êê- .
return
ëë 
GeoJsonConstants
ëë +
.
ëë+ ,)
TypeMemberValueMultiPolygon
ëë, G
;
ëëG H
case
íí 
SpatialType
íí  
.
íí  !

Collection
íí! +
:
íí+ ,
return
ìì 
GeoJsonConstants
ìì +
.
ìì+ ,/
!TypeMemberValueGeometryCollection
ìì, M
;
ììM N
default
îî 
:
îî 
Debug
ïï 
.
ïï 
Assert
ïï  
(
ïï  !
false
ïï! &
,
ïï& '
$str
ïï( 6
+
ïï7 8
type
ïï9 =
+
ïï> ?
$str
ïï@ o
)
ïïo p
;
ïïp q
throw
ññ 
new
ññ %
NotImplementedException
ññ 5
(
ññ5 6
)
ññ6 7
;
ññ7 8
}
óó 
}
òò 	
private
üü 
static
üü 
string
üü 
GetDataName
üü )
(
üü) *
SpatialType
üü* 5
type
üü6 :
)
üü: ;
{
†† 	
switch
°° 
(
°° 
type
°° 
)
°° 
{
¢¢ 
case
££ 
SpatialType
££  
.
££  !
Point
££! &
:
££& '
case
§§ 
SpatialType
§§  
.
§§  !

LineString
§§! +
:
§§+ ,
case
•• 
SpatialType
••  
.
••  !
Polygon
••! (
:
••( )
case
¶¶ 
SpatialType
¶¶  
.
¶¶  !

MultiPoint
¶¶! +
:
¶¶+ ,
case
ßß 
SpatialType
ßß  
.
ßß  !
MultiLineString
ßß! 0
:
ßß0 1
case
®® 
SpatialType
®®  
.
®®  !
MultiPolygon
®®! -
:
®®- .
return
©© 
GeoJsonConstants
©© +
.
©©+ ,#
CoordinatesMemberName
©©, A
;
©©A B
case
™™ 
SpatialType
™™  
.
™™  !

Collection
™™! +
:
™™+ ,
return
´´ 
GeoJsonConstants
´´ +
.
´´+ ,"
GeometriesMemberName
´´, @
;
´´@ A
default
¨¨ 
:
¨¨ 
Debug
≠≠ 
.
≠≠ 
Assert
≠≠  
(
≠≠  !
false
≠≠! &
,
≠≠& '
$str
≠≠( 6
+
≠≠7 8
type
≠≠9 =
+
≠≠> ?
$str
≠≠@ o
)
≠≠o p
;
≠≠p q
throw
ÆÆ 
new
ÆÆ %
NotImplementedException
ÆÆ 5
(
ÆÆ5 6
)
ÆÆ6 7
;
ÆÆ7 8
}
ØØ 
}
∞∞ 	
private
∑∑ 
static
∑∑ 
bool
∑∑ 
TypeHasArrayScope
∑∑ -
(
∑∑- .
SpatialType
∑∑. 9
type
∑∑: >
)
∑∑> ?
{
∏∏ 	
return
ππ 
type
ππ 
!=
ππ 
SpatialType
ππ &
.
ππ& '
Point
ππ' ,
&&
ππ- /
type
ππ0 4
!=
ππ5 7
SpatialType
ππ8 C
.
ππC D

LineString
ππD N
;
ππN O
}
∫∫ 	
private
¿¿ 
void
¿¿ !
SetCoordinateSystem
¿¿ (
(
¿¿( )
CoordinateSystem
¿¿) 9
coordinateSystem
¿¿: J
)
¿¿J K
{
¡¡ 	
this
¬¬ 
.
¬¬ %
currentCoordinateSystem
¬¬ (
=
¬¬) *
coordinateSystem
¬¬+ ;
;
¬¬; <
}
√√ 	
private
   
void
   

BeginShape
   
(
    
SpatialType
    +
type
  , 0
,
  0 1
CoordinateSystem
  2 B%
defaultCoordinateSystem
  C Z
)
  Z [
{
ÀÀ 	
if
ÃÃ 
(
ÃÃ 
this
ÃÃ 
.
ÃÃ %
currentCoordinateSystem
ÃÃ ,
==
ÃÃ- /
null
ÃÃ0 4
)
ÃÃ4 5
{
ÕÕ 
this
ŒŒ 
.
ŒŒ %
currentCoordinateSystem
ŒŒ ,
=
ŒŒ- .%
defaultCoordinateSystem
ŒŒ/ F
;
ŒŒF G
}
œœ 
if
—— 
(
—— 
this
—— 
.
—— !
ShapeHasObjectScope
—— (
)
——( )
{
““ 
this
”” 
.
”” 
WriteShapeHeader
”” %
(
””% &
type
””& *
)
””* +
;
””+ ,
}
‘‘ 
if
÷÷ 
(
÷÷ 
TypeHasArrayScope
÷÷ !
(
÷÷! "
type
÷÷" &
)
÷÷& '
)
÷÷' (
{
◊◊ 
this
ÿÿ 
.
ÿÿ 
StartArrayScope
ÿÿ $
(
ÿÿ$ %
)
ÿÿ% &
;
ÿÿ& '
}
ŸŸ 
this
€€ 
.
€€ 
stack
€€ 
.
€€ 
Push
€€ 
(
€€ 
type
€€  
)
€€  !
;
€€! "
this
‹‹ 
.
‹‹ 
figureDrawn
‹‹ 
=
‹‹ 
false
‹‹ $
;
‹‹$ %
}
›› 	
private
„„ 
void
„„ 
WriteShapeHeader
„„ %
(
„„% &
SpatialType
„„& 1
type
„„2 6
)
„„6 7
{
‰‰ 	
this
ÂÂ 
.
ÂÂ 
StartObjectScope
ÂÂ !
(
ÂÂ! "
)
ÂÂ" #
;
ÂÂ# $
this
ÊÊ 
.
ÊÊ 
AddPropertyName
ÊÊ  
(
ÊÊ  !
GeoJsonConstants
ÊÊ! 1
.
ÊÊ1 2
TypeMemberName
ÊÊ2 @
)
ÊÊ@ A
;
ÊÊA B
this
ÁÁ 
.
ÁÁ 
AddValue
ÁÁ 
(
ÁÁ  
GetSpatialTypeName
ÁÁ ,
(
ÁÁ, -
type
ÁÁ- 1
)
ÁÁ1 2
)
ÁÁ2 3
;
ÁÁ3 4
this
ËË 
.
ËË 
AddPropertyName
ËË  
(
ËË  !
GetDataName
ËË! ,
(
ËË, -
type
ËË- 1
)
ËË1 2
)
ËË2 3
;
ËË3 4
}
ÈÈ 	
private
ÓÓ 
void
ÓÓ 
BeginFigure
ÓÓ  
(
ÓÓ  !
)
ÓÓ! "
{
ÔÔ 	
if
 
(
 
this
 
.
 !
FigureHasArrayScope
 (
)
( )
{
ÒÒ 
this
ÚÚ 
.
ÚÚ 
StartArrayScope
ÚÚ $
(
ÚÚ$ %
)
ÚÚ% &
;
ÚÚ& '
}
ÛÛ 
this
ıı 
.
ıı 
figureDrawn
ıı 
=
ıı 
true
ıı #
;
ıı# $
}
ˆˆ 	
private
ˇˇ 
void
ˇˇ 
WriteControlPoint
ˇˇ &
(
ˇˇ& '
double
ˇˇ' -
first
ˇˇ. 3
,
ˇˇ3 4
double
ˇˇ5 ;
second
ˇˇ< B
,
ˇˇB C
double
ˇˇD J
?
ˇˇJ K
z
ˇˇL M
,
ˇˇM N
double
ˇˇO U
?
ˇˇU V
m
ˇˇW X
)
ˇˇX Y
{
ÄÄ 	
this
ÅÅ 
.
ÅÅ 
StartArrayScope
ÅÅ  
(
ÅÅ  !
)
ÅÅ! "
;
ÅÅ" #
this
ÇÇ 
.
ÇÇ 
AddValue
ÇÇ 
(
ÇÇ 
first
ÇÇ 
)
ÇÇ  
;
ÇÇ  !
this
ÉÉ 
.
ÉÉ 
AddValue
ÉÉ 
(
ÉÉ 
second
ÉÉ  
)
ÉÉ  !
;
ÉÉ! "
if
ÖÖ 
(
ÖÖ 
z
ÖÖ 
.
ÖÖ 
HasValue
ÖÖ 
)
ÖÖ 
{
ÜÜ 
this
áá 
.
áá 
AddValue
áá 
(
áá 
z
áá 
.
áá  
Value
áá  %
)
áá% &
;
áá& '
if
ââ 
(
ââ 
m
ââ 
.
ââ 
HasValue
ââ 
)
ââ 
{
ää 
this
ãã 
.
ãã 
AddValue
ãã !
(
ãã! "
m
ãã" #
.
ãã# $
Value
ãã$ )
)
ãã) *
;
ãã* +
}
åå 
}
çç 
else
éé 
if
éé 
(
éé 
m
éé 
.
éé 
HasValue
éé 
)
éé  
{
èè 
this
êê 
.
êê 
AddValue
êê 
(
êê 
null
êê "
)
êê" #
;
êê# $
this
ëë 
.
ëë 
AddValue
ëë 
(
ëë 
m
ëë 
.
ëë  
Value
ëë  %
)
ëë% &
;
ëë& '
}
íí 
this
îî 
.
îî 
EndArrayScope
îî 
(
îî 
)
îî  
;
îî  !
}
ïï 	
private
öö 
void
öö 
	EndFigure
öö 
(
öö 
)
öö  
{
õõ 	
if
úú 
(
úú 
this
úú 
.
úú !
FigureHasArrayScope
úú (
)
úú( )
{
ùù 
this
ûû 
.
ûû 
EndArrayScope
ûû "
(
ûû" #
)
ûû# $
;
ûû$ %
}
üü 
}
†† 	
private
•• 
void
•• 
EndShape
•• 
(
•• 
)
•• 
{
¶¶ 	
SpatialType
ßß 
type
ßß 
=
ßß 
this
ßß #
.
ßß# $
stack
ßß$ )
.
ßß) *
Pop
ßß* -
(
ßß- .
)
ßß. /
;
ßß/ 0
if
©© 
(
©© 
TypeHasArrayScope
©© !
(
©©! "
type
©©" &
)
©©& '
)
©©' (
{
™™ 
this
´´ 
.
´´ 
EndArrayScope
´´ "
(
´´" #
)
´´# $
;
´´$ %
}
¨¨ 
else
≠≠ 
if
≠≠ 
(
≠≠ 
!
≠≠ 
this
≠≠ 
.
≠≠ 
figureDrawn
≠≠ &
)
≠≠& '
{
ÆÆ 
this
∞∞ 
.
∞∞ 
StartArrayScope
∞∞ $
(
∞∞$ %
)
∞∞% &
;
∞∞& '
this
±± 
.
±± 
EndArrayScope
±± "
(
±±" #
)
±±# $
;
±±$ %
}
≤≤ 
if
¥¥ 
(
¥¥ 
this
¥¥ 
.
¥¥ 

IsTopLevel
¥¥ 
)
¥¥  
{
µµ 
this
∂∂ 
.
∂∂ 
WriteCrs
∂∂ 
(
∂∂ 
)
∂∂ 
;
∂∂  
}
∑∑ 
if
ππ 
(
ππ 
this
ππ 
.
ππ !
ShapeHasObjectScope
ππ (
)
ππ( )
{
∫∫ 
this
ªª 
.
ªª 
EndObjectScope
ªª #
(
ªª# $
)
ªª$ %
;
ªª% &
}
ºº 
}
ΩΩ 	
private
¬¬ 
void
¬¬ 
WriteCrs
¬¬ 
(
¬¬ 
)
¬¬ 
{
√√ 	
this
   
.
   
AddPropertyName
    
(
    !
GeoJsonConstants
  ! 1
.
  1 2
CrsMemberName
  2 ?
)
  ? @
;
  @ A
this
ÀÀ 
.
ÀÀ 
StartObjectScope
ÀÀ !
(
ÀÀ! "
)
ÀÀ" #
;
ÀÀ# $
this
ÃÃ 
.
ÃÃ 
AddPropertyName
ÃÃ  
(
ÃÃ  !
GeoJsonConstants
ÃÃ! 1
.
ÃÃ1 2
TypeMemberName
ÃÃ2 @
)
ÃÃ@ A
;
ÃÃA B
this
ÕÕ 
.
ÕÕ 
AddValue
ÕÕ 
(
ÕÕ 
GeoJsonConstants
ÕÕ *
.
ÕÕ* + 
CrsTypeMemberValue
ÕÕ+ =
)
ÕÕ= >
;
ÕÕ> ?
this
ŒŒ 
.
ŒŒ 
AddPropertyName
ŒŒ  
(
ŒŒ  !
GeoJsonConstants
ŒŒ! 1
.
ŒŒ1 2%
CrsPropertiesMemberName
ŒŒ2 I
)
ŒŒI J
;
ŒŒJ K
this
œœ 
.
œœ 
StartObjectScope
œœ !
(
œœ! "
)
œœ" #
;
œœ# $
this
–– 
.
–– 
AddPropertyName
––  
(
––  !
GeoJsonConstants
––! 1
.
––1 2 
CrsTypeMemberValue
––2 D
)
––D E
;
––E F
this
—— 
.
—— 
AddValue
—— 
(
—— 
String
——  
.
——  !
Concat
——! '
(
——' (
GeoJsonConstants
——( 8
.
——8 9
CrsValuePrefix
——9 G
,
——G H
$char
——I L
,
——L M
this
——N R
.
——R S%
currentCoordinateSystem
——S j
.
——j k
Id
——k m
)
——m n
)
——n o
;
——o p
this
““ 
.
““ 
EndObjectScope
““ 
(
““  
)
““  !
;
““! "
this
”” 
.
”” 
EndObjectScope
”” 
(
””  
)
””  !
;
””! "
}
‘‘ 	
}
◊◊ 
}ÿÿ Ì
4D:\odata.net\src\Microsoft.Spatial\IGeoJsonWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

	interface 
IGeoJsonWriter #
{ 
void 
StartObjectScope 
( 
) 
;  
void 
EndObjectScope 
( 
) 
; 
void 
StartArrayScope 
( 
) 
; 
void   
EndArrayScope   
(   
)   
;   
void&& 
AddPropertyName&& 
(&& 
string&& #
name&&$ (
)&&( )
;&&) *
void,, 
AddValue,, 
(,, 
double,, 
value,, "
),," #
;,,# $
void22 
AddValue22 
(22 
string22 
value22 "
)22" #
;22# $
}33 
}44 Ê 
JD:\odata.net\src\Microsoft.Spatial\TypeWashedToGeographyLatLongPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 0
$TypeWashedToGeographyLatLongPipeline 7
:8 9
TypeWashedPipeline: L
{ 
private 
readonly 
GeographyPipeline *
output+ 1
;1 2
public 0
$TypeWashedToGeographyLatLongPipeline 3
(3 4
SpatialPipeline4 C
outputD J
)J K
{ 	
this 
. 
output 
= 
output  
;  !
} 	
public"" 
override"" 
bool"" 
IsGeography"" (
{## 	
get$$ 
{$$ 
return$$ 
true$$ 
;$$ 
}$$  
}%% 	
internal++ 
override++ 
void++ 
SetCoordinateSystem++ 2
(++2 3
int++3 6
?++6 7
epsgId++8 >
)++> ?
{,, 	
var-- 
coordinateSystem--  
=--! "
CoordinateSystem--# 3
.--3 4
	Geography--4 =
(--= >
epsgId--> D
)--D E
;--E F
this.. 
... 
output.. 
... 
SetCoordinateSystem.. +
(..+ ,
coordinateSystem.., <
)..< =
;..= >
}// 	
internal44 
override44 
void44 
Reset44 $
(44$ %
)44% &
{55 	
output66 
.66 
Reset66 
(66 
)66 
;66 
}77 	
internal== 
override== 
void== 
BeginGeo== '
(==' (
SpatialType==( 3
type==4 8
)==8 9
{>> 	
this?? 
.?? 
output?? 
.?? 
BeginGeography?? &
(??& '
type??' +
)??+ ,
;??, -
}@@ 	
internalII 
overrideII 
voidII 
BeginFigureII *
(II* +
doubleII+ 1
coordinate1II2 =
,II= >
doubleII? E
coordinate2IIF Q
,IIQ R
doubleIIS Y
?IIY Z
coordinate3II[ f
,IIf g
doubleIIh n
?IIn o
coordinate4IIp {
)II{ |
{JJ 	
thisKK 
.KK 
outputKK 
.KK 
BeginFigureKK #
(KK# $
newKK$ '
GeographyPositionKK( 9
(KK9 :
coordinate1KK: E
,KKE F
coordinate2KKG R
,KKR S
coordinate3KKT _
,KK_ `
coordinate4KKa l
)KKl m
)KKm n
;KKn o
}LL 	
internalUU 
overrideUU 
voidUU 
LineToUU %
(UU% &
doubleUU& ,
coordinate1UU- 8
,UU8 9
doubleUU: @
coordinate2UUA L
,UUL M
doubleUUN T
?UUT U
coordinate3UUV a
,UUa b
doubleUUc i
?UUi j
coordinate4UUk v
)UUv w
{VV 	
thisWW 
.WW 
outputWW 
.WW 
LineToWW 
(WW 
newWW "
GeographyPositionWW# 4
(WW4 5
coordinate1WW5 @
,WW@ A
coordinate2WWB M
,WWM N
coordinate3WWO Z
,WWZ [
coordinate4WW\ g
)WWg h
)WWh i
;WWi j
}XX 	
internal]] 
override]] 
void]] 
	EndFigure]] (
(]]( )
)]]) *
{^^ 	
this__ 
.__ 
output__ 
.__ 
	EndFigure__ !
(__! "
)__" #
;__# $
}`` 	
internalee 
overrideee 
voidee 
EndGeoee %
(ee% &
)ee& '
{ff 	
thisgg 
.gg 
outputgg 
.gg 
EndGeographygg $
(gg$ %
)gg% &
;gg& '
}hh 	
}ii 
}jj Ê 
JD:\odata.net\src\Microsoft.Spatial\TypeWashedToGeographyLongLatPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 0
$TypeWashedToGeographyLongLatPipeline 7
:8 9
TypeWashedPipeline: L
{ 
private 
readonly 
GeographyPipeline *
output+ 1
;1 2
public 0
$TypeWashedToGeographyLongLatPipeline 3
(3 4
SpatialPipeline4 C
outputD J
)J K
{ 	
this 
. 
output 
= 
output  
;  !
} 	
public"" 
override"" 
bool"" 
IsGeography"" (
{## 	
get$$ 
{$$ 
return$$ 
true$$ 
;$$ 
}$$  
}%% 	
internal++ 
override++ 
void++ 
SetCoordinateSystem++ 2
(++2 3
int++3 6
?++6 7
epsgId++8 >
)++> ?
{,, 	
var-- 
coordinateSystem--  
=--! "
CoordinateSystem--# 3
.--3 4
	Geography--4 =
(--= >
epsgId--> D
)--D E
;--E F
this.. 
... 
output.. 
... 
SetCoordinateSystem.. +
(..+ ,
coordinateSystem.., <
)..< =
;..= >
}// 	
internal44 
override44 
void44 
Reset44 $
(44$ %
)44% &
{55 	
output66 
.66 
Reset66 
(66 
)66 
;66 
}77 	
internal== 
override== 
void== 
BeginGeo== '
(==' (
SpatialType==( 3
type==4 8
)==8 9
{>> 	
this?? 
.?? 
output?? 
.?? 
BeginGeography?? &
(??& '
type??' +
)??+ ,
;??, -
}@@ 	
internalII 
overrideII 
voidII 
BeginFigureII *
(II* +
doubleII+ 1
coordinate1II2 =
,II= >
doubleII? E
coordinate2IIF Q
,IIQ R
doubleIIS Y
?IIY Z
coordinate3II[ f
,IIf g
doubleIIh n
?IIn o
coordinate4IIp {
)II{ |
{JJ 	
thisKK 
.KK 
outputKK 
.KK 
BeginFigureKK #
(KK# $
newKK$ '
GeographyPositionKK( 9
(KK9 :
coordinate2KK: E
,KKE F
coordinate1KKG R
,KKR S
coordinate3KKT _
,KK_ `
coordinate4KKa l
)KKl m
)KKm n
;KKn o
}LL 	
internalUU 
overrideUU 
voidUU 
LineToUU %
(UU% &
doubleUU& ,
coordinate1UU- 8
,UU8 9
doubleUU: @
coordinate2UUA L
,UUL M
doubleUUN T
?UUT U
coordinate3UUV a
,UUa b
doubleUUc i
?UUi j
coordinate4UUk v
)UUv w
{VV 	
thisWW 
.WW 
outputWW 
.WW 
LineToWW 
(WW 
newWW "
GeographyPositionWW# 4
(WW4 5
coordinate2WW5 @
,WW@ A
coordinate1WWB M
,WWM N
coordinate3WWO Z
,WWZ [
coordinate4WW\ g
)WWg h
)WWh i
;WWi j
}XX 	
internal]] 
override]] 
void]] 
	EndFigure]] (
(]]( )
)]]) *
{^^ 	
this__ 
.__ 
output__ 
.__ 
	EndFigure__ !
(__! "
)__" #
;__# $
}`` 	
internalee 
overrideee 
voidee 
EndGeoee %
(ee% &
)ee& '
{ff 	
thisgg 
.gg 
outputgg 
.gg 
EndGeographygg $
(gg$ %
)gg% &
;gg& '
}hh 	
}ii 
}jj †ì
9D:\odata.net\src\Microsoft.Spatial\GeoJsonObjectReader.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
GeoJsonObjectReader &
:' (
SpatialReader) 6
<6 7
IDictionary7 B
<B C
stringC I
,I J
objectK Q
>Q R
>R S
{ 
internal 
GeoJsonObjectReader $
($ %
SpatialPipeline% 4
destination5 @
)@ A
: 
base 
( 
destination 
) 
{ 	
} 	
	protected!! 
override!! 
void!! '
ReadGeographyImplementation!!  ;
(!!; <
IDictionary!!< G
<!!G H
string!!H N
,!!N O
object!!P V
>!!V W
input!!X ]
)!!] ^
{"" 	
TypeWashedPipeline## 
pipeline## '
=##( )
new##* -0
$TypeWashedToGeographyLongLatPipeline##. R
(##R S
Destination##S ^
)##^ _
;##_ `
new$$ $
SendToTypeWashedPipeline$$ (
($$( )
pipeline$$) 1
)$$1 2
.$$2 3
SendToPipeline$$3 A
($$A B
input$$B G
,$$G H
true$$I M
)$$M N
;$$N O
}%% 	
	protected++ 
override++ 
void++ &
ReadGeometryImplementation++  :
(++: ;
IDictionary++; F
<++F G
string++G M
,++M N
object++O U
>++U V
input++W \
)++\ ]
{,, 	
TypeWashedPipeline-- 
pipeline-- '
=--( )
new--* -(
TypeWashedToGeometryPipeline--. J
(--J K
Destination--K V
)--V W
;--W X
new.. $
SendToTypeWashedPipeline.. (
(..( )
pipeline..) 1
)..1 2
...2 3
SendToPipeline..3 A
(..A B
input..B G
,..G H
true..I M
)..M N
;..N O
}// 	
private44 
class44 $
SendToTypeWashedPipeline44 .
{55 	
private99 
TypeWashedPipeline99 &
pipeline99' /
;99/ 0
internal?? $
SendToTypeWashedPipeline?? -
(??- .
TypeWashedPipeline??. @
pipeline??A I
)??I J
{@@ 
thisAA 
.AA 
pipelineAA 
=AA 
pipelineAA  (
;AA( )
}BB 
internalII 
voidII 
SendToPipelineII (
(II( )
IDictionaryII) 4
<II4 5
stringII5 ;
,II; <
objectII= C
>IIC D
membersIIE L
,IIL M
boolIIN R!
requireSetCoordinatesIIS h
)IIh i
{JJ 
SpatialTypeKK 
spatialTypeKK '
=KK( )
GetSpatialTypeKK* 8
(KK8 9
membersKK9 @
)KK@ A
;KKA B
intMM 
?MM 
epsgIdMM 
;MM 
ifNN 
(NN 
!NN $
TryGetCoordinateSystemIdNN -
(NN- .
membersNN. 5
,NN5 6
outNN7 :
epsgIdNN; A
)NNA B
)NNB C
{OO 
epsgIdPP 
=PP 
nullPP !
;PP! "
}QQ 
ifSS 
(SS !
requireSetCoordinatesSS )
||SS* ,
epsgIdSS- 3
!=SS4 6
nullSS7 ;
)SS; <
{TT 
thisZZ 
.ZZ 
pipelineZZ !
.ZZ! "
SetCoordinateSystemZZ" 5
(ZZ5 6
epsgIdZZ6 <
)ZZ< =
;ZZ= >
}[[ 
String]] 
contentMemberName]] (
;]]( )
if__ 
(__ 
spatialType__ 
==__  "
SpatialType__# .
.__. /

Collection__/ 9
)__9 :
{`` 
contentMemberNameaa %
=aa& '
GeoJsonConstantsaa( 8
.aa8 9 
GeometriesMemberNameaa9 M
;aaM N
}bb 
elsecc 
{dd 
contentMemberNameee %
=ee& '
GeoJsonConstantsee( 8
.ee8 9!
CoordinatesMemberNameee9 N
;eeN O
}ff 
IEnumerablehh 
memberObjecthh (
=hh) *%
GetMemberValueAsJsonArrayhh+ D
(hhD E
membershhE L
,hhL M
contentMemberNamehhN _
)hh_ `
;hh` a
	SendShapeii 
(ii 
spatialTypeii %
,ii% &
memberObjectii' 3
)ii3 4
;ii4 5
}jj 
privateqq 
staticqq 
voidqq 
SendArrayOfArrayqq  0
(qq0 1
IEnumerableqq1 <
arrayqq= B
,qqB C
ActionqqD J
<qqJ K
IEnumerableqqK V
>qqV W
sendqqX \
)qq\ ]
{rr 
foreachss 
(ss 
objectss 
elementss  '
inss( *
arrayss+ 0
)ss0 1
{tt 
IEnumerableuu 
arrayElementuu  ,
=uu- .
ValueAsJsonArrayuu/ ?
(uu? @
elementuu@ G
)uuG H
;uuH I
sendvv 
(vv 
arrayElementvv %
)vv% &
;vv& '
}ww 
}xx 
private 
static 
double !
?! "!
ValueAsNullableDouble# 8
(8 9
object9 ?
value@ E
)E F
{
ÄÄ 
return
ÅÅ 
value
ÅÅ 
==
ÅÅ 
null
ÅÅ  $
?
ÅÅ% &
null
ÅÅ' +
:
ÅÅ, -
(
ÅÅ. /
double
ÅÅ/ 5
?
ÅÅ5 6
)
ÅÅ6 7
ValueAsDouble
ÅÅ7 D
(
ÅÅD E
value
ÅÅE J
)
ÅÅJ K
;
ÅÅK L
}
ÇÇ 
private
ââ 
static
ââ 
double
ââ !
ValueAsDouble
ââ" /
(
ââ/ 0
object
ââ0 6
value
ââ7 <
)
ââ< =
{
ää 
if
ãã 
(
ãã 
value
ãã 
==
ãã 
null
ãã !
)
ãã! "
{
åå 
throw
çç 
new
çç 
FormatException
çç -
(
çç- .
Strings
çç. 5
.
çç5 6.
 GeoJsonReader_InvalidNullElement
çç6 V
)
ççV W
;
ççW X
}
éé 
if
ëë 
(
ëë 
value
ëë 
is
ëë 
String
ëë #
||
ëë$ &
value
ëë' ,
is
ëë- /
IDictionary
ëë0 ;
<
ëë; <
string
ëë< B
,
ëëB C
object
ëëD J
>
ëëJ K
||
ëëL N
value
ëëO T
is
ëëU W
IEnumerable
ëëX c
||
ëëd f
value
ëëg l
is
ëëm o
bool
ëëp t
)
ëët u
{
íí 
throw
ìì 
new
ìì 
FormatException
ìì -
(
ìì- .
Strings
ìì. 5
.
ìì5 6+
GeoJsonReader_ExpectedNumeric
ìì6 S
)
ììS T
;
ììT U
}
îî 
return
óó 
Convert
óó 
.
óó 
ToDouble
óó '
(
óó' (
value
óó( -
,
óó- .
CultureInfo
óó/ :
.
óó: ;
InvariantCulture
óó; K
)
óóK L
;
óóL M
}
òò 
private
üü 
static
üü 
IEnumerable
üü &
ValueAsJsonArray
üü' 7
(
üü7 8
object
üü8 >
value
üü? D
)
üüD E
{
†† 
if
°° 
(
°° 
value
°° 
==
°° 
null
°° !
)
°°! "
{
¢¢ 
return
££ 
null
££ 
;
££  
}
§§ 
if
ßß 
(
ßß 
value
ßß 
is
ßß 
string
ßß #
)
ßß# $
{
®® 
throw
©© 
new
©© 
FormatException
©© -
(
©©- .
Strings
©©. 5
.
©©5 6)
GeoJsonReader_ExpectedArray
©©6 Q
)
©©Q R
;
©©R S
}
™™ 
if
¨¨ 
(
¨¨ 
value
¨¨ 
is
¨¨ 
IDictionary
¨¨ (
||
¨¨) +
value
¨¨, 1
is
¨¨2 4
IDictionary
¨¨5 @
<
¨¨@ A
string
¨¨A G
,
¨¨G H
object
¨¨I O
>
¨¨O P
)
¨¨P Q
{
≠≠ 
throw
∞∞ 
new
∞∞ 
FormatException
∞∞ -
(
∞∞- .
Strings
∞∞. 5
.
∞∞5 6)
GeoJsonReader_ExpectedArray
∞∞6 Q
)
∞∞Q R
;
∞∞R S
}
±± 
IEnumerable
≥≥ 
array
≥≥ !
=
≥≥" #
value
≥≥$ )
as
≥≥* ,
IEnumerable
≥≥- 8
;
≥≥8 9
if
¥¥ 
(
¥¥ 
array
¥¥ 
!=
¥¥ 
null
¥¥ !
)
¥¥! "
{
µµ 
return
∂∂ 
array
∂∂  
;
∂∂  !
}
∑∑ 
throw
ππ 
new
ππ 
FormatException
ππ )
(
ππ) *
Strings
ππ* 1
.
ππ1 2)
GeoJsonReader_ExpectedArray
ππ2 M
)
ππM N
;
ππN O
}
∫∫ 
private
¡¡ 
static
¡¡ 
IDictionary
¡¡ &
<
¡¡& '
string
¡¡' -
,
¡¡- .
object
¡¡/ 5
>
¡¡5 6
ValueAsJsonObject
¡¡7 H
(
¡¡H I
object
¡¡I O
value
¡¡P U
)
¡¡U V
{
¬¬ 
if
√√ 
(
√√ 
value
√√ 
==
√√ 
null
√√ !
)
√√! "
{
ƒƒ 
return
≈≈ 
null
≈≈ 
;
≈≈  
}
∆∆ 
IDictionary
»» 
<
»» 
string
»» "
,
»»" #
object
»»$ *
>
»»* +
	castValue
»», 5
=
»»6 7
value
»»8 =
as
»»> @
IDictionary
»»A L
<
»»L M
string
»»M S
,
»»S T
object
»»U [
>
»»[ \
;
»»\ ]
if
…… 
(
…… 
	castValue
…… 
!=
……  
null
……! %
)
……% &
{
   
return
ÀÀ 
	castValue
ÀÀ $
;
ÀÀ$ %
}
ÃÃ 
throw
ŒŒ 
new
ŒŒ 
FormatException
ŒŒ )
(
ŒŒ) *
Strings
ŒŒ* 1
.
ŒŒ1 2>
0JsonReaderExtensions_CannotReadValueAsJsonObject
ŒŒ2 b
(
ŒŒb c
value
ŒŒc h
)
ŒŒh i
)
ŒŒi j
;
ŒŒj k
}
œœ 
private
◊◊ 
static
◊◊ 
string
◊◊ !
ValueAsString
◊◊" /
(
◊◊/ 0
string
◊◊0 6
propertyName
◊◊7 C
,
◊◊C D
object
◊◊E K
value
◊◊L Q
)
◊◊Q R
{
ÿÿ 
if
ŸŸ 
(
ŸŸ 
value
ŸŸ 
==
ŸŸ 
null
ŸŸ !
)
ŸŸ! "
{
⁄⁄ 
return
€€ 
null
€€ 
;
€€  
}
‹‹ 
string
ﬁﬁ 
	castValue
ﬁﬁ  
=
ﬁﬁ! "
value
ﬁﬁ# (
as
ﬁﬁ) +
string
ﬁﬁ, 2
;
ﬁﬁ2 3
if
ﬂﬂ 
(
ﬂﬂ 
	castValue
ﬂﬂ 
!=
ﬂﬂ  
null
ﬂﬂ! %
)
ﬂﬂ% &
{
‡‡ 
return
·· 
	castValue
·· $
;
··$ %
}
‚‚ 
throw
‰‰ 
new
‰‰ 
FormatException
‰‰ )
(
‰‰) *
Strings
‰‰* 1
.
‰‰1 2B
4JsonReaderExtensions_CannotReadPropertyValueAsString
‰‰2 f
(
‰‰f g
value
‰‰g l
,
‰‰l m
propertyName
‰‰n z
)
‰‰z {
)
‰‰{ |
;
‰‰| }
}
ÂÂ 
private
ÏÏ 
static
ÏÏ 
SpatialType
ÏÏ &
GetSpatialType
ÏÏ' 5
(
ÏÏ5 6
IDictionary
ÏÏ6 A
<
ÏÏA B
string
ÏÏB H
,
ÏÏH I
object
ÏÏJ P
>
ÏÏP Q
geoJsonObject
ÏÏR _
)
ÏÏ_ `
{
ÌÌ 
object
ÓÓ 
typeName
ÓÓ 
;
ÓÓ  
if
ÔÔ 
(
ÔÔ 
geoJsonObject
ÔÔ !
.
ÔÔ! "
TryGetValue
ÔÔ" -
(
ÔÔ- .
GeoJsonConstants
ÔÔ. >
.
ÔÔ> ?
TypeMemberName
ÔÔ? M
,
ÔÔM N
out
ÔÔO R
typeName
ÔÔS [
)
ÔÔ[ \
)
ÔÔ\ ]
{
 
return
ÒÒ 
ReadTypeName
ÒÒ '
(
ÒÒ' (
ValueAsString
ÒÒ( 5
(
ÒÒ5 6
GeoJsonConstants
ÒÒ6 F
.
ÒÒF G
TypeMemberName
ÒÒG U
,
ÒÒU V
typeName
ÒÒW _
)
ÒÒ_ `
)
ÒÒ` a
;
ÒÒa b
}
ÚÚ 
else
ÛÛ 
{
ÙÙ 
throw
ıı 
new
ıı 
FormatException
ıı -
(
ıı- .
Strings
ıı. 5
.
ıı5 61
#GeoJsonReader_MissingRequiredMember
ıı6 Y
(
ııY Z
GeoJsonConstants
ııZ j
.
ııj k
TypeMemberName
ıık y
)
ııy z
)
ıız {
;
ıı{ |
}
ˆˆ 
}
˜˜ 
private
ˇˇ 
static
ˇˇ 
bool
ˇˇ &
TryGetCoordinateSystemId
ˇˇ  8
(
ˇˇ8 9
IDictionary
ˇˇ9 D
<
ˇˇD E
string
ˇˇE K
,
ˇˇK L
object
ˇˇM S
>
ˇˇS T
geoJsonObject
ˇˇU b
,
ˇˇb c
out
ˇˇd g
int
ˇˇh k
?
ˇˇk l
epsgId
ˇˇm s
)
ˇˇs t
{
ÄÄ 
object
ÅÅ 
crsValue
ÅÅ 
;
ÅÅ  
if
ÇÇ 
(
ÇÇ 
!
ÇÇ 
geoJsonObject
ÇÇ "
.
ÇÇ" #
TryGetValue
ÇÇ# .
(
ÇÇ. /
GeoJsonConstants
ÇÇ/ ?
.
ÇÇ? @
CrsMemberName
ÇÇ@ M
,
ÇÇM N
out
ÇÇO R
crsValue
ÇÇS [
)
ÇÇ[ \
)
ÇÇ\ ]
{
ÉÉ 
epsgId
ÑÑ 
=
ÑÑ 
null
ÑÑ !
;
ÑÑ! "
return
ÖÖ 
false
ÖÖ  
;
ÖÖ  !
}
ÜÜ 
IDictionary
àà 
<
àà 
string
àà "
,
àà" #
object
àà$ *
>
àà* +

crsMembers
àà, 6
=
àà7 8
ValueAsJsonObject
àà9 J
(
ààJ K
crsValue
ààK S
)
ààS T
;
ààT U
epsgId
ââ 
=
ââ *
GetCoordinateSystemIdFromCrs
ââ 5
(
ââ5 6

crsMembers
ââ6 @
)
ââ@ A
;
ââA B
return
ää 
true
ää 
;
ää 
}
ãã 
private
íí 
static
íí 
int
íí *
GetCoordinateSystemIdFromCrs
íí ;
(
íí; <
IDictionary
íí< G
<
ííG H
string
ííH N
,
ííN O
object
ííP V
>
ííV W
crsJsonObject
ííX e
)
ííe f
{
ìì 
object
ïï 
	typeValue
ïï  
;
ïï  !
if
ññ 
(
ññ 
!
ññ 
crsJsonObject
ññ "
.
ññ" #
TryGetValue
ññ# .
(
ññ. /
GeoJsonConstants
ññ/ ?
.
ññ? @
TypeMemberName
ññ@ N
,
ññN O
out
ññP S
	typeValue
ññT ]
)
ññ] ^
)
ññ^ _
{
óó 
throw
òò 
new
òò 
FormatException
òò -
(
òò- .
Strings
òò. 5
.
òò5 61
#GeoJsonReader_MissingRequiredMember
òò6 Y
(
òòY Z
GeoJsonConstants
òòZ j
.
òòj k
TypeMemberName
òòk y
)
òòy z
)
òòz {
;
òò{ |
}
ôô 
var
úú 

typeString
úú 
=
úú  
ValueAsString
úú! .
(
úú. /
GeoJsonConstants
úú/ ?
.
úú? @
TypeMemberName
úú@ N
,
úúN O
	typeValue
úúP Y
)
úúY Z
;
úúZ [
if
üü 
(
üü 
!
üü 
string
üü 
.
üü 
Equals
üü "
(
üü" #

typeString
üü# -
,
üü- .
GeoJsonConstants
üü/ ?
.
üü? @ 
CrsTypeMemberValue
üü@ R
,
üüR S
StringComparison
üüT d
.
üüd e
Ordinal
üüe l
)
üül m
)
üüm n
{
†† 
throw
°° 
new
°° 
FormatException
°° -
(
°°- .
Strings
°°. 5
.
°°5 6*
GeoJsonReader_InvalidCrsType
°°6 R
(
°°R S

typeString
°°S ]
)
°°] ^
)
°°^ _
;
°°_ `
}
¢¢ 
object
•• 
propertiesValue
•• &
;
••& '
if
¶¶ 
(
¶¶ 
!
¶¶ 
crsJsonObject
¶¶ "
.
¶¶" #
TryGetValue
¶¶# .
(
¶¶. /
GeoJsonConstants
¶¶/ ?
.
¶¶? @%
CrsPropertiesMemberName
¶¶@ W
,
¶¶W X
out
¶¶Y \
propertiesValue
¶¶] l
)
¶¶l m
)
¶¶m n
{
ßß 
throw
®® 
new
®® 
FormatException
®® -
(
®®- .
Strings
®®. 5
.
®®5 61
#GeoJsonReader_MissingRequiredMember
®®6 Y
(
®®Y Z
GeoJsonConstants
®®Z j
.
®®j k&
CrsPropertiesMemberName®®k Ç
)®®Ç É
)®®É Ñ
;®®Ñ Ö
}
©© 
var
´´ 

properties
´´ 
=
´´  
ValueAsJsonObject
´´! 2
(
´´2 3
propertiesValue
´´3 B
)
´´B C
;
´´C D
object
ÆÆ 
	nameValue
ÆÆ  
;
ÆÆ  !
if
ØØ 
(
ØØ 
!
ØØ 

properties
ØØ 
.
ØØ  
TryGetValue
ØØ  +
(
ØØ+ ,
GeoJsonConstants
ØØ, <
.
ØØ< =
CrsNameMemberName
ØØ= N
,
ØØN O
out
ØØP S
	nameValue
ØØT ]
)
ØØ] ^
)
ØØ^ _
{
∞∞ 
throw
±± 
new
±± 
FormatException
±± -
(
±±- .
Strings
±±. 5
.
±±5 61
#GeoJsonReader_MissingRequiredMember
±±6 Y
(
±±Y Z
GeoJsonConstants
±±Z j
.
±±j k
CrsNameMemberName
±±k |
)
±±| }
)
±±} ~
;
±±~ 
}
≤≤ 
var
µµ 

nameString
µµ 
=
µµ  
ValueAsString
µµ! .
(
µµ. /
GeoJsonConstants
µµ/ ?
.
µµ? @
CrsNameMemberName
µµ@ Q
,
µµQ R
	nameValue
µµS \
)
µµ\ ]
;
µµ] ^
var
∏∏ 
offset
∏∏ 
=
∏∏ 
GeoJsonConstants
∏∏ -
.
∏∏- .
CrsValuePrefix
∏∏. <
.
∏∏< =
Length
∏∏= C
;
∏∏C D
int
ππ 
epsgId
ππ 
;
ππ 
if
∫∫ 
(
∫∫ 

nameString
∫∫ 
==
∫∫ !
null
∫∫" &
||
ªª 
!
ªª 

nameString
ªª "
.
ªª" #

StartsWith
ªª# -
(
ªª- .
GeoJsonConstants
ªª. >
.
ªª> ?
CrsValuePrefix
ªª? M
,
ªªM N
StringComparison
ªªO _
.
ªª_ `
Ordinal
ªª` g
)
ªªg h
||
ºº 

nameString
ºº !
.
ºº! "
Length
ºº" (
==
ºº) +
offset
ºº, 2
||
ΩΩ 

nameString
ΩΩ !
[
ΩΩ! "
offset
ΩΩ" (
]
ΩΩ( )
!=
ΩΩ* ,
$char
ΩΩ- 0
||
ææ 
!
ææ 
int
ææ 
.
ææ 
TryParse
ææ $
(
ææ$ %

nameString
ææ% /
.
ææ/ 0
	Substring
ææ0 9
(
ææ9 :
offset
ææ: @
+
ææA B
$num
ææC D
)
ææD E
,
ææE F
out
ææG J
epsgId
ææK Q
)
ææQ R
)
ææR S
{
øø 
throw
¿¿ 
new
¿¿ 
FormatException
¿¿ -
(
¿¿- .
Strings
¿¿. 5
.
¿¿5 6*
GeoJsonReader_InvalidCrsName
¿¿6 R
(
¿¿R S

nameString
¿¿S ]
)
¿¿] ^
)
¿¿^ _
;
¿¿_ `
}
¡¡ 
return
√√ 
epsgId
√√ 
;
√√ 
}
ƒƒ 
private
ÃÃ 
static
ÃÃ 
IEnumerable
ÃÃ &'
GetMemberValueAsJsonArray
ÃÃ' @
(
ÃÃ@ A
IDictionary
ÃÃA L
<
ÃÃL M
string
ÃÃM S
,
ÃÃS T
object
ÃÃU [
>
ÃÃ[ \
geoJsonObject
ÃÃ] j
,
ÃÃj k
String
ÃÃl r

memberName
ÃÃs }
)
ÃÃ} ~
{
ÕÕ 
object
ŒŒ 
coordinates
ŒŒ "
;
ŒŒ" #
if
œœ 
(
œœ 
geoJsonObject
œœ !
.
œœ! "
TryGetValue
œœ" -
(
œœ- .

memberName
œœ. 8
,
œœ8 9
out
œœ: =
coordinates
œœ> I
)
œœI J
)
œœJ K
{
–– 
return
—— 
ValueAsJsonArray
—— +
(
——+ ,
coordinates
——, 7
)
——7 8
;
——8 9
}
““ 
else
”” 
{
‘‘ 
throw
’’ 
new
’’ 
FormatException
’’ -
(
’’- .
Strings
’’. 5
.
’’5 61
#GeoJsonReader_MissingRequiredMember
’’6 Y
(
’’Y Z

memberName
’’Z d
)
’’d e
)
’’e f
;
’’f g
}
÷÷ 
}
◊◊ 
private
ﬁﬁ 
static
ﬁﬁ 
bool
ﬁﬁ 
EnumerableAny
ﬁﬁ  -
(
ﬁﬁ- .
IEnumerable
ﬁﬁ. 9

enumerable
ﬁﬁ: D
)
ﬁﬁD E
{
ﬂﬂ 
IEnumerator
‡‡ 

enumerator
‡‡ &
=
‡‡' (

enumerable
‡‡) 3
.
‡‡3 4
GetEnumerator
‡‡4 A
(
‡‡A B
)
‡‡B C
;
‡‡C D
return
·· 

enumerator
·· !
.
··! "
MoveNext
··" *
(
··* +
)
··+ ,
;
··, -
}
‚‚ 
private
ÈÈ 
static
ÈÈ 
SpatialType
ÈÈ &
ReadTypeName
ÈÈ' 3
(
ÈÈ3 4
string
ÈÈ4 :
typeName
ÈÈ; C
)
ÈÈC D
{
ÍÍ 
switch
ÎÎ 
(
ÎÎ 
typeName
ÎÎ  
)
ÎÎ  !
{
ÏÏ 
case
ÌÌ 
GeoJsonConstants
ÌÌ )
.
ÌÌ) *"
TypeMemberValuePoint
ÌÌ* >
:
ÌÌ> ?
return
ÓÓ 
SpatialType
ÓÓ *
.
ÓÓ* +
Point
ÓÓ+ 0
;
ÓÓ0 1
case
ÔÔ 
GeoJsonConstants
ÔÔ )
.
ÔÔ) *'
TypeMemberValueLineString
ÔÔ* C
:
ÔÔC D
return
 
SpatialType
 *
.
* +

LineString
+ 5
;
5 6
case
ÒÒ 
GeoJsonConstants
ÒÒ )
.
ÒÒ) *$
TypeMemberValuePolygon
ÒÒ* @
:
ÒÒ@ A
return
ÚÚ 
SpatialType
ÚÚ *
.
ÚÚ* +
Polygon
ÚÚ+ 2
;
ÚÚ2 3
case
ÛÛ 
GeoJsonConstants
ÛÛ )
.
ÛÛ) *'
TypeMemberValueMultiPoint
ÛÛ* C
:
ÛÛC D
return
ÙÙ 
SpatialType
ÙÙ *
.
ÙÙ* +

MultiPoint
ÙÙ+ 5
;
ÙÙ5 6
case
ıı 
GeoJsonConstants
ıı )
.
ıı) *,
TypeMemberValueMultiLineString
ıı* H
:
ııH I
return
ˆˆ 
SpatialType
ˆˆ *
.
ˆˆ* +
MultiLineString
ˆˆ+ :
;
ˆˆ: ;
case
˜˜ 
GeoJsonConstants
˜˜ )
.
˜˜) *)
TypeMemberValueMultiPolygon
˜˜* E
:
˜˜E F
return
¯¯ 
SpatialType
¯¯ *
.
¯¯* +
MultiPolygon
¯¯+ 7
;
¯¯7 8
case
˘˘ 
GeoJsonConstants
˘˘ )
.
˘˘) */
!TypeMemberValueGeometryCollection
˘˘* K
:
˘˘K L
return
˙˙ 
SpatialType
˙˙ *
.
˙˙* +

Collection
˙˙+ 5
;
˙˙5 6
default
˚˚ 
:
˚˚ 
throw
¸¸ 
new
¸¸ !
FormatException
¸¸" 1
(
¸¸1 2
Strings
¸¸2 9
.
¸¸9 :+
GeoJsonReader_InvalidTypeName
¸¸: W
(
¸¸W X
typeName
¸¸X `
)
¸¸` a
)
¸¸a b
;
¸¸b c
}
˝˝ 
}
˛˛ 
private
ÖÖ 
void
ÖÖ 
	SendShape
ÖÖ "
(
ÖÖ" #
SpatialType
ÖÖ# .
spatialType
ÖÖ/ :
,
ÖÖ: ;
IEnumerable
ÖÖ< G
contentMembers
ÖÖH V
)
ÖÖV W
{
ÜÜ 
this
áá 
.
áá 
pipeline
áá 
.
áá 
BeginGeo
áá &
(
áá& '
spatialType
áá' 2
)
áá2 3
;
áá3 4
SendCoordinates
àà 
(
àà  
spatialType
àà  +
,
àà+ ,
contentMembers
àà- ;
)
àà; <
;
àà< =
this
ââ 
.
ââ 
pipeline
ââ 
.
ââ 
EndGeo
ââ $
(
ââ$ %
)
ââ% &
;
ââ& '
}
ää 
private
ëë 
void
ëë 
SendCoordinates
ëë (
(
ëë( )
SpatialType
ëë) 4
spatialType
ëë5 @
,
ëë@ A
IEnumerable
ëëB M
contentMembers
ëëN \
)
ëë\ ]
{
íí 
if
ìì 
(
ìì 
EnumerableAny
ìì !
(
ìì! "
contentMembers
ìì" 0
)
ìì0 1
)
ìì1 2
{
îî 
switch
ññ 
(
ññ 
spatialType
ññ '
)
ññ' (
{
óó 
case
òò 
SpatialType
òò (
.
òò( )
Point
òò) .
:
òò. /
	SendPoint
ôô %
(
ôô% &
contentMembers
ôô& 4
)
ôô4 5
;
ôô5 6
break
öö !
;
öö! "
case
õõ 
SpatialType
õõ (
.
õõ( )

LineString
õõ) 3
:
õõ3 4
SendLineString
úú *
(
úú* +
contentMembers
úú+ 9
)
úú9 :
;
úú: ;
break
ùù !
;
ùù! "
case
ûû 
SpatialType
ûû (
.
ûû( )
Polygon
ûû) 0
:
ûû0 1
SendPolygon
üü '
(
üü' (
contentMembers
üü( 6
)
üü6 7
;
üü7 8
break
†† !
;
††! "
case
°° 
SpatialType
°° (
.
°°( )

MultiPoint
°°) 3
:
°°3 4
SendMultiShape
¢¢ *
(
¢¢* +
SpatialType
¢¢+ 6
.
¢¢6 7
Point
¢¢7 <
,
¢¢< =
contentMembers
¢¢> L
)
¢¢L M
;
¢¢M N
break
££ !
;
££! "
case
§§ 
SpatialType
§§ (
.
§§( )
MultiLineString
§§) 8
:
§§8 9
SendMultiShape
•• *
(
••* +
SpatialType
••+ 6
.
••6 7

LineString
••7 A
,
••A B
contentMembers
••C Q
)
••Q R
;
••R S
break
¶¶ !
;
¶¶! "
case
ßß 
SpatialType
ßß (
.
ßß( )
MultiPolygon
ßß) 5
:
ßß5 6
SendMultiShape
®® *
(
®®* +
SpatialType
®®+ 6
.
®®6 7
Polygon
®®7 >
,
®®> ?
contentMembers
®®@ N
)
®®N O
;
®®O P
break
©© !
;
©©! "
case
™™ 
SpatialType
™™ (
.
™™( )

Collection
™™) 3
:
™™3 4
foreach
´´ #
(
´´$ %
IDictionary
´´% 0
<
´´0 1
string
´´1 7
,
´´7 8
object
´´9 ?
>
´´? @
collectionMember
´´A Q
in
´´R T
contentMembers
´´U c
)
´´c d
{
¨¨ 
SendToPipeline
≠≠  .
(
≠≠. /
collectionMember
≠≠/ ?
,
≠≠? @
false
≠≠A F
)
≠≠F G
;
≠≠G H
}
ÆÆ 
break
∞∞ !
;
∞∞! "
default
±± 
:
±±  
Debug
≤≤ !
.
≤≤! "
Assert
≤≤" (
(
≤≤( )
false
≤≤) .
,
≤≤. /
$str
≤≤0 k
+
≤≤l m
spatialType
≤≤n y
)
≤≤y z
;
≤≤z {
break
≥≥ !
;
≥≥! "
}
¥¥ 
}
µµ 
}
∂∂ 
private
ºº 
void
ºº 
	SendPoint
ºº "
(
ºº" #
IEnumerable
ºº# .
coordinates
ºº/ :
)
ºº: ;
{
ΩΩ 
SendPosition
ææ 
(
ææ 
coordinates
ææ (
,
ææ( )
true
ææ* .
)
ææ. /
;
ææ/ 0
this
øø 
.
øø 
pipeline
øø 
.
øø 
	EndFigure
øø '
(
øø' (
)
øø( )
;
øø) *
}
¿¿ 
private
∆∆ 
void
∆∆ 
SendLineString
∆∆ '
(
∆∆' (
IEnumerable
∆∆( 3
coordinates
∆∆4 ?
)
∆∆? @
{
«« 
SendPositionArray
»» !
(
»»! "
coordinates
»»" -
)
»»- .
;
»». /
}
…… 
private
œœ 
void
œœ 
SendPolygon
œœ $
(
œœ$ %
IEnumerable
œœ% 0
coordinates
œœ1 <
)
œœ< =
{
–– 
SendArrayOfArray
——  
(
——  !
coordinates
——! ,
,
——, -
(
——. /
positionArray
——/ <
)
——< =
=>
——> @
this
——A E
.
——E F
SendPositionArray
——F W
(
——W X
positionArray
——X e
)
——e f
)
——f g
;
——g h
}
““ 
private
ŸŸ 
void
ŸŸ 
SendMultiShape
ŸŸ '
(
ŸŸ' (
SpatialType
ŸŸ( 3"
containedSpatialType
ŸŸ4 H
,
ŸŸH I
IEnumerable
ŸŸJ U
coordinates
ŸŸV a
)
ŸŸa b
{
⁄⁄ 
Debug
€€ 
.
€€ 
Assert
€€ 
(
€€ "
containedSpatialType
‹‹ (
==
‹‹) +
SpatialType
‹‹, 7
.
‹‹7 8
Point
‹‹8 =
||
‹‹> @"
containedSpatialType
›› (
==
››) +
SpatialType
››, 7
.
››7 8

LineString
››8 B
||
››C E"
containedSpatialType
ﬁﬁ (
==
ﬁﬁ) +
SpatialType
ﬁﬁ, 7
.
ﬁﬁ7 8
Polygon
ﬁﬁ8 ?
,
ﬁﬁ? @
$str
ﬂﬂ j
)
ﬂﬂj k
;
ﬂﬂk l
SendArrayOfArray
··  
(
··  !
coordinates
··! ,
,
··, -
(
··. /'
containedShapeCoordinates
··/ H
)
··H I
=>
··J L
this
··M Q
.
··Q R
	SendShape
··R [
(
··[ \"
containedSpatialType
··\ p
,
··p q(
containedShapeCoordinates··r ã
)··ã å
)··å ç
;··ç é
}
‚‚ 
private
ËË 
void
ËË 
SendPositionArray
ËË *
(
ËË* +
IEnumerable
ËË+ 6
positionArray
ËË7 D
)
ËËD E
{
ÈÈ 
bool
ÍÍ 
first
ÍÍ 
=
ÍÍ 
true
ÍÍ !
;
ÍÍ! "
SendArrayOfArray
ÏÏ  
(
ÏÏ  !
positionArray
ÌÌ !
,
ÌÌ! "
(
ÓÓ 
array
ÓÓ 
)
ÓÓ 
=>
ÓÓ 
{
ÔÔ 
SendPosition
 $
(
$ %
array
% *
,
* +
first
, 1
)
1 2
;
2 3
if
ÒÒ 
(
ÒÒ 
first
ÒÒ !
)
ÒÒ! "
{
ÚÚ 
first
ÛÛ !
=
ÛÛ" #
false
ÛÛ$ )
;
ÛÛ) *
}
ÙÙ 
}
ıı 
)
ıı 
;
ıı 
this
˜˜ 
.
˜˜ 
pipeline
˜˜ 
.
˜˜ 
	EndFigure
˜˜ '
(
˜˜' (
)
˜˜( )
;
˜˜) *
}
¯¯ 
private
ˇˇ 
void
ˇˇ 
SendPosition
ˇˇ %
(
ˇˇ% &
IEnumerable
ˇˇ& 1
positionElements
ˇˇ2 B
,
ˇˇB C
bool
ˇˇD H
first
ˇˇI N
)
ˇˇN O
{
ÄÄ 
int
ÅÅ 
count
ÅÅ 
=
ÅÅ 
$num
ÅÅ 
;
ÅÅ 
double
ÇÇ 
x
ÇÇ 
=
ÇÇ 
$num
ÇÇ 
;
ÇÇ 
double
ÉÉ 
y
ÉÉ 
=
ÉÉ 
$num
ÉÉ 
;
ÉÉ 
double
ÑÑ 
?
ÑÑ 
z
ÑÑ 
=
ÑÑ 
null
ÑÑ  
;
ÑÑ  !
double
ÖÖ 
?
ÖÖ 
m
ÖÖ 
=
ÖÖ 
null
ÖÖ  
;
ÖÖ  !
foreach
áá 
(
áá 
object
áá 
element
áá  '
in
áá( *
positionElements
áá+ ;
)
áá; <
{
àà 
count
ââ 
++
ââ 
;
ââ 
switch
åå 
(
åå 
count
åå !
)
åå! "
{
çç 
case
éé 
$num
éé 
:
éé 
x
èè 
=
èè 
ValueAsDouble
èè  -
(
èè- .
element
èè. 5
)
èè5 6
;
èè6 7
break
êê !
;
êê! "
case
ëë 
$num
ëë 
:
ëë 
y
íí 
=
íí 
ValueAsDouble
íí  -
(
íí- .
element
íí. 5
)
íí5 6
;
íí6 7
break
ìì !
;
ìì! "
case
îî 
$num
îî 
:
îî 
z
ïï 
=
ïï #
ValueAsNullableDouble
ïï  5
(
ïï5 6
element
ïï6 =
)
ïï= >
;
ïï> ?
break
ññ !
;
ññ! "
case
óó 
$num
óó 
:
óó 
m
òò 
=
òò #
ValueAsNullableDouble
òò  5
(
òò5 6
element
òò6 =
)
òò= >
;
òò> ?
break
ôô !
;
ôô! "
default
öö 
:
öö  
break
úú !
;
úú! "
}
ùù 
}
ûû 
if
†† 
(
†† 
count
†† 
<
†† 
$num
†† 
||
††  
count
††! &
>
††' (
$num
††) *
)
††* +
{
°° 
throw
¢¢ 
new
¢¢ 
FormatException
¢¢ -
(
¢¢- .
Strings
¢¢. 5
.
¢¢5 6+
GeoJsonReader_InvalidPosition
¢¢6 S
)
¢¢S T
;
¢¢T U
}
££ 
if
•• 
(
•• 
first
•• 
)
•• 
{
¶¶ 
this
ßß 
.
ßß 
pipeline
ßß !
.
ßß! "
BeginFigure
ßß" -
(
ßß- .
x
ßß. /
,
ßß/ 0
y
ßß1 2
,
ßß2 3
z
ßß4 5
,
ßß5 6
m
ßß7 8
)
ßß8 9
;
ßß9 :
}
®® 
else
©© 
{
™™ 
this
´´ 
.
´´ 
pipeline
´´ !
.
´´! "
LineTo
´´" (
(
´´( )
x
´´) *
,
´´* +
y
´´, -
,
´´- .
z
´´/ 0
,
´´0 1
m
´´2 3
)
´´3 4
;
´´4 5
}
¨¨ 
}
≠≠ 
}
ÆÆ 	
}
ØØ 
}∞∞ Ø!
2D:\odata.net\src\Microsoft.Spatial\CompositeKey.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
CompositeKey 
<  
T1  "
," #
T2$ &
>& '
:( )

IEquatable* 4
<4 5
CompositeKey5 A
<A B
T1B D
,D E
T2F H
>H I
>I J
{ 
private 
readonly 
T1 
first !
;! "
private 
readonly 
T2 
second "
;" #
public!! 
CompositeKey!! 
(!! 
T1!! 
first!! $
,!!$ %
T2!!& (
second!!) /
)!!/ 0
{"" 	
this## 
.## 
first## 
=## 
first## 
;## 
this$$ 
.$$ 
second$$ 
=$$ 
second$$  
;$$  !
}%% 	
public// 
static// 
bool// 
operator// #
==//$ &
(//& '
CompositeKey//' 3
<//3 4
T1//4 6
,//6 7
T2//8 :
>//: ;
left//< @
,//@ A
CompositeKey//B N
<//N O
T1//O Q
,//Q R
T2//S U
>//U V
right//W \
)//\ ]
{00 	
return11 
Equals11 
(11 
left11 
,11 
right11  %
)11% &
;11& '
}22 	
public<< 
static<< 
bool<< 
operator<< #
!=<<$ &
(<<& '
CompositeKey<<' 3
<<<3 4
T1<<4 6
,<<6 7
T2<<8 :
><<: ;
left<<< @
,<<@ A
CompositeKey<<B N
<<<N O
T1<<O Q
,<<Q R
T2<<S U
><<U V
right<<W \
)<<\ ]
{== 	
return>> 
!>> 
Equals>> 
(>> 
left>> 
,>>  
right>>! &
)>>& '
;>>' (
}?? 	
publicHH 
boolHH 
EqualsHH 
(HH 
CompositeKeyHH '
<HH' (
T1HH( *
,HH* +
T2HH, .
>HH. /
otherHH0 5
)HH5 6
{II 	
ifJJ 
(JJ 
ReferenceEqualsJJ 
(JJ  
nullJJ  $
,JJ$ %
otherJJ& +
)JJ+ ,
)JJ, -
{KK 
returnLL 
falseLL 
;LL 
}MM 
ifOO 
(OO 
ReferenceEqualsOO 
(OO  
thisOO  $
,OO$ %
otherOO& +
)OO+ ,
)OO, -
{PP 
returnQQ 
trueQQ 
;QQ 
}RR 
returnTT 
EqualsTT 
(TT 
otherTT 
.TT  
firstTT  %
,TT% &
thisTT' +
.TT+ ,
firstTT, 1
)TT1 2
&&TT3 5
EqualsTT6 <
(TT< =
otherTT= B
.TTB C
secondTTC I
,TTI J
thisTTK O
.TTO P
secondTTP V
)TTV W
;TTW X
}UU 	
public__ 
override__ 
bool__ 
Equals__ #
(__# $
object__$ *
obj__+ .
)__. /
{`` 	
returnaa 
Equalsaa 
(aa 
objaa 
asaa  
CompositeKeyaa! -
<aa- .
T1aa. 0
,aa0 1
T2aa2 4
>aa4 5
)aa5 6
;aa6 7
}bb 	
publicjj 
overridejj 
intjj 
GetHashCodejj '
(jj' (
)jj( )
{kk 	
	uncheckedll 
{mm 
returnnn 
(nn 
thisnn 
.nn 
firstnn "
.nn" #
GetHashCodenn# .
(nn. /
)nn/ 0
*nn1 2
$numnn3 6
)nn6 7
^nn8 9
thisnn: >
.nn> ?
secondnn? E
.nnE F
GetHashCodennF Q
(nnQ R
)nnR S
;nnS T
}oo 
}pp 	
}qq 
}rr Û
9D:\odata.net\src\Microsoft.Spatial\FormatterExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

static 
class 
FormatterExtensions +
{ 
public 
static 
String 
Write "
(" #
this# '
SpatialFormatter( 8
<8 9

TextReader9 C
,C D

TextWriterE O
>O P
	formatterQ Z
,Z [
ISpatial\ d
spatiale l
)l m
{ 	
Util 
. 
CheckArgumentNull "
(" #
	formatter# ,
,, -
$str. 9
)9 :
;: ;
StringBuilder 
builder !
=" #
new$ '
StringBuilder( 5
(5 6
)6 7
;7 8
using 
( 

TextWriter 
writer $
=% &
new' *
StringWriter+ 7
(7 8
builder8 ?
,? @
CultureInfoA L
.L M
InvariantCultureM ]
)] ^
)^ _
{ 
	formatter 
. 
Write 
(  
spatial  '
,' (
writer) /
)/ 0
;0 1
} 
return   
builder   
.   
ToString   #
(  # $
)  $ %
;  % &
}!! 	
public'' 
static'' 
String'' 
Write'' "
(''" #
this''# '
SpatialFormatter''( 8
<''8 9
	XmlReader''9 B
,''B C
	XmlWriter''D M
>''M N
	formatter''O X
,''X Y
ISpatial''Z b
spatial''c j
)''j k
{(( 	
Util)) 
.)) 
CheckArgumentNull)) "
())" #
	formatter))# ,
,)), -
$str)). 9
)))9 :
;)): ;
StringBuilder++ 
builder++ !
=++" #
new++$ '
StringBuilder++( 5
(++5 6
)++6 7
;++7 8
XmlWriterSettings,, 
settings,, &
=,,' (
new,,) ,
XmlWriterSettings,,- >
(,,> ?
),,? @
{,,A B
OmitXmlDeclaration,,C U
=,,V W
true,,X \
},,] ^
;,,^ _
using-- 
(-- 
	XmlWriter-- 
writer-- #
=--$ %
	XmlWriter--& /
.--/ 0
Create--0 6
(--6 7
builder--7 >
,--> ?
settings--@ H
)--H I
)--I J
{.. 
	formatter// 
.// 
Write// 
(//  
spatial//  '
,//' (
writer//) /
)/// 0
;//0 1
}00 
return22 
builder22 
.22 
ToString22 #
(22# $
)22$ %
;22% &
}33 	
}44 
}55 ˚

7D:\odata.net\src\Microsoft.Spatial\GeographyPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyPipeline

 +
{ 
public 
abstract 
void 
BeginGeography +
(+ ,
SpatialType, 7
type8 <
)< =
;= >
public 
abstract 
void 
BeginFigure (
(( )
GeographyPosition) :
position; C
)C D
;D E
public 
abstract 
void 
LineTo #
(# $
GeographyPosition$ 5
position6 >
)> ?
;? @
public 
abstract 
void 
	EndFigure &
(& '
)' (
;( )
public 
abstract 
void 
EndGeography )
() *
)* +
;+ ,
public   
abstract   
void   
SetCoordinateSystem   0
(  0 1
CoordinateSystem  1 A
coordinateSystem  B R
)  R S
;  S T
public## 
abstract## 
void## 
Reset## "
(##" #
)### $
;##$ %
}$$ 
}%% µ
8D:\odata.net\src\Microsoft.Spatial\GeographyFullGlobe.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyFullGlobe

 ,
:

- .
GeographySurface

/ ?
{ 
	protected 
GeographyFullGlobe $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$str	g é
)
é è
]
è ê
public 
bool 
Equals 
( 
GeographyFullGlobe -
other. 3
)3 4
{ 	
return 
this 
. 

BaseEquals "
(" #
other# (
)( )
??* ,
true- 1
;1 2
} 	
public!! 
override!! 
bool!! 
Equals!! #
(!!# $
object!!$ *
obj!!+ .
)!!. /
{"" 	
return## 
this## 
.## 
Equals## 
(## 
obj## "
as### %
GeographyFullGlobe##& 8
)##8 9
;##9 :
}$$ 	
public(( 
override(( 
int(( 
GetHashCode(( '
(((' (
)((( )
{)) 	
return** 
	Microsoft** 
.** 
Spatial** $
.**$ %
	Geography**% .
.**. /
ComputeHashCodeFor**/ A
(**A B
this**B F
.**F G
CoordinateSystem**G W
,**W X
new**Y \
[**\ ]
]**] ^
{**_ `
$num**a b
}**c d
)**d e
;**e f
}++ 	
},, 
}-- ∞
4D:\odata.net\src\Microsoft.Spatial\GeographyCurve.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyCurve

 (
:

) *
	Geography

+ 4
{ 
	protected 
GeographyCurve  
(  !
CoordinateSystem! 1
coordinateSystem2 B
,B C!
SpatialImplementationD Y
creatorZ a
)a b
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} Î
9D:\odata.net\src\Microsoft.Spatial\GeographyLineString.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeographyLineString -
:. /
GeographyCurve0 >
{ 
	protected 
GeographyLineString %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyPoint+ 9
>9 :
Points; A
{B C
getD G
;G H
}I J
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( 
GeographyLineString .
other/ 4
)4 5
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Points!!2 8
.!!8 9
SequenceEqual!!9 F
(!!F G
other!!G L
.!!L M
Points!!M S
)!!S T
;!!T U
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeographyLineString))& 9
)))9 :
;)): ;
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Geography00 
.00 
ComputeHashCodeFor00 /
(00/ 0
this000 4
.004 5
CoordinateSystem005 E
,00E F
this00G K
.00K L
Points00L R
)00R S
;00S T
}11 	
}22 
}33 …
9D:\odata.net\src\Microsoft.Spatial\GeographyMultiCurve.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyMultiCurve

 -
:

. /
GeographyCollection

0 C
{ 
	protected 
GeographyMultiCurve %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} Ï
>D:\odata.net\src\Microsoft.Spatial\GeographyMultiLineString.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class $
GeographyMultiLineString 2
:3 4
GeographyMultiCurve5 H
{ 
	protected $
GeographyMultiLineString *
(* +
CoordinateSystem+ ;
coordinateSystem< L
,L M!
SpatialImplementationN c
creatord k
)k l
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyLineString+ >
>> ?
LineStrings@ K
{L M
getN Q
;Q R
}S T
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( $
GeographyMultiLineString 3
other4 9
)9 :
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
LineStrings!!2 =
.!!= >
SequenceEqual!!> K
(!!K L
other!!L Q
.!!Q R
LineStrings!!R ]
)!!] ^
;!!^ _
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %$
GeographyMultiLineString))& >
)))> ?
;))? @
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
LineStrings00^ i
)00i j
;00j k
}11 	
}22 
}33 ∫
9D:\odata.net\src\Microsoft.Spatial\GeographyMultiPoint.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeographyMultiPoint -
:. /
GeographyCollection0 C
{ 
	protected 
GeographyMultiPoint %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyPoint+ 9
>9 :
Points; A
{B C
getD G
;G H
}I J
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( 
GeographyMultiPoint .
other/ 4
)4 5
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Points!!2 8
.!!8 9
SequenceEqual!!9 F
(!!F G
other!!G L
.!!L M
Points!!M S
)!!S T
;!!T U
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeographyMultiPoint))& 9
)))9 :
;)): ;
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Points00^ d
)00d e
;00e f
}11 	
}22 
}33 –
;D:\odata.net\src\Microsoft.Spatial\GeographyMultiPolygon.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class !
GeographyMultiPolygon /
:0 1!
GeographyMultiSurface2 G
{ 
	protected !
GeographyMultiPolygon '
(' (
CoordinateSystem( 8
coordinateSystem9 I
,I J!
SpatialImplementationK `
creatora h
)h i
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyPolygon+ ;
>; <
Polygons= E
{F G
getH K
;K L
}M N
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( !
GeographyMultiPolygon 0
other1 6
)6 7
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Polygons!!2 :
.!!: ;
SequenceEqual!!; H
(!!H I
other!!I N
.!!N O
Polygons!!O W
)!!W X
;!!X Y
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %!
GeographyMultiPolygon))& ;
))); <
;))< =
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Polygons00^ f
)00f g
;00g h
}11 	
}22 
}33 œ
;D:\odata.net\src\Microsoft.Spatial\GeographyMultiSurface.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 !
GeographyMultiSurface

 /
:

0 1
GeographyCollection

2 E
{ 
	protected !
GeographyMultiSurface '
(' (
CoordinateSystem( 8
coordinateSystem9 I
,I J!
SpatialImplementationK `
creatora h
)h i
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} êG
4D:\odata.net\src\Microsoft.Spatial\GeographyPoint.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographyPoint

 (
:

) *
	Geography

+ 4
{ 
	protected 
GeographyPoint  
(  !
CoordinateSystem! 1
coordinateSystem2 B
,B C!
SpatialImplementationD Y
creatorZ a
)a b
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
double 
Latitude '
{( )
get* -
;- .
}/ 0
public 
abstract 
double 
	Longitude (
{) *
get+ .
;. /
}0 1
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$strg x
)x y
]y z
public   
abstract   
double   
?   
Z    !
{  " #
get  $ '
;  ' (
}  ) *
[%% 	
System%%	 
.%% 
Diagnostics%% 
.%% 
CodeAnalysis%% (
.%%( )
SuppressMessage%%) 8
(%%8 9
$str%%9 K
,%%K L
$str%%M U
,%%U V
Justification%%W d
=%%e f
$str%%g x
)%%x y
]%%y z
public&& 
abstract&& 
double&& 
?&& 
M&&  !
{&&" #
get&&$ '
;&&' (
}&&) *
public,, 
static,, 
GeographyPoint,, $
Create,,% +
(,,+ ,
double,,, 2
latitude,,3 ;
,,,; <
double,,= C
	longitude,,D M
),,M N
{-- 	
return.. 
Create.. 
(.. 
CoordinateSystem.. *
...* +
DefaultGeography..+ ;
,..; <
latitude..= E
,..E F
	longitude..G P
,..P Q
null..R V
,..V W
null..X \
)..\ ]
;..] ^
}// 	
[66 	
System66	 
.66 
Diagnostics66 
.66 
CodeAnalysis66 (
.66( )
SuppressMessage66) 8
(668 9
$str669 K
,66K L
$str66M U
,66U V
Justification66W d
=66e f
$str66g x
)66x y
]66y z
public77 
static77 
GeographyPoint77 $
Create77% +
(77+ ,
double77, 2
latitude773 ;
,77; <
double77= C
	longitude77D M
,77M N
double77O U
?77U V
z77W X
)77X Y
{88 	
return99 
Create99 
(99 
CoordinateSystem99 *
.99* +
DefaultGeography99+ ;
,99; <
latitude99= E
,99E F
	longitude99G P
,99P Q
z99R S
,99S T
null99U Y
)99Y Z
;99Z [
}:: 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM U
,BBU V
JustificationBBW d
=BBe f
$strBBg 
)	BB Ä
]
BBÄ Å
publicCC 
staticCC 
GeographyPointCC $
CreateCC% +
(CC+ ,
doubleCC, 2
latitudeCC3 ;
,CC; <
doubleCC= C
	longitudeCCD M
,CCM N
doubleCCO U
?CCU V
zCCW X
,CCX Y
doubleCCZ `
?CC` a
mCCb c
)CCc d
{DD 	
returnEE 
CreateEE 
(EE 
CoordinateSystemEE *
.EE* +
DefaultGeographyEE+ ;
,EE; <
latitudeEE= E
,EEE F
	longitudeEEG P
,EEP Q
zEER S
,EES T
mEEU V
)EEV W
;EEW X
}FF 	
[OO 	
SystemOO	 
.OO 
DiagnosticsOO 
.OO 
CodeAnalysisOO (
.OO( )
SuppressMessageOO) 8
(OO8 9
$strOO9 K
,OOK L
$strOOM U
,OOU V
JustificationOOW d
=OOe f
$strOOg 
)	OO Ä
]
OOÄ Å
publicPP 
staticPP 
GeographyPointPP $
CreatePP% +
(PP+ ,
CoordinateSystemPP, <
coordinateSystemPP= M
,PPM N
doublePPO U
latitudePPV ^
,PP^ _
doublePP` f
	longitudePPg p
,PPp q
doublePPr x
?PPx y
zPPz {
,PP{ |
double	PP} É
?
PPÉ Ñ
m
PPÖ Ü
)
PPÜ á
{QQ 	
varRR 
builderRR 
=RR 
SpatialBuilderRR (
.RR( )
CreateRR) /
(RR/ 0
)RR0 1
;RR1 2
varSS 
pipelineSS 
=SS 
builderSS "
.SS" #
GeographyPipelineSS# 4
;SS4 5
pipelineTT 
.TT 
SetCoordinateSystemTT (
(TT( )
coordinateSystemTT) 9
)TT9 :
;TT: ;
pipelineUU 
.UU 
BeginGeographyUU #
(UU# $
SpatialTypeUU$ /
.UU/ 0
PointUU0 5
)UU5 6
;UU6 7
pipelineVV 
.VV 
BeginFigureVV  
(VV  !
newVV! $
GeographyPositionVV% 6
(VV6 7
latitudeVV7 ?
,VV? @
	longitudeVVA J
,VVJ K
zVVL M
,VVM N
mVVO P
)VVP Q
)VVQ R
;VVR S
pipelineWW 
.WW 
	EndFigureWW 
(WW 
)WW  
;WW  !
pipelineXX 
.XX 
EndGeographyXX !
(XX! "
)XX" #
;XX# $
returnYY 
(YY 
GeographyPointYY "
)YY" #
builderYY# *
.YY* + 
ConstructedGeographyYY+ ?
;YY? @
}ZZ 	
[__ 	
System__	 
.__ 
Diagnostics__ 
.__ 
CodeAnalysis__ (
.__( )
SuppressMessage__) 8
(__8 9
$str__9 K
,__K L
$str__M z
,__z {
Justification	__| â
=
__ä ã
$str
__å £
)
__£ §
]
__§ •
public`` 
bool`` 
Equals`` 
(`` 
GeographyPoint`` )
other``* /
)``/ 0
{aa 	
returnbb 
thisbb 
.bb 

BaseEqualsbb "
(bb" #
otherbb# (
)bb( )
??bb* ,
thisbb- 1
.bb1 2
Latitudebb2 :
==bb; =
otherbb> C
.bbC D
LatitudebbD L
&&bbM O
thisbbP T
.bbT U
	LongitudebbU ^
==bb_ a
otherbbb g
.bbg h
	Longitudebbh q
&&bbr t
thisbbu y
.bby z
Zbbz {
==bb| ~
other	bb Ñ
.
bbÑ Ö
Z
bbÖ Ü
&&
bbá â
this
bbä é
.
bbé è
M
bbè ê
==
bbë ì
other
bbî ô
.
bbô ö
M
bbö õ
;
bbõ ú
}cc 	
publichh 
overridehh 
boolhh 
Equalshh #
(hh# $
objecthh$ *
objhh+ .
)hh. /
{ii 	
returnjj 
thisjj 
.jj 
Equalsjj 
(jj 
objjj "
asjj# %
GeographyPointjj& 4
)jj4 5
;jj5 6
}kk 	
publicoo 
overrideoo 
intoo 
GetHashCodeoo '
(oo' (
)oo( )
{pp 	
returnqq 
	Geographyqq 
.qq 
ComputeHashCodeForqq /
(qq/ 0
thisqq0 4
.qq4 5
CoordinateSystemqq5 E
,qqE F
newqqG J
[qqJ K
]qqK L
{qqM N
thisqqO S
.qqS T
IsEmptyqqT [
?qq\ ]
$numqq^ _
:qq` a
thisqqb f
.qqf g
Latitudeqqg o
,qqo p
thisqqq u
.qqu v
IsEmptyqqv }
?qq~ 
$num
qqÄ Å
:
qqÇ É
this
qqÑ à
.
qqà â
	Longitude
qqâ í
,
qqí ì
this
qqî ò
.
qqò ô
Z
qqô ö
??
qqõ ù
$num
qqû ü
,
qqü †
this
qq° •
.
qq• ¶
M
qq¶ ß
??
qq® ™
$num
qq´ ¨
}
qq≠ Æ
)
qqÆ Ø
;
qqØ ∞
}rr 	
}ss 
}tt ﬂ
6D:\odata.net\src\Microsoft.Spatial\GeographyPolygon.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeographyPolygon *
:+ ,
GeographySurface- =
{ 
	protected 
GeographyPolygon "
(" #
CoordinateSystem# 3
coordinateSystem4 D
,D E!
SpatialImplementationF [
creator\ c
)c d
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeographyLineString+ >
>> ?
Rings@ E
{F G
getH K
;K L
}M N
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( 
GeographyPolygon +
other, 1
)1 2
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Rings!!2 7
.!!7 8
SequenceEqual!!8 E
(!!E F
other!!F K
.!!K L
Rings!!L Q
)!!Q R
;!!R S
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeographyPolygon))& 6
)))6 7
;))7 8
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Geography00 
.00 
ComputeHashCodeFor00 /
(00/ 0
this000 4
.004 5
CoordinateSystem005 E
,00E F
this00G K
.00K L
Rings00L Q
)00Q R
;00R S
}11 	
}22 
}33 Ã'
/D:\odata.net\src\Microsoft.Spatial\Geography.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
	Geography #
:$ %
ISpatial& .
{ 
private !
SpatialImplementation %
creator& -
;- .
private 
CoordinateSystem  
coordinateSystem! 1
;1 2
	protected 
	Geography 
( 
CoordinateSystem ,
coordinateSystem- =
,= >!
SpatialImplementation? T
creatorU \
)\ ]
{ 	
Util 
. 
CheckArgumentNull "
(" #
coordinateSystem# 3
,3 4
$str5 G
)G H
;H I
Util 
. 
CheckArgumentNull "
(" #
creator# *
,* +
$str, 5
)5 6
;6 7
this   
.   
coordinateSystem   !
=  " #
coordinateSystem  $ 4
;  4 5
this!! 
.!! 
creator!! 
=!! 
creator!! "
;!!" #
}"" 	
public&& 
CoordinateSystem&& 
CoordinateSystem&&  0
{'' 	
get(( 
{)) 
return** 
this** 
.** 
coordinateSystem** ,
;**, -
}++ 
internal-- 
set-- 
{.. 
this// 
.// 
coordinateSystem// %
=//& '
value//( -
;//- .
}00 
}11 	
public55 
abstract55 
bool55 
IsEmpty55 $
{55% &
get55' *
;55* +
}55, -
internal:: !
SpatialImplementation:: &
Creator::' .
{;; 	
get<< 
{<< 
return<< 
this<< 
.<< 
creator<< %
;<<% &
}<<' (
set>> 
{>> 
this>> 
.>> 
creator>> 
=>>  
value>>! &
;>>& '
}>>( )
}?? 	
publicCC 
virtualCC 
voidCC 
SendToCC "
(CC" #
GeographyPipelineCC# 4
chainCC5 :
)CC: ;
{DD 	
UtilEE 
.EE 
CheckArgumentNullEE "
(EE" #
chainEE# (
,EE( )
$strEE* 1
)EE1 2
;EE2 3
chainFF 
.FF 
SetCoordinateSystemFF %
(FF% &
thisFF& *
.FF* +
coordinateSystemFF+ ;
)FF; <
;FF< =
}GG 	
internalPP 
staticPP 
intPP 
ComputeHashCodeForPP .
<PP. /
TPP/ 0
>PP0 1
(PP1 2
CoordinateSystemPP2 B
coordsPPC I
,PPI J
IEnumerablePPK V
<PPV W
TPPW X
>PPX Y
fieldsPPZ `
)PP` a
{QQ 	
	uncheckedRR 
{SS 
returnTT 
fieldsTT 
.TT 
	AggregateTT '
(TT' (
coordsTT( .
.TT. /
GetHashCodeTT/ :
(TT: ;
)TT; <
,TT< =
(TT> ?
currentTT? F
,TTF G
fieldTTH M
)TTM N
=>TTO Q
(TTR S
currentTTS Z
*TT[ \
$numTT] `
)TT` a
^TTb c
fieldTTd i
.TTi j
GetHashCodeTTj u
(TTu v
)TTv w
)TTw x
;TTx y
}UU 
}VV 	
internal]] 
bool]] 
?]] 

BaseEquals]] !
(]]! "
	Geography]]" +
other]], 1
)]]1 2
{^^ 	
if__ 
(__ 
other__ 
==__ 
null__ 
)__ 
{`` 
returnaa 
falseaa 
;aa 
}bb 
ifdd 
(dd 
ReferenceEqualsdd 
(dd  
thisdd  $
,dd$ %
otherdd& +
)dd+ ,
)dd, -
{ee 
returnff 
trueff 
;ff 
}gg 
ifii 
(ii 
!ii 
thisii 
.ii 
coordinateSystemii &
.ii& '
Equalsii' -
(ii- .
otherii. 3
.ii3 4
coordinateSystemii4 D
)iiD E
)iiE F
{jj 
returnkk 
falsekk 
;kk 
}ll 
ifnn 
(nn 
thisnn 
.nn 
IsEmptynn 
||nn 
othernn  %
.nn% &
IsEmptynn& -
)nn- .
{oo 
returnpp 
thispp 
.pp 
IsEmptypp #
&&pp$ &
otherpp' ,
.pp, -
IsEmptypp- 4
;pp4 5
}qq 
returnss 
nullss 
;ss 
}tt 	
}uu 
}vv ø
9D:\odata.net\src\Microsoft.Spatial\GeographyCollection.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeographyCollection -
:. /
	Geography0 9
{ 
	protected 
GeographyCollection %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
	Geography+ 4
>4 5
Geographies6 A
{B C
getD G
;G H
}I J
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( 
GeographyCollection .
other/ 4
)4 5
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Geographies!!2 =
.!!= >
SequenceEqual!!> K
(!!K L
other!!L Q
.!!Q R
Geographies!!R ]
)!!] ^
;!!^ _
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeographyCollection))& 9
)))9 :
;)): ;
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Geographies00^ i
)00i j
;00j k
}11 	
}22 
}33 ∂
6D:\odata.net\src\Microsoft.Spatial\GeographySurface.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeographySurface

 *
:

+ ,
	Geography

- 6
{ 
	protected 
GeographySurface "
(" #
CoordinateSystem# 3
coordinateSystem4 D
,D E!
SpatialImplementationF [
creator\ c
)c d
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} ı

6D:\odata.net\src\Microsoft.Spatial\GeometryPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometryPipeline

 *
{ 
public 
abstract 
void 
BeginGeometry *
(* +
SpatialType+ 6
type7 ;
); <
;< =
public 
abstract 
void 
BeginFigure (
(( )
GeometryPosition) 9
position: B
)B C
;C D
public 
abstract 
void 
LineTo #
(# $
GeometryPosition$ 4
position5 =
)= >
;> ?
public 
abstract 
void 
	EndFigure &
(& '
)' (
;( )
public 
abstract 
void 
EndGeometry (
(( )
)) *
;* +
public   
abstract   
void   
SetCoordinateSystem   0
(  0 1
CoordinateSystem  1 A
coordinateSystem  B R
)  R S
;  S T
public## 
abstract## 
void## 
Reset## "
(##" #
)### $
;##$ %
}$$ 
}%% ¥
8D:\odata.net\src\Microsoft.Spatial\GeometryCollection.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeometryCollection ,
:- .
Geometry/ 7
{ 
	protected 
GeometryCollection $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
Geometry+ 3
>3 4

Geometries5 ?
{@ A
getB E
;E F
}G H
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( 
GeometryCollection -
other. 3
)3 4
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2

Geometries!!2 <
.!!< =
SequenceEqual!!= J
(!!J K
other!!K P
.!!P Q

Geometries!!Q [
)!![ \
;!!\ ]
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeometryCollection))& 8
)))8 9
;))9 :
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^

Geometries00^ h
)00h i
;00i j
}11 	
}22 
}33 ¨
3D:\odata.net\src\Microsoft.Spatial\GeometryCurve.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometryCurve

 '
:

( )
Geometry

* 2
{ 
	protected 
GeometryCurve 
(  
CoordinateSystem  0
coordinateSystem1 A
,A B!
SpatialImplementationC X
creatorY `
)` a
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} ‰
8D:\odata.net\src\Microsoft.Spatial\GeometryLineString.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeometryLineString ,
:- .
GeometryCurve/ <
{ 
	protected 
GeometryLineString $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryPoint+ 8
>8 9
Points: @
{A B
getC F
;F G
}H I
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( 
GeometryLineString -
other. 3
)3 4
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Points!!2 8
.!!8 9
SequenceEqual!!9 F
(!!F G
other!!G L
.!!L M
Points!!M S
)!!S T
;!!T U
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeometryLineString))& 8
)))8 9
;))9 :
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Geography00 
.00 
ComputeHashCodeFor00 /
(00/ 0
this000 4
.004 5
CoordinateSystem005 E
,00E F
this00G K
.00K L
Points00L R
)00R S
;00S T
}11 	
}22 
}33 ≈
8D:\odata.net\src\Microsoft.Spatial\GeometryMultiCurve.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometryMultiCurve

 ,
:

- .
GeometryCollection

/ A
{ 
	protected 
GeometryMultiCurve $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} Â
=D:\odata.net\src\Microsoft.Spatial\GeometryMultiLineString.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class #
GeometryMultiLineString 1
:2 3
GeometryMultiCurve4 F
{ 
	protected #
GeometryMultiLineString )
() *
CoordinateSystem* :
coordinateSystem; K
,K L!
SpatialImplementationM b
creatorc j
)j k
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryLineString+ =
>= >
LineStrings? J
{K L
getM P
;P Q
}R S
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( #
GeometryMultiLineString 2
other3 8
)8 9
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
LineStrings!!2 =
.!!= >
SequenceEqual!!> K
(!!K L
other!!L Q
.!!Q R
LineStrings!!R ]
)!!] ^
;!!^ _
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %#
GeometryMultiLineString))& =
)))= >
;))> ?
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
LineStrings00^ i
)00i j
;00j k
}11 	
}22 
}33 ≥
8D:\odata.net\src\Microsoft.Spatial\GeometryMultiPoint.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeometryMultiPoint ,
:- .
GeometryCollection/ A
{ 
	protected 
GeometryMultiPoint $
($ %
CoordinateSystem% 5
coordinateSystem6 F
,F G!
SpatialImplementationH ]
creator^ e
)e f
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryPoint+ 8
>8 9
Points: @
{A B
getC F
;F G
}H I
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( 
GeometryMultiPoint -
other. 3
)3 4
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Points!!2 8
.!!8 9
SequenceEqual!!9 F
(!!F G
other!!G L
.!!L M
Points!!M S
)!!S T
;!!T U
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# %
GeometryMultiPoint))& 8
)))8 9
;))9 :
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Points00^ d
)00d e
;00e f
}11 	
}22 
}33 …
:D:\odata.net\src\Microsoft.Spatial\GeometryMultiPolygon.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class  
GeometryMultiPolygon .
:/ 0 
GeometryMultiSurface1 E
{ 
	protected  
GeometryMultiPolygon &
(& '
CoordinateSystem' 7
coordinateSystem8 H
,H I!
SpatialImplementationJ _
creator` g
)g h
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryPolygon+ :
>: ;
Polygons< D
{E F
getG J
;J K
}L M
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
(  
GeometryMultiPolygon /
other0 5
)5 6
{   	
return!! 
this!! 
.!! 

BaseEquals!! "
(!!" #
other!!# (
)!!( )
??!!* ,
this!!- 1
.!!1 2
Polygons!!2 :
.!!: ;
SequenceEqual!!; H
(!!H I
other!!I N
.!!N O
Polygons!!O W
)!!W X
;!!X Y
}"" 	
public'' 
override'' 
bool'' 
Equals'' #
(''# $
object''$ *
obj''+ .
)''. /
{(( 	
return)) 
this)) 
.)) 
Equals)) 
()) 
obj)) "
as))# % 
GeometryMultiPolygon))& :
))): ;
;)); <
}** 	
public.. 
override.. 
int.. 
GetHashCode.. '
(..' (
)..( )
{// 	
return00 
	Microsoft00 
.00 
Spatial00 $
.00$ %
	Geography00% .
.00. /
ComputeHashCodeFor00/ A
(00A B
this00B F
.00F G
CoordinateSystem00G W
,00W X
this00Y ]
.00] ^
Polygons00^ f
)00f g
;00g h
}11 	
}22 
}33  
:D:\odata.net\src\Microsoft.Spatial\GeometryMultiSurface.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

  
GeometryMultiSurface

 .
:

/ 0
GeometryCollection

1 C
{ 
internal  
GeometryMultiSurface %
(% &
CoordinateSystem& 6
coordinateSystem7 G
,G H!
SpatialImplementationI ^
creator_ f
)f g
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} ìM
3D:\odata.net\src\Microsoft.Spatial\GeometryPoint.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometryPoint

 '
:

( )
Geometry

* 2
{ 
	protected 
GeometryPoint 
(  
CoordinateSystem  0
coordinateSystem1 A
,A B!
SpatialImplementationC X
creatorY `
)` a
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$strg x
)x y
]y z
public 
abstract 
double 
X  
{! "
get# &
;& '
}( )
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$strg x
)x y
]y z
public 
abstract 
double 
Y  
{! "
get# &
;& '
}( )
[!! 	
System!!	 
.!! 
Diagnostics!! 
.!! 
CodeAnalysis!! (
.!!( )
SuppressMessage!!) 8
(!!8 9
$str!!9 K
,!!K L
$str!!M U
,!!U V
Justification!!W d
=!!e f
$str!!g x
)!!x y
]!!y z
public"" 
abstract"" 
double"" 
?"" 
Z""  !
{""" #
get""$ '
;""' (
}"") *
['' 	
System''	 
.'' 
Diagnostics'' 
.'' 
CodeAnalysis'' (
.''( )
SuppressMessage'') 8
(''8 9
$str''9 K
,''K L
$str''M U
,''U V
Justification''W d
=''e f
$str''g x
)''x y
]''y z
public(( 
abstract(( 
double(( 
?(( 
M((  !
{((" #
get(($ '
;((' (
}(() *
[.. 	
System..	 
... 
Diagnostics.. 
... 
CodeAnalysis.. (
...( )
SuppressMessage..) 8
(..8 9
$str..9 K
,..K L
$str..M U
,..U V
Justification..W d
=..e f
$str..g 
)	.. Ä
]
..Ä Å
public// 
static// 
GeometryPoint// #
Create//$ *
(//* +
double//+ 1
x//2 3
,//3 4
double//5 ;
y//< =
)//= >
{00 	
return11 
Create11 
(11 
CoordinateSystem11 *
.11* +
DefaultGeometry11+ :
,11: ;
x11< =
,11= >
y11? @
,11@ A
null11B F
,11F G
null11H L
)11L M
;11M N
}22 	
[99 	
System99	 
.99 
Diagnostics99 
.99 
CodeAnalysis99 (
.99( )
SuppressMessage99) 8
(998 9
$str999 K
,99K L
$str99M U
,99U V
Justification99W d
=99e f
$str	99g Ç
)
99Ç É
]
99É Ñ
public:: 
static:: 
GeometryPoint:: #
Create::$ *
(::* +
double::+ 1
x::2 3
,::3 4
double::5 ;
y::< =
,::= >
double::? E
?::E F
z::G H
)::H I
{;; 	
return<< 
Create<< 
(<< 
CoordinateSystem<< *
.<<* +
DefaultGeometry<<+ :
,<<: ;
x<<< =
,<<= >
y<<? @
,<<@ A
z<<B C
,<<C D
null<<E I
)<<I J
;<<J K
}== 	
[EE 	
SystemEE	 
.EE 
DiagnosticsEE 
.EE 
CodeAnalysisEE (
.EE( )
SuppressMessageEE) 8
(EE8 9
$strEE9 K
,EEK L
$strEEM U
,EEU V
JustificationEEW d
=EEe f
$str	EEg Ö
)
EEÖ Ü
]
EEÜ á
publicFF 
staticFF 
GeometryPointFF #
CreateFF$ *
(FF* +
doubleFF+ 1
xFF2 3
,FF3 4
doubleFF5 ;
yFF< =
,FF= >
doubleFF? E
?FFE F
zFFG H
,FFH I
doubleFFJ P
?FFP Q
mFFR S
)FFS T
{GG 	
returnHH 
CreateHH 
(HH 
CoordinateSystemHH *
.HH* +
DefaultGeometryHH+ :
,HH: ;
xHH< =
,HH= >
yHH? @
,HH@ A
zHHB C
,HHC D
mHHE F
)HHF G
;HHG H
}II 	
[RR 	
SystemRR	 
.RR 
DiagnosticsRR 
.RR 
CodeAnalysisRR (
.RR( )
SuppressMessageRR) 8
(RR8 9
$strRR9 K
,RRK L
$strRRM U
,RRU V
JustificationRRW d
=RRe f
$str	RRg Ö
)
RRÖ Ü
]
RRÜ á
publicSS 
staticSS 
GeometryPointSS #
CreateSS$ *
(SS* +
CoordinateSystemSS+ ;
coordinateSystemSS< L
,SSL M
doubleSSN T
xSSU V
,SSV W
doubleSSX ^
ySS_ `
,SS` a
doubleSSb h
?SSh i
zSSj k
,SSk l
doubleSSm s
?SSs t
mSSu v
)SSv w
{TT 	
varUU 
builderUU 
=UU 
SpatialBuilderUU (
.UU( )
CreateUU) /
(UU/ 0
)UU0 1
;UU1 2
varVV 
pipelineVV 
=VV 
builderVV "
.VV" #
GeometryPipelineVV# 3
;VV3 4
pipelineWW 
.WW 
SetCoordinateSystemWW (
(WW( )
coordinateSystemWW) 9
)WW9 :
;WW: ;
pipelineXX 
.XX 
BeginGeometryXX "
(XX" #
SpatialTypeXX# .
.XX. /
PointXX/ 4
)XX4 5
;XX5 6
pipelineYY 
.YY 
BeginFigureYY  
(YY  !
newYY! $
GeometryPositionYY% 5
(YY5 6
xYY6 7
,YY7 8
yYY9 :
,YY: ;
zYY< =
,YY= >
mYY? @
)YY@ A
)YYA B
;YYB C
pipelineZZ 
.ZZ 
	EndFigureZZ 
(ZZ 
)ZZ  
;ZZ  !
pipeline[[ 
.[[ 
EndGeometry[[  
([[  !
)[[! "
;[[" #
return\\ 
(\\ 
GeometryPoint\\ !
)\\! "
builder\\" )
.\\) *
ConstructedGeometry\\* =
;\\= >
}]] 	
[bb 	
Systembb	 
.bb 
Diagnosticsbb 
.bb 
CodeAnalysisbb (
.bb( )
SuppressMessagebb) 8
(bb8 9
$strbb9 K
,bbK L
$strbbM z
,bbz {
Justification	bb| â
=
bbä ã
$str
bbå £
)
bb£ §
]
bb§ •
publiccc 
boolcc 
Equalscc 
(cc 
GeometryPointcc (
othercc) .
)cc. /
{dd 	
returnee 
thisee 
.ee 

BaseEqualsee "
(ee" #
otheree# (
)ee( )
??ee* ,
thisee- 1
.ee1 2
Xee2 3
==ee4 6
otheree7 <
.ee< =
Xee= >
&&ee? A
thiseeB F
.eeF G
YeeG H
==eeI K
othereeL Q
.eeQ R
YeeR S
&&eeT V
thiseeW [
.ee[ \
Zee\ ]
==ee^ `
othereea f
.eef g
Zeeg h
&&eei k
thiseel p
.eep q
Meeq r
==ees u
othereev {
.ee{ |
Mee| }
;ee} ~
}ff 	
publickk 
overridekk 
boolkk 
Equalskk #
(kk# $
objectkk$ *
objkk+ .
)kk. /
{ll 	
returnmm 
thismm 
.mm 
Equalsmm 
(mm 
objmm "
asmm# %
GeometryPointmm& 3
)mm3 4
;mm4 5
}nn 	
publicrr 
overriderr 
intrr 
GetHashCoderr '
(rr' (
)rr( )
{ss 	
returntt 
	Geographytt 
.tt 
ComputeHashCodeFortt /
(tt/ 0
thistt0 4
.tt4 5
CoordinateSystemtt5 E
,ttE F
newttG J
[ttJ K
]ttK L
{ttM N
thisttO S
.ttS T
IsEmptyttT [
?tt\ ]
$numtt^ _
:tt` a
thisttb f
.ttf g
Xttg h
,tth i
thisttj n
.ttn o
IsEmptytto v
?ttw x
$numtty z
:tt{ |
this	tt} Å
.
ttÅ Ç
Y
ttÇ É
,
ttÉ Ñ
this
ttÖ â
.
ttâ ä
Z
ttä ã
??
ttå é
$num
ttè ê
,
ttê ë
this
ttí ñ
.
ttñ ó
M
ttó ò
??
ttô õ
$num
ttú ù
}
ttû ü
)
ttü †
;
tt† °
}uu 	
}vv 
}ww ÿ
5D:\odata.net\src\Microsoft.Spatial\GeometryPolygon.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
GeometryPolygon )
:* +
GeometrySurface, ;
{ 
	protected 
GeometryPolygon !
(! "
CoordinateSystem" 2
coordinateSystem3 C
,C D!
SpatialImplementationE Z
creator[ b
)b c
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
public 
abstract 
ReadOnlyCollection *
<* +
GeometryLineString+ =
>= >
Rings? D
{E F
getG J
;J K
}L M
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM z
,z {
Justification	| â
=
ä ã
$str
å £
)
£ §
]
§ •
public 
bool 
Equals 
( 
GeometryPolygon *
other+ 0
)0 1
{ 	
return   
this   
.   

BaseEquals   "
(  " #
other  # (
)  ( )
??  * ,
this  - 1
.  1 2
Rings  2 7
.  7 8
SequenceEqual  8 E
(  E F
other  F K
.  K L
Rings  L Q
)  Q R
;  R S
}!! 	
public&& 
override&& 
bool&& 
Equals&& #
(&&# $
object&&$ *
obj&&+ .
)&&. /
{'' 	
return(( 
this(( 
.(( 
Equals(( 
((( 
obj(( "
as((# %
GeometryPolygon((& 5
)((5 6
;((6 7
})) 	
public-- 
override-- 
int-- 
GetHashCode-- '
(--' (
)--( )
{.. 	
return// 
	Geography// 
.// 
ComputeHashCodeFor// /
(/// 0
this//0 4
.//4 5
CoordinateSystem//5 E
,//E F
this//G K
.//K L
Rings//L Q
)//Q R
;//R S
}00 	
}11 
}22 ±
5D:\odata.net\src\Microsoft.Spatial\GeometrySurface.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
GeometrySurface

 )
:

* +
Geometry

, 4
{ 
internal 
GeometrySurface  
(  !
CoordinateSystem! 1
coordinateSystem2 B
,B C!
SpatialImplementationD Y
creatorZ a
)a b
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
} 
} Æ 
.D:\odata.net\src\Microsoft.Spatial\Geometry.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

abstract

 
class

 
Geometry

 "
:

# $
ISpatial

% -
{ 
private !
SpatialImplementation %
creator& -
;- .
private 
CoordinateSystem  
coordinateSystem! 1
;1 2
	protected 
Geometry 
( 
CoordinateSystem +
coordinateSystem, <
,< =!
SpatialImplementation> S
creatorT [
)[ \
{ 	
Util 
. 
CheckArgumentNull "
(" #
coordinateSystem# 3
,3 4
$str5 G
)G H
;H I
Util 
. 
CheckArgumentNull "
(" #
creator# *
,* +
$str, 5
)5 6
;6 7
this 
. 
coordinateSystem !
=" #
coordinateSystem$ 4
;4 5
this 
. 
creator 
= 
creator "
;" #
} 	
public## 
CoordinateSystem## 
CoordinateSystem##  0
{$$ 	
get%% 
{&& 
return'' 
this'' 
.'' 
coordinateSystem'' ,
;'', -
}(( 
internal** 
set** 
{++ 
this,, 
.,, 
coordinateSystem,, %
=,,& '
value,,( -
;,,- .
}-- 
}.. 	
public22 
abstract22 
bool22 
IsEmpty22 $
{22% &
get22' *
;22* +
}22, -
internal77 !
SpatialImplementation77 &
Creator77' .
{88 	
get99 
{99 
return99 
this99 
.99 
creator99 %
;99% &
}99' (
set;; 
{;; 
this;; 
.;; 
creator;; 
=;;  
value;;! &
;;;& '
};;( )
}<< 	
public@@ 
virtual@@ 
void@@ 
SendTo@@ "
(@@" #
GeometryPipeline@@# 3
chain@@4 9
)@@9 :
{AA 	
UtilBB 
.BB 
CheckArgumentNullBB "
(BB" #
chainBB# (
,BB( )
$strBB* 1
)BB1 2
;BB2 3
chainCC 
.CC 
SetCoordinateSystemCC %
(CC% &
thisCC& *
.CC* +
coordinateSystemCC+ ;
)CC; <
;CC< =
}DD 	
internalKK 
boolKK 
?KK 

BaseEqualsKK !
(KK! "
GeometryKK" *
otherKK+ 0
)KK0 1
{LL 	
ifMM 
(MM 
otherMM 
==MM 
nullMM 
)MM 
{NN 
returnOO 
falseOO 
;OO 
}PP 
ifRR 
(RR 
ReferenceEqualsRR 
(RR  
thisRR  $
,RR$ %
otherRR& +
)RR+ ,
)RR, -
{SS 
returnTT 
trueTT 
;TT 
}UU 
ifWW 
(WW 
!WW 
thisWW 
.WW 
coordinateSystemWW &
.WW& '
EqualsWW' -
(WW- .
otherWW. 3
.WW3 4
coordinateSystemWW4 D
)WWD E
)WWE F
{XX 
returnYY 
falseYY 
;YY 
}ZZ 
if\\ 
(\\ 
this\\ 
.\\ 
IsEmpty\\ 
||\\ 
other\\  %
.\\% &
IsEmpty\\& -
)\\- .
{]] 
return^^ 
this^^ 
.^^ 
IsEmpty^^ #
&&^^$ &
other^^' ,
.^^, -
IsEmpty^^- 4
;^^4 5
}__ 
returnaa 
nullaa 
;aa 
}bb 	
}cc 
}dd µ	
8D:\odata.net\src\Microsoft.Spatial\IGeographyProvider.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

	interface 
IGeographyProvider '
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM s
,s t
Justification	u Ç
=
É Ñ
$str
Ö Æ
)
Æ Ø
]
Ø ∞
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM x
,x y
Justification	z á
=
à â
$str
ä ≥
)
≥ ¥
]
¥ µ
event 
Action 
< 
	Geography 
> 
ProduceGeography  0
;0 1
	Geography  
ConstructedGeography &
{' (
get) ,
;, -
}. /
} 
} Ø	
7D:\odata.net\src\Microsoft.Spatial\IGeometryProvider.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

	interface 
IGeometryProvider &
{ 
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM s
,s t
Justification	u Ç
=
É Ñ
$str
Ö Æ
)
Æ Ø
]
Ø ∞
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM x
,x y
Justification	z á
=
à â
$str
ä ≥
)
≥ ¥
]
¥ µ
event 
Action 
< 
Geometry 
> 
ProduceGeometry .
;. /
Geometry 
ConstructedGeometry $
{% &
get' *
;* +
}, -
} 
} ‚
4D:\odata.net\src\Microsoft.Spatial\IShapeProvider.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

	interface

 
IShapeProvider

 #
:

$ %
IGeographyProvider

& 8
,

8 9
IGeometryProvider

: K
{ 
} 
} ÿ
.D:\odata.net\src\Microsoft.Spatial\ISpatial.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

	interface

 
ISpatial

 
{ 
CoordinateSystem 
CoordinateSystem )
{* +
get, /
;/ 0
}1 2
bool 
IsEmpty 
{ 
get 
; 
} 
} 
} ·
<D:\odata.net\src\Microsoft.Spatial\GeoJsonObjectFormatter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class "
GeoJsonObjectFormatter 0
{ 
public 
static "
GeoJsonObjectFormatter ,
Create- 3
(3 4
)4 5
{ 	
return !
SpatialImplementation (
.( )!
CurrentImplementation) >
.> ?(
CreateGeoJsonObjectFormatter? [
([ \
)\ ]
;] ^
} 	
public 
abstract 
T 
Read 
< 
T  
>  !
(! "
IDictionary" -
<- .
String. 4
,4 5
Object6 <
>< =
source> D
)D E
whereF K
TL M
:N O
classP U
,U V
ISpatialW _
;_ `
public 
abstract 
IDictionary #
<# $
String$ *
,* +
Object, 2
>2 3
Write4 9
(9 :
ISpatial: B
valueC H
)H I
;I J
public$$ 
abstract$$ 
SpatialPipeline$$ '
CreateWriter$$( 4
($$4 5
IGeoJsonWriter$$5 C
writer$$D J
)$$J K
;$$K L
}%% 
}&& Î
9D:\odata.net\src\Microsoft.Spatial\ParseErrorException.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
ParseErrorException $
:% &
	Exception' 0
{ 
public 
ParseErrorException "
(" #
)# $
{ 	
} 	
public 
ParseErrorException "
(" #
string# )
message* 1
,1 2
	Exception3 <
innerException= K
)K L
: 
base 
( 
message 
, 
innerException *
)* +
{ 	
} 	
public## 
ParseErrorException## "
(##" #
string### )
message##* 1
)##1 2
:$$ 
base$$ 
($$ 
message$$ 
)$$ 
{%% 	
}&& 	
}11 
}22 Ø
4D:\odata.net\src\Microsoft.Spatial\SpatialBuilder.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
SpatialBuilder 
:  !
SpatialPipeline" 1
,1 2
IShapeProvider3 A
{ 
private 
readonly 
IGeographyProvider +
geographyOutput, ;
;; <
private 
readonly 
IGeometryProvider *
geometryOutput+ 9
;9 :
public 
SpatialBuilder 
( 
GeographyPipeline /
geographyInput0 >
,> ?
GeometryPipeline@ P
geometryInputQ ^
,^ _
IGeographyProvider` r
geographyOutput	s Ç
,
Ç É
IGeometryProvider
Ñ ï
geometryOutput
ñ §
)
§ •
: 
base 
( 
geographyInput !
,! "
geometryInput# 0
)0 1
{   	
this!! 
.!! 
geographyOutput!!  
=!!! "
geographyOutput!!# 2
;!!2 3
this"" 
."" 
geometryOutput"" 
=""  !
geometryOutput""" 0
;""0 1
}## 	
[&& 	
SuppressMessage&&	 
(&& 
$str&& +
,&&+ ,
$str&&- X
,&&X Y
Justification&&Z g
=&&h i
$str	&&j ì
)
&&ì î
]
&&î ï
public'' 
event'' 
Action'' 
<'' 
	Geography'' %
>''% &
ProduceGeography''' 7
{(( 	
add)) 
{)) 
this)) 
.)) 
geographyOutput)) &
.))& '
ProduceGeography))' 7
+=))8 :
value)); @
;))@ A
}))B C
remove** 
{** 
this** 
.** 
geographyOutput** )
.**) *
ProduceGeography*** :
-=**; =
value**> C
;**C D
}**E F
}++ 	
[.. 	
SuppressMessage..	 
(.. 
$str.. +
,..+ ,
$str..- X
,..X Y
Justification..Z g
=..h i
$str	..j ì
)
..ì î
]
..î ï
public// 
event// 
Action// 
<// 
Geometry// $
>//$ %
ProduceGeometry//& 5
{00 	
add11 
{11 
this11 
.11 
geometryOutput11 %
.11% &
ProduceGeometry11& 5
+=116 8
value119 >
;11> ?
}11@ A
remove22 
{22 
this22 
.22 
geometryOutput22 (
.22( )
ProduceGeometry22) 8
-=229 ;
value22< A
;22A B
}22C D
}33 	
public77 
	Geography77  
ConstructedGeography77 -
{88 	
get99 
{99 
return99 
this99 
.99 
geographyOutput99 -
.99- . 
ConstructedGeography99. B
;99B C
}99D E
}:: 	
public>> 
Geometry>> 
ConstructedGeometry>> +
{?? 	
get@@ 
{@@ 
return@@ 
this@@ 
.@@ 
geometryOutput@@ ,
.@@, -
ConstructedGeometry@@- @
;@@@ A
}@@B C
}AA 	
publicEE 
staticEE 
SpatialBuilderEE $
CreateEE% +
(EE+ ,
)EE, -
{FF 	
returnGG !
SpatialImplementationGG (
.GG( )!
CurrentImplementationGG) >
.GG> ?
CreateBuilderGG? L
(GGL M
)GGM N
;GGN O
}HH 	
}II 
}JJ ÷.
6D:\odata.net\src\Microsoft.Spatial\SpatialFormatter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
SpatialFormatter *
<* +
TReaderStream+ 8
,8 9
TWriterStream: G
>G H
{ 
private 
readonly !
SpatialImplementation .
creator/ 6
;6 7
	protected 
SpatialFormatter "
(" #!
SpatialImplementation# 8
creator9 @
)@ A
{ 	
Util 
. 
CheckArgumentNull "
(" #
creator# *
,* +
$str, 5
)5 6
;6 7
this 
. 
creator 
= 
creator "
;" #
} 	
public"" 
TResult"" 
Read"" 
<"" 
TResult"" #
>""# $
(""$ %
TReaderStream""% 2
input""3 8
)""8 9
where"": ?
TResult""@ G
:""H I
class""J O
,""O P
ISpatial""Q Y
{## 	
var$$ 
trans$$ 
=$$ !
MakeValidatingBuilder$$ -
($$- .
)$$. /
;$$/ 0
IShapeProvider%% 
parsePipelineEnd%% +
=%%, -
trans%%. 3
.%%3 4
Value%%4 9
;%%9 :
Read'' 
<'' 
TResult'' 
>'' 
('' 
input'' 
,''  
trans''! &
.''& '
Key''' *
)''* +
;''+ ,
if(( 
((( 
typeof(( 
((( 
Geometry(( 
)((  
.((  !
IsAssignableFrom((! 1
(((1 2
typeof((2 8
(((8 9
TResult((9 @
)((@ A
)((A B
)((B C
{)) 
return** 
(** 
TResult** 
)**  
(**  !
object**! '
)**' (
parsePipelineEnd**( 8
.**8 9
ConstructedGeometry**9 L
;**L M
}++ 
else,, 
{-- 
return.. 
(.. 
TResult.. 
)..  
(..  !
object..! '
)..' (
parsePipelineEnd..( 8
...8 9 
ConstructedGeography..9 M
;..M N
}// 
}00 	
[66 	
SuppressMessage66	 
(66 
$str66 +
,66+ ,
$str66- ^
,66^ _
Justification66` m
=66n o
$str	66p ¬
)
66¬ √
]
66√ ƒ
public77 
void77 
Read77 
<77 
TResult77  
>77  !
(77! "
TReaderStream77" /
input770 5
,775 6
SpatialPipeline777 F
pipeline77G O
)77O P
where77Q V
TResult77W ^
:77_ `
class77a f
,77f g
ISpatial77h p
{88 	
if99 
(99 
typeof99 
(99 
Geometry99 
)99  
.99  !
IsAssignableFrom99! 1
(991 2
typeof992 8
(998 9
TResult999 @
)99@ A
)99A B
)99B C
{:: 
ReadGeometry;; 
(;; 
input;; "
,;;" #
pipeline;;$ ,
);;, -
;;;- .
}<< 
else== 
{>> 
ReadGeography?? 
(?? 
input?? #
,??# $
pipeline??% -
)??- .
;??. /
}@@ 
}AA 	
publicFF 
voidFF 
WriteFF 
(FF 
ISpatialFF "
spatialFF# *
,FF* +
TWriterStreamFF, 9
writerStreamFF: F
)FFF G
{GG 	
varHH 
writerHH 
=HH 
thisHH 
.HH 
CreateWriterHH *
(HH* +
writerStreamHH+ 7
)HH7 8
;HH8 9
spatialII 
.II 
SendToII 
(II 
writerII !
)II! "
;II" #
}JJ 	
publicOO 
abstractOO 
SpatialPipelineOO '
CreateWriterOO( 4
(OO4 5
TWriterStreamOO5 B
writerStreamOOC O
)OOO P
;OOP Q
	protectedTT 
abstractTT 
voidTT 
ReadGeographyTT  -
(TT- .
TReaderStreamTT. ;
readerStreamTT< H
,TTH I
SpatialPipelineTTJ Y
pipelineTTZ b
)TTb c
;TTc d
	protectedYY 
abstractYY 
voidYY 
ReadGeometryYY  ,
(YY, -
TReaderStreamYY- :
readerStreamYY; G
,YYG H
SpatialPipelineYYI X
pipelineYYY a
)YYa b
;YYb c
	protected]] 
KeyValuePair]] 
<]] 
SpatialPipeline]] .
,]]. /
IShapeProvider]]0 >
>]]> ?!
MakeValidatingBuilder]]@ U
(]]U V
)]]V W
{^^ 	
var__ 
builder__ 
=__ 
this__ 
.__ 
creator__ &
.__& '
CreateBuilder__' 4
(__4 5
)__5 6
;__6 7
var`` 
	validator`` 
=`` 
this``  
.``  !
creator``! (
.``( )
CreateValidator``) 8
(``8 9
)``9 :
;``: ;
	validatoraa 
.aa 
ChainToaa 
(aa 
builderaa %
)aa% &
;aa& '
returnbb 
newbb 
KeyValuePairbb #
<bb# $
SpatialPipelinebb$ 3
,bb3 4
IShapeProviderbb5 C
>bbC D
(bbD E
	validatorbbE N
,bbN O
builderbbP W
)bbW X
;bbX Y
}cc 	
}dd 
}ee Ò
3D:\odata.net\src\Microsoft.Spatial\SpatialReader.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
SpatialReader )
<) *
TSource* 1
>1 2
{ 
	protected 
SpatialReader 
(  
SpatialPipeline  /
destination0 ;
); <
{ 	
Util 
. 
CheckArgumentNull "
(" #
destination# .
,. /
$str0 =
)= >
;> ?
this 
. 
Destination 
= 
destination *
;* +
} 	
	protected   
SpatialPipeline   !
Destination  " -
{  . /
get  0 3
;  3 4
set  5 8
;  8 9
}  : ;
public'' 
void'' 
ReadGeography'' !
(''! "
TSource''" )
input''* /
)''/ 0
{(( 	
Util)) 
.)) 
CheckArgumentNull)) "
())" #
input))# (
,))( )
$str))* 1
)))1 2
;))2 3
try++ 
{,, 
this-- 
.-- '
ReadGeographyImplementation-- 0
(--0 1
input--1 6
)--6 7
;--7 8
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
if11 
(11 
Util11 
.11 $
IsCatchableExceptionType11 1
(111 2
ex112 4
)114 5
)115 6
{22 
throw44 
new44 
ParseErrorException44 1
(441 2
ex442 4
.444 5
Message445 <
,44< =
ex44> @
)44@ A
;44A B
}55 
throw77 
;77 
}88 
}99 	
public@@ 
void@@ 
ReadGeometry@@  
(@@  !
TSource@@! (
input@@) .
)@@. /
{AA 	
UtilBB 
.BB 
CheckArgumentNullBB "
(BB" #
inputBB# (
,BB( )
$strBB* 1
)BB1 2
;BB2 3
tryDD 
{EE 
thisFF 
.FF &
ReadGeometryImplementationFF /
(FF/ 0
inputFF0 5
)FF5 6
;FF6 7
}GG 
catchHH 
(HH 
	ExceptionHH 
exHH 
)HH  
{II 
ifJJ 
(JJ 
UtilJJ 
.JJ $
IsCatchableExceptionTypeJJ 1
(JJ1 2
exJJ2 4
)JJ4 5
)JJ5 6
{KK 
throwMM 
newMM 
ParseErrorExceptionMM 1
(MM1 2
exMM2 4
.MM4 5
MessageMM5 <
,MM< =
exMM> @
)MM@ A
;MMA B
}NN 
throwPP 
;PP 
}QQ 
}RR 	
publicXX 
virtualXX 
voidXX 
ResetXX !
(XX! "
)XX" #
{YY 	
(ZZ 
(ZZ 
GeographyPipelineZZ 
)ZZ  
DestinationZZ  +
)ZZ+ ,
.ZZ, -
ResetZZ- 2
(ZZ2 3
)ZZ3 4
;ZZ4 5
([[ 
([[ 
GeometryPipeline[[ 
)[[ 
Destination[[ *
)[[* +
.[[+ ,
Reset[[, 1
([[1 2
)[[2 3
;[[3 4
}\\ 	
	protectedcc 
abstractcc 
voidcc &
ReadGeometryImplementationcc  :
(cc: ;
TSourcecc; B
inputccC H
)ccH I
;ccI J
	protectedjj 
abstractjj 
voidjj '
ReadGeographyImplementationjj  ;
(jj; <
TSourcejj< C
inputjjD I
)jjI J
;jjJ K
}kk 
}ll €	
1D:\odata.net\src\Microsoft.Spatial\SpatialType.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
[

 
System

 
.

 
Diagnostics

 
.

 
CodeAnalysis

 $
.

$ %
SuppressMessage

% 4
(

4 5
$str

5 G
,

G H
$str

I Q
,

Q R
Justification

S `
=

a b
$str

c ~
)

~ 
]	

 Ä
public 

enum 
SpatialType 
: 
byte "
{ 
Unknown 
= 
$num 
, 
Point 
= 
$num 
, 

LineString 
= 
$num 
, 
Polygon 
= 
$num 
, 

MultiPoint$$ 
=$$ 
$num$$ 
,$$ 
MultiLineString)) 
=)) 
$num)) 
,)) 
MultiPolygon.. 
=.. 
$num.. 
,.. 

Collection33 
=33 
$num33 
,33 
	FullGlobeII 
=II 
$numII 
}JJ 
}KK Œ
;D:\odata.net\src\Microsoft.Spatial\SpatialTypeExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public

 

static

 
class

 !
SpatialTypeExtensions

 -
{ 
public 
static 
void 
SendTo !
(! "
this" &
ISpatial' /
shape0 5
,5 6
SpatialPipeline7 F
destinationG R
)R S
{ 	
if 
( 
shape 
== 
null 
) 
{ 
return 
; 
} 
if 
( 
shape 
. 
GetType 
( 
) 
.  
IsSubclassOf  ,
(, -
typeof- 3
(3 4
Geometry4 <
)< =
)= >
)> ?
{ 
( 
( 
Geometry 
) 
shape  
)  !
.! "
SendTo" (
(( )
destination) 4
)4 5
;5 6
} 
else 
{ 
( 
( 
	Geography 
) 
shape !
)! "
." #
SendTo# )
() *
destination* 5
)5 6
;6 7
} 
} 	
} 
}   ÚÜ
8D:\odata.net\src\Microsoft.Spatial\GlobalSuppressions.cs
[		 
module		 
:		 
SuppressMessage			 
(		 
$str		 +
,		+ ,
$str		- Q
,		Q R
Scope		S X
=		Y Z
$str		[ f
,		f g
Target		h n
=		o p
$str			q Ñ
)
		Ñ Ö
]
		Ö Ü
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? G
,G H
TargetI O
=P Q
$str	R Å
)
Å Ç
]
Ç É
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? G
,G H
TargetI O
=P Q
$strR |
)| }
]} ~
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP w
)w x
]x y
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP |
)| }
]} ~
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP y
)y z
]z {
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP v
)v w
]w x
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- 5
,5 6
Scope7 <
== >
$str? E
,E F
TargetG M
=N O
$strP {
){ |
]| }
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v …
,
…  
	MessageId
À ‘
=
’ ÷
$str
◊ „
)
„ ‰
]
‰ Â
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v Œ
,
Œ œ
	MessageId
– Ÿ
=
⁄ €
$str
‹ Á
)
Á Ë
]
Ë È
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ß
,
ß ®
	MessageId
© ≤
=
≥ ¥
$str
µ ¡
)
¡ ¬
]
¬ √
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ¨
,
¨ ≠
	MessageId
Æ ∑
=
∏ π
$str
∫ ≈
)
≈ ∆
]
∆ «
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ©
,
© ™
	MessageId
´ ¥
=
µ ∂
$str
∑ √
)
√ ƒ
]
ƒ ≈
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v Æ
,
Æ Ø
	MessageId
∞ π
=
∫ ª
$str
º «
)
« »
]
» …
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ™
,
™ ´
	MessageId
¨ µ
=
∂ ∑
$str
∏ ƒ
)
ƒ ≈
]
≈ ∆
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v Ø
,
Ø ∞
	MessageId
± ∫
=
ª º
$str
Ω »
)
» …
]
…  
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v  
,
  À
	MessageId
Ã ’
=
÷ ◊
$str
ÿ ‰
)
‰ Â
]
Â Ê
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v œ
,
œ –
	MessageId
— ⁄
=
€ ‹
$str
› Ë
)
Ë È
]
È Í
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ®
,
® ©
	MessageId
™ ≥
=
¥ µ
$str
∂ ¬
)
¬ √
]
√ ƒ
[ 
module 
: 
SuppressMessage	 
( 
$str +
,+ ,
$str- Y
,Y Z
Scope[ `
=a b
$strc k
,k l
Targetm s
=t u
$str	v ≠
,
≠ Æ
	MessageId
Ø ∏
=
π ∫
$str
ª ∆
)
∆ «
]
« »
["" 
module"" 
:"" 
SuppressMessage""	 
("" 
$str"" +
,""+ ,
$str""- 5
,""5 6
Scope""7 <
=""= >
$str""? E
,""E F
Target""G M
=""N O
$str""P w
)""w x
]""x y
[## 
module## 
:## 
SuppressMessage##	 
(## 
$str## +
,##+ ,
$str##- 5
,##5 6
Scope##7 <
=##= >
$str##? E
,##E F
Target##G M
=##N O
$str##P v
)##v w
]##w x
[&& 
module&& 
:&& 
SuppressMessage&&	 
(&& 
$str&& +
,&&+ ,
$str&&- ^
,&&^ _
Scope&&` e
=&&f g
$str&&h p
,&&p q
Target&&r x
=&&y z
$str	&&{ ç
,
&&ç é
	MessageId
&&è ò
=
&&ô ö
$str
&&õ ü
)
&&ü †
]
&&† °
['' 
module'' 
:'' 
SuppressMessage''	 
('' 
$str'' +
,''+ ,
$str''- ^
,''^ _
Scope''` e
=''f g
$str''h p
,''p q
Target''r x
=''y z
$str	''{ ç
,
''ç é
	MessageId
''è ò
=
''ô ö
$str
''õ ü
)
''ü †
]
''† °
[(( 
module(( 
:(( 
SuppressMessage((	 
((( 
$str(( +
,((+ ,
$str((- ^
,((^ _
Scope((` e
=((f g
$str((h p
,((p q
Target((r x
=((y z
$str	(({ â
,
((â ä
	MessageId
((ã î
=
((ï ñ
$str
((ó õ
)
((õ ú
]
((ú ù
[)) 
module)) 
:)) 
SuppressMessage))	 
()) 
$str)) +
,))+ ,
$str))- ^
,))^ _
Scope))` e
=))f g
$str))h p
,))p q
Target))r x
=))y z
$str	)){ â
,
))â ä
	MessageId
))ã î
=
))ï ñ
$str
))ó õ
)
))õ ú
]
))ú ù
[++ 
assembly++ 	
:++	 

System++ 
.++ 
Diagnostics++ 
.++ 
CodeAnalysis++ *
.++* +
SuppressMessage+++ :
(++: ;
$str++; O
,++O P
$str	++Q É
,
++É Ñ
Scope
++Ö ä
=
++ã å
$str
++ç ï
,
++ï ñ
Target
++ó ù
=
++û ü
$str
++† ’
,
++’ ÷
Justification
++◊ ‰
=
++Â Ê
$str
++Á ö
)
++ö õ
]
++õ ú
[,, 
assembly,, 	
:,,	 

System,, 
.,, 
Diagnostics,, 
.,, 
CodeAnalysis,, *
.,,* +
SuppressMessage,,+ :
(,,: ;
$str,,; O
,,,O P
$str	,,Q É
,
,,É Ñ
Scope
,,Ö ä
=
,,ã å
$str
,,ç ï
,
,,ï ñ
Target
,,ó ù
=
,,û ü
$str
,,† ÷
,
,,÷ ◊
Justification
,,ÿ Â
=
,,Ê Á
$str
,,Ë ú
)
,,ú ù
]
,,ù û
[-- 
assembly-- 	
:--	 

System-- 
.-- 
Diagnostics-- 
.-- 
CodeAnalysis-- *
.--* +
SuppressMessage--+ :
(--: ;
$str--; M
,--M N
$str--O {
,--{ |
	MessageId	--} Ü
=
--á à
$str
--â ê
,
--ê ë
Scope
--í ó
=
--ò ô
$str
--ö †
,
--† °
Target
--¢ ®
=
--© ™
$str
--´ “
)
--“ ”
]
--” ‘
[.. 
assembly.. 	
:..	 

System.. 
... 
Diagnostics.. 
... 
CodeAnalysis.. *
...* +
SuppressMessage..+ :
(..: ;
$str..; M
,..M N
$str..O {
,..{ |
	MessageId	..} Ü
=
..á à
$str
..â ê
,
..ê ë
Scope
..í ó
=
..ò ô
$str
..ö †
,
..† °
Target
..¢ ®
=
..© ™
$str
..´ ‘
)
..‘ ’
]
..’ ÷
[// 
assembly// 	
://	 

System// 
.// 
Diagnostics// 
.// 
CodeAnalysis// *
.//* +
SuppressMessage//+ :
(//: ;
$str//; M
,//M N
$str//O {
,//{ |
	MessageId	//} Ü
=
//á à
$str
//â ê
,
//ê ë
Scope
//í ó
=
//ò ô
$str
//ö †
,
//† °
Target
//¢ ®
=
//© ™
$str
//´ ÷
)
//÷ ◊
]
//◊ ÿ
[00 
assembly00 	
:00	 

System00 
.00 
Diagnostics00 
.00 
CodeAnalysis00 *
.00* +
SuppressMessage00+ :
(00: ;
$str00; M
,00M N
$str00O {
,00{ |
	MessageId	00} Ü
=
00á à
$str
00â ê
,
00ê ë
Scope
00í ó
=
00ò ô
$str
00ö †
,
00† °
Target
00¢ ®
=
00© ™
$str
00´ ”
)
00” ‘
]
00‘ ’
[11 
assembly11 	
:11	 

System11 
.11 
Diagnostics11 
.11 
CodeAnalysis11 *
.11* +
SuppressMessage11+ :
(11: ;
$str11; M
,11M N
$str11O {
,11{ |
	MessageId	11} Ü
=
11á à
$str
11â ê
,
11ê ë
Scope
11í ó
=
11ò ô
$str
11ö ¢
,
11¢ £
Target
11§ ™
=
11´ ¨
$str
11≠ ›
)
11› ﬁ
]
11ﬁ ﬂ
[22 
assembly22 	
:22	 

System22 
.22 
Diagnostics22 
.22 
CodeAnalysis22 *
.22* +
SuppressMessage22+ :
(22: ;
$str22; M
,22M N
$str22O {
,22{ |
	MessageId	22} Ü
=
22á à
$str
22â ê
,
22ê ë
Scope
22í ó
=
22ò ô
$str
22ö ¢
,
22¢ £
Target
22§ ™
=
22´ ¨
$str
22≠ ⁄
)
22⁄ €
]
22€ ‹
[33 
assembly33 	
:33	 

System33 
.33 
Diagnostics33 
.33 
CodeAnalysis33 *
.33* +
SuppressMessage33+ :
(33: ;
$str33; M
,33M N
$str33O {
,33{ |
	MessageId	33} Ü
=
33á à
$str
33â ê
,
33ê ë
Scope
33í ó
=
33ò ô
$str
33ö ¢
,
33¢ £
Target
33§ ™
=
33´ ¨
$str
33≠ ÿ
)
33ÿ Ÿ
]
33Ÿ ⁄
[44 
assembly44 	
:44	 

System44 
.44 
Diagnostics44 
.44 
CodeAnalysis44 *
.44* +
SuppressMessage44+ :
(44: ;
$str44; M
,44M N
$str44O {
,44{ |
	MessageId	44} Ü
=
44á à
$str
44â ê
,
44ê ë
Scope
44í ó
=
44ò ô
$str
44ö †
,
44† °
Target
44¢ ®
=
44© ™
$str
44´ ”
)
44” ‘
]
44‘ ’
[55 
assembly55 	
:55	 

System55 
.55 
Diagnostics55 
.55 
CodeAnalysis55 *
.55* +
SuppressMessage55+ :
(55: ;
$str55; M
,55M N
$str55O {
,55{ |
	MessageId	55} Ü
=
55á à
$str
55â ê
,
55ê ë
Scope
55í ó
=
55ò ô
$str
55ö †
,
55† °
Target
55¢ ®
=
55© ™
$str
55´ —
)
55— “
]
55“ ”
[66 
assembly66 	
:66	 

System66 
.66 
Diagnostics66 
.66 
CodeAnalysis66 *
.66* +
SuppressMessage66+ :
(66: ;
$str66; M
,66M N
$str66O {
,66{ |
	MessageId	66} Ü
=
66á à
$str
66â ê
,
66ê ë
Scope
66í ó
=
66ò ô
$str
66ö †
,
66† °
Target
66¢ ®
=
66© ™
$str
66´ —
)
66— “
]
66“ ”
[77 
assembly77 	
:77	 

System77 
.77 
Diagnostics77 
.77 
CodeAnalysis77 *
.77* +
SuppressMessage77+ :
(77: ;
$str77; M
,77M N
$str77O {
,77{ |
	MessageId	77} Ü
=
77á à
$str
77â ê
,
77ê ë
Scope
77í ó
=
77ò ô
$str
77ö †
,
77† °
Target
77¢ ®
=
77© ™
$str
77´ ‘
)
77‘ ’
]
77’ ÷
[88 
assembly88 	
:88	 

System88 
.88 
Diagnostics88 
.88 
CodeAnalysis88 *
.88* +
SuppressMessage88+ :
(88: ;
$str88; M
,88M N
$str88O {
,88{ |
	MessageId	88} Ü
=
88á à
$str
88â ê
,
88ê ë
Scope
88í ó
=
88ò ô
$str
88ö †
,
88† °
Target
88¢ ®
=
88© ™
$str
88´ ◊
)
88◊ ÿ
]
88ÿ Ÿ
[99 
assembly99 	
:99	 

System99 
.99 
Diagnostics99 
.99 
CodeAnalysis99 *
.99* +
SuppressMessage99+ :
(99: ;
$str99; M
,99M N
$str99O {
,99{ |
	MessageId	99} Ü
=
99á à
$str
99â ê
,
99ê ë
Scope
99í ó
=
99ò ô
$str
99ö †
,
99† °
Target
99¢ ®
=
99© ™
$str
99´ “
)
99“ ”
]
99” ‘äd
6D:\odata.net\src\Microsoft.Spatial\CoordinateSystem.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
CoordinateSystem !
{ 
public 
static 
readonly 
CoordinateSystem /
DefaultGeometry0 ?
=@ A
newB E
CoordinateSystemF V
(V W
$numW X
,X Y
$strZ j
,j k
Topologyl t
.t u
Geometryu }
)} ~
;~ 
public 
static 
readonly 
CoordinateSystem /
DefaultGeography0 @
=A B
newC F
CoordinateSystemG W
(W X
$numX \
,\ ]
$str^ e
,e f
Topologyg o
.o p
	Geographyp y
)y z
;z {
private 
static 
readonly 

Dictionary  *
<* +
CompositeKey+ 7
<7 8
int8 ;
,; <
Topology= E
>E F
,F G
CoordinateSystemH X
>X Y

ReferencesZ d
;d e
private$$ 
static$$ 
readonly$$ 
object$$  &
referencesLock$$' 5
=$$6 7
new$$8 ;
object$$< B
($$B C
)$$C D
;$$D E
private)) 
Topology)) 
topology)) !
;))! "
[,, 	
SuppressMessage,,	 
(,, 
$str,, 0
,,,0 1
$str,,2 :
,,,: ;
Justification,,< I
=,,J K
$str,,L i
),,i j
],,j k
static-- 
CoordinateSystem-- 
(--  
)--  !
{.. 	

References// 
=// 
new// 

Dictionary// '
<//' (
CompositeKey//( 4
<//4 5
int//5 8
,//8 9
Topology//: B
>//B C
,//C D
CoordinateSystem//E U
>//U V
(//V W
EqualityComparer//W g
<//g h
CompositeKey//h t
<//t u
int//u x
,//x y
Topology	//z Ç
>
//Ç É
>
//É Ñ
.
//Ñ Ö
Default
//Ö å
)
//å ç
;
//ç é
AddRef00 
(00 
DefaultGeometry00 "
)00" #
;00# $
AddRef11 
(11 
DefaultGeography11 #
)11# $
;11$ %
}22 	
[88 	
SuppressMessage88	 
(88 
$str88 +
,88+ ,
$str88- Y
,88Y Z
	MessageId88[ d
=88e f
$str88g m
,88m n
Justification88o |
=88} ~
$str	88 ƒ
)
88ƒ ≈
]
88≈ ∆
internal99 
CoordinateSystem99 !
(99! "
int99" %
epsgId99& ,
,99, -
string99. 4
name995 9
,999 :
Topology99; C
topology99D L
)99L M
{:: 	
this;; 
.;; 
topology;; 
=;; 
topology;; $
;;;$ %
this<< 
.<< 
EpsgId<< 
=<< 
epsgId<<  
;<<  !
this== 
.== 
Name== 
=== 
name== 
;== 
}>> 	
internalCC 
enumCC 
TopologyCC 
{DD 	
	GeographyHH 
=HH 
$numHH 
,HH 
GeometryMM 
}NN 	
[RR 	
SuppressMessageRR	 
(RR 
$strRR +
,RR+ ,
$strRR- Y
,RRY Z
	MessageIdRR[ d
=RRe f
$strRRg m
,RRm n
JustificationRRo |
=RR} ~
$str	RR ƒ
)
RRƒ ≈
]
RR≈ ∆
publicSS 
intSS 
?SS 
EpsgIdSS 
{SS 
getSS  
;SS  !
internalSS" *
setSS+ .
;SS. /
}SS0 1
publicWW 
stringWW 
IdWW 
{XX 	
getYY 
{YY 
returnYY 
EpsgIdYY 
.YY  
ValueYY  %
.YY% &
ToStringYY& .
(YY. /
CultureInfoYY/ :
.YY: ;
InvariantCultureYY; K
)YYK L
;YYL M
}YYN O
}ZZ 	
public^^ 
string^^ 
Name^^ 
{^^ 
get^^  
;^^  !
internal^^" *
set^^+ .
;^^. /
}^^0 1
[cc 	
SuppressMessagecc	 
(cc 
$strcc +
,cc+ ,
$strcc- Y
,ccY Z
	MessageIdcc[ d
=cce f
$strccg m
,ccm n
Justificationcco |
=cc} ~
$str	cc ƒ
)
ccƒ ≈
]
cc≈ ∆
publicdd 
staticdd 
CoordinateSystemdd &
	Geographydd' 0
(dd0 1
intdd1 4
?dd4 5
epsgIddd6 <
)dd< =
{ee 	
returnff 
epsgIdff 
.ff 
HasValueff "
?ff# $
GetOrCreateff% 0
(ff0 1
epsgIdff1 7
.ff7 8
Valueff8 =
,ff= >
Topologyff? G
.ffG H
	GeographyffH Q
)ffQ R
:ffS T
DefaultGeographyffU e
;ffe f
}gg 	
[ll 	
SuppressMessagell	 
(ll 
$strll +
,ll+ ,
$strll- Y
,llY Z
	MessageIdll[ d
=lle f
$strllg m
,llm n
Justificationllo |
=ll} ~
$str	ll ƒ
)
llƒ ≈
]
ll≈ ∆
publicmm 
staticmm 
CoordinateSystemmm &
Geometrymm' /
(mm/ 0
intmm0 3
?mm3 4
epsgIdmm5 ;
)mm; <
{nn 	
returnoo 
epsgIdoo 
.oo 
HasValueoo "
?oo# $
GetOrCreateoo% 0
(oo0 1
epsgIdoo1 7
.oo7 8
Valueoo8 =
,oo= >
Topologyoo? G
.ooG H
GeometryooH P
)ooP Q
:ooR S
DefaultGeometryooT c
;ooc d
}pp 	
publictt 
overridett 
stringtt 
ToStringtt '
(tt' (
)tt( )
{uu 	
returnvv 
stringvv 
.vv 
Formatvv  
(vv  !
CultureInfovv! ,
.vv, -
InvariantCulturevv- =
,vv= >
$strvv? `
,vv` a
thisvvb f
.vvf g
topologyvvg o
,vvo p
thisvvq u
.vvu v
EpsgIdvvv |
)vv| }
;vv} ~
}ww 	
[{{ 	
SuppressMessage{{	 
({{ 
$str{{ +
,{{+ ,
$str{{- Y
,{{Y Z
	MessageId{{[ d
={{e f
$str{{g l
,{{l m
Justification{{n {
={{| }
$str	{{~ √
)
{{√ ƒ
]
{{ƒ ≈
public|| 
string|| 
ToWktId|| 
(|| 
)|| 
{}} 	
return~~ "
WellKnownTextConstants~~ )
.~~) *
WktSrid~~* 1
+~~2 3"
WellKnownTextConstants~~4 J
.~~J K
	WktEquals~~K T
+~~U V
this~~W [
.~~[ \
EpsgId~~\ b
+~~c d"
WellKnownTextConstants~~e {
.~~{ |
WktSemiColon	~~| à
;
~~à â
} 	
public
ÑÑ 
override
ÑÑ 
bool
ÑÑ 
Equals
ÑÑ #
(
ÑÑ# $
object
ÑÑ$ *
obj
ÑÑ+ .
)
ÑÑ. /
{
ÖÖ 	
return
ÜÜ 
this
ÜÜ 
.
ÜÜ 
Equals
ÜÜ 
(
ÜÜ 
obj
ÜÜ "
as
ÜÜ# %
CoordinateSystem
ÜÜ& 6
)
ÜÜ6 7
;
ÜÜ7 8
}
áá 	
public
åå 
bool
åå 
Equals
åå 
(
åå 
CoordinateSystem
åå +
other
åå, 1
)
åå1 2
{
çç 	
if
éé 
(
éé 
ReferenceEquals
éé 
(
éé  
null
éé  $
,
éé$ %
other
éé& +
)
éé+ ,
)
éé, -
{
èè 
return
êê 
false
êê 
;
êê 
}
ëë 
if
ìì 
(
ìì 
ReferenceEquals
ìì 
(
ìì  
this
ìì  $
,
ìì$ %
other
ìì& +
)
ìì+ ,
)
ìì, -
{
îî 
return
ïï 
true
ïï 
;
ïï 
}
ññ 
return
òò 
Equals
òò 
(
òò 
other
òò 
.
òò  
topology
òò  (
,
òò( )
this
òò* .
.
òò. /
topology
òò/ 7
)
òò7 8
&&
òò9 ;
other
òò< A
.
òòA B
EpsgId
òòB H
.
òòH I
Equals
òòI O
(
òòO P
this
òòP T
.
òòT U
EpsgId
òòU [
)
òò[ \
;
òò\ ]
}
ôô 	
public
ùù 
override
ùù 
int
ùù 
GetHashCode
ùù '
(
ùù' (
)
ùù( )
{
ûû 	
	unchecked
üü 
{
†† 
return
°° 
(
°° 
this
°° 
.
°° 
topology
°° %
.
°°% &
GetHashCode
°°& 1
(
°°1 2
)
°°2 3
*
°°4 5
$num
°°6 9
)
°°9 :
^
°°; <
(
°°= >
this
°°> B
.
°°B C
EpsgId
°°C I
.
°°I J
HasValue
°°J R
?
°°S T
this
°°U Y
.
°°Y Z
EpsgId
°°Z `
.
°°` a
Value
°°a f
:
°°g h
$num
°°i j
)
°°j k
;
°°k l
}
¢¢ 
}
££ 	
internal
™™ 
bool
™™ 

TopologyIs
™™  
(
™™  !
Topology
™™! )
expected
™™* 2
)
™™2 3
{
´´ 	
return
¨¨ 
this
¨¨ 
.
¨¨ 
topology
¨¨  
==
¨¨! #
expected
¨¨$ ,
;
¨¨, -
}
≠≠ 	
private
∑∑ 
static
∑∑ 
CoordinateSystem
∑∑ '
GetOrCreate
∑∑( 3
(
∑∑3 4
int
∑∑4 7
epsgId
∑∑8 >
,
∑∑> ?
Topology
∑∑@ H
topology
∑∑I Q
)
∑∑Q R
{
∏∏ 	
CoordinateSystem
ππ 
r
ππ 
;
ππ 
lock
∫∫ 
(
∫∫ 
referencesLock
∫∫  
)
∫∫  !
{
ªª 
if
ºº 
(
ºº 

References
ºº 
.
ºº 
TryGetValue
ºº *
(
ºº* +
KeyFor
ºº+ 1
(
ºº1 2
epsgId
ºº2 8
,
ºº8 9
topology
ºº: B
)
ººB C
,
ººC D
out
ººE H
r
ººI J
)
ººJ K
)
ººK L
{
ΩΩ 
return
ææ 
r
ææ 
;
ææ 
}
øø 
r
¡¡ 
=
¡¡ 
new
¡¡ 
CoordinateSystem
¡¡ (
(
¡¡( )
epsgId
¡¡) /
,
¡¡/ 0
$str
¡¡1 6
+
¡¡7 8
epsgId
¡¡9 ?
,
¡¡? @
topology
¡¡A I
)
¡¡I J
;
¡¡J K
AddRef
¬¬ 
(
¬¬ 
r
¬¬ 
)
¬¬ 
;
¬¬ 
}
√√ 
return
≈≈ 
r
≈≈ 
;
≈≈ 
}
∆∆ 	
private
ÃÃ 
static
ÃÃ 
void
ÃÃ 
AddRef
ÃÃ "
(
ÃÃ" #
CoordinateSystem
ÃÃ# 3
coords
ÃÃ4 :
)
ÃÃ: ;
{
ÕÕ 	

References
ŒŒ 
.
ŒŒ 
Add
ŒŒ 
(
ŒŒ 
KeyFor
ŒŒ !
(
ŒŒ! "
coords
ŒŒ" (
.
ŒŒ( )
EpsgId
ŒŒ) /
.
ŒŒ/ 0
Value
ŒŒ0 5
,
ŒŒ5 6
coords
ŒŒ7 =
.
ŒŒ= >
topology
ŒŒ> F
)
ŒŒF G
,
ŒŒG H
coords
ŒŒI O
)
ŒŒO P
;
ŒŒP Q
}
œœ 	
private
◊◊ 
static
◊◊ 
CompositeKey
◊◊ #
<
◊◊# $
int
◊◊$ '
,
◊◊' (
Topology
◊◊) 1
>
◊◊1 2
KeyFor
◊◊3 9
(
◊◊9 :
int
◊◊: =
epsgId
◊◊> D
,
◊◊D E
Topology
◊◊F N
topology
◊◊O W
)
◊◊W X
{
ÿÿ 	
return
ŸŸ 
new
ŸŸ 
CompositeKey
ŸŸ #
<
ŸŸ# $
int
ŸŸ$ '
,
ŸŸ' (
Topology
ŸŸ) 1
>
ŸŸ1 2
(
ŸŸ2 3
epsgId
ŸŸ3 9
,
ŸŸ9 :
topology
ŸŸ; C
)
ŸŸC D
;
ŸŸD E
}
⁄⁄ 	
}
€€ 
}‹‹ ∂	
5D:\odata.net\src\Microsoft.Spatial\ActionOnDispose.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
ActionOnDispose "
:# $
IDisposable% 0
{ 
private 
Action 
action 
; 
public 
ActionOnDispose 
( 
Action %
action& ,
), -
{ 	
Util 
. 
CheckArgumentNull "
(" #
action# )
,) *
$str+ 3
)3 4
;4 5
this 
. 
action 
= 
action  
;  !
} 	
public   
void   
Dispose   
(   
)   
{!! 	
if"" 
("" 
this"" 
."" 
action"" 
!="" 
null"" #
)""# $
{## 
action$$ 
($$ 
)$$ 
;$$ 
action%% 
=%% 
null%% 
;%% 
}&& 
}'' 	
}(( 
})) é
2D:\odata.net\src\Microsoft.Spatial\GmlFormatter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
[ 
System 
. 
Diagnostics 
. 
CodeAnalysis $
.$ %
SuppressMessage% 4
(4 5
$str5 G
,G H
$strI u
,u v
	MessageId	w Ä
=
Å Ç
$str
É à
,
à â
Justification
ä ó
=
ò ô
$str
ö ƒ
)
ƒ ≈
]
≈ ∆
public 

abstract 
class 
GmlFormatter &
:' (
SpatialFormatter) 9
<9 :
	XmlReader: C
,C D
	XmlWriterE N
>N O
{ 
	protected 
GmlFormatter 
( !
SpatialImplementation 4
creator5 <
)< =
:> ?
base@ D
(D E
creatorE L
)L M
{ 	
} 	
public 
static 
GmlFormatter "
Create# )
() *
)* +
{ 	
return !
SpatialImplementation (
.( )!
CurrentImplementation) >
.> ?
CreateGmlFormatter? Q
(Q R
)R S
;S T
} 	
} 
} ˘
?D:\odata.net\src\Microsoft.Spatial\WellKnownTextSqlFormatter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class %
WellKnownTextSqlFormatter 3
:4 5
SpatialFormatter6 F
<F G

TextReaderG Q
,Q R

TextWriterS ]
>] ^
{ 
	protected %
WellKnownTextSqlFormatter +
(+ ,!
SpatialImplementation, A
creatorB I
)I J
:K L
baseM Q
(Q R
creatorR Y
)Y Z
{ 	
} 	
public 
static %
WellKnownTextSqlFormatter /
Create0 6
(6 7
)7 8
{ 	
return !
SpatialImplementation (
.( )!
CurrentImplementation) >
.> ?+
CreateWellKnownTextSqlFormatter? ^
(^ _
)_ `
;` a
} 	
public   
static   %
WellKnownTextSqlFormatter   /
Create  0 6
(  6 7
bool  7 ;"
allowOnlyTwoDimensions  < R
)  R S
{!! 	
return"" !
SpatialImplementation"" (
.""( )!
CurrentImplementation"") >
.""> ?+
CreateWellKnownTextSqlFormatter""? ^
(""^ _"
allowOnlyTwoDimensions""_ u
)""u v
;""v w
}## 	
}$$ 
}%% ’J
7D:\odata.net\src\Microsoft.Spatial\GeographyPosition.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
GeographyPosition "
:# $

IEquatable% /
</ 0
GeographyPosition0 A
>A B
{ 
private 
readonly 
double 
latitude  (
;( )
private 
readonly 
double 
	longitude  )
;) *
private 
readonly 
double 
?  
m! "
;" #
private 
readonly 
double 
?  
z! "
;" #
[%% 	
SuppressMessage%%	 
(%% 
$str%% +
,%%+ ,
$str%%- 5
,%%5 6
Justification%%7 D
=%%E F
$str%%G i
)%%i j
]%%j k
public&& 
GeographyPosition&&  
(&&  !
double&&! '
latitude&&( 0
,&&0 1
double&&2 8
	longitude&&9 B
,&&B C
double&&D J
?&&J K
z&&L M
,&&M N
double&&O U
?&&U V
m&&W X
)&&X Y
{'' 	
this(( 
.(( 
latitude(( 
=(( 
latitude(( $
;(($ %
this)) 
.)) 
	longitude)) 
=)) 
	longitude)) &
;))& '
this** 
.** 
z** 
=** 
z** 
;** 
this++ 
.++ 
m++ 
=++ 
m++ 
;++ 
},, 	
public11 
GeographyPosition11  
(11  !
double11! '
latitude11( 0
,110 1
double112 8
	longitude119 B
)11B C
:22 
this22 
(22 
latitude22 
,22 
	longitude22 &
,22& '
null22( ,
,22, -
null22. 2
)222 3
{33 	
}44 	
public88 
double88 
Latitude88 
{99 	
get:: 
{:: 
return:: 
latitude:: !
;::! "
}::# $
};; 	
public?? 
double?? 
	Longitude?? 
{@@ 	
getAA 
{AA 
returnAA 
	longitudeAA "
;AA" #
}AA$ %
}BB 	
[FF 	
SuppressMessageFF	 
(FF 
$strFF +
,FF+ ,
$strFF- 5
,FF5 6
JustificationFF7 D
=FFE F
$strFFG i
)FFi j
]FFj k
publicGG 
doubleGG 
?GG 
MGG 
{HH 	
getII 
{II 
returnII 
mII 
;II 
}II 
}JJ 	
[NN 	
SuppressMessageNN	 
(NN 
$strNN +
,NN+ ,
$strNN- 5
,NN5 6
JustificationNN7 D
=NNE F
$strNNG i
)NNi j
]NNj k
publicOO 
doubleOO 
?OO 
ZOO 
{PP 	
getQQ 
{QQ 
returnQQ 
zQQ 
;QQ 
}QQ 
}RR 	
publicXX 
staticXX 
boolXX 
operatorXX #
==XX$ &
(XX& '
GeographyPositionXX' 8
leftXX9 =
,XX= >
GeographyPositionXX? P
rightXXQ V
)XXV W
{YY 	
ifZZ 
(ZZ 
ReferenceEqualsZZ 
(ZZ  
leftZZ  $
,ZZ$ %
nullZZ& *
)ZZ* +
)ZZ+ ,
{[[ 
return\\ 
ReferenceEquals\\ &
(\\& '
right\\' ,
,\\, -
null\\. 2
)\\2 3
;\\3 4
}]] 
else^^ 
if^^ 
(^^ 
ReferenceEquals^^ $
(^^$ %
right^^% *
,^^* +
null^^, 0
)^^0 1
)^^1 2
{__ 
return`` 
false`` 
;`` 
}aa 
returncc 
leftcc 
.cc 
Equalscc 
(cc 
rightcc $
)cc$ %
;cc% &
}dd 	
publicjj 
staticjj 
booljj 
operatorjj #
!=jj$ &
(jj& '
GeographyPositionjj' 8
leftjj9 =
,jj= >
GeographyPositionjj? P
rightjjQ V
)jjV W
{kk 	
returnll 
!ll 
(ll 
leftll 
==ll 
rightll "
)ll" #
;ll# $
}mm 	
publicrr 
overriderr 
boolrr 
Equalsrr #
(rr# $
objectrr$ *
objrr+ .
)rr. /
{ss 	
iftt 
(tt 
ReferenceEqualstt 
(tt  
nulltt  $
,tt$ %
objtt& )
)tt) *
)tt* +
{uu 
returnvv 
falsevv 
;vv 
}ww 
ifyy 
(yy 
objyy 
.yy 
GetTypeyy 
(yy 
)yy 
!=yy  
typeofyy! '
(yy' (
GeographyPositionyy( 9
)yy9 :
)yy: ;
{zz 
return{{ 
false{{ 
;{{ 
}|| 
return~~ 
Equals~~ 
(~~ 
(~~ 
GeographyPosition~~ ,
)~~, -
obj~~- 0
)~~0 1
;~~1 2
} 	
public
ÑÑ 
bool
ÑÑ 
Equals
ÑÑ 
(
ÑÑ 
GeographyPosition
ÑÑ ,
other
ÑÑ- 2
)
ÑÑ2 3
{
ÖÖ 	
return
ÜÜ 
other
ÜÜ 
!=
ÜÜ 
null
ÜÜ  
&&
ÜÜ! #
other
ÜÜ$ )
.
ÜÜ) *
latitude
ÜÜ* 2
.
ÜÜ2 3
Equals
ÜÜ3 9
(
ÜÜ9 :
latitude
ÜÜ: B
)
ÜÜB C
&&
ÜÜD F
other
ÜÜG L
.
ÜÜL M
	longitude
ÜÜM V
.
ÜÜV W
Equals
ÜÜW ]
(
ÜÜ] ^
	longitude
ÜÜ^ g
)
ÜÜg h
&&
ÜÜi k
other
ÜÜl q
.
ÜÜq r
z
ÜÜr s
.
ÜÜs t
Equals
ÜÜt z
(
ÜÜz {
z
ÜÜ{ |
)
ÜÜ| }
&&ÜÜ~ Ä
other
áá 
.
áá 
m
áá 
.
áá 
Equals
áá !
(
áá! "
m
áá" #
)
áá# $
;
áá$ %
}
àà 	
public
åå 
override
åå 
int
åå 
GetHashCode
åå '
(
åå' (
)
åå( )
{
çç 	
	unchecked
éé 
{
èè 
int
êê 
result
êê 
=
êê 
latitude
êê %
.
êê% &
GetHashCode
êê& 1
(
êê1 2
)
êê2 3
;
êê3 4
result
ëë 
=
ëë 
(
ëë 
result
ëë  
*
ëë! "
$num
ëë# &
)
ëë& '
^
ëë( )
	longitude
ëë* 3
.
ëë3 4
GetHashCode
ëë4 ?
(
ëë? @
)
ëë@ A
;
ëëA B
result
íí 
=
íí 
(
íí 
result
íí  
*
íí! "
$num
íí# &
)
íí& '
^
íí( )
(
íí* +
z
íí+ ,
.
íí, -
HasValue
íí- 5
?
íí6 7
z
íí8 9
.
íí9 :
Value
íí: ?
.
íí? @
GetHashCode
íí@ K
(
ííK L
)
ííL M
:
ííN O
$num
ííP Q
)
ííQ R
;
ííR S
result
ìì 
=
ìì 
(
ìì 
result
ìì  
*
ìì! "
$num
ìì# &
)
ìì& '
^
ìì( )
(
ìì* +
m
ìì+ ,
.
ìì, -
HasValue
ìì- 5
?
ìì6 7
m
ìì8 9
.
ìì9 :
Value
ìì: ?
.
ìì? @
GetHashCode
ìì@ K
(
ììK L
)
ììL M
:
ììN O
$num
ììP Q
)
ììQ R
;
ììR S
return
îî 
result
îî 
;
îî 
}
ïï 
}
ññ 	
public
öö 
override
öö 
string
öö 
ToString
öö '
(
öö' (
)
öö( )
{
õõ 	
return
úú 
String
úú 
.
úú 
Format
úú  
(
úú  !
System
úú! '
.
úú' (
Globalization
úú( 5
.
úú5 6
CultureInfo
úú6 A
.
úúA B
InvariantCulture
úúB R
,
úúR S
$strúúT í
,úúí ì
thisúúî ò
.úúò ô
latitudeúúô °
,úú° ¢
thisúú£ ß
.úúß ®
	longitudeúú® ±
,úú± ≤
thisúú≥ ∑
.úú∑ ∏
zúú∏ π
.úúπ ∫
HasValueúú∫ ¬
?úú√ ƒ
thisúú≈ …
.úú…  
zúú  À
.úúÀ Ã
ToStringúúÃ ‘
(úú‘ ’
)úú’ ÷
:úú◊ ÿ
$strúúŸ ﬂ
,úúﬂ ‡
thisúú· Â
.úúÂ Ê
múúÊ Á
.úúÁ Ë
HasValueúúË 
?úúÒ Ú
thisúúÛ ˜
.úú˜ ¯
múú¯ ˘
.úú˘ ˙
ToStringúú˙ Ç
(úúÇ É
)úúÉ Ñ
:úúÖ Ü
$strúúá ç
)úúç é
;úúé è
}
ùù 	
}
ûû 
}üü ïN
6D:\odata.net\src\Microsoft.Spatial\GeometryPosition.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
GeometryPosition !
:" #

IEquatable$ .
<. /
GeometryPosition/ ?
>? @
{ 
private 
readonly 
double 
?  
m! "
;" #
private 
readonly 
double 
x  !
;! "
private 
readonly 
double 
y  !
;! "
private 
readonly 
double 
?  
z! "
;" #
["" 	
SuppressMessage""	 
("" 
$str"" +
,""+ ,
$str""- 5
,""5 6
Justification""7 D
=""E F
$str""G i
)""i j
]""j k
public## 
GeometryPosition## 
(##  
double##  &
x##' (
,##( )
double##* 0
y##1 2
,##2 3
double##4 :
?##: ;
z##< =
,##= >
double##? E
?##E F
m##G H
)##H I
{$$ 	
this%% 
.%% 
x%% 
=%% 
x%% 
;%% 
this&& 
.&& 
y&& 
=&& 
y&& 
;&& 
this'' 
.'' 
z'' 
='' 
z'' 
;'' 
this(( 
.(( 
m(( 
=(( 
m(( 
;(( 
})) 	
[.. 	
SuppressMessage..	 
(.. 
$str.. +
,..+ ,
$str..- 5
,..5 6
Justification..7 D
=..E F
$str..G c
)..c d
]..d e
public// 
GeometryPosition// 
(//  
double//  &
x//' (
,//( )
double//* 0
y//1 2
)//2 3
:00 
this00 
(00 
x00 
,00 
y00 
,00 
null00 
,00 
null00 #
)00# $
{11 	
}22 	
[66 	
SuppressMessage66	 
(66 
$str66 +
,66+ ,
$str66- 5
,665 6
Justification667 D
=66E F
$str66G i
)66i j
]66j k
public77 
double77 
?77 
M77 
{88 	
get99 
{99 
return99 
m99 
;99 
}99 
}:: 	
[>> 	
SuppressMessage>>	 
(>> 
$str>> +
,>>+ ,
$str>>- 5
,>>5 6
Justification>>7 D
=>>E F
$str>>G i
)>>i j
]>>j k
public?? 
double?? 
X?? 
{@@ 	
getAA 
{AA 
returnAA 
xAA 
;AA 
}AA 
}BB 	
[FF 	
SuppressMessageFF	 
(FF 
$strFF +
,FF+ ,
$strFF- 5
,FF5 6
JustificationFF7 D
=FFE F
$strFFG i
)FFi j
]FFj k
publicGG 
doubleGG 
YGG 
{HH 	
getII 
{II 
returnII 
yII 
;II 
}II 
}JJ 	
[NN 	
SuppressMessageNN	 
(NN 
$strNN +
,NN+ ,
$strNN- 5
,NN5 6
JustificationNN7 D
=NNE F
$strNNG i
)NNi j
]NNj k
publicOO 
doubleOO 
?OO 
ZOO 
{PP 	
getQQ 
{QQ 
returnQQ 
zQQ 
;QQ 
}QQ 
}RR 	
publicXX 
staticXX 
boolXX 
operatorXX #
==XX$ &
(XX& '
GeometryPositionXX' 7
leftXX8 <
,XX< =
GeometryPositionXX> N
rightXXO T
)XXT U
{YY 	
ifZZ 
(ZZ 
ReferenceEqualsZZ 
(ZZ  
leftZZ  $
,ZZ$ %
nullZZ& *
)ZZ* +
)ZZ+ ,
{[[ 
return\\ 
ReferenceEquals\\ &
(\\& '
right\\' ,
,\\, -
null\\. 2
)\\2 3
;\\3 4
}]] 
else^^ 
if^^ 
(^^ 
ReferenceEquals^^ $
(^^$ %
right^^% *
,^^* +
null^^, 0
)^^0 1
)^^1 2
{__ 
return`` 
false`` 
;`` 
}aa 
returncc 
leftcc 
.cc 
Equalscc 
(cc 
rightcc $
)cc$ %
;cc% &
}dd 	
publicjj 
staticjj 
booljj 
operatorjj #
!=jj$ &
(jj& '
GeometryPositionjj' 7
leftjj8 <
,jj< =
GeometryPositionjj> N
rightjjO T
)jjT U
{kk 	
returnll 
!ll 
(ll 
leftll 
==ll 
rightll "
)ll" #
;ll# $
}mm 	
publicrr 
overriderr 
boolrr 
Equalsrr #
(rr# $
objectrr$ *
objrr+ .
)rr. /
{ss 	
iftt 
(tt 
ReferenceEqualstt 
(tt  
nulltt  $
,tt$ %
objtt& )
)tt) *
)tt* +
{uu 
returnvv 
falsevv 
;vv 
}ww 
ifyy 
(yy 
objyy 
.yy 
GetTypeyy 
(yy 
)yy 
!=yy  
typeofyy! '
(yy' (
GeometryPositionyy( 8
)yy8 9
)yy9 :
{zz 
return{{ 
false{{ 
;{{ 
}|| 
return~~ 
Equals~~ 
(~~ 
(~~ 
GeometryPosition~~ +
)~~+ ,
obj~~, /
)~~/ 0
;~~0 1
} 	
public
ÑÑ 
bool
ÑÑ 
Equals
ÑÑ 
(
ÑÑ 
GeometryPosition
ÑÑ +
other
ÑÑ, 1
)
ÑÑ1 2
{
ÖÖ 	
return
ÜÜ 
other
ÜÜ 
!=
ÜÜ 
null
ÜÜ  
&&
ÜÜ! #
other
ÜÜ$ )
.
ÜÜ) *
x
ÜÜ* +
.
ÜÜ+ ,
Equals
ÜÜ, 2
(
ÜÜ2 3
x
ÜÜ3 4
)
ÜÜ4 5
&&
ÜÜ6 8
other
ÜÜ9 >
.
ÜÜ> ?
y
ÜÜ? @
.
ÜÜ@ A
Equals
ÜÜA G
(
ÜÜG H
y
ÜÜH I
)
ÜÜI J
&&
ÜÜK M
other
ÜÜN S
.
ÜÜS T
z
ÜÜT U
.
ÜÜU V
Equals
ÜÜV \
(
ÜÜ\ ]
z
ÜÜ] ^
)
ÜÜ^ _
&&
ÜÜ` b
other
ÜÜc h
.
ÜÜh i
m
ÜÜi j
.
ÜÜj k
Equals
ÜÜk q
(
ÜÜq r
m
ÜÜr s
)
ÜÜs t
;
ÜÜt u
}
áá 	
public
ãã 
override
ãã 
int
ãã 
GetHashCode
ãã '
(
ãã' (
)
ãã( )
{
åå 	
	unchecked
çç 
{
éé 
int
èè 
result
èè 
=
èè 
x
èè 
.
èè 
GetHashCode
èè *
(
èè* +
)
èè+ ,
;
èè, -
result
êê 
=
êê 
(
êê 
result
êê  
*
êê! "
$num
êê# &
)
êê& '
^
êê( )
y
êê* +
.
êê+ ,
GetHashCode
êê, 7
(
êê7 8
)
êê8 9
;
êê9 :
result
ëë 
=
ëë 
(
ëë 
result
ëë  
*
ëë! "
$num
ëë# &
)
ëë& '
^
ëë( )
(
ëë* +
z
ëë+ ,
.
ëë, -
HasValue
ëë- 5
?
ëë6 7
z
ëë8 9
.
ëë9 :
Value
ëë: ?
.
ëë? @
GetHashCode
ëë@ K
(
ëëK L
)
ëëL M
:
ëëN O
$num
ëëP Q
)
ëëQ R
;
ëëR S
result
íí 
=
íí 
(
íí 
result
íí  
*
íí! "
$num
íí# &
)
íí& '
^
íí( )
(
íí* +
m
íí+ ,
.
íí, -
HasValue
íí- 5
?
íí6 7
m
íí8 9
.
íí9 :
Value
íí: ?
.
íí? @
GetHashCode
íí@ K
(
ííK L
)
ííL M
:
ííN O
$num
ííP Q
)
ííQ R
;
ííR S
return
ìì 
result
ìì 
;
ìì 
}
îî 
}
ïï 	
public
ôô 
override
ôô 
string
ôô 
ToString
ôô '
(
ôô' (
)
ôô( )
{
öö 	
return
õõ 
String
õõ 
.
õõ 
Format
õõ  
(
õõ  !
System
õõ! '
.
õõ' (
Globalization
õõ( 5
.
õõ5 6
CultureInfo
õõ6 A
.
õõA B
InvariantCulture
õõB R
,
õõR S
$str
õõT z
,
õõz {
thisõõ| Ä
.õõÄ Å
xõõÅ Ç
,õõÇ É
thisõõÑ à
.õõà â
yõõâ ä
,õõä ã
thisõõå ê
.õõê ë
zõõë í
.õõí ì
HasValueõõì õ
?õõú ù
thisõõû ¢
.õõ¢ £
zõõ£ §
.õõ§ •
ToStringõõ• ≠
(õõ≠ Æ
)õõÆ Ø
:õõ∞ ±
$strõõ≤ ∏
,õõ∏ π
thisõõ∫ æ
.õõæ ø
mõõø ¿
.õõ¿ ¡
HasValueõõ¡ …
?õõ  À
thisõõÃ –
.õõ– —
mõõ— “
.õõ“ ”
ToStringõõ” €
(õõ€ ‹
)õõ‹ ›
:õõﬁ ﬂ
$strõõ‡ Ê
)õõÊ Á
;õõÁ Ë
}
úú 	
}
ùù 
}ûû 
6D:\odata.net\src\Microsoft.Spatial\SpatialValidator.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

static 
class 
SpatialValidator (
{ 
public 
static 
SpatialPipeline %
Create& ,
(, -
)- .
{ 	
return !
SpatialImplementation (
.( )!
CurrentImplementation) >
.> ?
CreateValidator? N
(N O
)O P
;P Q
} 	
} 
} Ú
5D:\odata.net\src\Microsoft.Spatial\SpatialPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

class 
SpatialPipeline  
{ 
private 
GeographyPipeline !
geographyPipeline" 3
;3 4
private 
GeometryPipeline  
geometryPipeline! 1
;1 2
private   
SpatialPipeline   
startingLink    ,
;  , -
public## 
SpatialPipeline## 
(## 
)##  
{$$ 	
this%% 
.%% 
startingLink%% 
=%% 
this%%  $
;%%$ %
}&& 	
public++ 
SpatialPipeline++ 
(++ 
GeographyPipeline++ 0
geographyPipeline++1 B
,++B C
GeometryPipeline++D T
geometryPipeline++U e
)++e f
{,, 	
this-- 
.-- 
geographyPipeline-- "
=--# $
geographyPipeline--% 6
;--6 7
this.. 
... 
geometryPipeline.. !
=.." #
geometryPipeline..$ 4
;..4 5
this// 
.// 
startingLink// 
=// 
this//  $
;//$ %
}00 	
public33 
virtual33 
GeographyPipeline33 (
GeographyPipeline33) :
{44 	
get55 
{55 
return55 
geographyPipeline55 *
;55* +
}55, -
}66 	
public99 
virtual99 
GeometryPipeline99 '
GeometryPipeline99( 8
{:: 	
get;; 
{;; 
return;; 
geometryPipeline;; )
;;;) *
};;+ ,
}<< 	
public@@ 
SpatialPipeline@@ 
StartingLink@@ +
{AA 	
getBB 
{BB 
returnBB 
thisBB 
.BB 
startingLinkBB *
;BB* +
}BB, -
setCC 
{CC 
thisCC 
.CC 
startingLinkCC #
=CC$ %
valueCC& +
;CC+ ,
}CC- .
}DD 	
[MM 	
SuppressMessageMM	 
(MM 
$strMM *
,MM* +
$strMM, Y
,MMY Z
JustificationMM[ h
=MMi j
$str	MMk Ã
)
MMÃ Õ
]
MMÕ Œ
publicNN 
staticNN 
implicitNN 
operatorNN '
GeographyPipelineNN( 9
(NN9 :
SpatialPipelineNN: I
spatialPipelineNNJ Y
)NNY Z
{OO 	
ifPP 
(PP 
spatialPipelinePP 
!=PP  "
nullPP# '
)PP' (
{QQ 
returnRR 
spatialPipelineRR &
.RR& '
GeographyPipelineRR' 8
;RR8 9
}SS 
returnUU 
nullUU 
;UU 
}VV 	
[__ 	
SuppressMessage__	 
(__ 
$str__ *
,__* +
$str__, Y
,__Y Z
Justification__[ h
=__i j
$str	__k Ã
)
__Ã Õ
]
__Õ Œ
public`` 
static`` 
implicit`` 
operator`` '
GeometryPipeline``( 8
(``8 9
SpatialPipeline``9 H
spatialPipeline``I X
)``X Y
{aa 	
ifbb 
(bb 
spatialPipelinebb 
!=bb  "
nullbb# '
)bb' (
{cc 
returndd 
spatialPipelinedd &
.dd& '
GeometryPipelinedd' 7
;dd7 8
}ee 
returngg 
nullgg 
;gg 
}hh 	
publicmm 
virtualmm 
SpatialPipelinemm &
ChainTomm' .
(mm. /
SpatialPipelinemm/ >
destinationmm? J
)mmJ K
{nn 	
throwoo 
newoo #
NotImplementedExceptionoo -
(oo- .
)oo. /
;oo/ 0
}pp 	
}qq 
}rr “
CD:\odata.net\src\Microsoft.Spatial\GeographyOperationsExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

static 
class )
GeographyOperationsExtensions 5
{ 
public 
static 
double 
? 
Distance &
(& '
this' +
	Geography, 5
operand16 >
,> ?
	Geography@ I
operand2J R
)R S
{ 	
return 
OperationsFor  
(  !
operand1! )
,) *
operand2+ 3
)3 4
.4 5$
IfValidReturningNullable5 M
(M N
opsN Q
=>R T
opsU X
.X Y
DistanceY a
(a b
operand1b j
,j k
operand2l t
)t u
)u v
;v w
} 	
public 
static 
double 
? 
Length $
($ %
this% )
	Geography* 3
operand4 ;
); <
{ 	
return 
OperationsFor  
(  !
operand! (
)( )
.) *$
IfValidReturningNullable* B
(B C
opsC F
=>G I
opsJ M
.M N
LengthN T
(T U
operandU \
)\ ]
)] ^
;^ _
} 	
public%% 
static%% 
bool%% 
?%% 

Intersects%% &
(%%& '
this%%' +
	Geography%%, 5
operand1%%6 >
,%%> ?
	Geography%%@ I
operand2%%J R
)%%R S
{&& 	
return'' 
OperationsFor''  
(''  !
operand1''! )
,'') *
operand2''+ 3
)''3 4
.''4 5$
IfValidReturningNullable''5 M
(''M N
ops''N Q
=>''R T
ops''U X
.''X Y

Intersects''Y c
(''c d
operand1''d l
,''l m
operand2''n v
)''v w
)''w x
;''x y
}(( 	
private// 
static// 
SpatialOperations// (
OperationsFor//) 6
(//6 7
params//7 =
	Geography//> G
[//G H
]//H I
operands//J R
)//R S
{00 	
if11 
(11 
operands11 
.11 
Any11 
(11 
operand11 $
=>11% '
operand11( /
==110 2
null113 7
)117 8
)118 9
{22 
return33 
null33 
;33 
}44 
return66 
operands66 
[66 
$num66 
]66 
.66 
Creator66 &
.66& ')
VerifyAndGetNonNullOperations66' D
(66D E
)66E F
;66F G
}77 	
}88 
}99  
BD:\odata.net\src\Microsoft.Spatial\GeometryOperationsExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

static 
class (
GeometryOperationsExtensions 4
{ 
public 
static 
double 
? 
Distance &
(& '
this' +
Geometry, 4
operand15 =
,= >
Geometry? G
operand2H P
)P Q
{ 	
return 
OperationsFor  
(  !
operand1! )
,) *
operand2+ 3
)3 4
.4 5$
IfValidReturningNullable5 M
(M N
opsN Q
=>R T
opsU X
.X Y
DistanceY a
(a b
operand1b j
,j k
operand2l t
)t u
)u v
;v w
} 	
public 
static 
double 
? 
Length $
($ %
this% )
Geometry* 2
operand3 :
): ;
{ 	
return 
OperationsFor  
(  !
operand! (
)( )
.) *$
IfValidReturningNullable* B
(B C
opsC F
=>G I
opsJ M
.M N
LengthN T
(T U
operandU \
)\ ]
)] ^
;^ _
} 	
public%% 
static%% 
bool%% 
?%% 

Intersects%% &
(%%& '
this%%' +
Geometry%%, 4
operand1%%5 =
,%%= >
Geometry%%? G
operand2%%H P
)%%P Q
{&& 	
return'' 
OperationsFor''  
(''  !
operand1''! )
,'') *
operand2''+ 3
)''3 4
.''4 5$
IfValidReturningNullable''5 M
(''M N
ops''N Q
=>''R T
ops''U X
.''X Y

Intersects''Y c
(''c d
operand1''d l
,''l m
operand2''n v
)''v w
)''w x
;''x y
}(( 	
private// 
static// 
SpatialOperations// (
OperationsFor//) 6
(//6 7
params//7 =
Geometry//> F
[//F G
]//G H
operands//I Q
)//Q R
{00 	
if11 
(11 
operands11 
.11 
Any11 
(11 
operand11 $
=>11% '
operand11( /
==110 2
null113 7
)117 8
)118 9
{22 
return33 
null33 
;33 
}44 
return66 
operands66 
[66 
$num66 
]66 
.66 
Creator66 &
.66& ')
VerifyAndGetNonNullOperations66' D
(66D E
)66E F
;66F G
}77 	
}88 
}99 û
;D:\odata.net\src\Microsoft.Spatial\SpatialImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class !
SpatialImplementation /
{ 
private 
static !
SpatialImplementation ,!
spatialImplementation- B
=C D
newE H-
!DataServicesSpatialImplementationI j
(j k
)k l
;l m
public 
static !
SpatialImplementation +!
CurrentImplementation, A
{ 	
get 
{ 
return !
spatialImplementation ,
;, -
} 
internal 
set 
{ !
spatialImplementation %
=& '
value( -
;- .
}   
}!! 	
public$$ 
abstract$$ 
SpatialOperations$$ )

Operations$$* 4
{%% 	
get&& 
;&& 
set'' 
;'' 
}(( 	
public,, 
abstract,, 
SpatialBuilder,, &
CreateBuilder,,' 4
(,,4 5
),,5 6
;,,6 7
public00 
abstract00 "
GeoJsonObjectFormatter00 .(
CreateGeoJsonObjectFormatter00/ K
(00K L
)00L M
;00M N
[44 	
System44	 
.44 
Diagnostics44 
.44 
CodeAnalysis44 (
.44( )
SuppressMessage44) 8
(448 9
$str449 K
,44K L
$str44M y
,44y z
	MessageId	44{ Ñ
=
44Ö Ü
$str
44á å
,
44å ç
Justification
44é õ
=
44ú ù
$str
44û ∆
)
44∆ «
]
44« »
public55 
abstract55 
GmlFormatter55 $
CreateGmlFormatter55% 7
(557 8
)558 9
;559 :
public99 
abstract99 %
WellKnownTextSqlFormatter99 1+
CreateWellKnownTextSqlFormatter992 Q
(99Q R
)99R S
;99S T
public>> 
abstract>> %
WellKnownTextSqlFormatter>> 1+
CreateWellKnownTextSqlFormatter>>2 Q
(>>Q R
bool>>R V"
allowOnlyTwoDimensions>>W m
)>>m n
;>>n o
publicBB 
abstractBB 
SpatialPipelineBB '
CreateValidatorBB( 7
(BB7 8
)BB8 9
;BB9 :
internalHH 
SpatialOperationsHH ")
VerifyAndGetNonNullOperationsHH# @
(HH@ A
)HHA B
{II 	
varJJ 

operationsJJ 
=JJ 
thisJJ !
.JJ! "

OperationsJJ" ,
;JJ, -
ifKK 
(KK 

operationsKK 
==KK 
nullKK "
)KK" #
{LL 
throwMM 
newMM #
NotImplementedExceptionMM 1
(MM1 2
StringsMM2 9
.MM9 :8
,SpatialImplementation_NoRegisteredOperationsMM: f
)MMf g
;MMg h
}NN 
returnPP 

operationsPP 
;PP 
}QQ 	
}RR 
}SS Æ
7D:\odata.net\src\Microsoft.Spatial\SpatialOperations.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
public 

abstract 
class 
SpatialOperations +
{ 
public 
virtual 
double 
Distance &
(& '
Geometry' /
operand10 8
,8 9
Geometry: B
operand2C K
)K L
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public 
virtual 
double 
Distance &
(& '
	Geography' 0
operand11 9
,9 :
	Geography; D
operand2E M
)M N
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
}   	
public%% 
virtual%% 
double%% 
Length%% $
(%%$ %
Geometry%%% -
operand%%. 5
)%%5 6
{&& 	
throw'' 
new'' #
NotImplementedException'' -
(''- .
)''. /
;''/ 0
}(( 	
public-- 
virtual-- 
double-- 
Length-- $
(--$ %
	Geography--% .
operand--/ 6
)--6 7
{.. 	
throw// 
new// #
NotImplementedException// -
(//- .
)//. /
;/// 0
}00 	
public66 
virtual66 
bool66 

Intersects66 &
(66& '
Geometry66' /
operand1660 8
,668 9
Geometry66: B
operand266C K
)66K L
{77 	
throw88 
new88 #
NotImplementedException88 -
(88- .
)88. /
;88/ 0
}99 	
public?? 
virtual?? 
bool?? 

Intersects?? &
(??& '
	Geography??' 0
operand1??1 9
,??9 :
	Geography??; D
operand2??E M
)??M N
{@@ 	
throwAA 
newAA #
NotImplementedExceptionAA -
(AA- .
)AA. /
;AA/ 0
}BB 	
}CC 
}DD ∏
5D:\odata.net\src\Microsoft.Spatial\OrcasExtensions.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class 
OrcasExtensions )
{ 
internal 
static 
void 
Clear "
(" #
this# '
StringBuilder( 5
builder6 =
)= >
{	 

builder 
. 
Length 
= 
$num 
;  
builder 
. 
Capacity 
= 
$num  !
;! "
}	 

} 
} ÃK
.D:\odata.net\src\Microsoft.Spatial\DrawBoth.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
DrawBoth $
{ 
public 
virtual 
GeographyPipeline (
GeographyPipeline) :
{ 	
get 
{ 
return 
new 
DrawGeographyInput /
(/ 0
this0 4
)4 5
;5 6
}7 8
} 	
public 
virtual 
GeometryPipeline '
GeometryPipeline( 8
{ 	
get 
{ 
return 
new 
DrawGeometryInput .
(. /
this/ 3
)3 4
;4 5
}6 7
} 	
public%% 
static%% 
implicit%% 
operator%% '
SpatialPipeline%%( 7
(%%7 8
DrawBoth%%8 @
both%%A E
)%%E F
{&& 	
if'' 
('' 
both'' 
!='' 
null'' 
)'' 
{(( 
return)) 
new)) 
SpatialPipeline)) *
())* +
both))+ /
.))/ 0
GeographyPipeline))0 A
,))A B
both))C G
.))G H
GeometryPipeline))H X
)))X Y
;))Y Z
}** 
return,, 
null,, 
;,, 
}-- 	
	protected44 
virtual44 
GeographyPosition44 +
OnLineTo44, 4
(444 5
GeographyPosition445 F
position44G O
)44O P
{55 	
return66 
position66 
;66 
}77 	
	protected>> 
virtual>> 
GeometryPosition>> *
OnLineTo>>+ 3
(>>3 4
GeometryPosition>>4 D
position>>E M
)>>M N
{?? 	
return@@ 
position@@ 
;@@ 
}AA 	
	protectedHH 
virtualHH 
GeographyPositionHH +
OnBeginFigureHH, 9
(HH9 :
GeographyPositionHH: K
positionHHL T
)HHT U
{II 	
returnJJ 
positionJJ 
;JJ 
}KK 	
	protectedRR 
virtualRR 
GeometryPositionRR *
OnBeginFigureRR+ 8
(RR8 9
GeometryPositionRR9 I
positionRRJ R
)RRR S
{SS 	
returnTT 
positionTT 
;TT 
}UU 	
	protected\\ 
virtual\\ 
SpatialType\\ %
OnBeginGeography\\& 6
(\\6 7
SpatialType\\7 B
type\\C G
)\\G H
{]] 	
return^^ 
type^^ 
;^^ 
}__ 	
	protectedff 
virtualff 
SpatialTypeff %
OnBeginGeometryff& 5
(ff5 6
SpatialTypeff6 A
typeffB F
)ffF G
{gg 	
returnhh 
typehh 
;hh 
}ii 	
	protectednn 
virtualnn 
voidnn 
OnEndFigurenn *
(nn* +
)nn+ ,
{oo 	
}pp 	
	protecteduu 
virtualuu 
voiduu 
OnEndGeographyuu -
(uu- .
)uu. /
{vv 	
}ww 	
	protected|| 
virtual|| 
void|| 
OnEndGeometry|| ,
(||, -
)||- .
{}} 	
}~~ 	
	protected
ÉÉ 
virtual
ÉÉ 
void
ÉÉ 
OnReset
ÉÉ &
(
ÉÉ& '
)
ÉÉ' (
{
ÑÑ 	
}
ÖÖ 	
	protected
åå 
virtual
åå 
CoordinateSystem
åå *#
OnSetCoordinateSystem
åå+ @
(
åå@ A
CoordinateSystem
ååA Q
coordinateSystem
ååR b
)
ååb c
{
çç 	
return
éé 
coordinateSystem
éé #
;
éé# $
}
èè 	
private
ïï 
class
ïï  
DrawGeographyInput
ïï (
:
ïï) *
GeographyPipeline
ïï+ <
{
ññ 	
private
öö 
readonly
öö 
DrawBoth
öö %
both
öö& *
;
öö* +
public
††  
DrawGeographyInput
†† %
(
††% &
DrawBoth
††& .
both
††/ 3
)
††3 4
{
°° 
this
¢¢ 
.
¢¢ 
both
¢¢ 
=
¢¢ 
both
¢¢  
;
¢¢  !
}
££ 
public
©© 
override
©© 
void
©©  
LineTo
©©! '
(
©©' (
GeographyPosition
©©( 9
position
©©: B
)
©©B C
{
™™ 
both
´´ 
.
´´ 
OnLineTo
´´ 
(
´´ 
position
´´ &
)
´´& '
;
´´' (
}
¨¨ 
public
≤≤ 
override
≤≤ 
void
≤≤  
BeginFigure
≤≤! ,
(
≤≤, -
GeographyPosition
≤≤- >
position
≤≤? G
)
≤≤G H
{
≥≥ 
both
¥¥ 
.
¥¥ 
OnBeginFigure
¥¥ "
(
¥¥" #
position
¥¥# +
)
¥¥+ ,
;
¥¥, -
}
µµ 
public
ªª 
override
ªª 
void
ªª  
BeginGeography
ªª! /
(
ªª/ 0
SpatialType
ªª0 ;
type
ªª< @
)
ªª@ A
{
ºº 
both
ΩΩ 
.
ΩΩ 
OnBeginGeography
ΩΩ %
(
ΩΩ% &
type
ΩΩ& *
)
ΩΩ* +
;
ΩΩ+ ,
}
ææ 
public
√√ 
override
√√ 
void
√√  
	EndFigure
√√! *
(
√√* +
)
√√+ ,
{
ƒƒ 
both
≈≈ 
.
≈≈ 
OnEndFigure
≈≈  
(
≈≈  !
)
≈≈! "
;
≈≈" #
}
∆∆ 
public
ÀÀ 
override
ÀÀ 
void
ÀÀ  
EndGeography
ÀÀ! -
(
ÀÀ- .
)
ÀÀ. /
{
ÃÃ 
both
ÕÕ 
.
ÕÕ 
OnEndGeography
ÕÕ #
(
ÕÕ# $
)
ÕÕ$ %
;
ÕÕ% &
}
ŒŒ 
public
”” 
override
”” 
void
””  
Reset
””! &
(
””& '
)
””' (
{
‘‘ 
both
’’ 
.
’’ 
OnReset
’’ 
(
’’ 
)
’’ 
;
’’ 
}
÷÷ 
public
‹‹ 
override
‹‹ 
void
‹‹  !
SetCoordinateSystem
‹‹! 4
(
‹‹4 5
CoordinateSystem
‹‹5 E
coordinateSystem
‹‹F V
)
‹‹V W
{
›› 
both
ﬁﬁ 
.
ﬁﬁ #
OnSetCoordinateSystem
ﬁﬁ *
(
ﬁﬁ* +
coordinateSystem
ﬁﬁ+ ;
)
ﬁﬁ; <
;
ﬁﬁ< =
}
ﬂﬂ 
}
‡‡ 	
private
ÊÊ 
class
ÊÊ 
DrawGeometryInput
ÊÊ '
:
ÊÊ( )
GeometryPipeline
ÊÊ* :
{
ÁÁ 	
private
ÎÎ 
readonly
ÎÎ 
DrawBoth
ÎÎ %
both
ÎÎ& *
;
ÎÎ* +
public
ÒÒ 
DrawGeometryInput
ÒÒ $
(
ÒÒ$ %
DrawBoth
ÒÒ% -
both
ÒÒ. 2
)
ÒÒ2 3
{
ÚÚ 
this
ÛÛ 
.
ÛÛ 
both
ÛÛ 
=
ÛÛ 
both
ÛÛ  
;
ÛÛ  !
}
ÙÙ 
public
˙˙ 
override
˙˙ 
void
˙˙  
LineTo
˙˙! '
(
˙˙' (
GeometryPosition
˙˙( 8
position
˙˙9 A
)
˙˙A B
{
˚˚ 
both
¸¸ 
.
¸¸ 
OnLineTo
¸¸ 
(
¸¸ 
position
¸¸ &
)
¸¸& '
;
¸¸' (
}
˝˝ 
public
ÉÉ 
override
ÉÉ 
void
ÉÉ  
BeginFigure
ÉÉ! ,
(
ÉÉ, -
GeometryPosition
ÉÉ- =
position
ÉÉ> F
)
ÉÉF G
{
ÑÑ 
both
ÖÖ 
.
ÖÖ 
OnBeginFigure
ÖÖ "
(
ÖÖ" #
position
ÖÖ# +
)
ÖÖ+ ,
;
ÖÖ, -
}
ÜÜ 
public
åå 
override
åå 
void
åå  
BeginGeometry
åå! .
(
åå. /
SpatialType
åå/ :
type
åå; ?
)
åå? @
{
çç 
both
éé 
.
éé 
OnBeginGeometry
éé $
(
éé$ %
type
éé% )
)
éé) *
;
éé* +
}
èè 
public
îî 
override
îî 
void
îî  
	EndFigure
îî! *
(
îî* +
)
îî+ ,
{
ïï 
both
ññ 
.
ññ 
OnEndFigure
ññ  
(
ññ  !
)
ññ! "
;
ññ" #
}
óó 
public
úú 
override
úú 
void
úú  
EndGeometry
úú! ,
(
úú, -
)
úú- .
{
ùù 
both
ûû 
.
ûû 
OnEndGeometry
ûû "
(
ûû" #
)
ûû# $
;
ûû$ %
}
üü 
public
§§ 
override
§§ 
void
§§  
Reset
§§! &
(
§§& '
)
§§' (
{
•• 
both
¶¶ 
.
¶¶ 
OnReset
¶¶ 
(
¶¶ 
)
¶¶ 
;
¶¶ 
}
ßß 
public
≠≠ 
override
≠≠ 
void
≠≠  !
SetCoordinateSystem
≠≠! 4
(
≠≠4 5
CoordinateSystem
≠≠5 E
coordinateSystem
≠≠F V
)
≠≠V W
{
ÆÆ 
both
ØØ 
.
ØØ #
OnSetCoordinateSystem
ØØ *
(
ØØ* +
coordinateSystem
ØØ+ ;
)
ØØ; <
;
ØØ< =
}
∞∞ 
}
±± 	
}
≤≤ 
}≥≥ Ò
MD:\odata.net\src\Microsoft.Spatial\WellKnownTextSqlFormatterImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 3
'WellKnownTextSqlFormatterImplementation :
:; <%
WellKnownTextSqlFormatter= V
{ 
private 
readonly 
bool "
allowOnlyTwoDimensions 4
;4 5
internal 3
'WellKnownTextSqlFormatterImplementation 8
(8 9!
SpatialImplementation9 N
creatorO V
)V W
:X Y
baseZ ^
(^ _
creator_ f
)f g
{ 	
} 	
internal"" 3
'WellKnownTextSqlFormatterImplementation"" 8
(""8 9!
SpatialImplementation""9 N
creator""O V
,""V W
bool""X \"
allowOnlyTwoDimensions""] s
)""s t
:""u v
base""w {
(""{ |
creator	""| É
)
""É Ñ
{## 	
this$$ 
.$$ "
allowOnlyTwoDimensions$$ '
=$$( )"
allowOnlyTwoDimensions$$* @
;$$@ A
}%% 	
public,, 
override,, 
SpatialPipeline,, '
CreateWriter,,( 4
(,,4 5

TextWriter,,5 ?
target,,@ F
),,F G
{-- 	
return.. 
new.. 
ForwardingSegment.. (
(..( )
new..) ,"
WellKnownTextSqlWriter..- C
(..C D
target..D J
,..J K
this..L P
...P Q"
allowOnlyTwoDimensions..Q g
)..g h
)..h i
;..i j
}// 	
	protected66 
override66 
void66 
ReadGeography66  -
(66- .

TextReader66. 8
readerStream669 E
,66E F
SpatialPipeline66G V
pipeline66W _
)66_ `
{77 	
new88 "
WellKnownTextSqlReader88 &
(88& '
pipeline88' /
,88/ 0"
allowOnlyTwoDimensions881 G
)88G H
.88H I
ReadGeography88I V
(88V W
readerStream88W c
)88c d
;88d e
}99 	
	protected@@ 
override@@ 
void@@ 
ReadGeometry@@  ,
(@@, -

TextReader@@- 7
readerStream@@8 D
,@@D E
SpatialPipeline@@F U
pipeline@@V ^
)@@^ _
{AA 	
newBB "
WellKnownTextSqlReaderBB &
(BB& '
pipelineBB' /
,BB/ 0"
allowOnlyTwoDimensionsBB1 G
)BBG H
.BBH I
ReadGeometryBBI U
(BBU V
readerStreamBBV b
)BBb c
;BBc d
}CC 	
}DD 
}EE ∫≈
/D:\odata.net\src\Microsoft.Spatial\GmlWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
[ 
System 
. 
Diagnostics 
. 
CodeAnalysis $
.$ %
SuppressMessage% 4
(4 5
$str5 G
,G H
$strI u
,u v
	MessageId	w Ä
=
Å Ç
$str
É à
,
à â
Justification
ä ó
=
ò ô
$str
ö ¬
)
¬ √
]
√ ƒ
internal 
sealed 
class 
	GmlWriter #
:$ %
DrawBoth& .
{ 
private 
	XmlWriter 
writer  
;  !
private 
Stack 
< 
SpatialType !
>! "
parentStack# .
;. /
private!! 
bool!! #
coordinateSystemWritten!! ,
;!!, -
private&& 
CoordinateSystem&&  #
currentCoordinateSystem&&! 8
;&&8 9
private++ 
bool++ 
figureWritten++ "
;++" #
private00 
bool00 '
shouldWriteContainerWrapper00 0
;000 1
public66 
	GmlWriter66 
(66 
	XmlWriter66 "
writer66# )
)66) *
{77 	
this88 
.88 
writer88 
=88 
writer88  
;88  !
this99 
.99 
OnReset99 
(99 
)99 
;99 
}:: 	
	protectedAA 
overrideAA 
SpatialTypeAA &
OnBeginGeographyAA' 7
(AA7 8
SpatialTypeAA8 C
typeAAD H
)AAH I
{BB 	
thisCC 
.CC 
BeginGeoCC 
(CC 
typeCC 
)CC 
;CC  
returnDD 
typeDD 
;DD 
}EE 	
	protectedLL 
overrideLL 
GeographyPositionLL ,
OnLineToLL- 5
(LL5 6
GeographyPositionLL6 G
positionLLH P
)LLP Q
{MM 	
thisNN 
.NN 

WritePointNN 
(NN 
positionNN $
.NN$ %
LatitudeNN% -
,NN- .
positionNN/ 7
.NN7 8
	LongitudeNN8 A
,NNA B
positionNNC K
.NNK L
ZNNL M
,NNM N
positionNNO W
.NNW X
MNNX Y
)NNY Z
;NNZ [
returnOO 
positionOO 
;OO 
}PP 	
	protectedUU 
overrideUU 
voidUU 
OnEndGeographyUU  .
(UU. /
)UU/ 0
{VV 	
thisWW 
.WW 
EndGeoWW 
(WW 
)WW 
;WW 
}XX 	
	protected__ 
override__ 
SpatialType__ &
OnBeginGeometry__' 6
(__6 7
SpatialType__7 B
type__C G
)__G H
{`` 	
thisaa 
.aa 
BeginGeoaa 
(aa 
typeaa 
)aa 
;aa  
returnbb 
typebb 
;bb 
}cc 	
	protectedjj 
overridejj 
GeometryPositionjj +
OnLineTojj, 4
(jj4 5
GeometryPositionjj5 E
positionjjF N
)jjN O
{kk 	
thisll 
.ll 

WritePointll 
(ll 
positionll $
.ll$ %
Xll% &
,ll& '
positionll( 0
.ll0 1
Yll1 2
,ll2 3
positionll4 <
.ll< =
Zll= >
,ll> ?
positionll@ H
.llH I
MllI J
)llJ K
;llK L
returnmm 
positionmm 
;mm 
}nn 	
	protectedss 
overridess 
voidss 
OnEndGeometryss  -
(ss- .
)ss. /
{tt 	
thisuu 
.uu 
EndGeouu 
(uu 
)uu 
;uu 
}vv 	
	protected}} 
override}} 
CoordinateSystem}} +!
OnSetCoordinateSystem}}, A
(}}A B
CoordinateSystem}}B R
coordinateSystem}}S c
)}}c d
{~~ 	
this 
. #
currentCoordinateSystem (
=) *
coordinateSystem+ ;
;; <
return
ÄÄ 
coordinateSystem
ÄÄ #
;
ÄÄ# $
}
ÅÅ 	
	protected
àà 
override
àà 
GeographyPosition
àà ,
OnBeginFigure
àà- :
(
àà: ;
GeographyPosition
àà; L
position
ààM U
)
ààU V
{
ââ 	
this
ää 
.
ää 
BeginFigure
ää 
(
ää 
position
ää %
.
ää% &
Latitude
ää& .
,
ää. /
position
ää0 8
.
ää8 9
	Longitude
ää9 B
,
ääB C
position
ääD L
.
ääL M
Z
ääM N
,
ääN O
position
ääP X
.
ääX Y
M
ääY Z
)
ääZ [
;
ää[ \
return
ãã 
position
ãã 
;
ãã 
}
åå 	
	protected
ìì 
override
ìì 
GeometryPosition
ìì +
OnBeginFigure
ìì, 9
(
ìì9 :
GeometryPosition
ìì: J
position
ììK S
)
ììS T
{
îî 	
BeginFigure
ïï 
(
ïï 
position
ïï  
.
ïï  !
X
ïï! "
,
ïï" #
position
ïï$ ,
.
ïï, -
Y
ïï- .
,
ïï. /
position
ïï0 8
.
ïï8 9
Z
ïï9 :
,
ïï: ;
position
ïï< D
.
ïïD E
M
ïïE F
)
ïïF G
;
ïïG H
return
ññ 
position
ññ 
;
ññ 
}
óó 	
	protected
úú 
override
úú 
void
úú 
OnEndFigure
úú  +
(
úú+ ,
)
úú, -
{
ùù 	
if
ûû 
(
ûû 
this
ûû 
.
ûû 
parentStack
ûû  
.
ûû  !
Peek
ûû! %
(
ûû% &
)
ûû& '
==
ûû( *
SpatialType
ûû+ 6
.
ûû6 7
Polygon
ûû7 >
)
ûû> ?
{
üü 
this
†† 
.
†† 
writer
†† 
.
†† 
WriteEndElement
†† +
(
††+ ,
)
††, -
;
††- .
this
°° 
.
°° 
writer
°° 
.
°° 
WriteEndElement
°° +
(
°°+ ,
)
°°, -
;
°°- .
}
¢¢ 
}
££ 	
	protected
®® 
override
®® 
void
®® 
OnReset
®®  '
(
®®' (
)
®®( )
{
©© 	
this
™™ 
.
™™ 
parentStack
™™ 
=
™™ 
new
™™ "
Stack
™™# (
<
™™( )
SpatialType
™™) 4
>
™™4 5
(
™™5 6
)
™™6 7
;
™™7 8
this
´´ 
.
´´ %
coordinateSystemWritten
´´ (
=
´´) *
false
´´+ 0
;
´´0 1
this
¨¨ 
.
¨¨ %
currentCoordinateSystem
¨¨ (
=
¨¨) *
null
¨¨+ /
;
¨¨/ 0
this
≠≠ 
.
≠≠ 
figureWritten
≠≠ 
=
≠≠  
false
≠≠! &
;
≠≠& '
this
ÆÆ 
.
ÆÆ )
shouldWriteContainerWrapper
ÆÆ ,
=
ÆÆ- .
false
ÆÆ/ 4
;
ÆÆ4 5
}
ØØ 	
private
∏∏ 
void
∏∏ 
BeginFigure
∏∏  
(
∏∏  !
double
∏∏! '
x
∏∏( )
,
∏∏) *
double
∏∏+ 1
y
∏∏2 3
,
∏∏3 4
double
∏∏5 ;
?
∏∏; <
z
∏∏= >
,
∏∏> ?
double
∏∏@ F
?
∏∏F G
m
∏∏H I
)
∏∏I J
{
ππ 	
if
∫∫ 
(
∫∫ 
this
∫∫ 
.
∫∫ 
parentStack
∫∫  
.
∫∫  !
Peek
∫∫! %
(
∫∫% &
)
∫∫& '
==
∫∫( *
SpatialType
∫∫+ 6
.
∫∫6 7
Polygon
∫∫7 >
)
∫∫> ?
{
ªª 
this
ΩΩ 
.
ΩΩ 
WriteStartElement
ΩΩ &
(
ΩΩ& '
this
ΩΩ' +
.
ΩΩ+ ,
figureWritten
ΩΩ, 9
?
ΩΩ: ;
GmlConstants
ΩΩ< H
.
ΩΩH I
InteriorRing
ΩΩI U
:
ΩΩV W
GmlConstants
ΩΩX d
.
ΩΩd e
ExteriorRing
ΩΩe q
)
ΩΩq r
;
ΩΩr s
this
ææ 
.
ææ 
WriteStartElement
ææ &
(
ææ& '
GmlConstants
ææ' 3
.
ææ3 4

LinearRing
ææ4 >
)
ææ> ?
;
ææ? @
}
øø 
this
¡¡ 
.
¡¡ 
figureWritten
¡¡ 
=
¡¡  
true
¡¡! %
;
¡¡% &
this
¬¬ 
.
¬¬ 

WritePoint
¬¬ 
(
¬¬ 
x
¬¬ 
,
¬¬ 
y
¬¬  
,
¬¬  !
z
¬¬" #
,
¬¬# $
m
¬¬% &
)
¬¬& '
;
¬¬' (
}
√√ 	
private
…… 
void
…… 
BeginGeo
…… 
(
…… 
SpatialType
…… )
type
……* .
)
……. /
{
   	
if
ÀÀ 
(
ÀÀ 
this
ÀÀ 
.
ÀÀ )
shouldWriteContainerWrapper
ÀÀ 0
)
ÀÀ0 1
{
ÃÃ 
Debug
ÕÕ 
.
ÕÕ 
Assert
ÕÕ 
(
ÕÕ 
this
ÕÕ !
.
ÕÕ! "
parentStack
ÕÕ" -
.
ÕÕ- .
Count
ÕÕ. 3
>
ÕÕ4 5
$num
ÕÕ6 7
,
ÕÕ7 8
$str
ÕÕ9 W
)
ÕÕW X
;
ÕÕX Y
switch
–– 
(
–– 
this
–– 
.
–– 
parentStack
–– (
.
––( )
Peek
––) -
(
––- .
)
––. /
)
––/ 0
{
—— 
case
““ 
SpatialType
““ $
.
““$ %

MultiPoint
““% /
:
““/ 0
this
”” 
.
”” 
WriteStartElement
”” .
(
””. /
GmlConstants
””/ ;
.
””; <
PointMembers
””< H
)
””H I
;
””I J
break
‘‘ 
;
‘‘ 
case
’’ 
SpatialType
’’ $
.
’’$ %
MultiLineString
’’% 4
:
’’4 5
this
÷÷ 
.
÷÷ 
WriteStartElement
÷÷ .
(
÷÷. /
GmlConstants
÷÷/ ;
.
÷÷; <
LineStringMembers
÷÷< M
)
÷÷M N
;
÷÷N O
break
◊◊ 
;
◊◊ 
case
ÿÿ 
SpatialType
ÿÿ $
.
ÿÿ$ %
MultiPolygon
ÿÿ% 1
:
ÿÿ1 2
this
ŸŸ 
.
ŸŸ 
WriteStartElement
ŸŸ .
(
ŸŸ. /
GmlConstants
ŸŸ/ ;
.
ŸŸ; <
PolygonMembers
ŸŸ< J
)
ŸŸJ K
;
ŸŸK L
break
⁄⁄ 
;
⁄⁄ 
case
€€ 
SpatialType
€€ $
.
€€$ %

Collection
€€% /
:
€€/ 0
this
‹‹ 
.
‹‹ 
WriteStartElement
‹‹ .
(
‹‹. /
GmlConstants
‹‹/ ;
.
‹‹; <
CollectionMembers
‹‹< M
)
‹‹M N
;
‹‹N O
break
›› 
;
›› 
default
ﬁﬁ 
:
ﬁﬁ 
Debug
ﬂﬂ 
.
ﬂﬂ 
Assert
ﬂﬂ $
(
ﬂﬂ$ %
false
ﬂﬂ% *
,
ﬂﬂ* +
$str
ﬂﬂ, [
)
ﬂﬂ[ \
;
ﬂﬂ\ ]
break
‡‡ 
;
‡‡ 
}
·· 
this
„„ 
.
„„ )
shouldWriteContainerWrapper
„„ 0
=
„„1 2
false
„„3 8
;
„„8 9
}
‰‰ 
this
ÊÊ 
.
ÊÊ 
figureWritten
ÊÊ 
=
ÊÊ  
false
ÊÊ! &
;
ÊÊ& '
this
ÁÁ 
.
ÁÁ 
parentStack
ÁÁ 
.
ÁÁ 
Push
ÁÁ !
(
ÁÁ! "
type
ÁÁ" &
)
ÁÁ& '
;
ÁÁ' (
switch
ÈÈ 
(
ÈÈ 
type
ÈÈ 
)
ÈÈ 
{
ÍÍ 
case
ÎÎ 
SpatialType
ÎÎ  
.
ÎÎ  !
Point
ÎÎ! &
:
ÎÎ& '
this
ÏÏ 
.
ÏÏ 
WriteStartElement
ÏÏ *
(
ÏÏ* +
GmlConstants
ÏÏ+ 7
.
ÏÏ7 8
Point
ÏÏ8 =
)
ÏÏ= >
;
ÏÏ> ?
break
ÌÌ 
;
ÌÌ 
case
ÓÓ 
SpatialType
ÓÓ  
.
ÓÓ  !

LineString
ÓÓ! +
:
ÓÓ+ ,
this
ÔÔ 
.
ÔÔ 
WriteStartElement
ÔÔ *
(
ÔÔ* +
GmlConstants
ÔÔ+ 7
.
ÔÔ7 8

LineString
ÔÔ8 B
)
ÔÔB C
;
ÔÔC D
break
 
;
 
case
ÒÒ 
SpatialType
ÒÒ  
.
ÒÒ  !
Polygon
ÒÒ! (
:
ÒÒ( )
this
ÚÚ 
.
ÚÚ 
WriteStartElement
ÚÚ *
(
ÚÚ* +
GmlConstants
ÚÚ+ 7
.
ÚÚ7 8
Polygon
ÚÚ8 ?
)
ÚÚ? @
;
ÚÚ@ A
break
ÛÛ 
;
ÛÛ 
case
ÙÙ 
SpatialType
ÙÙ  
.
ÙÙ  !

MultiPoint
ÙÙ! +
:
ÙÙ+ ,
this
ıı 
.
ıı )
shouldWriteContainerWrapper
ıı 4
=
ıı5 6
true
ıı7 ;
;
ıı; <
this
ˆˆ 
.
ˆˆ 
WriteStartElement
ˆˆ *
(
ˆˆ* +
GmlConstants
ˆˆ+ 7
.
ˆˆ7 8

MultiPoint
ˆˆ8 B
)
ˆˆB C
;
ˆˆC D
break
˜˜ 
;
˜˜ 
case
¯¯ 
SpatialType
¯¯  
.
¯¯  !
MultiLineString
¯¯! 0
:
¯¯0 1
this
˘˘ 
.
˘˘ )
shouldWriteContainerWrapper
˘˘ 4
=
˘˘5 6
true
˘˘7 ;
;
˘˘; <
this
˙˙ 
.
˙˙ 
WriteStartElement
˙˙ *
(
˙˙* +
GmlConstants
˙˙+ 7
.
˙˙7 8
MultiLineString
˙˙8 G
)
˙˙G H
;
˙˙H I
break
˚˚ 
;
˚˚ 
case
¸¸ 
SpatialType
¸¸  
.
¸¸  !
MultiPolygon
¸¸! -
:
¸¸- .
this
˝˝ 
.
˝˝ )
shouldWriteContainerWrapper
˝˝ 4
=
˝˝5 6
true
˝˝7 ;
;
˝˝; <
this
˛˛ 
.
˛˛ 
WriteStartElement
˛˛ *
(
˛˛* +
GmlConstants
˛˛+ 7
.
˛˛7 8
MultiPolygon
˛˛8 D
)
˛˛D E
;
˛˛E F
break
ˇˇ 
;
ˇˇ 
case
ÄÄ 
SpatialType
ÄÄ  
.
ÄÄ  !

Collection
ÄÄ! +
:
ÄÄ+ ,
this
ÅÅ 
.
ÅÅ )
shouldWriteContainerWrapper
ÅÅ 4
=
ÅÅ5 6
true
ÅÅ7 ;
;
ÅÅ; <
this
ÇÇ 
.
ÇÇ 
WriteStartElement
ÇÇ *
(
ÇÇ* +
GmlConstants
ÇÇ+ 7
.
ÇÇ7 8

Collection
ÇÇ8 B
)
ÇÇB C
;
ÇÇC D
break
ÉÉ 
;
ÉÉ 
case
ÑÑ 
SpatialType
ÑÑ  
.
ÑÑ  !
	FullGlobe
ÑÑ! *
:
ÑÑ* +
this
ÖÖ 
.
ÖÖ 
writer
ÖÖ 
.
ÖÖ  
WriteStartElement
ÖÖ  1
(
ÖÖ1 2
GmlConstants
ÖÖ2 >
.
ÖÖ> ?
	FullGlobe
ÖÖ? H
,
ÖÖH I
GmlConstants
ÖÖJ V
.
ÖÖV W 
FullGlobeNamespace
ÖÖW i
)
ÖÖi j
;
ÖÖj k
break
ÜÜ 
;
ÜÜ 
default
áá 
:
áá 
throw
àà 
new
àà #
NotSupportedException
àà 3
(
àà3 4
Strings
àà4 ;
.
àà; <#
Validator_InvalidType
àà< Q
(
ààQ R
type
ààR V
)
ààV W
)
ààW X
;
ààX Y
}
ââ 
this
ãã 
.
ãã #
WriteCoordinateSystem
ãã &
(
ãã& '
)
ãã' (
;
ãã( )
}
åå 	
private
íí 
void
íí 
WriteStartElement
íí &
(
íí& '
string
íí' -
elementName
íí. 9
)
íí9 :
{
ìì 	
this
îî 
.
îî 
writer
îî 
.
îî 
WriteStartElement
îî )
(
îî) *
GmlConstants
îî* 6
.
îî6 7
	GmlPrefix
îî7 @
,
îî@ A
elementName
îîB M
,
îîM N
GmlConstants
îîO [
.
îî[ \
GmlNamespace
îî\ h
)
îîh i
;
îîi j
}
ïï 	
private
öö 
void
öö #
WriteCoordinateSystem
öö *
(
öö* +
)
öö+ ,
{
õõ 	
Debug
úú 
.
úú 
Assert
úú 
(
úú 
this
úú 
.
úú 
writer
úú $
.
úú$ %

WriteState
úú% /
==
úú0 2

WriteState
úú3 =
.
úú= >
Element
úú> E
,
úúE F
$str
úúG `
)
úú` a
;
úúa b
if
ûû 
(
ûû 
!
ûû %
coordinateSystemWritten
ûû (
&&
ûû) +
this
ûû, 0
.
ûû0 1%
currentCoordinateSystem
ûû1 H
!=
ûûI K
null
ûûL P
)
ûûP Q
{
üü 
this
†† 
.
†† %
coordinateSystemWritten
†† ,
=
††- .
true
††/ 3
;
††3 4
var
°° 
crsValue
°° 
=
°° 
GmlConstants
°° +
.
°°+ ,
	SrsPrefix
°°, 5
+
°°6 7
this
°°8 <
.
°°< =%
currentCoordinateSystem
°°= T
.
°°T U
Id
°°U W
;
°°W X
this
¢¢ 
.
¢¢ 
writer
¢¢ 
.
¢¢ "
WriteAttributeString
¢¢ 0
(
¢¢0 1
GmlConstants
¢¢1 =
.
¢¢= >
	GmlPrefix
¢¢> G
,
¢¢G H
GmlConstants
¢¢I U
.
¢¢U V
SrsName
¢¢V ]
,
¢¢] ^
GmlConstants
¢¢_ k
.
¢¢k l
GmlNamespace
¢¢l x
,
¢¢x y
crsValue¢¢z Ç
)¢¢Ç É
;¢¢É Ñ
}
££ 
}
§§ 	
private
≠≠ 
void
≠≠ 

WritePoint
≠≠ 
(
≠≠  
double
≠≠  &
x
≠≠' (
,
≠≠( )
double
≠≠* 0
y
≠≠1 2
,
≠≠2 3
double
≠≠4 :
?
≠≠: ;
z
≠≠< =
,
≠≠= >
double
≠≠? E
?
≠≠E F
m
≠≠G H
)
≠≠H I
{
ÆÆ 	
this
ØØ 
.
ØØ 
WriteStartElement
ØØ "
(
ØØ" #
GmlConstants
ØØ# /
.
ØØ/ 0
Position
ØØ0 8
)
ØØ8 9
;
ØØ9 :
this
±± 
.
±± 
writer
±± 
.
±± 

WriteValue
±± "
(
±±" #
x
±±# $
)
±±$ %
;
±±% &
this
≤≤ 
.
≤≤ 
writer
≤≤ 
.
≤≤ 

WriteValue
≤≤ "
(
≤≤" #
$str
≤≤# &
)
≤≤& '
;
≤≤' (
this
≥≥ 
.
≥≥ 
writer
≥≥ 
.
≥≥ 

WriteValue
≥≥ "
(
≥≥" #
y
≥≥# $
)
≥≥$ %
;
≥≥% &
if
µµ 
(
µµ 
z
µµ 
.
µµ 
HasValue
µµ 
)
µµ 
{
∂∂ 
this
∑∑ 
.
∑∑ 
writer
∑∑ 
.
∑∑ 

WriteValue
∑∑ &
(
∑∑& '
$str
∑∑' *
)
∑∑* +
;
∑∑+ ,
this
∏∏ 
.
∏∏ 
writer
∏∏ 
.
∏∏ 

WriteValue
∏∏ &
(
∏∏& '
z
∏∏' (
.
∏∏( )
Value
∏∏) .
)
∏∏. /
;
∏∏/ 0
if
∫∫ 
(
∫∫ 
m
∫∫ 
.
∫∫ 
HasValue
∫∫ 
)
∫∫ 
{
ªª 
this
ºº 
.
ºº 
writer
ºº 
.
ºº  

WriteValue
ºº  *
(
ºº* +
$str
ºº+ .
)
ºº. /
;
ºº/ 0
this
ΩΩ 
.
ΩΩ 
writer
ΩΩ 
.
ΩΩ  

WriteValue
ΩΩ  *
(
ΩΩ* +
m
ΩΩ+ ,
.
ΩΩ, -
Value
ΩΩ- 2
)
ΩΩ2 3
;
ΩΩ3 4
}
ææ 
}
øø 
else
¿¿ 
{
¡¡ 
if
¬¬ 
(
¬¬ 
m
¬¬ 
.
¬¬ 
HasValue
¬¬ 
)
¬¬ 
{
√√ 
this
ƒƒ 
.
ƒƒ 
writer
ƒƒ 
.
ƒƒ  

WriteValue
ƒƒ  *
(
ƒƒ* +
$str
ƒƒ+ .
)
ƒƒ. /
;
ƒƒ/ 0
this
≈≈ 
.
≈≈ 
writer
≈≈ 
.
≈≈  

WriteValue
≈≈  *
(
≈≈* +
double
≈≈+ 1
.
≈≈1 2
NaN
≈≈2 5
)
≈≈5 6
;
≈≈6 7
this
∆∆ 
.
∆∆ 
writer
∆∆ 
.
∆∆  

WriteValue
∆∆  *
(
∆∆* +
$str
∆∆+ .
)
∆∆. /
;
∆∆/ 0
this
«« 
.
«« 
writer
«« 
.
««  

WriteValue
««  *
(
««* +
m
««+ ,
.
««, -
Value
««- 2
)
««2 3
;
««3 4
}
»» 
}
…… 
this
ÀÀ 
.
ÀÀ 
writer
ÀÀ 
.
ÀÀ 
WriteEndElement
ÀÀ '
(
ÀÀ' (
)
ÀÀ( )
;
ÀÀ) *
}
ÃÃ 	
private
—— 
void
—— 
EndGeo
—— 
(
—— 
)
—— 
{
““ 	
SpatialType
”” 
type
”” 
=
”” 
this
”” #
.
””# $
parentStack
””$ /
.
””/ 0
Pop
””0 3
(
””3 4
)
””4 5
;
””5 6
switch
’’ 
(
’’ 
type
’’ 
)
’’ 
{
÷÷ 
case
◊◊ 
SpatialType
◊◊  
.
◊◊  !

MultiPoint
◊◊! +
:
◊◊+ ,
case
ÿÿ 
SpatialType
ÿÿ  
.
ÿÿ  !
MultiLineString
ÿÿ! 0
:
ÿÿ0 1
case
ŸŸ 
SpatialType
ŸŸ  
.
ŸŸ  !
MultiPolygon
ŸŸ! -
:
ŸŸ- .
case
⁄⁄ 
SpatialType
⁄⁄  
.
⁄⁄  !

Collection
⁄⁄! +
:
⁄⁄+ ,
if
€€ 
(
€€ 
!
€€ 
this
€€ 
.
€€ )
shouldWriteContainerWrapper
€€ 9
)
€€9 :
{
‹‹ 
this
ﬁﬁ 
.
ﬁﬁ 
writer
ﬁﬁ #
.
ﬁﬁ# $
WriteEndElement
ﬁﬁ$ 3
(
ﬁﬁ3 4
)
ﬁﬁ4 5
;
ﬁﬁ5 6
}
ﬂﬂ 
this
·· 
.
·· 
writer
·· 
.
··  
WriteEndElement
··  /
(
··/ 0
)
··0 1
;
··1 2
this
‰‰ 
.
‰‰ )
shouldWriteContainerWrapper
‰‰ 4
=
‰‰5 6
false
‰‰7 <
;
‰‰< =
break
ÂÂ 
;
ÂÂ 
case
ÊÊ 
SpatialType
ÊÊ  
.
ÊÊ  !
Point
ÊÊ! &
:
ÊÊ& '
if
ÁÁ 
(
ÁÁ 
!
ÁÁ 
figureWritten
ÁÁ &
)
ÁÁ& '
{
ËË 
this
ÍÍ 
.
ÍÍ 
WriteStartElement
ÍÍ .
(
ÍÍ. /
GmlConstants
ÍÍ/ ;
.
ÍÍ; <
Position
ÍÍ< D
)
ÍÍD E
;
ÍÍE F
this
ÎÎ 
.
ÎÎ 
writer
ÎÎ #
.
ÎÎ# $
WriteEndElement
ÎÎ$ 3
(
ÎÎ3 4
)
ÎÎ4 5
;
ÎÎ5 6
}
ÏÏ 
this
ÓÓ 
.
ÓÓ 
writer
ÓÓ 
.
ÓÓ  
WriteEndElement
ÓÓ  /
(
ÓÓ/ 0
)
ÓÓ0 1
;
ÓÓ1 2
break
ÔÔ 
;
ÔÔ 
case
 
SpatialType
  
.
  !

LineString
! +
:
+ ,
if
ÒÒ 
(
ÒÒ 
!
ÒÒ 
figureWritten
ÒÒ &
)
ÒÒ& '
{
ÚÚ 
this
ÙÙ 
.
ÙÙ 
WriteStartElement
ÙÙ .
(
ÙÙ. /
GmlConstants
ÙÙ/ ;
.
ÙÙ; <
PositionList
ÙÙ< H
)
ÙÙH I
;
ÙÙI J
this
ıı 
.
ıı 
writer
ıı #
.
ıı# $
WriteEndElement
ıı$ 3
(
ıı3 4
)
ıı4 5
;
ıı5 6
}
ˆˆ 
this
¯¯ 
.
¯¯ 
writer
¯¯ 
.
¯¯  
WriteEndElement
¯¯  /
(
¯¯/ 0
)
¯¯0 1
;
¯¯1 2
break
˘˘ 
;
˘˘ 
case
˙˙ 
SpatialType
˙˙  
.
˙˙  !
Polygon
˙˙! (
:
˙˙( )
case
˚˚ 
SpatialType
˚˚  
.
˚˚  !
	FullGlobe
˚˚! *
:
˚˚* +
this
¸¸ 
.
¸¸ 
writer
¸¸ 
.
¸¸  
WriteEndElement
¸¸  /
(
¸¸/ 0
)
¸¸0 1
;
¸¸1 2
break
˝˝ 
;
˝˝ 
default
˛˛ 
:
˛˛ 
Debug
ˇˇ 
.
ˇˇ 
Assert
ˇˇ  
(
ˇˇ  !
false
ˇˇ! &
,
ˇˇ& '
$str
ˇˇ( q
)
ˇˇq r
;
ˇˇr s
break
ÄÄ 
;
ÄÄ 
}
ÅÅ 
}
ÇÇ 	
}
ÉÉ 
}ÑÑ ™
@D:\odata.net\src\Microsoft.Spatial\GmlFormatterImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
[ 
System 
. 
Diagnostics 
. 
CodeAnalysis $
.$ %
SuppressMessage% 4
(4 5
$str5 G
,G H
$strI u
,u v
	MessageId	w Ä
=
Å Ç
$str
É à
,
à â
Justification
ä ó
=
ò ô
$str
ö ƒ
)
ƒ ≈
]
≈ ∆
internal 
class &
GmlFormatterImplementation -
:. /
GmlFormatter0 <
{ 
internal &
GmlFormatterImplementation +
(+ ,!
SpatialImplementation, A
creatorB I
)I J
: 
base 
( 
creator 
) 
{ 	
} 	
public 
override 
SpatialPipeline '
CreateWriter( 4
(4 5
	XmlWriter5 >
target? E
)E F
{   	
return!! 
new!! 
ForwardingSegment!! (
(!!( )
new!!) ,
	GmlWriter!!- 6
(!!6 7
target!!7 =
)!!= >
)!!> ?
;!!? @
}"" 	
	protected)) 
override)) 
void)) 
ReadGeography))  -
())- .
	XmlReader)). 7
readerStream))8 D
,))D E
SpatialPipeline))F U
pipeline))V ^
)))^ _
{** 	
new++ 
	GmlReader++ 
(++ 
pipeline++ "
)++" #
.++# $
ReadGeography++$ 1
(++1 2
readerStream++2 >
)++> ?
;++? @
},, 	
	protected33 
override33 
void33 
ReadGeometry33  ,
(33, -
	XmlReader33- 6
readerStream337 C
,33C D
SpatialPipeline33E T
pipeline33U ]
)33] ^
{44 	
new55 
	GmlReader55 
(55 
pipeline55 "
)55" #
.55# $
ReadGeometry55$ 0
(550 1
readerStream551 =
)55= >
;55> ?
}66 	
}77 
}88 Á+
8D:\odata.net\src\Microsoft.Spatial\WellKnownTextLexer.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
WellKnownTextLexer %
:& '
TextLexerBase( 5
{ 
public 
WellKnownTextLexer !
(! "

TextReader" ,
text- 1
)1 2
: 
base 
( 
text 
) 
{ 	
} 	
	protected!! 
override!! 
bool!! 
MatchTokenType!!  .
(!!. /
char!!/ 3
nextChar!!4 <
,!!< =
int!!> A
?!!A B
activeTokenType!!C R
,!!R S
out!!T W
int!!X [
	tokenType!!\ e
)!!e f
{"" 	
switch## 
(## 
nextChar## 
)## 
{$$ 
case%% 
$char%% 
:%% 
	tokenType&& 
=&& 
(&&  !
int&&! $
)&&$ %"
WellKnownTextTokenType&&% ;
.&&; <
Equals&&< B
;&&B C
return'' 
true'' 
;''  
case(( 
$char(( 
:(( 
	tokenType)) 
=)) 
())  !
int))! $
)))$ %"
WellKnownTextTokenType))% ;
.)); <
	Semicolon))< E
;))E F
return** 
true** 
;**  
case++ 
$char++ 
:++ 
	tokenType,, 
=,, 
(,,  !
int,,! $
),,$ %"
WellKnownTextTokenType,,% ;
.,,; <
	LeftParen,,< E
;,,E F
return-- 
true-- 
;--  
case.. 
$char.. 
:.. 
	tokenType// 
=// 
(//  !
int//! $
)//$ %"
WellKnownTextTokenType//% ;
.//; <

RightParen//< F
;//F G
return00 
true00 
;00  
case11 
$char11 
:11 
	tokenType22 
=22 
(22  !
int22! $
)22$ %"
WellKnownTextTokenType22% ;
.22; <
Period22< B
;22B C
return33 
true33 
;33  
case44 
$char44 
:44 
	tokenType55 
=55 
(55  !
int55! $
)55$ %"
WellKnownTextTokenType55% ;
.55; <
Comma55< A
;55A B
return66 
true66 
;66  
case77 
$char77 
:77 
case88 
$char88 
:88 
case99 
$char99 
:99 
case:: 
$char:: 
::: 
	tokenType;; 
=;; 
(;;  !
int;;! $
);;$ %"
WellKnownTextTokenType;;% ;
.;;; <

WhiteSpace;;< F
;;;F G
return<< 
false<<  
;<<  !
case== 
$char== 
:== 
case>> 
$char>> 
:>> 
case?? 
$char?? 
:?? 
case@@ 
$char@@ 
:@@ 
caseAA 
$charAA 
:AA 
caseBB 
$charBB 
:BB 
caseCC 
$charCC 
:CC 
caseDD 
$charDD 
:DD 
caseEE 
$charEE 
:EE 
caseFF 
$charFF 
:FF 
caseGG 
$charGG 
:GG 
caseHH 
$charHH 
:HH 
	tokenTypeII 
=II 
(II  !
intII! $
)II$ %"
WellKnownTextTokenTypeII% ;
.II; <
NumberII< B
;IIB C
returnJJ 
falseJJ  
;JJ  !
caseMM 
$charMM 
:MM 
caseNN 
$charNN 
:NN 
ifOO 
(OO 
activeTokenTypeOO '
==OO( *
(OO+ ,
intOO, /
)OO/ 0"
WellKnownTextTokenTypeOO0 F
.OOF G
NumberOOG M
)OOM N
{PP 
	tokenTypeQQ !
=QQ" #
(QQ$ %
intQQ% (
)QQ( )"
WellKnownTextTokenTypeQQ) ?
.QQ? @
NumberQQ@ F
;QQF G
}RR 
elseSS 
{TT 
	tokenTypeUU !
=UU" #
(UU$ %
intUU% (
)UU( )"
WellKnownTextTokenTypeUU) ?
.UU? @
TextUU@ D
;UUD E
}VV 
returnXX 
falseXX  
;XX  !
defaultYY 
:YY 
ifZZ 
(ZZ 
(ZZ 
nextCharZZ !
>=ZZ" $
$charZZ% (
&&ZZ) +
nextCharZZ, 4
<=ZZ5 7
$charZZ8 ;
)ZZ; <
||ZZ= ?
nextCharZZ@ H
>=ZZI K
$charZZL O
&&ZZP R
nextCharZZS [
<=ZZ\ ^
$charZZ_ b
)ZZb c
{[[ 
	tokenType\\ !
=\\" #
(\\$ %
int\\% (
)\\( )"
WellKnownTextTokenType\\) ?
.\\? @
Text\\@ D
;\\D E
return]] 
false]] $
;]]$ %
}^^ 
throw`` 
new`` 
FormatException`` -
(``- .
Strings``. 5
.``5 6-
!WellKnownText_UnexpectedCharacter``6 W
(``W X
nextChar``X `
)``` a
)``a b
;``b c
}aa 
}bb 	
}cc 
}dd ä
<D:\odata.net\src\Microsoft.Spatial\WellKnownTextTokenType.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
enum "
WellKnownTextTokenType (
:) *
int+ .
{ 
Text 
= 
$num 
, 
Equals 
, 
Number 
, 
	Semicolon   
,   
	LeftParen%% 
,%% 

RightParen** 
,** 
Period// 
,// 
Comma44 
,44 

WhiteSpace99 
}:: 
};; ∆
GD:\odata.net\src\Microsoft.Spatial\DataServicesSpatialImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class -
!DataServicesSpatialImplementation 4
:5 6!
SpatialImplementation7 L
{ 
public 
override 
SpatialOperations )

Operations* 4
{ 	
get 
; 
set 
; 
} 	
public 
override 
SpatialBuilder &
CreateBuilder' 4
(4 5
)5 6
{ 	
var   
	geography   
=   
new   *
GeographyBuilderImplementation    >
(  > ?
this  ? C
)  C D
;  D E
var!! 
geometry!! 
=!! 
new!! )
GeometryBuilderImplementation!! <
(!!< =
this!!= A
)!!A B
;!!B C
var"" 
input"" 
="" 
new"" 
ForwardingSegment"" -
(""- .
	geography"". 7
,""7 8
geometry""9 A
)""A B
;""B C
return## 
new## 
SpatialBuilder## %
(##% &
input##& +
,##+ ,
input##- 2
,##2 3
	geography##4 =
,##= >
geometry##? G
)##G H
;##H I
}$$ 	
public** 
override** 
GmlFormatter** $
CreateGmlFormatter**% 7
(**7 8
)**8 9
{++ 	
return,, 
new,, &
GmlFormatterImplementation,, 1
(,,1 2
this,,2 6
),,6 7
;,,7 8
}-- 	
public33 
override33 "
GeoJsonObjectFormatter33 .(
CreateGeoJsonObjectFormatter33/ K
(33K L
)33L M
{44 	
return55 
new55 0
$GeoJsonObjectFormatterImplementation55 ;
(55; <
this55< @
)55@ A
;55A B
}66 	
public<< 
override<< %
WellKnownTextSqlFormatter<< 1+
CreateWellKnownTextSqlFormatter<<2 Q
(<<Q R
)<<R S
{== 	
return>> 
new>> 3
'WellKnownTextSqlFormatterImplementation>> >
(>>> ?
this>>? C
)>>C D
;>>D E
}?? 	
publicHH 
overrideHH %
WellKnownTextSqlFormatterHH 1+
CreateWellKnownTextSqlFormatterHH2 Q
(HHQ R
boolHHR V"
allowOnlyTwoDimensionsHHW m
)HHm n
{II 	
returnJJ 
newJJ 3
'WellKnownTextSqlFormatterImplementationJJ >
(JJ> ?
thisJJ? C
,JJC D"
allowOnlyTwoDimensionsJJE [
)JJ[ \
;JJ\ ]
}KK 	
publicQQ 
overrideQQ 
SpatialPipelineQQ '
CreateValidatorQQ( 7
(QQ7 8
)QQ8 9
{RR 	
returnSS 
newSS 
ForwardingSegmentSS (
(SS( )
newSS) ,*
SpatialValidatorImplementationSS- K
(SSK L
)SSL M
)SSM N
;SSN O
}TT 	
}UU 
}VV •m
DD:\odata.net\src\Microsoft.Spatial\GeographyBuilderImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class *
GeographyBuilderImplementation 1
:2 3
GeographyPipeline4 E
,E F
IGeographyProviderG Y
{ 
private 
readonly 
SpatialTreeBuilder +
<+ ,
	Geography, 5
>5 6
builder7 >
;> ?
public *
GeographyBuilderImplementation -
(- .!
SpatialImplementation. C
creatorD K
)K L
{ 	
this 
. 
builder 
= 
new  
GeographyTreeBuilder 3
(3 4
creator4 ;
); <
;< =
} 	
[$$ 	
System$$	 
.$$ 
Diagnostics$$ 
.$$ 
CodeAnalysis$$ (
.$$( )
SuppressMessage$$) 8
($$8 9
$str$$9 K
,$$K L
$str$$M x
,$$x y
Justification	$$z á
=
$$à â
$str
$$ä ≥
)
$$≥ ¥
]
$$¥ µ
public%% 
event%% 
Action%% 
<%% 
	Geography%% %
>%%% &
ProduceGeography%%' 7
{&& 	
add'' 
{'' 
this'' 
.'' 
builder'' 
.'' 
ProduceInstance'' .
+=''/ 1
value''2 7
;''7 8
}''9 :
remove(( 
{(( 
this(( 
.(( 
builder(( !
.((! "
ProduceInstance((" 1
-=((2 4
value((5 :
;((: ;
}((< =
})) 	
public.. 
	Geography..  
ConstructedGeography.. -
{// 	
get00 
{00 
return00 
this00 
.00 
builder00 %
.00% &
ConstructedInstance00& 9
;009 :
}00; <
}11 	
[77 	
System77	 
.77 
Diagnostics77 
.77 
CodeAnalysis77 (
.77( )
SuppressMessage77) 8
(778 9
$str779 K
,77K L
$str77M z
,77z {
	MessageId	77| Ö
=
77Ü á
$str
77à ã
,
77ã å
Justification
77ç ö
=
77õ ú
$str
77ù ƒ
)
77ƒ ≈
]
77≈ ∆
public88 
override88 
void88 
LineTo88 #
(88# $
GeographyPosition88$ 5
position886 >
)88> ?
{99 	
Debug:: 
.:: 
Assert:: 
(:: 
position:: !
!=::" $
null::% )
,::) *
$str::+ ]
)::] ^
;::^ _
this;; 
.;; 
builder;; 
.;; 
LineTo;; 
(;;  
position;;  (
.;;( )
Latitude;;) 1
,;;1 2
position;;3 ;
.;;; <
	Longitude;;< E
,;;E F
position;;G O
.;;O P
Z;;P Q
,;;Q R
position;;S [
.;;[ \
M;;\ ]
);;] ^
;;;^ _
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| Ö
=
BBÜ á
$str
BBà ã
,
BBã å
Justification
BBç ö
=
BBõ ú
$str
BBù ƒ
)
BBƒ ≈
]
BB≈ ∆
publicCC 
overrideCC 
voidCC 
BeginFigureCC (
(CC( )
GeographyPositionCC) :
positionCC; C
)CCC D
{DD 	
DebugEE 
.EE 
AssertEE 
(EE 
positionEE !
!=EE" $
nullEE% )
,EE) *
$strEE+ ]
)EE] ^
;EE^ _
thisFF 
.FF 
builderFF 
.FF 
BeginFigureFF $
(FF$ %
positionFF% -
.FF- .
LatitudeFF. 6
,FF6 7
positionFF8 @
.FF@ A
	LongitudeFFA J
,FFJ K
positionFFL T
.FFT U
ZFFU V
,FFV W
positionFFX `
.FF` a
MFFa b
)FFb c
;FFc d
}GG 	
publicMM 
overrideMM 
voidMM 
BeginGeographyMM +
(MM+ ,
SpatialTypeMM, 7
typeMM8 <
)MM< =
{NN 	
thisOO 
.OO 
builderOO 
.OO 
BeginGeoOO !
(OO! "
typeOO" &
)OO& '
;OO' (
}PP 	
publicUU 
overrideUU 
voidUU 
	EndFigureUU &
(UU& '
)UU' (
{VV 	
thisWW 
.WW 
builderWW 
.WW 
	EndFigureWW "
(WW" #
)WW# $
;WW$ %
}XX 	
public]] 
override]] 
void]] 
EndGeography]] )
(]]) *
)]]* +
{^^ 	
this__ 
.__ 
builder__ 
.__ 
EndGeo__ 
(__  
)__  !
;__! "
}`` 	
publicee 
overrideee 
voidee 
Resetee "
(ee" #
)ee# $
{ff 	
thisgg 
.gg 
buildergg 
.gg 
Resetgg 
(gg 
)gg  
;gg  !
}hh 	
publicnn 
overridenn 
voidnn 
SetCoordinateSystemnn 0
(nn0 1
CoordinateSystemnn1 A
coordinateSystemnnB R
)nnR S
{oo 	
Utilpp 
.pp 
CheckArgumentNullpp "
(pp" #
coordinateSystempp# 3
,pp3 4
$strpp5 G
)ppG H
;ppH I
thisqq 
.qq 
builderqq 
.qq 
SetCoordinateSystemqq ,
(qq, -
coordinateSystemqq- =
.qq= >
EpsgIdqq> D
)qqD E
;qqE F
}rr 	
privateww 
classww  
GeographyTreeBuilderww *
:ww+ ,
SpatialTreeBuilderww- ?
<ww? @
	Geographyww@ I
>wwI J
{xx 	
private|| 
readonly|| !
SpatialImplementation|| 2
creator||3 :
;||: ;
private
ÅÅ 
CoordinateSystem
ÅÅ $%
currentCoordinateSystem
ÅÅ% <
;
ÅÅ< =
public
áá "
GeographyTreeBuilder
áá '
(
áá' (#
SpatialImplementation
áá( =
creator
áá> E
)
ááE F
{
àà 
Util
ââ 
.
ââ 
CheckArgumentNull
ââ &
(
ââ& '
creator
ââ' .
,
ââ. /
$str
ââ0 9
)
ââ9 :
;
ââ: ;
this
ää 
.
ää 
creator
ää 
=
ää 
creator
ää &
;
ää& '
}
ãã 
internal
ëë 
override
ëë 
void
ëë "!
SetCoordinateSystem
ëë# 6
(
ëë6 7
int
ëë7 :
?
ëë: ;
epsgId
ëë< B
)
ëëB C
{
íí 
this
ìì 
.
ìì %
currentCoordinateSystem
ìì ,
=
ìì- .
CoordinateSystem
ìì/ ?
.
ìì? @
	Geography
ìì@ I
(
ììI J
epsgId
ììJ P
)
ììP Q
;
ììQ R
}
îî 
	protected
üü 
override
üü 
	Geography
üü (
CreatePoint
üü) 4
(
üü4 5
bool
üü5 9
isEmpty
üü: A
,
üüA B
double
üüC I
x
üüJ K
,
üüK L
double
üüM S
y
üüT U
,
üüU V
double
üüW ]
?
üü] ^
z
üü_ `
,
üü` a
double
üüb h
?
üüh i
m
üüj k
)
üük l
{
†† 
return
°° 
isEmpty
°° 
?
°°  
new
°°! $*
GeographyPointImplementation
°°% A
(
°°A B
this
°°B F
.
°°F G%
currentCoordinateSystem
°°G ^
,
°°^ _
this
°°` d
.
°°d e
creator
°°e l
)
°°l m
:
°°n o
new
°°p s+
GeographyPointImplementation°°t ê
(°°ê ë
this°°ë ï
.°°ï ñ'
currentCoordinateSystem°°ñ ≠
,°°≠ Æ
this°°Ø ≥
.°°≥ ¥
creator°°¥ ª
,°°ª º
x°°Ω æ
,°°æ ø
y°°¿ ¡
,°°¡ ¬
z°°√ ƒ
,°°ƒ ≈
m°°∆ «
)°°« »
;°°» …
}
¢¢ 
	protected
™™ 
override
™™ 
	Geography
™™ (!
CreateShapeInstance
™™) <
(
™™< =
SpatialType
™™= H
type
™™I M
,
™™M N
IEnumerable
™™O Z
<
™™Z [
	Geography
™™[ d
>
™™d e
spatialData
™™f q
)
™™q r
{
´´ 
switch
¨¨ 
(
¨¨ 
type
¨¨ 
)
¨¨ 
{
≠≠ 
case
ÆÆ 
SpatialType
ÆÆ $
.
ÆÆ$ %

LineString
ÆÆ% /
:
ÆÆ/ 0
return
ØØ 
new
ØØ "/
!GeographyLineStringImplementation
ØØ# D
(
ØØD E
this
ØØE I
.
ØØI J%
currentCoordinateSystem
ØØJ a
,
ØØa b
this
ØØc g
.
ØØg h
creator
ØØh o
,
ØØo p
spatialData
ØØq |
.
ØØ| }
CastØØ} Å
<ØØÅ Ç
GeographyPointØØÇ ê
>ØØê ë
(ØØë í
)ØØí ì
.ØØì î
ToArrayØØî õ
(ØØõ ú
)ØØú ù
)ØØù û
;ØØû ü
case
∞∞ 
SpatialType
∞∞ $
.
∞∞$ %
Polygon
∞∞% ,
:
∞∞, -
return
±± 
new
±± ",
GeographyPolygonImplementation
±±# A
(
±±A B
this
±±B F
.
±±F G%
currentCoordinateSystem
±±G ^
,
±±^ _
this
±±` d
.
±±d e
creator
±±e l
,
±±l m
spatialData
±±n y
.
±±y z
Cast
±±z ~
<
±±~ "
GeographyLineString±± í
>±±í ì
(±±ì î
)±±î ï
.±±ï ñ
ToArray±±ñ ù
(±±ù û
)±±û ü
)±±ü †
;±±† °
case
≤≤ 
SpatialType
≤≤ $
.
≤≤$ %

MultiPoint
≤≤% /
:
≤≤/ 0
return
≥≥ 
new
≥≥ "/
!GeographyMultiPointImplementation
≥≥# D
(
≥≥D E
this
≥≥E I
.
≥≥I J%
currentCoordinateSystem
≥≥J a
,
≥≥a b
this
≥≥c g
.
≥≥g h
creator
≥≥h o
,
≥≥o p
spatialData
≥≥q |
.
≥≥| }
Cast≥≥} Å
<≥≥Å Ç
GeographyPoint≥≥Ç ê
>≥≥ê ë
(≥≥ë í
)≥≥í ì
.≥≥ì î
ToArray≥≥î õ
(≥≥õ ú
)≥≥ú ù
)≥≥ù û
;≥≥û ü
case
¥¥ 
SpatialType
¥¥ $
.
¥¥$ %
MultiLineString
¥¥% 4
:
¥¥4 5
return
µµ 
new
µµ "4
&GeographyMultiLineStringImplementation
µµ# I
(
µµI J
this
µµJ N
.
µµN O%
currentCoordinateSystem
µµO f
,
µµf g
this
µµh l
.
µµl m
creator
µµm t
,
µµt u
spatialDataµµv Å
.µµÅ Ç
CastµµÇ Ü
<µµÜ á#
GeographyLineStringµµá ö
>µµö õ
(µµõ ú
)µµú ù
.µµù û
ToArrayµµû •
(µµ• ¶
)µµ¶ ß
)µµß ®
;µµ® ©
case
∂∂ 
SpatialType
∂∂ $
.
∂∂$ %
MultiPolygon
∂∂% 1
:
∂∂1 2
return
∑∑ 
new
∑∑ "1
#GeographyMultiPolygonImplementation
∑∑# F
(
∑∑F G
this
∑∑G K
.
∑∑K L%
currentCoordinateSystem
∑∑L c
,
∑∑c d
this
∑∑e i
.
∑∑i j
creator
∑∑j q
,
∑∑q r
spatialData
∑∑s ~
.
∑∑~ 
Cast∑∑ É
<∑∑É Ñ 
GeographyPolygon∑∑Ñ î
>∑∑î ï
(∑∑ï ñ
)∑∑ñ ó
.∑∑ó ò
ToArray∑∑ò ü
(∑∑ü †
)∑∑† °
)∑∑° ¢
;∑∑¢ £
case
∏∏ 
SpatialType
∏∏ $
.
∏∏$ %

Collection
∏∏% /
:
∏∏/ 0
return
ππ 
new
ππ "/
!GeographyCollectionImplementation
ππ# D
(
ππD E
this
ππE I
.
ππI J%
currentCoordinateSystem
ππJ a
,
ππa b
this
ππc g
.
ππg h
creator
ππh o
,
ππo p
spatialData
ππq |
.
ππ| }
ToArrayππ} Ñ
(ππÑ Ö
)ππÖ Ü
)ππÜ á
;ππá à
case
∫∫ 
SpatialType
∫∫ $
.
∫∫$ %
	FullGlobe
∫∫% .
:
∫∫. /
return
ªª 
new
ªª ".
 GeographyFullGlobeImplementation
ªª# C
(
ªªC D
this
ªªD H
.
ªªH I%
currentCoordinateSystem
ªªI `
,
ªª` a
this
ªªb f
.
ªªf g
creator
ªªg n
)
ªªn o
;
ªªo p
default
ºº 
:
ºº 
Debug
ΩΩ 
.
ΩΩ 
Assert
ΩΩ $
(
ΩΩ$ %
false
ΩΩ% *
,
ΩΩ* +
$str
ΩΩ, v
)
ΩΩv w
;
ΩΩw x
return
ææ 
null
ææ #
;
ææ# $
}
øø 
}
¿¿ 
}
¡¡ 	
}
¬¬ 
}√√ µi
CD:\odata.net\src\Microsoft.Spatial\GeometryBuilderImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class )
GeometryBuilderImplementation 0
:1 2
GeometryPipeline3 C
,C D
IGeometryProviderE V
{ 
private 
readonly 
SpatialTreeBuilder +
<+ ,
Geometry, 4
>4 5
builder6 =
;= >
public )
GeometryBuilderImplementation ,
(, -!
SpatialImplementation- B
creatorC J
)J K
{ 	
this 
. 
builder 
= 
new 
GeometryTreeBuilder 2
(2 3
creator3 :
): ;
;; <
} 	
[$$ 	
System$$	 
.$$ 
Diagnostics$$ 
.$$ 
CodeAnalysis$$ (
.$$( )
SuppressMessage$$) 8
($$8 9
$str$$9 K
,$$K L
$str$$M x
,$$x y
Justification	$$z á
=
$$à â
$str
$$ä ≥
)
$$≥ ¥
]
$$¥ µ
public%% 
event%% 
Action%% 
<%% 
Geometry%% $
>%%$ %
ProduceGeometry%%& 5
{&& 	
add'' 
{'' 
this'' 
.'' 
builder'' 
.'' 
ProduceInstance'' .
+=''/ 1
value''2 7
;''7 8
}''9 :
remove(( 
{(( 
this(( 
.(( 
builder(( !
.((! "
ProduceInstance((" 1
-=((2 4
value((5 :
;((: ;
}((< =
})) 	
public.. 
Geometry.. 
ConstructedGeometry.. +
{// 	
get00 
{00 
return00 
this00 
.00 
builder00 %
.00% &
ConstructedInstance00& 9
;009 :
}00; <
}11 	
[77 	
System77	 
.77 
Diagnostics77 
.77 
CodeAnalysis77 (
.77( )
SuppressMessage77) 8
(778 9
$str779 K
,77K L
$str77M z
,77z {
	MessageId	77| Ö
=
77Ü á
$str
77à ã
,
77ã å
Justification
77ç ö
=
77õ ú
$str
77ù ƒ
)
77ƒ ≈
]
77≈ ∆
public88 
override88 
void88 
LineTo88 #
(88# $
GeometryPosition88$ 4
position885 =
)88= >
{99 	
Debug:: 
.:: 
Assert:: 
(:: 
position:: !
!=::" $
null::% )
,::) *
$str::+ ]
)::] ^
;::^ _
this;; 
.;; 
builder;; 
.;; 
LineTo;; 
(;;  
position;;  (
.;;( )
X;;) *
,;;* +
position;;, 4
.;;4 5
Y;;5 6
,;;6 7
position;;8 @
.;;@ A
Z;;A B
,;;B C
position;;D L
.;;L M
M;;M N
);;N O
;;;O P
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| Ö
=
BBÜ á
$str
BBà ã
,
BBã å
Justification
BBç ö
=
BBõ ú
$str
BBù ƒ
)
BBƒ ≈
]
BB≈ ∆
publicCC 
overrideCC 
voidCC 
BeginFigureCC (
(CC( )
GeometryPositionCC) 9
positionCC: B
)CCB C
{DD 	
DebugEE 
.EE 
AssertEE 
(EE 
positionEE !
!=EE" $
nullEE% )
,EE) *
$strEE+ ]
)EE] ^
;EE^ _
thisFF 
.FF 
builderFF 
.FF 
BeginFigureFF $
(FF$ %
positionFF% -
.FF- .
XFF. /
,FF/ 0
positionFF1 9
.FF9 :
YFF: ;
,FF; <
positionFF= E
.FFE F
ZFFF G
,FFG H
positionFFI Q
.FFQ R
MFFR S
)FFS T
;FFT U
}GG 	
publicMM 
overrideMM 
voidMM 
BeginGeometryMM *
(MM* +
SpatialTypeMM+ 6
typeMM7 ;
)MM; <
{NN 	
thisOO 
.OO 
builderOO 
.OO 
BeginGeoOO !
(OO! "
typeOO" &
)OO& '
;OO' (
}PP 	
publicUU 
overrideUU 
voidUU 
	EndFigureUU &
(UU& '
)UU' (
{VV 	
thisWW 
.WW 
builderWW 
.WW 
	EndFigureWW "
(WW" #
)WW# $
;WW$ %
}XX 	
public]] 
override]] 
void]] 
EndGeometry]] (
(]]( )
)]]) *
{^^ 	
this__ 
.__ 
builder__ 
.__ 
EndGeo__ 
(__  
)__  !
;__! "
}`` 	
publicee 
overrideee 
voidee 
Resetee "
(ee" #
)ee# $
{ff 	
thisgg 
.gg 
buildergg 
.gg 
Resetgg 
(gg 
)gg  
;gg  !
}hh 	
publicnn 
overridenn 
voidnn 
SetCoordinateSystemnn 0
(nn0 1
CoordinateSystemnn1 A
coordinateSystemnnB R
)nnR S
{oo 	
Utilpp 
.pp 
CheckArgumentNullpp "
(pp" #
coordinateSystempp# 3
,pp3 4
$strpp5 G
)ppG H
;ppH I
thisqq 
.qq 
builderqq 
.qq 
SetCoordinateSystemqq ,
(qq, -
coordinateSystemqq- =
.qq= >
EpsgIdqq> D
)qqD E
;qqE F
}rr 	
privateww 
classww 
GeometryTreeBuilderww )
:ww* +
SpatialTreeBuilderww, >
<ww> ?
Geometryww? G
>wwG H
{xx 	
private|| 
readonly|| !
SpatialImplementation|| 2
creator||3 :
;||: ;
private
ÅÅ 
CoordinateSystem
ÅÅ $#
buildCoordinateSystem
ÅÅ% :
;
ÅÅ: ;
public
áá !
GeometryTreeBuilder
áá &
(
áá& '#
SpatialImplementation
áá' <
creator
áá= D
)
ááD E
{
àà 
Util
ââ 
.
ââ 
CheckArgumentNull
ââ &
(
ââ& '
creator
ââ' .
,
ââ. /
$str
ââ0 9
)
ââ9 :
;
ââ: ;
this
ää 
.
ää 
creator
ää 
=
ää 
creator
ää &
;
ää& '
}
ãã 
internal
ëë 
override
ëë 
void
ëë "!
SetCoordinateSystem
ëë# 6
(
ëë6 7
int
ëë7 :
?
ëë: ;
epsgId
ëë< B
)
ëëB C
{
íí 
this
ìì 
.
ìì #
buildCoordinateSystem
ìì *
=
ìì+ ,
CoordinateSystem
ìì- =
.
ìì= >
Geometry
ìì> F
(
ììF G
epsgId
ììG M
)
ììM N
;
ììN O
}
îî 
	protected
üü 
override
üü 
Geometry
üü '
CreatePoint
üü( 3
(
üü3 4
bool
üü4 8
isEmpty
üü9 @
,
üü@ A
double
üüB H
x
üüI J
,
üüJ K
double
üüL R
y
üüS T
,
üüT U
double
üüV \
?
üü\ ]
z
üü^ _
,
üü_ `
double
üüa g
?
üüg h
m
üüi j
)
üüj k
{
†† 
return
°° 
isEmpty
°° 
?
°°  
new
°°! $)
GeometryPointImplementation
°°% @
(
°°@ A
this
°°A E
.
°°E F#
buildCoordinateSystem
°°F [
,
°°[ \
this
°°] a
.
°°a b
creator
°°b i
)
°°i j
:
°°k l
new
°°m p*
GeometryPointImplementation°°q å
(°°å ç
this°°ç ë
.°°ë í%
buildCoordinateSystem°°í ß
,°°ß ®
this°°© ≠
.°°≠ Æ
creator°°Æ µ
,°°µ ∂
x°°∑ ∏
,°°∏ π
y°°∫ ª
,°°ª º
z°°Ω æ
,°°æ ø
m°°¿ ¡
)°°¡ ¬
;°°¬ √
}
¢¢ 
	protected
™™ 
override
™™ 
Geometry
™™ '!
CreateShapeInstance
™™( ;
(
™™; <
SpatialType
™™< G
type
™™H L
,
™™L M
IEnumerable
™™N Y
<
™™Y Z
Geometry
™™Z b
>
™™b c
spatialData
™™d o
)
™™o p
{
´´ 
switch
¨¨ 
(
¨¨ 
type
¨¨ 
)
¨¨ 
{
≠≠ 
case
ÆÆ 
SpatialType
ÆÆ $
.
ÆÆ$ %

LineString
ÆÆ% /
:
ÆÆ/ 0
return
ØØ 
new
ØØ ".
 GeometryLineStringImplementation
ØØ# C
(
ØØC D
this
ØØD H
.
ØØH I#
buildCoordinateSystem
ØØI ^
,
ØØ^ _
this
ØØ` d
.
ØØd e
creator
ØØe l
,
ØØl m
spatialData
ØØn y
.
ØØy z
Cast
ØØz ~
<
ØØ~ 
GeometryPointØØ å
>ØØå ç
(ØØç é
)ØØé è
.ØØè ê
ToArrayØØê ó
(ØØó ò
)ØØò ô
)ØØô ö
;ØØö õ
case
∞∞ 
SpatialType
∞∞ $
.
∞∞$ %
Polygon
∞∞% ,
:
∞∞, -
return
±± 
new
±± "+
GeometryPolygonImplementation
±±# @
(
±±@ A
this
±±A E
.
±±E F#
buildCoordinateSystem
±±F [
,
±±[ \
this
±±] a
.
±±a b
creator
±±b i
,
±±i j
spatialData
±±k v
.
±±v w
Cast
±±w {
<
±±{ |!
GeometryLineString±±| é
>±±é è
(±±è ê
)±±ê ë
.±±ë í
ToArray±±í ô
(±±ô ö
)±±ö õ
)±±õ ú
;±±ú ù
case
≤≤ 
SpatialType
≤≤ $
.
≤≤$ %

MultiPoint
≤≤% /
:
≤≤/ 0
return
≥≥ 
new
≥≥ ".
 GeometryMultiPointImplementation
≥≥# C
(
≥≥C D
this
≥≥D H
.
≥≥H I#
buildCoordinateSystem
≥≥I ^
,
≥≥^ _
this
≥≥` d
.
≥≥d e
creator
≥≥e l
,
≥≥l m
spatialData
≥≥n y
.
≥≥y z
Cast
≥≥z ~
<
≥≥~ 
GeometryPoint≥≥ å
>≥≥å ç
(≥≥ç é
)≥≥é è
.≥≥è ê
ToArray≥≥ê ó
(≥≥ó ò
)≥≥ò ô
)≥≥ô ö
;≥≥ö õ
case
¥¥ 
SpatialType
¥¥ $
.
¥¥$ %
MultiLineString
¥¥% 4
:
¥¥4 5
return
µµ 
new
µµ "3
%GeometryMultiLineStringImplementation
µµ# H
(
µµH I
this
µµI M
.
µµM N#
buildCoordinateSystem
µµN c
,
µµc d
this
µµe i
.
µµi j
creator
µµj q
,
µµq r
spatialData
µµs ~
.
µµ~ 
Castµµ É
<µµÉ Ñ"
GeometryLineStringµµÑ ñ
>µµñ ó
(µµó ò
)µµò ô
.µµô ö
ToArrayµµö °
(µµ° ¢
)µµ¢ £
)µµ£ §
;µµ§ •
case
∂∂ 
SpatialType
∂∂ $
.
∂∂$ %
MultiPolygon
∂∂% 1
:
∂∂1 2
return
∑∑ 
new
∑∑ "0
"GeometryMultiPolygonImplementation
∑∑# E
(
∑∑E F
this
∑∑F J
.
∑∑J K#
buildCoordinateSystem
∑∑K `
,
∑∑` a
this
∑∑b f
.
∑∑f g
creator
∑∑g n
,
∑∑n o
spatialData
∑∑p {
.
∑∑{ |
Cast∑∑| Ä
<∑∑Ä Å
GeometryPolygon∑∑Å ê
>∑∑ê ë
(∑∑ë í
)∑∑í ì
.∑∑ì î
ToArray∑∑î õ
(∑∑õ ú
)∑∑ú ù
)∑∑ù û
;∑∑û ü
case
∏∏ 
SpatialType
∏∏ $
.
∏∏$ %

Collection
∏∏% /
:
∏∏/ 0
return
ππ 
new
ππ ".
 GeometryCollectionImplementation
ππ# C
(
ππC D
this
ππD H
.
ππH I#
buildCoordinateSystem
ππI ^
,
ππ^ _
this
ππ` d
.
ππd e
creator
ππe l
,
ππl m
spatialData
ππn y
.
ππy z
ToArrayππz Å
(ππÅ Ç
)ππÇ É
)ππÉ Ñ
;ππÑ Ö
default
∫∫ 
:
∫∫ 
Debug
ªª 
.
ªª 
Assert
ªª $
(
ªª$ %
false
ªª% *
,
ªª* +
$str
ªª, v
)
ªªv w
;
ªªw x
return
ºº 
null
ºº #
;
ºº# $
}
ΩΩ 
}
ææ 
}
øø 	
}
¿¿ 
}¡¡ ë
GD:\odata.net\src\Microsoft.Spatial\GeographyLineStringImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class -
!GeographyLineStringImplementation 4
:5 6
GeographyLineString7 J
{ 
private 
GeographyPoint 
[ 
]  
points! '
;' (
internal -
!GeographyLineStringImplementation 2
(2 3
CoordinateSystem3 C
coordinateSystemD T
,T U!
SpatialImplementationV k
creatorl s
,s t
paramsu {
GeographyPoint	| ä
[
ä ã
]
ã å
points
ç ì
)
ì î
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
points 
= 
points  
??! #
new$ '
GeographyPoint( 6
[6 7
$num7 8
]8 9
;9 :
} 	
public$$ 
override$$ 
bool$$ 
IsEmpty$$ $
{%% 	
get&& 
{'' 
return(( 
this(( 
.(( 
points(( "
.((" #
Length((# )
==((* ,
$num((- .
;((. /
})) 
}** 	
public// 
override// 
ReadOnlyCollection// *
<//* +
GeographyPoint//+ 9
>//9 :
Points//; A
{00 	
get11 
{22 
return33 
new33 
ReadOnlyCollection33 -
<33- .
GeographyPoint33. <
>33< =
(33= >
this33> B
.33B C
points33C I
)33I J
;33J K
}44 
}55 	
[;; 	
System;;	 
.;; 
Diagnostics;; 
.;; 
CodeAnalysis;; (
.;;( )
SuppressMessage;;) 8
(;;8 9
$str;;9 K
,;;K L
$str;;M z
,;;z {
	MessageId	;;| Ö
=
;;Ü á
$str
;;à ã
,
;;ã å
Justification
;;ç ö
=
;;õ ú
$str
;;ù ∑
)
;;∑ ∏
]
;;∏ π
public<< 
override<< 
void<< 
SendTo<< #
(<<# $
GeographyPipeline<<$ 5
pipeline<<6 >
)<<> ?
{== 	
base>> 
.>> 
SendTo>> 
(>> 
pipeline>>  
)>>  !
;>>! "
pipeline?? 
.?? 
BeginGeography?? #
(??# $
SpatialType??$ /
.??/ 0

LineString??0 :
)??: ;
;??; <
this@@ 
.@@ 

SendFigure@@ 
(@@ 
pipeline@@ $
)@@$ %
;@@% &
pipelineAA 
.AA 
EndGeographyAA !
(AA! "
)AA" #
;AA# $
}BB 	
}CC 
}DD ’#
LD:\odata.net\src\Microsoft.Spatial\GeographyMultiLineStringImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 2
&GeographyMultiLineStringImplementation 9
:: ;$
GeographyMultiLineString< T
{ 
private 
GeographyLineString #
[# $
]$ %
lineStrings& 1
;1 2
internal 2
&GeographyMultiLineStringImplementation 7
(7 8
CoordinateSystem8 H
coordinateSystemI Y
,Y Z!
SpatialImplementation[ p
creatorq x
,x y
params	z Ä!
GeographyLineString
Å î
[
î ï
]
ï ñ
lineStrings
ó ¢
)
¢ £
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
lineStrings 
= 
lineStrings *
??+ -
new. 1
GeographyLineString2 E
[E F
$numF G
]G H
;H I
} 	
internal&& 2
&GeographyMultiLineStringImplementation&& 7
(&&7 8!
SpatialImplementation&&8 M
creator&&N U
,&&U V
params&&W ]
GeographyLineString&&^ q
[&&q r
]&&r s
lineStrings&&t 
)	&& Ä
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
lineStrings''? J
)''J K
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
lineStrings22 '
.22' (
Length22( .
==22/ 1
$num222 3
;223 4
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
	Geography99+ 4
>994 5
Geographies996 A
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
	Geography;;0 9
>;;9 :
(;;: ;
this;;; ?
.;;? @
lineStrings;;@ K
);;K L
;;;L M
};;N O
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeographyLineStringAA+ >
>AA> ?
LineStringsAA@ K
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeographyLineStringCC0 C
>CCC D
(CCD E
thisCCE I
.CCI J
lineStringsCCJ U
)CCU V
;CCV W
}CCX Y
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| Ö
=
JJÜ á
$str
JJà ã
,
JJã å
Justification
JJç ö
=
JJõ ú
$str
JJù ∑
)
JJ∑ ∏
]
JJ∏ π
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeographyPipelineKK$ 5
pipelineKK6 >
)KK> ?
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeographyNN #
(NN# $
SpatialTypeNN$ /
.NN/ 0
MultiLineStringNN0 ?
)NN? @
;NN@ A
forPP 
(PP 
intPP 
iPP 
=PP 
$numPP 
;PP 
iPP 
<PP 
thisPP  $
.PP$ %
lineStringsPP% 0
.PP0 1
LengthPP1 7
;PP7 8
++PP9 ;
iPP; <
)PP< =
{QQ 
thisRR 
.RR 
lineStringsRR  
[RR  !
iRR! "
]RR" #
.RR# $
SendToRR$ *
(RR* +
pipelineRR+ 3
)RR3 4
;RR4 5
}SS 
pipelineUU 
.UU 
EndGeographyUU !
(UU! "
)UU" #
;UU# $
}VV 	
}WW 
}XX ⁄"
GD:\odata.net\src\Microsoft.Spatial\GeographyMultiPointImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class -
!GeographyMultiPointImplementation 4
:5 6
GeographyMultiPoint7 J
{ 
private 
GeographyPoint 
[ 
]  
points! '
;' (
internal -
!GeographyMultiPointImplementation 2
(2 3
CoordinateSystem3 C
coordinateSystemD T
,T U!
SpatialImplementationV k
creatorl s
,s t
paramsu {
GeographyPoint	| ä
[
ä ã
]
ã å
points
ç ì
)
ì î
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
points 
= 
points  
??! #
new$ '
GeographyPoint( 6
[6 7
$num7 8
]8 9
;9 :
} 	
internal&& -
!GeographyMultiPointImplementation&& 2
(&&2 3!
SpatialImplementation&&3 H
creator&&I P
,&&P Q
params&&R X
GeographyPoint&&Y g
[&&g h
]&&h i
points&&j p
)&&p q
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
points''? E
)''E F
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
points22 "
.22" #
Length22# )
==22* ,
$num22- .
;22. /
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
	Geography99+ 4
>994 5
Geographies996 A
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
	Geography;;0 9
>;;9 :
(;;: ;
this;;; ?
.;;? @
points;;@ F
);;F G
;;;G H
};;I J
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeographyPointAA+ 9
>AA9 :
PointsAA; A
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeographyPointCC0 >
>CC> ?
(CC? @
thisCC@ D
.CCD E
pointsCCE K
)CCK L
;CCL M
}CCN O
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| Ö
=
JJÜ á
$str
JJà ã
,
JJã å
Justification
JJç ö
=
JJõ ú
$str
JJù ∑
)
JJ∑ ∏
]
JJ∏ π
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeographyPipelineKK$ 5
pipelineKK6 >
)KK> ?
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeographyNN #
(NN# $
SpatialTypeNN$ /
.NN/ 0

MultiPointNN0 :
)NN: ;
;NN; <
forPP 
(PP 
intPP 
iPP 
=PP 
$numPP 
;PP 
iPP 
<PP 
thisPP  $
.PP$ %
pointsPP% +
.PP+ ,
LengthPP, 2
;PP2 3
++PP4 6
iPP6 7
)PP7 8
{QQ 
thisRR 
.RR 
pointsRR 
[RR 
iRR 
]RR 
.RR 
SendToRR %
(RR% &
pipelineRR& .
)RR. /
;RR/ 0
}SS 
pipelineUU 
.UU 
EndGeographyUU !
(UU! "
)UU" #
;UU# $
}VV 	
}WW 
}XX õ"
ID:\odata.net\src\Microsoft.Spatial\GeographyMultiPolygonImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class /
#GeographyMultiPolygonImplementation 6
:7 8!
GeographyMultiPolygon9 N
{ 
private 
GeographyPolygon  
[  !
]! "
polygons# +
;+ ,
internal /
#GeographyMultiPolygonImplementation 4
(4 5
CoordinateSystem5 E
coordinateSystemF V
,V W!
SpatialImplementationX m
creatorn u
,u v
paramsw }
GeographyPolygon	~ é
[
é è
]
è ê
polygons
ë ô
)
ô ö
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
polygons 
= 
polygons $
;$ %
} 	
internal&& /
#GeographyMultiPolygonImplementation&& 4
(&&4 5!
SpatialImplementation&&5 J
creator&&K R
,&&R S
params&&T Z
GeographyPolygon&&[ k
[&&k l
]&&l m
polygons&&n v
)&&v w
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
polygons''? G
)''G H
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
polygons22 $
.22$ %
Length22% +
==22, .
$num22/ 0
;220 1
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
	Geography99+ 4
>994 5
Geographies996 A
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
	Geography;;0 9
>;;9 :
(;;: ;
this;;; ?
.;;? @
polygons;;@ H
);;H I
;;;I J
};;K L
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeographyPolygonAA+ ;
>AA; <
PolygonsAA= E
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeographyPolygonCC0 @
>CC@ A
(CCA B
thisCCB F
.CCF G
polygonsCCG O
)CCO P
;CCP Q
}CCR S
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| Ö
=
JJÜ á
$str
JJà ã
,
JJã å
Justification
JJç ö
=
JJõ ú
$str
JJù ∑
)
JJ∑ ∏
]
JJ∏ π
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeographyPipelineKK$ 5
pipelineKK6 >
)KK> ?
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeographyNN #
(NN# $
SpatialTypeNN$ /
.NN/ 0
MultiPolygonNN0 <
)NN< =
;NN= >
forOO 
(OO 
intOO 
iOO 
=OO 
$numOO 
;OO 
iOO 
<OO 
thisOO  $
.OO$ %
polygonsOO% -
.OO- .
LengthOO. 4
;OO4 5
++OO6 8
iOO8 9
)OO9 :
{PP 
thisQQ 
.QQ 
polygonsQQ 
[QQ 
iQQ 
]QQ  
.QQ  !
SendToQQ! '
(QQ' (
pipelineQQ( 0
)QQ0 1
;QQ1 2
}RR 
pipelineTT 
.TT 
EndGeographyTT !
(TT! "
)TT" #
;TT# $
}UU 	
}VV 
}WW ’B
BD:\odata.net\src\Microsoft.Spatial\GeographyPointImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class (
GeographyPointImplementation /
:0 1
GeographyPoint2 @
{ 
private 
double 
latitude 
;  
private 
double 
	longitude  
;  !
private 
double 
? 
z 
; 
private"" 
double"" 
?"" 
m"" 
;"" 
[// 	
System//	 
.// 
Diagnostics// 
.// 
CodeAnalysis// (
.//( )
SuppressMessage//) 8
(//8 9
$str//9 K
,//K L
$str//M U
,//U V
Justification//W d
=//e f
$str	//g ê
)
//ê ë
]
//ë í
internal00 (
GeographyPointImplementation00 -
(00- .
CoordinateSystem00. >
coordinateSystem00? O
,00O P!
SpatialImplementation00Q f
creator00g n
,00n o
double00p v
latitude00w 
,	00 Ä
double
00Å á
	longitude
00à ë
,
00ë í
double
00ì ô
?
00ô ö
zvalue
00õ °
,
00° ¢
double
00£ ©
?
00© ™
mvalue
00´ ±
)
00± ≤
:11 
base11 
(11 
coordinateSystem11 #
,11# $
creator11% ,
)11, -
{22 	
if33 
(33 
double33 
.33 
IsNaN33 
(33 
latitude33 %
)33% &
||33' )
double33* 0
.330 1

IsInfinity331 ;
(33; <
latitude33< D
)33D E
)33E F
{44 
throw55 
new55 
ArgumentException55 +
(55+ ,
Strings55, 3
.553 4"
InvalidPointCoordinate554 J
(55J K
latitude55K S
,55S T
$str55U _
)55_ `
)55` a
;55a b
}66 
if88 
(88 
double88 
.88 
IsNaN88 
(88 
	longitude88 &
)88& '
||88( *
double88+ 1
.881 2

IsInfinity882 <
(88< =
	longitude88= F
)88F G
)88G H
{99 
throw:: 
new:: 
ArgumentException:: +
(::+ ,
Strings::, 3
.::3 4"
InvalidPointCoordinate::4 J
(::J K
	longitude::K T
,::T U
$str::V a
)::a b
)::b c
;::c d
};; 
this== 
.== 
latitude== 
=== 
latitude== $
;==$ %
this>> 
.>> 
	longitude>> 
=>> 
	longitude>> &
;>>& '
this?? 
.?? 
z?? 
=?? 
zvalue?? 
;?? 
this@@ 
.@@ 
m@@ 
=@@ 
mvalue@@ 
;@@ 
}AA 	
internalHH (
GeographyPointImplementationHH -
(HH- .
CoordinateSystemHH. >
coordinateSystemHH? O
,HHO P!
SpatialImplementationHHQ f
creatorHHg n
)HHn o
:II 
baseII 
(II 
coordinateSystemII #
,II# $
creatorII% ,
)II, -
{JJ 	
thisKK 
.KK 
latitudeKK 
=KK 
doubleKK "
.KK" #
NaNKK# &
;KK& '
thisLL 
.LL 
	longitudeLL 
=LL 
doubleLL #
.LL# $
NaNLL$ '
;LL' (
}MM 	
publicTT 
overrideTT 
doubleTT 
LatitudeTT '
{UU 	
getVV 
{WW 
ifXX 
(XX 
thisXX 
.XX 
IsEmptyXX  
)XX  !
{YY 
throwZZ 
newZZ !
NotSupportedExceptionZZ 3
(ZZ3 4
StringsZZ4 ;
.ZZ; <+
Point_AccessCoordinateWhenEmptyZZ< [
)ZZ[ \
;ZZ\ ]
}[[ 
return]] 
this]] 
.]] 
latitude]] $
;]]$ %
}^^ 
}__ 	
publicdd 
overridedd 
doubledd 
	Longitudedd (
{ee 	
getff 
{gg 
ifhh 
(hh 
thishh 
.hh 
IsEmptyhh  
)hh  !
{ii 
throwjj 
newjj !
NotSupportedExceptionjj 3
(jj3 4
Stringsjj4 ;
.jj; <+
Point_AccessCoordinateWhenEmptyjj< [
)jj[ \
;jj\ ]
}kk 
returnmm 
thismm 
.mm 
	longitudemm %
;mm% &
}nn 
}oo 	
publictt 
overridett 
booltt 
IsEmptytt $
{uu 	
getvv 
{ww 
returnxx 
doublexx 
.xx 
IsNaNxx #
(xx# $
thisxx$ (
.xx( )
latitudexx) 1
)xx1 2
;xx2 3
}yy 
}zz 	
[ 	
System	 
. 
Diagnostics 
. 
CodeAnalysis (
.( )
SuppressMessage) 8
(8 9
$str9 K
,K L
$strM U
,U V
JustificationW d
=e f
$strg 
)	 Ä
]
Ä Å
public
ÄÄ 
override
ÄÄ 
double
ÄÄ 
?
ÄÄ 
Z
ÄÄ  !
{
ÅÅ 	
get
ÇÇ 
{
ÇÇ 
return
ÇÇ 
this
ÇÇ 
.
ÇÇ 
z
ÇÇ 
;
ÇÇ  
}
ÇÇ! "
}
ÉÉ 	
[
àà 	
System
àà	 
.
àà 
Diagnostics
àà 
.
àà 
CodeAnalysis
àà (
.
àà( )
SuppressMessage
àà) 8
(
àà8 9
$str
àà9 K
,
ààK L
$str
ààM U
,
ààU V
Justification
ààW d
=
ààe f
$str
ààg 
)àà Ä
]ààÄ Å
public
ââ 
override
ââ 
double
ââ 
?
ââ 
M
ââ  !
{
ää 	
get
ãã 
{
ãã 
return
ãã 
this
ãã 
.
ãã 
m
ãã 
;
ãã  
}
ãã! "
}
åå 	
[
íí 	
System
íí	 
.
íí 
Diagnostics
íí 
.
íí 
CodeAnalysis
íí (
.
íí( )
SuppressMessage
íí) 8
(
íí8 9
$str
íí9 K
,
ííK L
$str
ííM z
,
ííz {
	MessageIdíí| Ö
=ííÜ á
$strííà ã
,ííã å
Justificationííç ö
=ííõ ú
$strííù ∑
)íí∑ ∏
]íí∏ π
public
ìì 
override
ìì 
void
ìì 
SendTo
ìì #
(
ìì# $
GeographyPipeline
ìì$ 5
pipeline
ìì6 >
)
ìì> ?
{
îî 	
base
ïï 
.
ïï 
SendTo
ïï 
(
ïï 
pipeline
ïï  
)
ïï  !
;
ïï! "
pipeline
ññ 
.
ññ 
BeginGeography
ññ #
(
ññ# $
SpatialType
ññ$ /
.
ññ/ 0
Point
ññ0 5
)
ññ5 6
;
ññ6 7
if
óó 
(
óó 
!
óó 
this
óó 
.
óó 
IsEmpty
óó 
)
óó 
{
òò 
pipeline
ôô 
.
ôô 
BeginFigure
ôô $
(
ôô$ %
new
ôô% (
GeographyPosition
ôô) :
(
ôô: ;
this
ôô; ?
.
ôô? @
latitude
ôô@ H
,
ôôH I
this
ôôJ N
.
ôôN O
	longitude
ôôO X
,
ôôX Y
this
ôôZ ^
.
ôô^ _
z
ôô_ `
,
ôô` a
this
ôôb f
.
ôôf g
m
ôôg h
)
ôôh i
)
ôôi j
;
ôôj k
pipeline
öö 
.
öö 
	EndFigure
öö "
(
öö" #
)
öö# $
;
öö$ %
}
õõ 
pipeline
ùù 
.
ùù 
EndGeography
ùù !
(
ùù! "
)
ùù" #
;
ùù# $
}
ûû 	
}
üü 
}†† û
DD:\odata.net\src\Microsoft.Spatial\GeographyPolygonImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class *
GeographyPolygonImplementation 1
:2 3
GeographyPolygon4 D
{ 
private 
GeographyLineString #
[# $
]$ %
rings& +
;+ ,
internal *
GeographyPolygonImplementation /
(/ 0
CoordinateSystem0 @
coordinateSystemA Q
,Q R!
SpatialImplementationS h
creatori p
,p q
paramsr x 
GeographyLineString	y å
[
å ç
]
ç é
rings
è î
)
î ï
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
rings 
= 
rings 
?? !
new" %
GeographyLineString& 9
[9 :
$num: ;
]; <
;< =
} 	
internal&& *
GeographyPolygonImplementation&& /
(&&/ 0!
SpatialImplementation&&0 E
creator&&F M
,&&M N
params&&O U
GeographyLineString&&V i
[&&i j
]&&j k
rings&&l q
)&&q r
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
rings''? D
)''D E
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
rings22 !
.22! "
Length22" (
==22) +
$num22, -
;22- .
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
GeographyLineString99+ >
>99> ?
Rings99@ E
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
GeographyLineString;;0 C
>;;C D
(;;D E
this;;E I
.;;I J
rings;;J O
);;O P
;;;P Q
};;R S
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| Ö
=
BBÜ á
$str
BBà ã
,
BBã å
Justification
BBç ö
=
BBõ ú
$str
BBù ∑
)
BB∑ ∏
]
BB∏ π
publicCC 
overrideCC 
voidCC 
SendToCC #
(CC# $
GeographyPipelineCC$ 5
pipelineCC6 >
)CC> ?
{DD 	
baseEE 
.EE 
SendToEE 
(EE 
pipelineEE  
)EE  !
;EE! "
pipelineFF 
.FF 
BeginGeographyFF #
(FF# $
SpatialTypeFF$ /
.FF/ 0
PolygonFF0 7
)FF7 8
;FF8 9
forHH 
(HH 
intHH 
iHH 
=HH 
$numHH 
;HH 
iHH 
<HH 
thisHH  $
.HH$ %
ringsHH% *
.HH* +
LengthHH+ 1
;HH1 2
++HH3 5
iHH5 6
)HH6 7
{II 
thisJJ 
.JJ 
ringsJJ 
[JJ 
iJJ 
]JJ 
.JJ 

SendFigureJJ (
(JJ( )
pipelineJJ) 1
)JJ1 2
;JJ2 3
}KK 
pipelineMM 
.MM 
EndGeographyMM !
(MM! "
)MM" #
;MM# $
}NN 	
}OO 
}PP º
GD:\odata.net\src\Microsoft.Spatial\GeographyCollectionImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class -
!GeographyCollectionImplementation 4
:5 6
GeographyCollection7 J
{ 
private 
	Geography 
[ 
] 
geographyArray *
;* +
internal -
!GeographyCollectionImplementation 2
(2 3
CoordinateSystem3 C
coordinateSystemD T
,T U!
SpatialImplementationV k
creatorl s
,s t
paramsu {
	Geography	| Ö
[
Ö Ü
]
Ü á
	geography
à ë
)
ë í
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
geographyArray 
=  !
	geography" +
??, .
new/ 2
	Geography3 <
[< =
$num= >
]> ?
;? @
} 	
internal&& -
!GeographyCollectionImplementation&& 2
(&&2 3!
SpatialImplementation&&3 H
creator&&I P
,&&P Q
params&&R X
	Geography&&Y b
[&&b c
]&&c d
	geography&&e n
)&&n o
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeography''$ 4
,''4 5
creator''6 =
,''= >
	geography''? H
)''H I
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
geographyArray22 *
.22* +
Length22+ 1
==222 4
$num225 6
;226 7
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
	Geography99+ 4
>994 5
Geographies996 A
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
	Geography;;0 9
>;;9 :
(;;: ;
this;;; ?
.;;? @
geographyArray;;@ N
);;N O
;;;O P
};;Q R
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| Ö
=
BBÜ á
$str
BBà ã
,
BBã å
Justification
BBç ö
=
BBõ ú
$str
BBù ∑
)
BB∑ ∏
]
BB∏ π
publicCC 
overrideCC 
voidCC 
SendToCC #
(CC# $
GeographyPipelineCC$ 5
pipelineCC6 >
)CC> ?
{DD 	
baseEE 
.EE 
SendToEE 
(EE 
pipelineEE  
)EE  !
;EE! "
pipelineFF 
.FF 
BeginGeographyFF #
(FF# $
SpatialTypeFF$ /
.FF/ 0

CollectionFF0 :
)FF: ;
;FF; <
forGG 
(GG 
intGG 
iGG 
=GG 
$numGG 
;GG 
iGG 
<GG 
thisGG  $
.GG$ %
geographyArrayGG% 3
.GG3 4
LengthGG4 :
;GG: ;
++GG< >
iGG> ?
)GG? @
{HH 
thisII 
.II 
geographyArrayII #
[II# $
iII$ %
]II% &
.II& '
SendToII' -
(II- .
pipelineII. 6
)II6 7
;II7 8
}JJ 
pipelineLL 
.LL 
EndGeographyLL !
(LL! "
)LL" #
;LL# $
}MM 	
}NN 
}OO …
<D:\odata.net\src\Microsoft.Spatial\GeographyHelperMethods.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class "
GeographyHelperMethods 0
{ 
internal 
static 
void 

SendFigure '
(' (
this( ,
GeographyLineString- @

lineStringA K
,K L
GeographyPipelineM ^
pipeline_ g
)g h
{ 	
ReadOnlyCollection 
< 
GeographyPoint -
>- .
points/ 5
=6 7

lineString8 B
.B C
PointsC I
;I J
for 
( 
int 
i 
= 
$num 
; 
i 
< 
points  &
.& '
Count' ,
;, -
++. 0
i0 1
)1 2
{ 
if 
( 
i 
== 
$num 
) 
{ 
pipeline 
. 
BeginFigure (
(( )
new) ,
GeographyPosition- >
(> ?
points? E
[E F
iF G
]G H
.H I
LatitudeI Q
,Q R
pointsS Y
[Y Z
iZ [
][ \
.\ ]
	Longitude] f
,f g
pointsh n
[n o
io p
]p q
.q r
Zr s
,s t
pointsu {
[{ |
i| }
]} ~
.~ 
M	 Ä
)
Ä Å
)
Å Ç
;
Ç É
} 
else 
{ 
pipeline   
.   
LineTo   #
(  # $
new  $ '
GeographyPosition  ( 9
(  9 :
points  : @
[  @ A
i  A B
]  B C
.  C D
Latitude  D L
,  L M
points  N T
[  T U
i  U V
]  V W
.  W X
	Longitude  X a
,  a b
points  c i
[  i j
i  j k
]  k l
.  l m
Z  m n
,  n o
points  p v
[  v w
i  w x
]  x y
.  y z
M  z {
)  { |
)  | }
;  } ~
}!! 
}"" 
if$$ 
($$ 
points$$ 
.$$ 
Count$$ 
>$$ 
$num$$  
)$$  !
{%% 
pipeline&& 
.&& 
	EndFigure&& "
(&&" #
)&&# $
;&&$ %
}'' 
}(( 	
})) 
}** â
FD:\odata.net\src\Microsoft.Spatial\GeographyFullGlobeImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class ,
 GeographyFullGlobeImplementation 3
:4 5
GeographyFullGlobe6 H
{ 
internal ,
 GeographyFullGlobeImplementation 1
(1 2
CoordinateSystem2 B
coordinateSystemC S
,S T!
SpatialImplementationU j
creatork r
)r s
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
} 	
internal ,
 GeographyFullGlobeImplementation 1
(1 2!
SpatialImplementation2 G
creatorH O
)O P
: 
this 
( 
CoordinateSystem #
.# $
DefaultGeography$ 4
,4 5
creator6 =
)= >
{   	
}!! 	
public&& 
override&& 
bool&& 
IsEmpty&& $
{'' 	
get(( 
{(( 
return(( 
false(( 
;(( 
}((  !
})) 	
[// 	
SuppressMessage//	 
(// 
$str// +
,//+ ,
$str//- Z
,//Z [
	MessageId//\ e
=//f g
$str//h k
,//k l
Justification//m z
=//{ |
$str	//} ó
)
//ó ò
]
//ò ô
public00 
override00 
void00 
SendTo00 #
(00# $
GeographyPipeline00$ 5
pipeline006 >
)00> ?
{11 	
base22 
.22 
SendTo22 
(22 
pipeline22  
)22  !
;22! "
pipeline33 
.33 
BeginGeography33 #
(33# $
SpatialType33$ /
.33/ 0
	FullGlobe330 9
)339 :
;33: ;
pipeline44 
.44 
EndGeography44 !
(44! "
)44" #
;44# $
}55 	
}66 
}77 ˝
FD:\odata.net\src\Microsoft.Spatial\GeometryLineStringImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class ,
 GeometryLineStringImplementation 3
:4 5
GeometryLineString6 H
{ 
private 
GeometryPoint 
[ 
] 
points  &
;& '
internal ,
 GeometryLineStringImplementation 1
(1 2
CoordinateSystem2 B
coordinateSystemC S
,S T!
SpatialImplementationU j
creatork r
,r s
paramst z
GeometryPoint	{ à
[
à â
]
â ä
points
ã ë
)
ë í
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
points 
= 
points  
??! #
new$ '
GeometryPoint( 5
[5 6
$num6 7
]7 8
;8 9
} 	
internal&& ,
 GeometryLineStringImplementation&& 1
(&&1 2!
SpatialImplementation&&2 G
creator&&H O
,&&O P
params&&Q W
GeometryPoint&&X e
[&&e f
]&&f g
points&&h n
)&&n o
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
points''> D
)''D E
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
points22 "
.22" #
Length22# )
==22* ,
$num22- .
;22. /
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
GeometryPoint99+ 8
>998 9
Points99: @
{:: 	
get;; 
{<< 
return== 
new== 
ReadOnlyCollection== -
<==- .
GeometryPoint==. ;
>==; <
(==< =
this=== A
.==A B
points==B H
)==H I
;==I J
}>> 
}?? 	
[EE 	
SystemEE	 
.EE 
DiagnosticsEE 
.EE 
CodeAnalysisEE (
.EE( )
SuppressMessageEE) 8
(EE8 9
$strEE9 K
,EEK L
$strEEM z
,EEz {
	MessageId	EE| Ö
=
EEÜ á
$str
EEà ã
,
EEã å
Justification
EEç ö
=
EEõ ú
$str
EEù ∑
)
EE∑ ∏
]
EE∏ π
publicFF 
overrideFF 
voidFF 
SendToFF #
(FF# $
GeometryPipelineFF$ 4
pipelineFF5 =
)FF= >
{GG 	
baseHH 
.HH 
SendToHH 
(HH 
pipelineHH  
)HH  !
;HH! "
pipelineII 
.II 
BeginGeometryII "
(II" #
SpatialTypeII# .
.II. /

LineStringII/ 9
)II9 :
;II: ;
thisJJ 
.JJ 

SendFigureJJ 
(JJ 
pipelineJJ $
)JJ$ %
;JJ% &
pipelineKK 
.KK 
EndGeometryKK  
(KK  !
)KK! "
;KK" #
}LL 	
}MM 
}NN ¡#
KD:\odata.net\src\Microsoft.Spatial\GeometryMultiLineStringImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 1
%GeometryMultiLineStringImplementation 8
:9 :#
GeometryMultiLineString; R
{ 
private 
GeometryLineString "
[" #
]# $
lineStrings% 0
;0 1
internal 1
%GeometryMultiLineStringImplementation 6
(6 7
CoordinateSystem7 G
coordinateSystemH X
,X Y!
SpatialImplementationZ o
creatorp w
,w x
paramsy  
GeometryLineString
Ä í
[
í ì
]
ì î
lineStrings
ï †
)
† °
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
lineStrings 
= 
lineStrings *
??+ -
new. 1
GeometryLineString2 D
[D E
$numE F
]F G
;G H
} 	
internal&& 1
%GeometryMultiLineStringImplementation&& 6
(&&6 7!
SpatialImplementation&&7 L
creator&&M T
,&&T U
params&&V \
GeometryLineString&&] o
[&&o p
]&&p q
lineStrings&&r }
)&&} ~
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
lineStrings''> I
)''I J
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
lineStrings22 '
.22' (
Length22( .
==22/ 1
$num222 3
;223 4
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
Geometry99+ 3
>993 4

Geometries995 ?
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
Geometry;;0 8
>;;8 9
(;;9 :
this;;: >
.;;> ?
lineStrings;;? J
);;J K
;;;K L
};;M N
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeometryLineStringAA+ =
>AA= >
LineStringsAA? J
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeometryLineStringCC0 B
>CCB C
(CCC D
thisCCD H
.CCH I
lineStringsCCI T
)CCT U
;CCU V
}CCW X
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| Ö
=
JJÜ á
$str
JJà ã
,
JJã å
Justification
JJç ö
=
JJõ ú
$str
JJù ∑
)
JJ∑ ∏
]
JJ∏ π
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeometryPipelineKK$ 4
pipelineKK5 =
)KK= >
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeometryNN "
(NN" #
SpatialTypeNN# .
.NN. /
MultiLineStringNN/ >
)NN> ?
;NN? @
forPP 
(PP 
intPP 
iPP 
=PP 
$numPP 
;PP 
iPP 
<PP 
thisPP  $
.PP$ %
lineStringsPP% 0
.PP0 1
LengthPP1 7
;PP7 8
++PP9 ;
iPP; <
)PP< =
{QQ 
thisRR 
.RR 
lineStringsRR  
[RR  !
iRR! "
]RR" #
.RR# $
SendToRR$ *
(RR* +
pipelineRR+ 3
)RR3 4
;RR4 5
}SS 
pipelineUU 
.UU 
EndGeometryUU  
(UU  !
)UU! "
;UU" #
}VV 	
}WW 
}XX »"
FD:\odata.net\src\Microsoft.Spatial\GeometryMultiPointImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class ,
 GeometryMultiPointImplementation 3
:4 5
GeometryMultiPoint6 H
{ 
private 
GeometryPoint 
[ 
] 
points  &
;& '
internal ,
 GeometryMultiPointImplementation 1
(1 2
CoordinateSystem2 B
coordinateSystemC S
,S T!
SpatialImplementationU j
creatork r
,r s
paramst z
GeometryPoint	{ à
[
à â
]
â ä
points
ã ë
)
ë í
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
points 
= 
points  
??! #
new$ '
GeometryPoint( 5
[5 6
$num6 7
]7 8
;8 9
} 	
internal&& ,
 GeometryMultiPointImplementation&& 1
(&&1 2!
SpatialImplementation&&2 G
creator&&H O
,&&O P
params&&Q W
GeometryPoint&&X e
[&&e f
]&&f g
points&&h n
)&&n o
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
points''> D
)''D E
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
points22 "
.22" #
Length22# )
==22* ,
$num22- .
;22. /
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
Geometry99+ 3
>993 4

Geometries995 ?
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
Geometry;;0 8
>;;8 9
(;;9 :
this;;: >
.;;> ?
points;;? E
);;E F
;;;F G
};;H I
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeometryPointAA+ 8
>AA8 9
PointsAA: @
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeometryPointCC0 =
>CC= >
(CC> ?
thisCC? C
.CCC D
pointsCCD J
)CCJ K
;CCK L
}CCM N
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| Ö
=
JJÜ á
$str
JJà ã
,
JJã å
Justification
JJç ö
=
JJõ ú
$str
JJù ∑
)
JJ∑ ∏
]
JJ∏ π
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeometryPipelineKK$ 4
pipelineKK5 =
)KK= >
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeometryNN "
(NN" #
SpatialTypeNN# .
.NN. /

MultiPointNN/ 9
)NN9 :
;NN: ;
forPP 
(PP 
intPP 
iPP 
=PP 
$numPP 
;PP 
iPP 
<PP 
thisPP  $
.PP$ %
pointsPP% +
.PP+ ,
LengthPP, 2
;PP2 3
++PP4 6
iPP6 7
)PP7 8
{QQ 
thisRR 
.RR 
pointsRR 
[RR 
iRR 
]RR 
.RR 
SendToRR %
(RR% &
pipelineRR& .
)RR. /
;RR/ 0
}SS 
pipelineUU 
.UU 
EndGeometryUU  
(UU  !
)UU! "
;UU" #
}VV 	
}WW 
}XX ä"
HD:\odata.net\src\Microsoft.Spatial\GeometryMultiPolygonImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class .
"GeometryMultiPolygonImplementation 5
:6 7 
GeometryMultiPolygon8 L
{ 
private 
GeometryPolygon 
[  
]  !
polygons" *
;* +
internal .
"GeometryMultiPolygonImplementation 3
(3 4
CoordinateSystem4 D
coordinateSystemE U
,U V!
SpatialImplementationW l
creatorm t
,t u
paramsv |
GeometryPolygon	} å
[
å ç
]
ç é
polygons
è ó
)
ó ò
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
polygons 
= 
polygons $
;$ %
} 	
internal&& .
"GeometryMultiPolygonImplementation&& 3
(&&3 4!
SpatialImplementation&&4 I
creator&&J Q
,&&Q R
params&&S Y
GeometryPolygon&&Z i
[&&i j
]&&j k
polygons&&l t
)&&t u
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
polygons''> F
)''F G
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
polygons22 $
.22$ %
Length22% +
==22, .
$num22/ 0
;220 1
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
Geometry99+ 3
>993 4

Geometries995 ?
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
Geometry;;0 8
>;;8 9
(;;9 :
this;;: >
.;;> ?
polygons;;? G
);;G H
;;;H I
};;J K
}<< 	
publicAA 
overrideAA 
ReadOnlyCollectionAA *
<AA* +
GeometryPolygonAA+ :
>AA: ;
PolygonsAA< D
{BB 	
getCC 
{CC 
returnCC 
newCC 
ReadOnlyCollectionCC /
<CC/ 0
GeometryPolygonCC0 ?
>CC? @
(CC@ A
thisCCA E
.CCE F
polygonsCCF N
)CCN O
;CCO P
}CCQ R
}DD 	
[JJ 	
SystemJJ	 
.JJ 
DiagnosticsJJ 
.JJ 
CodeAnalysisJJ (
.JJ( )
SuppressMessageJJ) 8
(JJ8 9
$strJJ9 K
,JJK L
$strJJM z
,JJz {
	MessageId	JJ| Ö
=
JJÜ á
$str
JJà ã
,
JJã å
Justification
JJç ö
=
JJõ ú
$str
JJù ∑
)
JJ∑ ∏
]
JJ∏ π
publicKK 
overrideKK 
voidKK 
SendToKK #
(KK# $
GeometryPipelineKK$ 4
pipelineKK5 =
)KK= >
{LL 	
baseMM 
.MM 
SendToMM 
(MM 
pipelineMM  
)MM  !
;MM! "
pipelineNN 
.NN 
BeginGeometryNN "
(NN" #
SpatialTypeNN# .
.NN. /
MultiPolygonNN/ ;
)NN; <
;NN< =
forOO 
(OO 
intOO 
iOO 
=OO 
$numOO 
;OO 
iOO 
<OO 
thisOO  $
.OO$ %
polygonsOO% -
.OO- .
LengthOO. 4
;OO4 5
++OO6 8
iOO8 9
)OO9 :
{PP 
thisQQ 
.QQ 
polygonsQQ 
[QQ 
iQQ 
]QQ  
.QQ  !
SendToQQ! '
(QQ' (
pipelineQQ( 0
)QQ0 1
;QQ1 2
}RR 
pipelineTT 
.TT 
EndGeometryTT  
(TT  !
)TT! "
;TT" #
}UU 	
}VV 
}WW ìF
AD:\odata.net\src\Microsoft.Spatial\GeometryPointImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class '
GeometryPointImplementation .
:/ 0
GeometryPoint1 >
{ 
private 
double 
x 
; 
private 
double 
y 
; 
private 
double 
? 
z 
; 
private"" 
double"" 
?"" 
m"" 
;"" 
internal)) '
GeometryPointImplementation)) ,
()), -
CoordinateSystem))- =
coordinateSystem))> N
,))N O!
SpatialImplementation))P e
creator))f m
)))m n
:** 
base** 
(** 
coordinateSystem** #
,**# $
creator**% ,
)**, -
{++ 	
this,, 
.,, 
x,, 
=,, 
double,, 
.,, 
NaN,, 
;,,  
this-- 
.-- 
y-- 
=-- 
double-- 
.-- 
NaN-- 
;--  
}.. 	
[99 	
System99	 
.99 
Diagnostics99 
.99 
CodeAnalysis99 (
.99( )
SuppressMessage99) 8
(998 9
$str999 K
,99K L
$str99M U
,99U V
Justification99W d
=99e f
$str	99g ê
)
99ê ë
]
99ë í
internal:: '
GeometryPointImplementation:: ,
(::, -
CoordinateSystem::- =
coordinateSystem::> N
,::N O!
SpatialImplementation::P e
creator::f m
,::m n
double::o u
x::v w
,::w x
double::y 
y
::Ä Å
,
::Å Ç
double
::É â
?
::â ä
z
::ã å
,
::å ç
double
::é î
?
::î ï
m
::ñ ó
)
::ó ò
:;; 
base;; 
(;; 
coordinateSystem;; #
,;;# $
creator;;% ,
);;, -
{<< 	
if== 
(== 
double== 
.== 
IsNaN== 
(== 
x== 
)== 
||==  "
double==# )
.==) *

IsInfinity==* 4
(==4 5
x==5 6
)==6 7
)==7 8
{>> 
throw?? 
new?? 
ArgumentException?? +
(??+ ,
Strings??, 3
.??3 4"
InvalidPointCoordinate??4 J
(??J K
x??K L
,??L M
$str??N Q
)??Q R
)??R S
;??S T
}@@ 
ifBB 
(BB 
doubleBB 
.BB 
IsNaNBB 
(BB 
yBB 
)BB 
||BB  "
doubleBB# )
.BB) *

IsInfinityBB* 4
(BB4 5
yBB5 6
)BB6 7
)BB7 8
{CC 
throwDD 
newDD 
ArgumentExceptionDD +
(DD+ ,
StringsDD, 3
.DD3 4"
InvalidPointCoordinateDD4 J
(DDJ K
yDDK L
,DDL M
$strDDN Q
)DDQ R
)DDR S
;DDS T
}EE 
thisGG 
.GG 
xGG 
=GG 
xGG 
;GG 
thisHH 
.HH 
yHH 
=HH 
yHH 
;HH 
thisII 
.II 
zII 
=II 
zII 
;II 
thisJJ 
.JJ 
mJJ 
=JJ 
mJJ 
;JJ 
}KK 	
[PP 	
SystemPP	 
.PP 
DiagnosticsPP 
.PP 
CodeAnalysisPP (
.PP( )
SuppressMessagePP) 8
(PP8 9
$strPP9 K
,PPK L
$strPPM U
,PPU V
JustificationPPW d
=PPe f
$strPPg x
)PPx y
]PPy z
publicQQ 
overrideQQ 
doubleQQ 
XQQ  
{RR 	
getSS 
{TT 
ifUU 
(UU 
thisUU 
.UU 
IsEmptyUU  
)UU  !
{VV 
throwWW 
newWW !
NotSupportedExceptionWW 3
(WW3 4
StringsWW4 ;
.WW; <+
Point_AccessCoordinateWhenEmptyWW< [
)WW[ \
;WW\ ]
}XX 
returnZZ 
thisZZ 
.ZZ 
xZZ 
;ZZ 
}[[ 
}\\ 	
[aa 	
Systemaa	 
.aa 
Diagnosticsaa 
.aa 
CodeAnalysisaa (
.aa( )
SuppressMessageaa) 8
(aa8 9
$straa9 K
,aaK L
$straaM U
,aaU V
JustificationaaW d
=aae f
$straag x
)aax y
]aay z
publicbb 
overridebb 
doublebb 
Ybb  
{cc 	
getdd 
{ee 
ifff 
(ff 
thisff 
.ff 
IsEmptyff  
)ff  !
{gg 
throwhh 
newhh !
NotSupportedExceptionhh 3
(hh3 4
Stringshh4 ;
.hh; <+
Point_AccessCoordinateWhenEmptyhh< [
)hh[ \
;hh\ ]
}ii 
returnkk 
thiskk 
.kk 
ykk 
;kk 
}ll 
}mm 	
publicrr 
overriderr 
boolrr 
IsEmptyrr $
{ss 	
gettt 
{uu 
returnvv 
doublevv 
.vv 
IsNaNvv #
(vv# $
thisvv$ (
.vv( )
xvv) *
)vv* +
;vv+ ,
}ww 
}xx 	
[}} 	
System}}	 
.}} 
Diagnostics}} 
.}} 
CodeAnalysis}} (
.}}( )
SuppressMessage}}) 8
(}}8 9
$str}}9 K
,}}K L
$str}}M U
,}}U V
Justification}}W d
=}}e f
$str}}g 
)	}} Ä
]
}}Ä Å
public~~ 
override~~ 
double~~ 
?~~ 
Z~~  !
{ 	
get
ÄÄ 
{
ÄÄ 
return
ÄÄ 
this
ÄÄ 
.
ÄÄ 
z
ÄÄ 
;
ÄÄ  
}
ÄÄ! "
}
ÅÅ 	
[
ÜÜ 	
System
ÜÜ	 
.
ÜÜ 
Diagnostics
ÜÜ 
.
ÜÜ 
CodeAnalysis
ÜÜ (
.
ÜÜ( )
SuppressMessage
ÜÜ) 8
(
ÜÜ8 9
$str
ÜÜ9 K
,
ÜÜK L
$str
ÜÜM U
,
ÜÜU V
Justification
ÜÜW d
=
ÜÜe f
$str
ÜÜg 
)ÜÜ Ä
]ÜÜÄ Å
public
áá 
override
áá 
double
áá 
?
áá 
M
áá  !
{
àà 	
get
ââ 
{
ââ 
return
ââ 
this
ââ 
.
ââ 
m
ââ 
;
ââ  
}
ââ! "
}
ää 	
[
êê 	
System
êê	 
.
êê 
Diagnostics
êê 
.
êê 
CodeAnalysis
êê (
.
êê( )
SuppressMessage
êê) 8
(
êê8 9
$str
êê9 K
,
êêK L
$str
êêM z
,
êêz {
	MessageIdêê| Ö
=êêÜ á
$strêêà ã
,êêã å
Justificationêêç ö
=êêõ ú
$strêêù ∑
)êê∑ ∏
]êê∏ π
public
ëë 
override
ëë 
void
ëë 
SendTo
ëë #
(
ëë# $
GeometryPipeline
ëë$ 4
pipeline
ëë5 =
)
ëë= >
{
íí 	
base
ìì 
.
ìì 
SendTo
ìì 
(
ìì 
pipeline
ìì  
)
ìì  !
;
ìì! "
pipeline
îî 
.
îî 
BeginGeometry
îî "
(
îî" #
SpatialType
îî# .
.
îî. /
Point
îî/ 4
)
îî4 5
;
îî5 6
if
ïï 
(
ïï 
!
ïï 
this
ïï 
.
ïï 
IsEmpty
ïï 
)
ïï 
{
ññ 
pipeline
óó 
.
óó 
BeginFigure
óó $
(
óó$ %
new
óó% (
GeometryPosition
óó) 9
(
óó9 :
this
óó: >
.
óó> ?
x
óó? @
,
óó@ A
this
óóB F
.
óóF G
y
óóG H
,
óóH I
this
óóJ N
.
óóN O
z
óóO P
,
óóP Q
this
óóR V
.
óóV W
m
óóW X
)
óóX Y
)
óóY Z
;
óóZ [
pipeline
òò 
.
òò 
	EndFigure
òò "
(
òò" #
)
òò# $
;
òò$ %
}
ôô 
pipeline
õõ 
.
õõ 
EndGeometry
õõ  
(
õõ  !
)
õõ! "
;
õõ" #
}
úú 	
}
ùù 
}ûû è
CD:\odata.net\src\Microsoft.Spatial\GeometryPolygonImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class )
GeometryPolygonImplementation 0
:1 2
GeometryPolygon3 B
{ 
private 
GeometryLineString "
[" #
]# $
rings% *
;* +
internal )
GeometryPolygonImplementation .
(. /
CoordinateSystem/ ?
coordinateSystem@ P
,P Q!
SpatialImplementationR g
creatorh o
,o p
paramsq w
GeometryLineString	x ä
[
ä ã
]
ã å
rings
ç í
)
í ì
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
rings 
= 
rings 
?? !
new" %
GeometryLineString& 8
[8 9
$num9 :
]: ;
;; <
} 	
internal&& )
GeometryPolygonImplementation&& .
(&&. /!
SpatialImplementation&&/ D
creator&&E L
,&&L M
params&&N T
GeometryLineString&&U g
[&&g h
]&&h i
rings&&j o
)&&o p
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
rings''> C
)''C D
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
rings22 !
.22! "
Length22" (
==22) +
$num22, -
;22- .
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
GeometryLineString99+ =
>99= >
Rings99? D
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
GeometryLineString;;0 B
>;;B C
(;;C D
this;;D H
.;;H I
rings;;I N
);;N O
;;;O P
};;Q R
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| Ö
=
BBÜ á
$str
BBà ã
,
BBã å
Justification
BBç ö
=
BBõ ú
$str
BBù ∑
)
BB∑ ∏
]
BB∏ π
publicCC 
overrideCC 
voidCC 
SendToCC #
(CC# $
GeometryPipelineCC$ 4
pipelineCC5 =
)CC= >
{DD 	
baseEE 
.EE 
SendToEE 
(EE 
pipelineEE  
)EE  !
;EE! "
pipelineFF 
.FF 
BeginGeometryFF "
(FF" #
SpatialTypeFF# .
.FF. /
PolygonFF/ 6
)FF6 7
;FF7 8
forHH 
(HH 
intHH 
iHH 
=HH 
$numHH 
;HH 
iHH 
<HH 
thisHH  $
.HH$ %
ringsHH% *
.HH* +
LengthHH+ 1
;HH1 2
++HH3 5
iHH5 6
)HH6 7
{II 
thisJJ 
.JJ 
ringsJJ 
[JJ 
iJJ 
]JJ 
.JJ 

SendFigureJJ (
(JJ( )
pipelineJJ) 1
)JJ1 2
;JJ2 3
}KK 
pipelineMM 
.MM 
EndGeometryMM  
(MM  !
)MM! "
;MM" #
}NN 	
}OO 
}PP ¢
FD:\odata.net\src\Microsoft.Spatial\GeometryCollectionImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class ,
 GeometryCollectionImplementation 3
:4 5
GeometryCollection6 H
{ 
private 
Geometry 
[ 
] 
geometryArray (
;( )
internal ,
 GeometryCollectionImplementation 1
(1 2
CoordinateSystem2 B
coordinateSystemC S
,S T!
SpatialImplementationU j
creatork r
,r s
paramst z
Geometry	{ É
[
É Ñ
]
Ñ Ö
geometry
Ü é
)
é è
: 
base 
( 
coordinateSystem #
,# $
creator% ,
), -
{ 	
this 
. 
geometryArray 
=  
geometry! )
??* ,
new- 0
Geometry1 9
[9 :
$num: ;
]; <
;< =
} 	
internal&& ,
 GeometryCollectionImplementation&& 1
(&&1 2!
SpatialImplementation&&2 G
creator&&H O
,&&O P
params&&Q W
Geometry&&X `
[&&` a
]&&a b
geometry&&c k
)&&k l
:'' 
this'' 
('' 
CoordinateSystem'' #
.''# $
DefaultGeometry''$ 3
,''3 4
creator''5 <
,''< =
geometry''> F
)''F G
{(( 	
})) 	
public.. 
override.. 
bool.. 
IsEmpty.. $
{// 	
get00 
{11 
return22 
this22 
.22 
geometryArray22 )
.22) *
Length22* 0
==221 3
$num224 5
;225 6
}33 
}44 	
public99 
override99 
ReadOnlyCollection99 *
<99* +
Geometry99+ 3
>993 4

Geometries995 ?
{:: 	
get;; 
{;; 
return;; 
new;; 
ReadOnlyCollection;; /
<;;/ 0
Geometry;;0 8
>;;8 9
(;;9 :
this;;: >
.;;> ?
geometryArray;;? L
);;L M
;;;M N
};;O P
}<< 	
[BB 	
SystemBB	 
.BB 
DiagnosticsBB 
.BB 
CodeAnalysisBB (
.BB( )
SuppressMessageBB) 8
(BB8 9
$strBB9 K
,BBK L
$strBBM z
,BBz {
	MessageId	BB| Ö
=
BBÜ á
$str
BBà ã
,
BBã å
Justification
BBç ö
=
BBõ ú
$str
BBù ∑
)
BB∑ ∏
]
BB∏ π
publicCC 
overrideCC 
voidCC 
SendToCC #
(CC# $
GeometryPipelineCC$ 4
pipelineCC5 =
)CC= >
{DD 	
baseEE 
.EE 
SendToEE 
(EE 
pipelineEE  
)EE  !
;EE! "
pipelineFF 
.FF 
BeginGeometryFF "
(FF" #
SpatialTypeFF# .
.FF. /

CollectionFF/ 9
)FF9 :
;FF: ;
forGG 
(GG 
intGG 
iGG 
=GG 
$numGG 
;GG 
iGG 
<GG 
thisGG  $
.GG$ %
geometryArrayGG% 2
.GG2 3
LengthGG3 9
;GG9 :
++GG; =
iGG= >
)GG> ?
{HH 
thisII 
.II 
geometryArrayII "
[II" #
iII# $
]II$ %
.II% &
SendToII& ,
(II, -
pipelineII- 5
)II5 6
;II6 7
}JJ 
pipelineLL 
.LL 
EndGeometryLL  
(LL  !
)LL! "
;LL" #
}MM 	
}NN 
}OO ›
0D:\odata.net\src\Microsoft.Spatial\DebugUtils.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class 

DebugUtils $
{ 
[ 	
System	 
. 
Diagnostics 
. 
Conditional '
(' (
$str( /
)/ 0
]0 1
internal 
static 
void "
CheckNoExternalCallers 3
(3 4
)4 5
{ 	
} 	
} 
} ç
;D:\odata.net\src\Microsoft.Spatial\GeometryHelperMethods.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class !
GeometryHelperMethods /
{ 
internal 
static 
void 

SendFigure '
(' (
this( ,
GeometryLineString- ?
GeometryLineString@ R
,R S
GeometryPipelineT d
pipelinee m
)m n
{ 	
Util 
. 
CheckArgumentNull "
(" #
GeometryLineString# 5
,5 6
$str7 K
)K L
;L M
for 
( 
int 
i 
= 
$num 
; 
i 
< 
GeometryLineString  2
.2 3
Points3 9
.9 :
Count: ?
;? @
++A C
iC D
)D E
{ 
GeometryPoint 
currentPoint *
=+ ,
GeometryLineString- ?
.? @
Points@ F
[F G
iG H
]H I
;I J
var 
position 
= 
new "
GeometryPosition# 3
(3 4
currentPoint4 @
.@ A
XA B
,B C
currentPointD P
.P Q
YQ R
,R S
currentPointT `
.` a
Za b
,b c
currentPointd p
.p q
Mq r
)r s
;s t
if 
( 
i 
== 
$num 
) 
{ 
pipeline 
. 
BeginFigure (
(( )
position) 1
)1 2
;2 3
} 
else 
{ 
pipeline   
.   
LineTo   #
(  # $
position  $ ,
)  , -
;  - .
}!! 
}"" 
if$$ 
($$ 
GeometryLineString$$ "
.$$" #
Points$$# )
.$$) *
Count$$* /
>$$0 1
$num$$2 3
)$$3 4
{%% 
pipeline&& 
.&& 
	EndFigure&& "
(&&" #
)&&# $
;&&$ %
}'' 
}(( 	
})) 
}**  ï
/D:\odata.net\src\Microsoft.Spatial\GmlReader.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
	GmlReader 
: 
SpatialReader ,
<, -
	XmlReader- 6
>6 7
{ 
public 
	GmlReader 
( 
SpatialPipeline (
destination) 4
)4 5
: 
base 
( 
destination 
) 
{ 	
} 	
	protected   
override   
void   '
ReadGeographyImplementation    ;
(  ; <
	XmlReader  < E
input  F K
)  K L
{!! 	
new"" 
Parser"" 
("" 
input"" 
,"" 
new"" !0
$TypeWashedToGeographyLatLongPipeline""" F
(""F G
Destination""G R
)""R S
)""S T
.""T U
Read""U Y
(""Y Z
)""Z [
;""[ \
}## 	
	protected)) 
override)) 
void)) &
ReadGeometryImplementation))  :
()): ;
	XmlReader)); D
input))E J
)))J K
{** 	
new++ 
Parser++ 
(++ 
input++ 
,++ 
new++ !(
TypeWashedToGeometryPipeline++" >
(++> ?
Destination++? J
)++J K
)++K L
.++L M
Read++M Q
(++Q R
)++R S
;++S T
},, 	
private11 
class11 
Parser11 
{22 	
private66 
static66 
readonly66 #
char66$ (
[66( )
]66) *
coordinateDelimiter66+ >
=66? @
{66A B
$char66C F
,66F G
$char66H L
,66L M
$char66N R
,66R S
$char66T X
}66Y Z
;66Z [
private;; 
static;; 
readonly;; #

Dictionary;;$ .
<;;. /
String;;/ 5
,;;5 6
String;;7 =
>;;= >
skippableElements;;? P
=;;Q R
new;;S V

Dictionary;;W a
<;;a b
string;;b h
,;;h i
string;;j p
>;;p q
(;;q r
StringComparer	;;r Ä
.
;;Ä Å
Ordinal
;;Å à
)
;;à â
{<< 
{== 
GmlConstants== "
.==" #
Name==# '
,==' (
GmlConstants==) 5
.==5 6
Name==6 :
}==; <
,==< =
{>> 
GmlConstants>> "
.>>" #
Description>># .
,>>. /
GmlConstants>>0 <
.>>< =
Description>>= H
}>>I J
,>>J K
{?? 
GmlConstants?? "
.??" #
MetadataProperty??# 3
,??3 4
GmlConstants??5 A
.??A B
MetadataProperty??B R
}??S T
,??T U
{@@ 
GmlConstants@@ "
.@@" # 
DescriptionReference@@# 7
,@@7 8
GmlConstants@@9 E
.@@E F 
DescriptionReference@@F Z
}@@[ \
,@@\ ]
{AA 
GmlConstantsAA "
.AA" #
IdentifierElementAA# 4
,AA4 5
GmlConstantsAA6 B
.AAB C
IdentifierElementAAC T
}AAU V
}BB 
;BB 
privateII 
readonlyII 
stringII #
gmlNamespaceII$ 0
;II0 1
privateNN 
readonlyNN 
stringNN #
fullGlobeNamespaceNN$ 6
;NN6 7
privateUU 
readonlyUU 
TypeWashedPipelineUU /
pipelineUU0 8
;UU8 9
privateZZ 
readonlyZZ 
	XmlReaderZZ &
readerZZ' -
;ZZ- .
private__ 
int__ 
points__ 
;__ 
internalff 
Parserff 
(ff 
	XmlReaderff %
readerff& ,
,ff, -
TypeWashedPipelineff. @
pipelineffA I
)ffI J
{gg 
Debughh 
.hh 
Asserthh 
(hh 
readerhh #
!=hh$ &
nullhh' +
&&hh, .
pipelinehh/ 7
!=hh8 :
nullhh; ?
,hh? @
$strhhA ]
)hh] ^
;hh^ _
thisii 
.ii 
readerii 
=ii 
readerii $
;ii$ %
thisjj 
.jj 
pipelinejj 
=jj 
pipelinejj  (
;jj( )
varll 
	nametablell 
=ll 
thisll  $
.ll$ %
readerll% +
.ll+ ,
	NameTablell, 5
;ll5 6
thismm 
.mm 
gmlNamespacemm !
=mm" #
	nametablemm$ -
.mm- .
Addmm. 1
(mm1 2
GmlConstantsmm2 >
.mm> ?
GmlNamespacemm? K
)mmK L
;mmL M
thisnn 
.nn 
fullGlobeNamespacenn '
=nn( )
	nametablenn* 3
.nn3 4
Addnn4 7
(nn7 8
GmlConstantsnn8 D
.nnD E
FullGlobeNamespacennE W
)nnW X
;nnX Y
}oo 
publictt 
voidtt 
Readtt 
(tt 
)tt 
{uu 
thisvv 
.vv 
ParseGmlGeometryvv %
(vv% &
truevv& *
)vv* +
;vv+ ,
}ww 
private}} 
void}} 
ParseGmlGeometry}} )
(}}) *
bool}}* . 
readCoordinateSystem}}/ C
)}}C D
{~~ 
if 
( 
! 
this 
. 
reader  
.  !
IsStartElement! /
(/ 0
)0 1
)1 2
{
ÄÄ 
throw
ÅÅ 
new
ÅÅ 
FormatException
ÅÅ -
(
ÅÅ- .
Strings
ÅÅ. 5
.
ÅÅ5 6-
GmlReader_ExpectReaderAtElement
ÅÅ6 U
)
ÅÅU V
;
ÅÅV W
}
ÇÇ 
if
ÖÖ 
(
ÖÖ 
object
ÖÖ 
.
ÖÖ 
ReferenceEquals
ÖÖ *
(
ÖÖ* +
this
ÖÖ+ /
.
ÖÖ/ 0
reader
ÖÖ0 6
.
ÖÖ6 7
NamespaceURI
ÖÖ7 C
,
ÖÖC D
this
ÖÖE I
.
ÖÖI J
gmlNamespace
ÖÖJ V
)
ÖÖV W
)
ÖÖW X
{
ÜÜ 
this
áá 
.
áá 
ReadAttributes
áá '
(
áá' ("
readCoordinateSystem
áá( <
)
áá< =
;
áá= >
switch
ââ 
(
ââ 
this
ââ  
.
ââ  !
reader
ââ! '
.
ââ' (
	LocalName
ââ( 1
)
ââ1 2
{
ää 
case
ãã 
GmlConstants
ãã )
.
ãã) *
Point
ãã* /
:
ãã/ 0
this
åå  
.
åå  ! 
ParseGmlPointShape
åå! 3
(
åå3 4
)
åå4 5
;
åå5 6
break
çç !
;
çç! "
case
éé 
GmlConstants
éé )
.
éé) *

LineString
éé* 4
:
éé4 5
this
èè  
.
èè  !%
ParseGmlLineStringShape
èè! 8
(
èè8 9
)
èè9 :
;
èè: ;
break
êê !
;
êê! "
case
ëë 
GmlConstants
ëë )
.
ëë) *
Polygon
ëë* 1
:
ëë1 2
this
íí  
.
íí  !"
ParseGmlPolygonShape
íí! 5
(
íí5 6
)
íí6 7
;
íí7 8
break
ìì !
;
ìì! "
case
îî 
GmlConstants
îî )
.
îî) *

MultiPoint
îî* 4
:
îî4 5
this
ïï  
.
ïï  !%
ParseGmlMultiPointShape
ïï! 8
(
ïï8 9
)
ïï9 :
;
ïï: ;
break
ññ !
;
ññ! "
case
óó 
GmlConstants
óó )
.
óó) *
MultiLineString
óó* 9
:
óó9 :
this
òò  
.
òò  !%
ParseGmlMultiCurveShape
òò! 8
(
òò8 9
)
òò9 :
;
òò: ;
break
ôô !
;
ôô! "
case
öö 
GmlConstants
öö )
.
öö) *
MultiPolygon
öö* 6
:
öö6 7
this
õõ  
.
õõ  !'
ParseGmlMultiSurfaceShape
õõ! :
(
õõ: ;
)
õõ; <
;
õõ< =
break
úú !
;
úú! "
case
ùù 
GmlConstants
ùù )
.
ùù) *

Collection
ùù* 4
:
ùù4 5
this
ûû  
.
ûû  !(
ParseGmlMultiGeometryShape
ûû! ;
(
ûû; <
)
ûû< =
;
ûû= >
break
üü !
;
üü! "
default
†† 
:
††  
throw
°° !
new
°°" %
FormatException
°°& 5
(
°°5 6
Strings
°°6 =
.
°°= >*
GmlReader_InvalidSpatialType
°°> Z
(
°°Z [
this
°°[ _
.
°°_ `
reader
°°` f
.
°°f g
	LocalName
°°g p
)
°°p q
)
°°q r
;
°°r s
}
¢¢ 
}
££ 
else
§§ 
if
§§ 
(
§§ 
object
§§ 
.
§§  
ReferenceEquals
§§  /
(
§§/ 0
this
§§0 4
.
§§4 5
reader
§§5 ;
.
§§; <
NamespaceURI
§§< H
,
§§H I
this
§§J N
.
§§N O 
fullGlobeNamespace
§§O a
)
§§a b
&&
§§c e
this
§§f j
.
§§j k
reader
§§k q
.
§§q r
	LocalName
§§r {
.
§§{ |
Equals§§| Ç
(§§Ç É
GmlConstants§§É è
.§§è ê
	FullGlobe§§ê ô
)§§ô ö
)§§ö õ
{
•• 
this
¶¶ 
.
¶¶ 
ReadAttributes
¶¶ '
(
¶¶' ("
readCoordinateSystem
¶¶( <
)
¶¶< =
;
¶¶= >
this
ßß 
.
ßß &
ParseGmlFullGlobeElement
ßß 1
(
ßß1 2
)
ßß2 3
;
ßß3 4
}
®® 
else
©© 
{
™™ 
throw
´´ 
new
´´ 
FormatException
´´ -
(
´´- .
Strings
´´. 5
.
´´5 6-
GmlReader_ExpectReaderAtElement
´´6 U
)
´´U V
;
´´V W
}
¨¨ 
}
≠≠ 
private
≥≥ 
void
≥≥ 
ReadAttributes
≥≥ '
(
≥≥' (
bool
≥≥( ,
expectSrsName
≥≥- :
)
≥≥: ;
{
¥¥ 
bool
µµ 
crsSet
µµ 
=
µµ 
false
µµ #
;
µµ# $
this
∏∏ 
.
∏∏ 
reader
∏∏ 
.
∏∏ 
MoveToContent
∏∏ )
(
∏∏) *
)
∏∏* +
;
∏∏+ ,
if
ππ 
(
ππ 
this
ππ 
.
ππ 
reader
ππ 
.
ππ  "
MoveToFirstAttribute
ππ  4
(
ππ4 5
)
ππ5 6
)
ππ6 7
{
∫∫ 
do
ªª 
{
ºº 
if
ΩΩ 
(
ΩΩ 
this
ΩΩ  
.
ΩΩ  !
reader
ΩΩ! '
.
ΩΩ' (
NamespaceURI
ΩΩ( 4
.
ΩΩ4 5
Equals
ΩΩ5 ;
(
ΩΩ; <
XmlConstants
ΩΩ< H
.
ΩΩH I
XmlnsNamespace
ΩΩI W
,
ΩΩW X
StringComparison
ΩΩY i
.
ΩΩi j
Ordinal
ΩΩj q
)
ΩΩq r
)
ΩΩr s
{
ææ 
continue
¿¿ $
;
¿¿$ %
}
¡¡ 
string
√√ 
attributeName
√√ ,
=
√√- .
this
√√/ 3
.
√√3 4
reader
√√4 :
.
√√: ;
	LocalName
√√; D
;
√√D E
switch
ƒƒ 
(
ƒƒ  
attributeName
ƒƒ  -
)
ƒƒ- .
{
≈≈ 
case
∆∆  
GmlConstants
∆∆! -
.
∆∆- .

AxisLabels
∆∆. 8
:
∆∆8 9
case
««  
GmlConstants
««! -
.
««- .
	UomLabels
««. 7
:
««7 8
case
»»  
GmlConstants
»»! -
.
»»- .
Count
»». 3
:
»»3 4
case
……  
GmlConstants
……! -
.
……- .
IdName
……. 4
:
……4 5
break
    %
;
  % &
case
ÀÀ  
GmlConstants
ÀÀ! -
.
ÀÀ- .
SrsName
ÀÀ. 5
:
ÀÀ5 6
if
ÃÃ  "
(
ÃÃ# $
!
ÃÃ$ %
expectSrsName
ÃÃ% 2
)
ÃÃ2 3
{
ÕÕ  !
this
ŒŒ$ (
.
ŒŒ( )
reader
ŒŒ) /
.
ŒŒ/ 0
MoveToElement
ŒŒ0 =
(
ŒŒ= >
)
ŒŒ> ?
;
ŒŒ? @
throw
œœ$ )
new
œœ* -
FormatException
œœ. =
(
œœ= >
Strings
œœ> E
.
œœE F(
GmlReader_InvalidAttribute
œœF `
(
œœ` a
attributeName
œœa n
,
œœn o
this
œœp t
.
œœt u
reader
œœu {
.
œœ{ |
Nameœœ| Ä
)œœÄ Å
)œœÅ Ç
;œœÇ É
}
––  !
string
””  &
attributeValue
””' 5
=
””6 7
this
””8 <
.
””< =
reader
””= C
.
””C D
Value
””D I
;
””I J
if
‘‘  "
(
‘‘# $
attributeValue
‘‘$ 2
.
‘‘2 3

StartsWith
‘‘3 =
(
‘‘= >
GmlConstants
‘‘> J
.
‘‘J K
	SrsPrefix
‘‘K T
,
‘‘T U
StringComparison
‘‘V f
.
‘‘f g
Ordinal
‘‘g n
)
‘‘n o
)
‘‘o p
{
’’  !
int
÷÷$ '
id
÷÷( *
=
÷÷+ ,

XmlConvert
÷÷- 7
.
÷÷7 8
ToInt32
÷÷8 ?
(
÷÷? @
attributeValue
÷÷@ N
.
÷÷N O
	Substring
÷÷O X
(
÷÷X Y
GmlConstants
÷÷Y e
.
÷÷e f
	SrsPrefix
÷÷f o
.
÷÷o p
Length
÷÷p v
)
÷÷v w
)
÷÷w x
;
÷÷x y
this
◊◊$ (
.
◊◊( )
pipeline
◊◊) 1
.
◊◊1 2!
SetCoordinateSystem
◊◊2 E
(
◊◊E F
id
◊◊F H
)
◊◊H I
;
◊◊I J
crsSet
ÿÿ$ *
=
ÿÿ+ ,
true
ÿÿ- 1
;
ÿÿ1 2
}
ŸŸ  !
else
⁄⁄  $
{
€€  !
throw
‹‹$ )
new
‹‹* -
FormatException
‹‹. =
(
‹‹= >
Strings
‹‹> E
.
‹‹E F&
GmlReader_InvalidSrsName
‹‹F ^
(
‹‹^ _
GmlConstants
‹‹_ k
.
‹‹k l
	SrsPrefix
‹‹l u
)
‹‹u v
)
‹‹v w
;
‹‹w x
}
››  !
break
ﬂﬂ  %
;
ﬂﬂ% &
default
‡‡ #
:
‡‡# $
this
··  $
.
··$ %
reader
··% +
.
··+ ,
MoveToElement
··, 9
(
··9 :
)
··: ;
;
··; <
throw
‚‚  %
new
‚‚& )
FormatException
‚‚* 9
(
‚‚9 :
Strings
‚‚: A
.
‚‚A B(
GmlReader_InvalidAttribute
‚‚B \
(
‚‚\ ]
attributeName
‚‚] j
,
‚‚j k
this
‚‚l p
.
‚‚p q
reader
‚‚q w
.
‚‚w x
Name
‚‚x |
)
‚‚| }
)
‚‚} ~
;
‚‚~ 
}
„„ 
}
‰‰ 
while
ÂÂ 
(
ÂÂ 
this
ÂÂ 
.
ÂÂ  
reader
ÂÂ  &
.
ÂÂ& '!
MoveToNextAttribute
ÂÂ' :
(
ÂÂ: ;
)
ÂÂ; <
)
ÂÂ< =
;
ÂÂ= >
this
ÁÁ 
.
ÁÁ 
reader
ÁÁ 
.
ÁÁ  
MoveToElement
ÁÁ  -
(
ÁÁ- .
)
ÁÁ. /
;
ÁÁ/ 0
}
ËË 
if
ÍÍ 
(
ÍÍ 
expectSrsName
ÍÍ !
&&
ÍÍ" $
!
ÍÍ% &
crsSet
ÍÍ& ,
)
ÍÍ, -
{
ÎÎ 
this
ÏÏ 
.
ÏÏ 
pipeline
ÏÏ !
.
ÏÏ! "!
SetCoordinateSystem
ÏÏ" 5
(
ÏÏ5 6
null
ÏÏ6 :
)
ÏÏ: ;
;
ÏÏ; <
}
ÌÌ 
}
ÓÓ 
private
ıı 
void
ıı  
ParseGmlPointShape
ıı +
(
ıı+ ,
)
ıı, -
{
ˆˆ 
this
˜˜ 
.
˜˜ 
pipeline
˜˜ 
.
˜˜ 
BeginGeo
˜˜ &
(
˜˜& '
SpatialType
˜˜' 2
.
˜˜2 3
Point
˜˜3 8
)
˜˜8 9
;
˜˜9 :
this
¯¯ 
.
¯¯ 
PrepareFigure
¯¯ "
(
¯¯" #
)
¯¯# $
;
¯¯$ %
this
˘˘ 
.
˘˘ "
ParseGmlPointElement
˘˘ )
(
˘˘) *
true
˘˘* .
)
˘˘? @
;
˘˘@ A
this
˙˙ 
.
˙˙ 
	EndFigure
˙˙ 
(
˙˙ 
)
˙˙  
;
˙˙  !
this
˚˚ 
.
˚˚ 
pipeline
˚˚ 
.
˚˚ 
EndGeo
˚˚ $
(
˚˚$ %
)
˚˚% &
;
˚˚& '
}
¸¸ 
private
ÅÅ 
void
ÅÅ %
ParseGmlLineStringShape
ÅÅ 0
(
ÅÅ0 1
)
ÅÅ1 2
{
ÇÇ 
this
ÉÉ 
.
ÉÉ 
pipeline
ÉÉ 
.
ÉÉ 
BeginGeo
ÉÉ &
(
ÉÉ& '
SpatialType
ÉÉ' 2
.
ÉÉ2 3

LineString
ÉÉ3 =
)
ÉÉ= >
;
ÉÉ> ?
this
ÑÑ 
.
ÑÑ 
PrepareFigure
ÑÑ "
(
ÑÑ" #
)
ÑÑ# $
;
ÑÑ$ %
this
ÖÖ 
.
ÖÖ  
ParseGmlLineString
ÖÖ '
(
ÖÖ' (
)
ÖÖ( )
;
ÖÖ) *
this
ÜÜ 
.
ÜÜ 
	EndFigure
ÜÜ 
(
ÜÜ 
)
ÜÜ  
;
ÜÜ  !
this
áá 
.
áá 
pipeline
áá 
.
áá 
EndGeo
áá $
(
áá$ %
)
áá% &
;
áá& '
}
àà 
private
çç 
void
çç "
ParseGmlPolygonShape
çç -
(
çç- .
)
çç. /
{
éé 
this
îî 
.
îî 
pipeline
îî 
.
îî 
BeginGeo
îî &
(
îî& '
SpatialType
îî' 2
.
îî2 3
Polygon
îî3 :
)
îî: ;
;
îî; <
if
ññ 
(
ññ 
this
ññ 
.
ññ %
ReadStartOrEmptyElement
ññ 0
(
ññ0 1
GmlConstants
ññ1 =
.
ññ= >
Polygon
ññ> E
)
ññE F
)
ññF G
{
óó 
this
òò 
.
òò #
ReadSkippableElements
òò .
(
òò. /
)
òò/ 0
;
òò0 1
if
ôô 
(
ôô 
!
ôô 
this
ôô 
.
ôô 
IsEndElement
ôô *
(
ôô* +
GmlConstants
ôô+ 7
.
ôô7 8
Polygon
ôô8 ?
)
ôô? @
)
ôô@ A
{
öö 
this
õõ 
.
õõ 
PrepareFigure
õõ *
(
õõ* +
)
õõ+ ,
;
õõ, -
this
úú 
.
úú !
ParseGmlRingElement
úú 0
(
úú0 1
GmlConstants
úú1 =
.
úú= >
ExteriorRing
úú> J
)
úúJ K
;
úúK L
this
ùù 
.
ùù 
	EndFigure
ùù &
(
ùù& '
)
ùù' (
;
ùù( )
this
üü 
.
üü #
ReadSkippableElements
üü 2
(
üü2 3
)
üü3 4
;
üü4 5
while
†† 
(
†† 
this
†† #
.
††# $
IsStartElement
††$ 2
(
††2 3
GmlConstants
††3 ?
.
††? @
InteriorRing
††@ L
)
††L M
)
††M N
{
°° 
this
¢¢  
.
¢¢  !
PrepareFigure
¢¢! .
(
¢¢. /
)
¢¢/ 0
;
¢¢0 1
this
££  
.
££  !!
ParseGmlRingElement
££! 4
(
££4 5
GmlConstants
££5 A
.
££A B
InteriorRing
££B N
)
££N O
;
££O P
this
§§  
.
§§  !
	EndFigure
§§! *
(
§§* +
)
§§+ ,
;
§§, -
this
••  
.
••  !#
ReadSkippableElements
••! 6
(
••6 7
)
••7 8
;
••8 9
}
¶¶ 
}
ßß 
this
©© 
.
©© #
ReadSkippableElements
©© .
(
©©. /
)
©©/ 0
;
©©0 1
this
™™ 
.
™™ 
ReadEndElement
™™ '
(
™™' (
)
™™( )
;
™™) *
}
´´ 
this
≠≠ 
.
≠≠ 
pipeline
≠≠ 
.
≠≠ 
EndGeo
≠≠ $
(
≠≠$ %
)
≠≠% &
;
≠≠& '
}
ÆÆ 
private
≥≥ 
void
≥≥ %
ParseGmlMultiPointShape
≥≥ 0
(
≥≥0 1
)
≥≥1 2
{
¥¥ 
this
µµ 
.
µµ 
pipeline
µµ 
.
µµ 
BeginGeo
µµ &
(
µµ& '
SpatialType
µµ' 2
.
µµ2 3

MultiPoint
µµ3 =
)
µµ= >
;
µµ> ?
this
∂∂ 
.
∂∂ #
ParseMultiItemElement
∂∂ *
(
∂∂* +
GmlConstants
∂∂+ 7
.
∂∂7 8

MultiPoint
∂∂8 B
,
∂∂B C
GmlConstants
∂∂D P
.
∂∂P Q
PointMember
∂∂Q \
,
∂∂\ ]
GmlConstants
∂∂^ j
.
∂∂j k
PointMembers
∂∂k w
,
∂∂w x
this
∂∂y }
.
∂∂} ~!
ParseGmlPointShape∂∂~ ê
)∂∂ê ë
;∂∂ë í
this
∑∑ 
.
∑∑ 
pipeline
∑∑ 
.
∑∑ 
EndGeo
∑∑ $
(
∑∑$ %
)
∑∑% &
;
∑∑& '
}
∏∏ 
private
ΩΩ 
void
ΩΩ %
ParseGmlMultiCurveShape
ΩΩ 0
(
ΩΩ0 1
)
ΩΩ1 2
{
ææ 
this
øø 
.
øø 
pipeline
øø 
.
øø 
BeginGeo
øø &
(
øø& '
SpatialType
øø' 2
.
øø2 3
MultiLineString
øø3 B
)
øøB C
;
øøC D
this
¿¿ 
.
¿¿ #
ParseMultiItemElement
¿¿ *
(
¿¿* +
GmlConstants
¿¿+ 7
.
¿¿7 8
MultiLineString
¿¿8 G
,
¿¿G H
GmlConstants
¿¿I U
.
¿¿U V
LineStringMember
¿¿V f
,
¿¿f g
GmlConstants
¿¿h t
.
¿¿t u 
LineStringMembers¿¿u Ü
,¿¿Ü á
this¿¿à å
.¿¿å ç'
ParseGmlLineStringShape¿¿ç §
)¿¿§ •
;¿¿• ¶
this
¡¡ 
.
¡¡ 
pipeline
¡¡ 
.
¡¡ 
EndGeo
¡¡ $
(
¡¡$ %
)
¡¡% &
;
¡¡& '
}
¬¬ 
private
«« 
void
«« '
ParseGmlMultiSurfaceShape
«« 2
(
««2 3
)
««3 4
{
»» 
this
…… 
.
…… 
pipeline
…… 
.
…… 
BeginGeo
…… &
(
……& '
SpatialType
……' 2
.
……2 3
MultiPolygon
……3 ?
)
……? @
;
……@ A
this
   
.
   #
ParseMultiItemElement
   *
(
  * +
GmlConstants
  + 7
.
  7 8
MultiPolygon
  8 D
,
  D E
GmlConstants
  F R
.
  R S
PolygonMember
  S `
,
  ` a
GmlConstants
  b n
.
  n o
PolygonMembers
  o }
,
  } ~
this   É
.  É Ñ$
ParseGmlPolygonShape  Ñ ò
)  ò ô
;  ô ö
this
ÀÀ 
.
ÀÀ 
pipeline
ÀÀ 
.
ÀÀ 
EndGeo
ÀÀ $
(
ÀÀ$ %
)
ÀÀ% &
;
ÀÀ& '
}
ÃÃ 
private
—— 
void
—— (
ParseGmlMultiGeometryShape
—— 3
(
——3 4
)
——4 5
{
““ 
this
”” 
.
”” 
pipeline
”” 
.
”” 
BeginGeo
”” &
(
””& '
SpatialType
””' 2
.
””2 3

Collection
””3 =
)
””= >
;
””> ?
this
‘‘ 
.
‘‘ #
ParseMultiItemElement
‘‘ *
(
‘‘* +
GmlConstants
‘‘+ 7
.
‘‘7 8

Collection
‘‘8 B
,
‘‘B C
GmlConstants
‘‘D P
.
‘‘P Q
CollectionMember
‘‘Q a
,
‘‘a b
GmlConstants
‘‘c o
.
‘‘o p 
CollectionMembers‘‘p Å
,‘‘Å Ç
(‘‘É Ñ
)‘‘Ñ Ö
=>‘‘Ü à
this‘‘â ç
.‘‘ç é 
ParseGmlGeometry‘‘é û
(‘‘û ü
false‘‘ü §
)‘‘§ •
)‘‘• ¶
;‘‘¶ ß
this
’’ 
.
’’ 
pipeline
’’ 
.
’’ 
EndGeo
’’ $
(
’’$ %
)
’’% &
;
’’& '
}
÷÷ 
private
€€ 
void
€€ &
ParseGmlFullGlobeElement
€€ 1
(
€€1 2
)
€€2 3
{
‹‹ 
this
‡‡ 
.
‡‡ 
pipeline
‡‡ 
.
‡‡ 
BeginGeo
‡‡ &
(
‡‡& '
SpatialType
‡‡' 2
.
‡‡2 3
	FullGlobe
‡‡3 <
)
‡‡< =
;
‡‡= >
if
·· 
(
·· 
this
·· 
.
·· %
ReadStartOrEmptyElement
·· 0
(
··0 1
GmlConstants
··1 =
.
··= >
	FullGlobe
··> G
)
··G H
)
··H I
{
‚‚ 
if
„„ 
(
„„ 
this
„„ 
.
„„ 
IsEndElement
„„ )
(
„„) *
GmlConstants
„„* 6
.
„„6 7
	FullGlobe
„„7 @
)
„„@ A
)
„„A B
{
‰‰ 
this
ÂÂ 
.
ÂÂ 
ReadEndElement
ÂÂ +
(
ÂÂ+ ,
)
ÂÂ, -
;
ÂÂ- .
}
ÊÊ 
}
ÁÁ 
this
ÈÈ 
.
ÈÈ 
pipeline
ÈÈ 
.
ÈÈ 
EndGeo
ÈÈ $
(
ÈÈ$ %
)
ÈÈ% &
;
ÈÈ& '
}
ÍÍ 
private
 
void
 "
ParseGmlPointElement
 -
(
- .
bool
. 2

allowEmpty
3 =
)
= >
{
ÒÒ 
if
ÚÚ 
(
ÚÚ 
this
ÚÚ 
.
ÚÚ %
ReadStartOrEmptyElement
ÚÚ 0
(
ÚÚ0 1
GmlConstants
ÚÚ1 =
.
ÚÚ= >
Point
ÚÚ> C
)
ÚÚC D
)
ÚÚD E
{
ÛÛ 
this
˘˘ 
.
˘˘ #
ReadSkippableElements
˘˘ .
(
˘˘. /
)
˘˘/ 0
;
˘˘0 1
this
˙˙ 
.
˙˙  
ParseGmlPosElement
˙˙ +
(
˙˙+ ,

allowEmpty
˙˙, 6
)
˙˙6 7
;
˙˙7 8
this
˚˚ 
.
˚˚ #
ReadSkippableElements
˚˚ .
(
˚˚. /
)
˚˚/ 0
;
˚˚0 1
this
¸¸ 
.
¸¸ 
ReadEndElement
¸¸ '
(
¸¸' (
)
¸¸( )
;
¸¸) *
}
˝˝ 
}
˛˛ 
private
ÉÉ 
void
ÉÉ  
ParseGmlLineString
ÉÉ +
(
ÉÉ+ ,
)
ÉÉ, -
{
ÑÑ 
if
åå 
(
åå 
this
åå 
.
åå %
ReadStartOrEmptyElement
åå 0
(
åå0 1
GmlConstants
åå1 =
.
åå= >

LineString
åå> H
)
ååH I
)
ååI J
{
çç 
this
éé 
.
éé #
ReadSkippableElements
éé .
(
éé. /
)
éé/ 0
;
éé0 1
if
èè 
(
èè 
this
èè 
.
èè 
IsPosListStart
èè +
(
èè+ ,
)
èè, -
)
èè- .
{
êê 
this
ëë 
.
ëë 
ParsePosList
ëë )
(
ëë) *
false
ëë* /
)
ëë@ A
;
ëëA B
}
íí 
else
ìì 
{
îî 
this
ïï 
.
ïï $
ParseGmlPosListElement
ïï 3
(
ïï3 4
true
ïï4 8
)
ïïI J
;
ïïJ K
}
ññ 
this
òò 
.
òò #
ReadSkippableElements
òò .
(
òò. /
)
òò/ 0
;
òò0 1
this
ôô 
.
ôô 
ReadEndElement
ôô '
(
ôô' (
)
ôô( )
;
ôô) *
}
öö 
}
õõ 
private
°° 
void
°° !
ParseGmlRingElement
°° ,
(
°°, -
string
°°- 3
ringTag
°°4 ;
)
°°; <
{
¢¢ 
if
®® 
(
®® 
this
®® 
.
®® %
ReadStartOrEmptyElement
®® 0
(
®®0 1
ringTag
®®1 8
)
®®8 9
)
®®9 :
{
©© 
if
™™ 
(
™™ 
!
™™ 
this
™™ 
.
™™ 
IsEndElement
™™ *
(
™™* +
ringTag
™™+ 2
)
™™2 3
)
™™3 4
{
´´ 
this
¨¨ 
.
¨¨ '
ParseGmlLinearRingElement
¨¨ 6
(
¨¨6 7
)
¨¨7 8
;
¨¨8 9
}
≠≠ 
this
ØØ 
.
ØØ 
ReadEndElement
ØØ '
(
ØØ' (
)
ØØ( )
;
ØØ) *
}
∞∞ 
}
±± 
private
∂∂ 
void
∂∂ '
ParseGmlLinearRingElement
∂∂ 2
(
∂∂2 3
)
∂∂3 4
{
∑∑ 
if
ææ 
(
ææ 
this
ææ 
.
ææ %
ReadStartOrEmptyElement
ææ 0
(
ææ0 1
GmlConstants
ææ1 =
.
ææ= >

LinearRing
ææ> H
)
ææH I
)
ææI J
{
øø 
if
¿¿ 
(
¿¿ 
this
¿¿ 
.
¿¿ 
IsEndElement
¿¿ )
(
¿¿) *
GmlConstants
¿¿* 6
.
¿¿6 7

LinearRing
¿¿7 A
)
¿¿A B
)
¿¿B C
{
¡¡ 
throw
√√ 
new
√√ !
FormatException
√√" 1
(
√√1 2
Strings
√√2 9
.
√√9 :,
GmlReader_EmptyRingsNotAllowed
√√: X
)
√√X Y
;
√√Y Z
}
ƒƒ 
else
≈≈ 
{
∆∆ 
if
«« 
(
«« 
this
««  
.
««  !
IsPosListStart
««! /
(
««/ 0
)
««0 1
)
««1 2
{
»» 
this
……  
.
……  !
ParsePosList
……! -
(
……- .
false
……. 3
)
……D E
;
……E F
}
   
else
ÀÀ 
{
ÃÃ 
this
ÕÕ  
.
ÕÕ  !$
ParseGmlPosListElement
ÕÕ! 7
(
ÕÕ7 8
false
ÕÕ8 =
)
ÕÕN O
;
ÕÕO P
}
ŒŒ 
}
œœ 
this
—— 
.
—— 
ReadEndElement
—— '
(
——' (
)
——( )
;
——) *
}
““ 
}
”” 
private
‹‹ 
void
‹‹ #
ParseMultiItemElement
‹‹ .
(
‹‹. /
string
‹‹/ 5
header
‹‹6 <
,
‹‹< =
string
‹‹> D
member
‹‹E K
,
‹‹K L
string
‹‹M S
members
‹‹T [
,
‹‹[ \
Action
‹‹] c
	parseItem
‹‹d m
)
‹‹m n
{
›› 
if
 
(
 
this
 
.
 %
ReadStartOrEmptyElement
 0
(
0 1
header
1 7
)
7 8
)
8 9
{
ÒÒ 
this
ÚÚ 
.
ÚÚ #
ReadSkippableElements
ÚÚ .
(
ÚÚ. /
)
ÚÚ/ 0
;
ÚÚ0 1
if
ÛÛ 
(
ÛÛ 
!
ÛÛ 
this
ÛÛ 
.
ÛÛ 
IsEndElement
ÛÛ *
(
ÛÛ* +
header
ÛÛ+ 1
)
ÛÛ1 2
)
ÛÛ2 3
{
ÙÙ 
while
ıı 
(
ıı 
this
ıı #
.
ıı# $
IsStartElement
ıı$ 2
(
ıı2 3
member
ıı3 9
)
ıı9 :
)
ıı: ;
{
ˆˆ 
if
˜˜ 
(
˜˜  
this
˜˜  $
.
˜˜$ %%
ReadStartOrEmptyElement
˜˜% <
(
˜˜< =
member
˜˜= C
)
˜˜C D
)
˜˜D E
{
¯¯ 
if
˘˘  "
(
˘˘# $
!
˘˘$ %
this
˘˘% )
.
˘˘) *
IsEndElement
˘˘* 6
(
˘˘6 7
member
˘˘7 =
)
˘˘= >
)
˘˘> ?
{
˙˙  !
	parseItem
˚˚$ -
(
˚˚- .
)
˚˚. /
;
˚˚/ 0
this
¸¸$ (
.
¸¸( )
ReadEndElement
¸¸) 7
(
¸¸7 8
)
¸¸8 9
;
¸¸9 :
this
˝˝$ (
.
˝˝( )#
ReadSkippableElements
˝˝) >
(
˝˝> ?
)
˝˝? @
;
˝˝@ A
}
˛˛  !
}
ˇˇ 
}
ÄÄ 
if
ÇÇ 
(
ÇÇ 
this
ÇÇ  
.
ÇÇ  !
IsStartElement
ÇÇ! /
(
ÇÇ/ 0
members
ÇÇ0 7
)
ÇÇ7 8
)
ÇÇ8 9
{
ÉÉ 
if
ÑÑ 
(
ÑÑ  
this
ÑÑ  $
.
ÑÑ$ %%
ReadStartOrEmptyElement
ÑÑ% <
(
ÑÑ< =
members
ÑÑ= D
)
ÑÑD E
)
ÑÑE F
{
ÖÖ 
while
ÜÜ  %
(
ÜÜ& '
reader
ÜÜ' -
.
ÜÜ- .
IsStartElement
ÜÜ. <
(
ÜÜ< =
)
ÜÜ= >
)
ÜÜ> ?
{
áá  !
	parseItem
àà$ -
(
àà- .
)
àà. /
;
àà/ 0
}
ââ  !
this
ãã  $
.
ãã$ %
ReadEndElement
ãã% 3
(
ãã3 4
)
ãã4 5
;
ãã5 6
}
åå 
}
çç 
}
éé 
this
êê 
.
êê #
ReadSkippableElements
êê .
(
êê. /
)
êê/ 0
;
êê0 1
this
ëë 
.
ëë 
ReadEndElement
ëë '
(
ëë' (
)
ëë( )
;
ëë) *
}
íí 
}
ìì 
private
öö 
void
öö  
ParseGmlPosElement
öö +
(
öö+ ,
bool
öö, 0

allowEmpty
öö1 ;
)
öö; <
{
õõ 
this
°° 
.
°° 
ReadAttributes
°° #
(
°°# $
false
°°$ )
)
°°) *
;
°°* +
if
¢¢ 
(
¢¢ 
this
¢¢ 
.
¢¢ %
ReadStartOrEmptyElement
¢¢ 0
(
¢¢0 1
GmlConstants
¢¢1 =
.
¢¢= >
Position
¢¢> F
)
¢¢F G
)
¢¢G H
{
££ 
double
§§ 
[
§§ 
]
§§ 

doubleList
§§ '
=
§§( )
this
§§* .
.
§§. /&
ReadContentAsDoubleArray
§§/ G
(
§§G H
)
§§H I
;
§§I J
if
¶¶ 
(
¶¶ 

doubleList
¶¶ "
.
¶¶" #
Length
¶¶# )
!=
¶¶* ,
$num
¶¶- .
)
¶¶. /
{
ßß 
if
®® 
(
®® 

doubleList
®® &
.
®®& '
Length
®®' -
<
®®. /
$num
®®0 1
)
®®1 2
{
©© 
throw
´´ !
new
´´" %
FormatException
´´& 5
(
´´5 6
Strings
´´6 =
.
´´= >)
GmlReader_PosNeedTwoNumbers
´´> Y
)
´´Y Z
;
´´Z [
}
¨¨ 
this
ÆÆ 
.
ÆÆ 
AddPoint
ÆÆ %
(
ÆÆ% &

doubleList
ÆÆ& 0
[
ÆÆ0 1
$num
ÆÆ1 2
]
ÆÆ2 3
,
ÆÆ3 4

doubleList
ÆÆ5 ?
[
ÆÆ? @
$num
ÆÆ@ A
]
ÆÆA B
,
ÆÆB C

doubleList
ÆÆD N
.
ÆÆN O
Length
ÆÆO U
>
ÆÆV W
$num
ÆÆX Y
?
ÆÆZ [

doubleList
ÆÆ\ f
[
ÆÆf g
$num
ÆÆg h
]
ÆÆh i
:
ÆÆj k
default
ÆÆl s
(
ÆÆs t
double
ÆÆt z
?
ÆÆz {
)
ÆÆ{ |
,
ÆÆ| }

doubleListÆÆ~ à
.ÆÆà â
LengthÆÆâ è
>ÆÆê ë
$numÆÆí ì
?ÆÆî ï

doubleListÆÆñ †
[ÆÆ† °
$numÆÆ° ¢
]ÆÆ¢ £
:ÆÆ§ •
defaultÆÆ¶ ≠
(ÆÆ≠ Æ
doubleÆÆÆ ¥
?ÆÆ¥ µ
)ÆÆµ ∂
)ÆÆ∂ ∑
;ÆÆ∑ ∏
}
ØØ 
else
∞∞ 
if
∞∞ 
(
∞∞ 
!
∞∞ 

allowEmpty
∞∞ (
)
∞∞( )
{
±± 
throw
≤≤ 
new
≤≤ !
FormatException
≤≤" 1
(
≤≤1 2
Strings
≤≤2 9
.
≤≤9 :)
GmlReader_PosNeedTwoNumbers
≤≤: U
)
≤≤U V
;
≤≤V W
}
≥≥ 
this
µµ 
.
µµ 
ReadEndElement
µµ '
(
µµ' (
)
µµ( )
;
µµ) *
}
∂∂ 
else
∑∑ 
if
∑∑ 
(
∑∑ 
!
∑∑ 

allowEmpty
∑∑ $
)
∑∑$ %
{
∏∏ 
throw
∫∫ 
new
∫∫ 
FormatException
∫∫ -
(
∫∫- .
Strings
∫∫. 5
.
∫∫5 6)
GmlReader_PosNeedTwoNumbers
∫∫6 Q
)
∫∫Q R
;
∫∫R S
}
ªª 
}
ºº 
private
¬¬ 
void
¬¬ 
ParsePosList
¬¬ %
(
¬¬% &
bool
¬¬& *

allowEmpty
¬¬+ 5
)
¬¬5 6
{
√√ 
do
≈≈ 
{
∆∆ 
if
«« 
(
«« 
this
«« 
.
«« 
IsStartElement
«« +
(
««+ ,
GmlConstants
««, 8
.
««8 9
Position
««9 A
)
««A B
)
««B C
{
»» 
this
…… 
.
……  
ParseGmlPosElement
…… /
(
……/ 0

allowEmpty
……0 :
)
……: ;
;
……; <
}
   
else
ÀÀ 
{
ÃÃ 
this
ÕÕ 
.
ÕÕ *
ParseGmlPointPropertyElement
ÕÕ 9
(
ÕÕ9 :

allowEmpty
ÕÕ: D
)
ÕÕD E
;
ÕÕE F
}
ŒŒ 
}
œœ 
while
–– 
(
–– 
this
–– 
.
–– 
IsPosListStart
–– *
(
––* +
)
––+ ,
)
––, -
;
––- .
}
—— 
private
◊◊ 
void
◊◊ *
ParseGmlPointPropertyElement
◊◊ 5
(
◊◊5 6
bool
◊◊6 :

allowEmpty
◊◊; E
)
◊◊E F
{
ÿÿ 
if
›› 
(
›› 
this
›› 
.
›› %
ReadStartOrEmptyElement
›› 0
(
››0 1
GmlConstants
››1 =
.
››= >
PointProperty
››> K
)
››K L
)
››L M
{
ﬁﬁ 
this
ﬂﬂ 
.
ﬂﬂ "
ParseGmlPointElement
ﬂﬂ -
(
ﬂﬂ- .

allowEmpty
ﬂﬂ. 8
)
ﬂﬂ8 9
;
ﬂﬂ9 :
this
‡‡ 
.
‡‡ 
ReadEndElement
‡‡ '
(
‡‡' (
)
‡‡( )
;
‡‡) *
}
·· 
}
‚‚ 
private
ËË 
void
ËË $
ParseGmlPosListElement
ËË /
(
ËË/ 0
bool
ËË0 4

allowEmpty
ËË5 ?
)
ËË? @
{
ÈÈ 
if
ÔÔ 
(
ÔÔ 
this
ÔÔ 
.
ÔÔ %
ReadStartOrEmptyElement
ÔÔ 0
(
ÔÔ0 1
GmlConstants
ÔÔ1 =
.
ÔÔ= >
PositionList
ÔÔ> J
)
ÔÔJ K
)
ÔÔK L
{
 
if
ÒÒ 
(
ÒÒ 
!
ÒÒ 
this
ÒÒ 
.
ÒÒ 
IsEndElement
ÒÒ *
(
ÒÒ* +
GmlConstants
ÒÒ+ 7
.
ÒÒ7 8
PositionList
ÒÒ8 D
)
ÒÒD E
)
ÒÒE F
{
ÚÚ 
double
ÛÛ 
[
ÛÛ 
]
ÛÛ  

doubleList
ÛÛ! +
=
ÛÛ, -
this
ÛÛ. 2
.
ÛÛ2 3&
ReadContentAsDoubleArray
ÛÛ3 K
(
ÛÛK L
)
ÛÛL M
;
ÛÛM N
if
ÙÙ 
(
ÙÙ 

doubleList
ÙÙ &
.
ÙÙ& '
Length
ÙÙ' -
!=
ÙÙ. 0
$num
ÙÙ1 2
)
ÙÙ2 3
{
ıı 
if
ˆˆ 
(
ˆˆ  

doubleList
ˆˆ  *
.
ˆˆ* +
Length
ˆˆ+ 1
%
ˆˆ2 3
$num
ˆˆ4 5
!=
ˆˆ6 8
$num
ˆˆ9 :
)
ˆˆ: ;
{
˜˜ 
throw
˘˘  %
new
˘˘& )
FormatException
˘˘* 9
(
˘˘9 :
Strings
˘˘: A
.
˘˘A B-
GmlReader_PosListNeedsEvenCount
˘˘B a
)
˘˘a b
;
˘˘b c
}
˙˙ 
for
˝˝ 
(
˝˝  !
int
˝˝! $
i
˝˝% &
=
˝˝' (
$num
˝˝) *
;
˝˝* +
i
˝˝, -
<
˝˝. /

doubleList
˝˝0 :
.
˝˝: ;
Length
˝˝; A
;
˝˝A B
i
˝˝C D
+=
˝˝E G
$num
˝˝H I
)
˝˝I J
{
˛˛ 
this
ˇˇ  $
.
ˇˇ$ %
AddPoint
ˇˇ% -
(
ˇˇ- .

doubleList
ˇˇ. 8
[
ˇˇ8 9
i
ˇˇ9 :
]
ˇˇ: ;
,
ˇˇ; <

doubleList
ˇˇ= G
[
ˇˇG H
i
ˇˇH I
+
ˇˇJ K
$num
ˇˇL M
]
ˇˇM N
,
ˇˇN O
null
ˇˇP T
,
ˇˇT U
null
ˇˇV Z
)
ˇˇZ [
;
ˇˇ[ \
}
ÄÄ 
}
ÅÅ 
else
ÇÇ 
{
ÉÉ 
throw
ÖÖ !
new
ÖÖ" %
FormatException
ÖÖ& 5
(
ÖÖ5 6
Strings
ÖÖ6 =
.
ÖÖ= >-
GmlReader_PosListNeedsEvenCount
ÖÖ> ]
)
ÖÖ] ^
;
ÖÖ^ _
}
ÜÜ 
}
áá 
else
àà 
if
àà 
(
àà 
!
àà 

allowEmpty
àà (
)
àà( )
{
ââ 
throw
ãã 
new
ãã !
FormatException
ãã" 1
(
ãã1 2
Strings
ãã2 9
.
ãã9 :-
GmlReader_PosListNeedsEvenCount
ãã: Y
)
ããY Z
;
ããZ [
}
åå 
this
éé 
.
éé 
ReadEndElement
éé '
(
éé' (
)
éé( )
;
éé) *
}
èè 
else
êê 
if
êê 
(
êê 
!
êê 

allowEmpty
êê $
)
êê$ %
{
ëë 
throw
ìì 
new
ìì 
FormatException
ìì -
(
ìì- .
Strings
ìì. 5
.
ìì5 6-
GmlReader_PosListNeedsEvenCount
ìì6 U
)
ììU V
;
ììV W
}
îî 
}
ïï 
private
üü 
double
üü 
[
üü 
]
üü &
ReadContentAsDoubleArray
üü 5
(
üü5 6
)
üü6 7
{
†† 
String
°° 
[
°° 
]
°° 
splitted
°° !
=
°°" #
this
°°$ (
.
°°( )
reader
°°) /
.
°°/ 0!
ReadContentAsString
°°0 C
(
°°C D
)
°°D E
.
°°E F
Split
°°F K
(
°°K L!
coordinateDelimiter
°°L _
,
°°_ ` 
StringSplitOptions
°°a s
.
°°s t!
RemoveEmptyEntries°°t Ü
)°°Ü á
;°°á à
double
¢¢ 
[
¢¢ 
]
¢¢ 
array
¢¢ 
=
¢¢  
new
¢¢! $
double
¢¢% +
[
¢¢+ ,
splitted
¢¢, 4
.
¢¢4 5
Length
¢¢5 ;
]
¢¢; <
;
¢¢< =
for
££ 
(
££ 
int
££ 
i
££ 
=
££ 
$num
££ 
;
££ 
i
££  !
<
££" #
splitted
££$ ,
.
££, -
Length
££- 3
;
££3 4
++
££5 7
i
££7 8
)
££8 9
{
§§ 
array
•• 
[
•• 
i
•• 
]
•• 
=
•• 

XmlConvert
•• )
.
••) *
ToDouble
••* 2
(
••2 3
splitted
••3 ;
[
••; <
i
••< =
]
••= >
)
••> ?
;
••? @
}
¶¶ 
return
®® 
array
®® 
;
®® 
}
©© 
private
∑∑ 
bool
∑∑ %
ReadStartOrEmptyElement
∑∑ 0
(
∑∑0 1
string
∑∑1 7
element
∑∑8 ?
)
∑∑? @
{
∏∏ 
bool
ππ 
isEmptyElement
ππ #
=
ππ$ %
reader
ππ& ,
.
ππ, -
IsEmptyElement
ππ- ;
;
ππ; <
if
ªª 
(
ªª 
element
ªª 
!=
ªª 
GmlConstants
ªª +
.
ªª+ ,
	FullGlobe
ªª, 5
)
ªª5 6
{
ºº 
reader
ΩΩ 
.
ΩΩ 
ReadStartElement
ΩΩ +
(
ΩΩ+ ,
element
ΩΩ, 3
,
ΩΩ3 4
this
ΩΩ5 9
.
ΩΩ9 :
gmlNamespace
ΩΩ: F
)
ΩΩF G
;
ΩΩG H
}
ææ 
else
øø 
{
¿¿ 
reader
¡¡ 
.
¡¡ 
ReadStartElement
¡¡ +
(
¡¡+ ,
element
¡¡, 3
,
¡¡3 4
GmlConstants
¡¡5 A
.
¡¡A B 
FullGlobeNamespace
¡¡B T
)
¡¡T U
;
¡¡U V
}
¬¬ 
return
ƒƒ 
!
ƒƒ 
isEmptyElement
ƒƒ &
;
ƒƒ& '
}
≈≈ 
private
ÃÃ 
bool
ÃÃ 
IsStartElement
ÃÃ '
(
ÃÃ' (
string
ÃÃ( .
element
ÃÃ/ 6
)
ÃÃ6 7
{
ÕÕ 
return
ŒŒ 
reader
ŒŒ 
.
ŒŒ 
IsStartElement
ŒŒ ,
(
ŒŒ, -
element
ŒŒ- 4
,
ŒŒ4 5
this
ŒŒ6 :
.
ŒŒ: ;
gmlNamespace
ŒŒ; G
)
ŒŒG H
;
ŒŒH I
}
œœ 
private
÷÷ 
bool
÷÷ 
IsEndElement
÷÷ %
(
÷÷% &
string
÷÷& ,
element
÷÷- 4
)
÷÷4 5
{
◊◊ 
this
ÿÿ 
.
ÿÿ 
reader
ÿÿ 
.
ÿÿ 
MoveToContent
ÿÿ )
(
ÿÿ) *
)
ÿÿ* +
;
ÿÿ+ ,
return
ŸŸ 
reader
ŸŸ 
.
ŸŸ 
NodeType
ŸŸ &
==
ŸŸ' )
XmlNodeType
ŸŸ* 5
.
ŸŸ5 6

EndElement
ŸŸ6 @
&&
ŸŸA C
this
ŸŸD H
.
ŸŸH I
reader
ŸŸI O
.
ŸŸO P
	LocalName
ŸŸP Y
.
ŸŸY Z
Equals
ŸŸZ `
(
ŸŸ` a
element
ŸŸa h
,
ŸŸh i
StringComparison
ŸŸj z
.
ŸŸz {
OrdinalŸŸ{ Ç
)ŸŸÇ É
;ŸŸÉ Ñ
}
⁄⁄ 
private
ﬂﬂ 
void
ﬂﬂ 
ReadEndElement
ﬂﬂ '
(
ﬂﬂ' (
)
ﬂﬂ( )
{
‡‡ 
this
·· 
.
·· 
reader
·· 
.
·· 
MoveToContent
·· )
(
··) *
)
··* +
;
··+ ,
if
‚‚ 
(
‚‚ 
this
‚‚ 
.
‚‚ 
reader
‚‚ 
.
‚‚  
NodeType
‚‚  (
!=
‚‚) +
XmlNodeType
‚‚, 7
.
‚‚7 8

EndElement
‚‚8 B
)
‚‚B C
{
„„ 
throw
‰‰ 
new
‰‰ 
FormatException
‰‰ -
(
‰‰- .
Strings
‰‰. 5
.
‰‰5 6)
GmlReader_UnexpectedElement
‰‰6 Q
(
‰‰Q R
this
‰‰R V
.
‰‰V W
reader
‰‰W ]
.
‰‰] ^
Name
‰‰^ b
)
‰‰b c
)
‰‰c d
;
‰‰d e
}
ÂÂ 
this
ÁÁ 
.
ÁÁ 
reader
ÁÁ 
.
ÁÁ 
ReadEndElement
ÁÁ *
(
ÁÁ* +
)
ÁÁ+ ,
;
ÁÁ, -
}
ËË 
private
ÌÌ 
void
ÌÌ #
ReadSkippableElements
ÌÌ .
(
ÌÌ. /
)
ÌÌ/ 0
{
ÓÓ 
bool
ÔÔ 

shouldSkip
ÔÔ 
=
ÔÔ  !
true
ÔÔ" &
;
ÔÔ& '
while
 
(
 

shouldSkip
 !
)
! "
{
ÒÒ 
this
ÚÚ 
.
ÚÚ 
reader
ÚÚ 
.
ÚÚ  
MoveToContent
ÚÚ  -
(
ÚÚ- .
)
ÚÚ. /
;
ÚÚ/ 0
if
ÛÛ 
(
ÛÛ 
this
ÛÛ 
.
ÛÛ 
reader
ÛÛ #
.
ÛÛ# $
NodeType
ÛÛ$ ,
==
ÛÛ- /
XmlNodeType
ÛÛ0 ;
.
ÛÛ; <
Element
ÛÛ< C
&&
ÛÛD F
Object
ÙÙ 
.
ÙÙ 
ReferenceEquals
ÙÙ .
(
ÙÙ. /
this
ÙÙ/ 3
.
ÙÙ3 4
reader
ÙÙ4 :
.
ÙÙ: ;
NamespaceURI
ÙÙ; G
,
ÙÙG H
this
ÙÙI M
.
ÙÙM N
gmlNamespace
ÙÙN Z
)
ÙÙZ [
)
ÙÙ[ \
{
ıı 
String
˜˜ 
	localName
˜˜ (
=
˜˜) *
this
˜˜+ /
.
˜˜/ 0
reader
˜˜0 6
.
˜˜6 7
	LocalName
˜˜7 @
;
˜˜@ A

shouldSkip
¯¯ "
=
¯¯# $
skippableElements
¯¯% 6
.
¯¯6 7
ContainsKey
¯¯7 B
(
¯¯B C
	localName
¯¯C L
)
¯¯L M
;
¯¯M N
}
˘˘ 
else
˙˙ 
{
˚˚ 

shouldSkip
¸¸ "
=
¸¸# $
false
¸¸% *
;
¸¸* +
}
˝˝ 
if
ˇˇ 
(
ˇˇ 

shouldSkip
ˇˇ "
)
ˇˇ" #
{
ÄÄ 
this
ÅÅ 
.
ÅÅ 
reader
ÅÅ #
.
ÅÅ# $
Skip
ÅÅ$ (
(
ÅÅ( )
)
ÅÅ) *
;
ÅÅ* +
}
ÇÇ 
}
ÉÉ 
}
ÑÑ 
private
ää 
bool
ää 
IsPosListStart
ää '
(
ää' (
)
ää( )
{
ãã 
return
åå 
IsStartElement
åå %
(
åå% &
GmlConstants
åå& 2
.
åå2 3
Position
åå3 ;
)
åå; <
||
åå= ?
IsStartElement
åå@ N
(
ååN O
GmlConstants
ååO [
.
åå[ \
PointProperty
åå\ i
)
ååi j
;
ååj k
}
çç 
private
íí 
void
íí 
PrepareFigure
íí &
(
íí& '
)
íí' (
{
ìì 
points
îî 
=
îî 
$num
îî 
;
îî 
}
ïï 
private
ûû 
void
ûû 
AddPoint
ûû !
(
ûû! "
double
ûû" (
x
ûû) *
,
ûû* +
double
ûû, 2
y
ûû3 4
,
ûû4 5
double
ûû6 <
?
ûû< =
z
ûû> ?
,
ûû? @
double
ûûA G
?
ûûG H
m
ûûI J
)
ûûJ K
{
üü 
if
†† 
(
†† 
z
†† 
.
†† 
HasValue
†† 
&&
†† !
double
††" (
.
††( )
IsNaN
††) .
(
††. /
z
††/ 0
.
††0 1
Value
††1 6
)
††6 7
)
††7 8
{
°° 
z
¢¢ 
=
¢¢ 
null
¢¢ 
;
¢¢ 
}
££ 
if
•• 
(
•• 
m
•• 
.
•• 
HasValue
•• 
&&
•• !
double
••" (
.
••( )
IsNaN
••) .
(
••. /
m
••/ 0
.
••0 1
Value
••1 6
)
••6 7
)
••7 8
{
¶¶ 
m
ßß 
=
ßß 
null
ßß 
;
ßß 
}
®® 
if
™™ 
(
™™ 
points
™™ 
==
™™ 
$num
™™ 
)
™™  
{
´´ 
pipeline
¨¨ 
.
¨¨ 
BeginFigure
¨¨ (
(
¨¨( )
x
¨¨) *
,
¨¨* +
y
¨¨, -
,
¨¨- .
z
¨¨/ 0
,
¨¨0 1
m
¨¨2 3
)
¨¨3 4
;
¨¨4 5
}
≠≠ 
else
ÆÆ 
{
ØØ 
pipeline
∞∞ 
.
∞∞ 
LineTo
∞∞ #
(
∞∞# $
x
∞∞$ %
,
∞∞% &
y
∞∞' (
,
∞∞( )
z
∞∞* +
,
∞∞+ ,
m
∞∞- .
)
∞∞. /
;
∞∞/ 0
}
±± 
points
≥≥ 
+=
≥≥ 
$num
≥≥ 
;
≥≥ 
}
¥¥ 
private
ππ 
void
ππ 
	EndFigure
ππ "
(
ππ" #
)
ππ# $
{
∫∫ 
if
ªª 
(
ªª 
points
ªª 
>
ªª 
$num
ªª 
)
ªª 
{
ºº 
pipeline
ΩΩ 
.
ΩΩ 
	EndFigure
ΩΩ &
(
ΩΩ& '
)
ΩΩ' (
;
ΩΩ( )
}
ææ 
}
øø 
}
¿¿ 	
}
¡¡ 
}¬¬ £)
2D:\odata.net\src\Microsoft.Spatial\GmlConstants.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
GmlConstants 
{ 
internal 
const 
string 
GmlNamespace *
=+ ,
$str- I
;I J
internal 
const 
string 
FullGlobeNamespace 0
=1 2
$str3 j
;j k
internal 
const 
string 
	GmlPrefix '
=( )
$str* /
;/ 0
internal   
const   
string   
SrsName   %
=  & '
$str  ( 1
;  1 2
internal%% 
const%% 
string%% 
IdName%% $
=%%% &
$str%%' +
;%%+ ,
internal** 
const** 
string** 
	SrsPrefix** '
=**( )
$str*** R
;**R S
internal// 
const// 
string// 
Position// &
=//' (
$str//) .
;//. /
internal44 
const44 
string44 
Name44 "
=44# $
$str44% +
;44+ ,
internal99 
const99 
string99 
Description99 )
=99* +
$str99, 9
;999 :
internal>> 
const>> 
string>> 
MetadataProperty>> .
=>>/ 0
$str>>1 C
;>>C D
internalCC 
constCC 
stringCC  
DescriptionReferenceCC 2
=CC3 4
$strCC5 K
;CCK L
internalHH 
constHH 
stringHH 
IdentifierElementHH /
=HH0 1
$strHH2 >
;HH> ?
internalMM 
constMM 
stringMM 
PointPropertyMM +
=MM, -
$strMM. =
;MM= >
internalRR 
constRR 
stringRR 
PositionListRR *
=RR+ ,
$strRR- 6
;RR6 7
internalWW 
constWW 
stringWW 
PointWW #
=WW$ %
$strWW& -
;WW- .
internal\\ 
const\\ 
string\\ 

LineString\\ (
=\\) *
$str\\+ 7
;\\7 8
internalaa 
constaa 
stringaa 
Polygonaa %
=aa& '
$straa( 1
;aa1 2
internalff 
constff 
stringff 

MultiPointff (
=ff) *
$strff+ 7
;ff7 8
internalkk 
constkk 
stringkk 
MultiLineStringkk -
=kk. /
$strkk0 <
;kk< =
internalpp 
constpp 
stringpp 
MultiPolygonpp *
=pp+ ,
$strpp- ;
;pp; <
internaluu 
constuu 
stringuu 

Collectionuu (
=uu) *
$struu+ :
;uu: ;
internalzz 
constzz 
stringzz 
	FullGlobezz '
=zz( )
$strzz* 5
;zz5 6
internal 
const 
string 
ExteriorRing *
=+ ,
$str- 7
;7 8
internal
ÑÑ 
const
ÑÑ 
string
ÑÑ 
InteriorRing
ÑÑ *
=
ÑÑ+ ,
$str
ÑÑ- 7
;
ÑÑ7 8
internal
ââ 
const
ââ 
string
ââ 

LinearRing
ââ (
=
ââ) *
$str
ââ+ 7
;
ââ7 8
internal
éé 
const
éé 
string
éé 
PointMember
éé )
=
éé* +
$str
éé, 9
;
éé9 :
internal
ìì 
const
ìì 
string
ìì 
PointMembers
ìì *
=
ìì+ ,
$str
ìì- ;
;
ìì; <
internal
òò 
const
òò 
string
òò 
LineStringMember
òò .
=
òò/ 0
$str
òò1 >
;
òò> ?
internal
ùù 
const
ùù 
string
ùù 
LineStringMembers
ùù /
=
ùù0 1
$str
ùù2 @
;
ùù@ A
internal
¢¢ 
const
¢¢ 
string
¢¢ 
PolygonMember
¢¢ +
=
¢¢, -
$str
¢¢. =
;
¢¢= >
internal
ßß 
const
ßß 
string
ßß 
PolygonMembers
ßß ,
=
ßß- .
$str
ßß/ ?
;
ßß? @
internal
¨¨ 
const
¨¨ 
string
¨¨ 
CollectionMember
¨¨ .
=
¨¨/ 0
$str
¨¨1 A
;
¨¨A B
internal
±± 
const
±± 
string
±± 
CollectionMembers
±± /
=
±±0 1
$str
±±2 C
;
±±C D
internal
∂∂ 
const
∂∂ 
string
∂∂ 

AxisLabels
∂∂ (
=
∂∂) *
$str
∂∂+ 7
;
∂∂7 8
internal
ªª 
const
ªª 
string
ªª 
	UomLabels
ªª '
=
ªª( )
$str
ªª* 5
;
ªª5 6
internal
¿¿ 
const
¿¿ 
string
¿¿ 
Count
¿¿ #
=
¿¿$ %
$str
¿¿& -
;
¿¿- .
}
¡¡ 
}¬¬ ì
<D:\odata.net\src\Microsoft.Spatial\WellKnownTextConstants.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class "
WellKnownTextConstants )
{ 
internal 
const 
string 
WktSrid %
=& '
$str( .
;. /
internal 
const 
string 
WktPoint &
=' (
$str) 0
;0 1
internal 
const 
string 
WktLineString +
=, -
$str. :
;: ;
internal   
const   
string   

WktPolygon   (
=  ) *
$str  + 4
;  4 5
internal'' 
const'' 
string'' 
WktCollection'' +
='', -
$str''. B
;''B C
internal,, 
const,, 
string,, 
WktMultiPoint,, +
=,,, -
$str,,. :
;,,: ;
internal11 
const11 
string11 
WktMultiLineString11 0
=111 2
$str113 D
;11D E
internal66 
const66 
string66 
WktMultiPolygon66 -
=66. /
$str660 >
;66> ?
internal;; 
const;; 
string;; 
WktFullGlobe;; *
=;;+ ,
$str;;- 8
;;;8 9
internal@@ 
const@@ 
string@@ 
WktEmpty@@ &
=@@' (
$str@@) 0
;@@0 1
internalEE 
constEE 
stringEE 
WktNullEE %
=EE& '
$strEE( .
;EE. /
internalJJ 
constJJ 
stringJJ 
	WktEqualsJJ '
=JJ( )
$strJJ* -
;JJ- .
internalOO 
constOO 
stringOO 
WktSemiColonOO *
=OO+ ,
$strOO- 0
;OO0 1
internalTT 
constTT 
stringTT &
WktDelimiterWithWhiteSpaceTT 8
=TT9 :
$strTT; ?
;TT? @
internalYY 
constYY 
stringYY 
WktOpenParenYY *
=YY+ ,
$strYY- 0
;YY0 1
internal^^ 
const^^ 
string^^ 
WktCloseParen^^ +
=^^, -
$str^^. 1
;^^1 2
internalcc 
constcc 
stringcc 
WktWhitespacecc +
=cc, -
$strcc. 1
;cc1 2
internalhh 
consthh 
stringhh 
	WktPeriodhh '
=hh( )
$strhh* -
;hh- .
}ii 
}jj ŸÑ
8D:\odata.net\src\Microsoft.Spatial\SpatialTreeBuilder.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
SpatialTreeBuilder .
<. /
T/ 0
>0 1
:2 3
TypeWashedPipeline4 F
whereG L
TM N
:O P
classQ V
,V W
ISpatialX `
{ 
private 
List 
< 
T 
> 
currentFigure %
;% &
private 
SpatialBuilderNode "
currentNode# .
;. /
private"" 
SpatialBuilderNode"" "
lastConstructedNode""# 6
;""6 7
public'' 
event'' 
Action'' 
<'' 
T'' 
>'' 
ProduceInstance'' .
;''. /
public-- 
T-- 
ConstructedInstance-- $
{.. 	
get// 
{00 
if11 
(11 
this11 
.11 
lastConstructedNode11 ,
==11- /
null110 4
||115 7
this118 <
.11< =
lastConstructedNode11= P
.11P Q
Instance11Q Y
==11Z \
null11] a
||11b d
this11e i
.11i j
lastConstructedNode11j }
.11} ~
Parent	11~ Ñ
!=
11Ö á
null
11à å
)
11å ç
{22 
throw33 
new33 %
InvalidOperationException33 7
(337 8
Strings338 ?
.33? @2
&SpatialBuilder_CannotCreateBeforeDrawn33@ f
)33f g
;33g h
}44 
return66 
this66 
.66 
lastConstructedNode66 /
.66/ 0
Instance660 8
;668 9
}77 
}88 	
public@@ 
override@@ 
bool@@ 
IsGeography@@ (
{AA 	
getBB 
{BB 
returnBB 
typeofBB 
(BB  
	GeographyBB  )
)BB) *
.BB* +
IsAssignableFromBB+ ;
(BB; <
typeofBB< B
(BBB C
TBBC D
)BBD E
)BBE F
;BBF G
}BBH I
}CC 	
[LL 	
SuppressMessageLL	 
(LL 
$strLL +
,LL+ ,
$strLL- 5
,LL5 6
JustificationLL7 D
=LLE F
$strLLG _
)LL_ `
]LL` a
internalMM 
overrideMM 
voidMM 
LineToMM %
(MM% &
doubleMM& ,
xMM- .
,MM. /
doubleMM0 6
yMM7 8
,MM8 9
doubleMM: @
?MM@ A
zMMB C
,MMC D
doubleMME K
?MMK L
mMMM N
)MMN O
{NN 	
thisOO 
.OO 
currentFigureOO 
.OO 
AddOO "
(OO" #
thisOO# '
.OO' (
CreatePointOO( 3
(OO3 4
falseOO4 9
,OO9 :
xOO; <
,OO< =
yOO> ?
,OO? @
zOOA B
,OOB C
mOOD E
)OOE F
)OOF G
;OOG H
}PP 	
[YY 	
SuppressMessageYY	 
(YY 
$strYY +
,YY+ ,
$strYY- 5
,YY5 6
JustificationYY7 D
=YYE F
$strYYG _
)YY_ `
]YY` a
internalZZ 
overrideZZ 
voidZZ 
BeginFigureZZ *
(ZZ* +
doubleZZ+ 1
coordinate1ZZ2 =
,ZZ= >
doubleZZ? E
coordinate2ZZF Q
,ZZQ R
doubleZZS Y
?ZZY Z
coordinate3ZZ[ f
,ZZf g
doubleZZh n
?ZZn o
coordinate4ZZp {
)ZZ{ |
{[[ 	
if\\ 
(\\ 
this\\ 
.\\ 
currentFigure\\ "
==\\# %
null\\& *
)\\* +
{]] 
this^^ 
.^^ 
currentFigure^^ "
=^^# $
new^^% (
List^^) -
<^^- .
T^^. /
>^^/ 0
(^^0 1
)^^1 2
;^^2 3
}__ 
thisaa 
.aa 
currentFigureaa 
.aa 
Addaa "
(aa" #
thisaa# '
.aa' (
CreatePointaa( 3
(aa3 4
falseaa4 9
,aa9 :
coordinate1aa; F
,aaF G
coordinate2aaH S
,aaS T
coordinate3aaU `
,aa` a
coordinate4aab m
)aam n
)aan o
;aao p
}bb 	
internalhh 
overridehh 
voidhh 
BeginGeohh '
(hh' (
SpatialTypehh( 3
typehh4 8
)hh8 9
{ii 	
Debugjj 
.jj 
Assertjj 
(jj 
typejj 
!=jj  
SpatialTypejj! ,
.jj, -
Unknownjj- 4
,jj4 5
$strjj6 s
)jjs t
;jjt u
ifmm 
(mm 
thismm 
.mm 
currentNodemm  
==mm! #
nullmm$ (
)mm( )
{nn 
thisoo 
.oo 
currentNodeoo  
=oo! "
newoo# &
SpatialBuilderNodeoo' 9
{oo: ;
Typeoo< @
=ooA B
typeooC G
}ooH I
;ooI J
thisrr 
.rr 
lastConstructedNoderr (
=rr) *
nullrr+ /
;rr/ 0
}ss 
elsett 
{uu 
thisvv 
.vv 
currentNodevv  
=vv! "
thisvv# '
.vv' (
currentNodevv( 3
.vv3 4
CreateChildrenvv4 B
(vvB C
typevvC G
)vvG H
;vvH I
}ww 
}xx 	
internal}} 
override}} 
void}} 
	EndFigure}} (
(}}( )
)}}) *
{~~ 	
Debug 
. 
Assert 
( 
this 
. 
currentFigure +
!=, .
null/ 3
,3 4
$str5 z
)z {
;{ |
if
ÇÇ 
(
ÇÇ 
this
ÇÇ 
.
ÇÇ 
currentFigure
ÇÇ "
.
ÇÇ" #
Count
ÇÇ# (
==
ÇÇ) +
$num
ÇÇ, -
)
ÇÇ- .
{
ÉÉ  
SpatialBuilderNode
ÖÖ "
	pointNode
ÖÖ# ,
=
ÖÖ- .
this
ÖÖ/ 3
.
ÖÖ3 4
currentNode
ÖÖ4 ?
.
ÖÖ? @
CreateChildren
ÖÖ@ N
(
ÖÖN O
SpatialType
ÖÖO Z
.
ÖÖZ [
Point
ÖÖ[ `
)
ÖÖ` a
;
ÖÖa b
	pointNode
ÜÜ 
.
ÜÜ 
Instance
ÜÜ "
=
ÜÜ# $
this
ÜÜ% )
.
ÜÜ) *
currentFigure
ÜÜ* 7
[
ÜÜ7 8
$num
ÜÜ8 9
]
ÜÜ9 :
;
ÜÜ: ;
}
áá 
else
àà 
{
ââ  
SpatialBuilderNode
ää "
lineStringNode
ää# 1
=
ää2 3
this
ää4 8
.
ää8 9
currentNode
ää9 D
.
ääD E
CreateChildren
ääE S
(
ääS T
SpatialType
ääT _
.
ää_ `

LineString
ää` j
)
ääj k
;
ääk l
lineStringNode
ãã 
.
ãã 
Instance
ãã '
=
ãã( )
this
ãã* .
.
ãã. /!
CreateShapeInstance
ãã/ B
(
ããB C
SpatialType
ããC N
.
ããN O

LineString
ããO Y
,
ããY Z
this
ãã[ _
.
ãã_ `
currentFigure
ãã` m
)
ããm n
;
ããn o
}
åå 
this
èè 
.
èè 
currentFigure
èè 
=
èè  
null
èè! %
;
èè% &
}
êê 	
internal
ïï 
override
ïï 
void
ïï 
EndGeo
ïï %
(
ïï% &
)
ïï& '
{
ññ 	
switch
òò 
(
òò 
this
òò 
.
òò 
currentNode
òò $
.
òò$ %
Type
òò% )
)
òò) *
{
ôô 
case
öö 
SpatialType
öö  
.
öö  !
Point
öö! &
:
öö& '
this
õõ 
.
õõ 
currentNode
õõ $
.
õõ$ %
Instance
õõ% -
=
õõ. /
this
õõ0 4
.
õõ4 5
currentNode
õõ5 @
.
õõ@ A
Children
õõA I
.
õõI J
Count
õõJ O
>
õõP Q
$num
õõR S
?
õõT U
this
õõV Z
.
õõZ [
currentNode
õõ[ f
.
õõf g
Children
õõg o
[
õõo p
$num
õõp q
]
õõq r
.
õõr s
Instance
õõs {
:
õõ| }
thisõõ~ Ç
.õõÇ É
CreatePointõõÉ é
(õõé è
trueõõè ì
,õõì î
doubleõõï õ
.õõõ ú
NaNõõú ü
,õõü †
doubleõõ° ß
.õõß ®
NaNõõ® ´
,õõ´ ¨
nullõõ≠ ±
,õõ± ≤
nullõõ≥ ∑
)õõ∑ ∏
;õõ∏ π
break
úú 
;
úú 
case
ùù 
SpatialType
ùù  
.
ùù  !

LineString
ùù! +
:
ùù+ ,
this
ûû 
.
ûû 
currentNode
ûû $
.
ûû$ %
Instance
ûû% -
=
ûû. /
this
ûû0 4
.
ûû4 5
currentNode
ûû5 @
.
ûû@ A
Children
ûûA I
.
ûûI J
Count
ûûJ O
>
ûûP Q
$num
ûûR S
?
ûûT U
this
ûûV Z
.
ûûZ [
currentNode
ûû[ f
.
ûûf g
Children
ûûg o
[
ûûo p
$num
ûûp q
]
ûûq r
.
ûûr s
Instance
ûûs {
:
ûû| }
thisûû~ Ç
.ûûÇ É#
CreateShapeInstanceûûÉ ñ
(ûûñ ó
SpatialTypeûûó ¢
.ûû¢ £

LineStringûû£ ≠
,ûû≠ Æ
newûûØ ≤
Tûû≥ ¥
[ûû¥ µ
$numûûµ ∂
]ûû∂ ∑
)ûû∑ ∏
;ûû∏ π
break
üü 
;
üü 
case
†† 
SpatialType
††  
.
††  !
Polygon
††! (
:
††( )
case
°° 
SpatialType
°°  
.
°°  !

MultiPoint
°°! +
:
°°+ ,
case
¢¢ 
SpatialType
¢¢  
.
¢¢  !
MultiLineString
¢¢! 0
:
¢¢0 1
case
££ 
SpatialType
££  
.
££  !
MultiPolygon
££! -
:
££- .
case
§§ 
SpatialType
§§  
.
§§  !

Collection
§§! +
:
§§+ ,
this
•• 
.
•• 
currentNode
•• $
.
••$ %
Instance
••% -
=
••. /
this
••0 4
.
••4 5!
CreateShapeInstance
••5 H
(
••H I
this
••I M
.
••M N
currentNode
••N Y
.
••Y Z
Type
••Z ^
,
••^ _
this
••` d
.
••d e
currentNode
••e p
.
••p q
Children
••q y
.
••y z
Select••z Ä
(••Ä Å
node••Å Ö
=>••Ü à
node••â ç
.••ç é
Instance••é ñ
)••ñ ó
)••ó ò
;••ò ô
break
¶¶ 
;
¶¶ 
case
ßß 
SpatialType
ßß  
.
ßß  !
	FullGlobe
ßß! *
:
ßß* +
this
®® 
.
®® 
currentNode
®® $
.
®®$ %
Instance
®®% -
=
®®. /
this
®®0 4
.
®®4 5!
CreateShapeInstance
®®5 H
(
®®H I
SpatialType
®®I T
.
®®T U
	FullGlobe
®®U ^
,
®®^ _
new
®®` c
T
®®d e
[
®®e f
$num
®®f g
]
®®g h
)
®®h i
;
®®i j
break
©© 
;
©© 
default
™™ 
:
™™ 
Debug
´´ 
.
´´ 
Assert
´´  
(
´´  !
false
´´! &
,
´´& '
$str
´´( @
)
´´@ A
;
´´A B
break
¨¨ 
;
¨¨ 
}
≠≠ 
this
ØØ 
.
ØØ 
TraverseUpTheTree
ØØ "
(
ØØ" #
)
ØØ# $
;
ØØ$ %
this
∞∞ 
.
∞∞ 5
'NotifyIfWeJustFinishedBuildingSomething
∞∞ 8
(
∞∞8 9
)
∞∞9 :
;
∞∞: ;
}
±± 	
internal
∂∂ 
override
∂∂ 
void
∂∂ 
Reset
∂∂ $
(
∂∂$ %
)
∂∂% &
{
∑∑ 	
this
∏∏ 
.
∏∏ 
currentNode
∏∏ 
=
∏∏ 
null
∏∏ #
;
∏∏# $
this
ππ 
.
ππ 
currentFigure
ππ 
=
ππ  
null
ππ! %
;
ππ% &
}
∫∫ 	
	protected
≈≈ 
abstract
≈≈ 
T
≈≈ 
CreatePoint
≈≈ (
(
≈≈( )
bool
≈≈) -
isEmpty
≈≈. 5
,
≈≈5 6
double
≈≈7 =
x
≈≈> ?
,
≈≈? @
double
≈≈A G
y
≈≈H I
,
≈≈I J
double
≈≈K Q
?
≈≈Q R
z
≈≈S T
,
≈≈T U
double
≈≈V \
?
≈≈\ ]
m
≈≈^ _
)
≈≈_ `
;
≈≈` a
	protected
ÕÕ 
abstract
ÕÕ 
T
ÕÕ !
CreateShapeInstance
ÕÕ 0
(
ÕÕ0 1
SpatialType
ÕÕ1 <
type
ÕÕ= A
,
ÕÕA B
IEnumerable
ÕÕC N
<
ÕÕN O
T
ÕÕO P
>
ÕÕP Q
spatialData
ÕÕR ]
)
ÕÕ] ^
;
ÕÕ^ _
private
““ 
void
““ 5
'NotifyIfWeJustFinishedBuildingSomething
““ <
(
““< =
)
““= >
{
”” 	
if
‘‘ 
(
‘‘ 
this
‘‘ 
.
‘‘ 
currentNode
‘‘  
==
‘‘! #
null
‘‘$ (
&&
‘‘) +
this
‘‘, 0
.
‘‘0 1
ProduceInstance
‘‘1 @
!=
‘‘A C
null
‘‘D H
)
‘‘H I
{
’’ 
this
÷÷ 
.
÷÷ 
ProduceInstance
÷÷ $
(
÷÷$ %
this
÷÷% )
.
÷÷) *!
lastConstructedNode
÷÷* =
.
÷÷= >
Instance
÷÷> F
)
÷÷F G
;
÷÷G H
}
◊◊ 
}
ÿÿ 	
private
›› 
void
›› 
TraverseUpTheTree
›› &
(
››& '
)
››' (
{
ﬁﬁ 	
this
ﬂﬂ 
.
ﬂﬂ !
lastConstructedNode
ﬂﬂ $
=
ﬂﬂ% &
this
ﬂﬂ' +
.
ﬂﬂ+ ,
currentNode
ﬂﬂ, 7
;
ﬂﬂ7 8
this
‡‡ 
.
‡‡ 
currentNode
‡‡ 
=
‡‡ 
this
‡‡ #
.
‡‡# $
currentNode
‡‡$ /
.
‡‡/ 0
Parent
‡‡0 6
;
‡‡6 7
}
·· 	
private
ÊÊ 
class
ÊÊ  
SpatialBuilderNode
ÊÊ (
{
ÁÁ 	
public
ÎÎ  
SpatialBuilderNode
ÎÎ %
(
ÎÎ% &
)
ÎÎ& '
{
ÏÏ 
this
ÌÌ 
.
ÌÌ 
Children
ÌÌ 
=
ÌÌ 
new
ÌÌ  #
List
ÌÌ$ (
<
ÌÌ( ) 
SpatialBuilderNode
ÌÌ) ;
>
ÌÌ; <
(
ÌÌ< =
)
ÌÌ= >
;
ÌÌ> ?
}
ÓÓ 
public
ÛÛ 
List
ÛÛ 
<
ÛÛ  
SpatialBuilderNode
ÛÛ *
>
ÛÛ* +
Children
ÛÛ, 4
{
ÛÛ5 6
get
ÛÛ7 :
;
ÛÛ: ;
private
ÛÛ< C
set
ÛÛD G
;
ÛÛG H
}
ÛÛI J
public
¯¯ 
T
¯¯ 
Instance
¯¯ 
{
¯¯ 
get
¯¯  #
;
¯¯# $
set
¯¯% (
;
¯¯( )
}
¯¯* +
public
˝˝  
SpatialBuilderNode
˝˝ %
Parent
˝˝& ,
{
˝˝- .
get
˝˝/ 2
;
˝˝2 3
private
˝˝4 ;
set
˝˝< ?
;
˝˝? @
}
˝˝A B
public
ÇÇ 
SpatialType
ÇÇ 
Type
ÇÇ #
{
ÇÇ$ %
get
ÇÇ& )
;
ÇÇ) *
set
ÇÇ+ .
;
ÇÇ. /
}
ÇÇ0 1
internal
ââ  
SpatialBuilderNode
ââ '
CreateChildren
ââ( 6
(
ââ6 7
SpatialType
ââ7 B
type
ââC G
)
ââG H
{
ää 
var
ãã 
node
ãã 
=
ãã 
new
ãã  
SpatialBuilderNode
ãã 1
{
ãã2 3
Parent
ãã4 :
=
ãã; <
this
ãã= A
,
ããA B
Type
ããC G
=
ããH I
type
ããJ N
}
ããO P
;
ããP Q
this
åå 
.
åå 
Children
åå 
.
åå 
Add
åå !
(
åå! "
node
åå" &
)
åå& '
;
åå' (
return
çç 
node
çç 
;
çç 
}
éé 
}
èè 	
}
êê 
}ëë †
8D:\odata.net\src\Microsoft.Spatial\TypeWashedPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
TypeWashedPipeline .
{ 
public 
abstract 
bool 
IsGeography (
{) *
get+ .
;. /
}0 1
internal 
abstract 
void 
SetCoordinateSystem 2
(2 3
int3 6
?6 7
epsgId8 >
)> ?
;? @
internal 
abstract 
void 
Reset $
($ %
)% &
;& '
internal%% 
abstract%% 
void%% 
BeginGeo%% '
(%%' (
SpatialType%%( 3
type%%4 8
)%%8 9
;%%9 :
internal.. 
abstract.. 
void.. 
BeginFigure.. *
(..* +
double..+ 1
coordinate1..2 =
,..= >
double..? E
coordinate2..F Q
,..Q R
double..S Y
?..Y Z
coordinate3..[ f
,..f g
double..h n
?..n o
coordinate4..p {
)..{ |
;..| }
internal77 
abstract77 
void77 
LineTo77 %
(77% &
double77& ,
coordinate177- 8
,778 9
double77: @
coordinate277A L
,77L M
double77N T
?77T U
coordinate377V a
,77a b
double77c i
?77i j
coordinate477k v
)77v w
;77w x
internal<< 
abstract<< 
void<< 
	EndFigure<< (
(<<( )
)<<) *
;<<* +
internalAA 
abstractAA 
voidAA 
EndGeoAA %
(AA% &
)AA& '
;AA' (
}BB 
}CC … 
BD:\odata.net\src\Microsoft.Spatial\TypeWashedToGeometryPipeline.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class (
TypeWashedToGeometryPipeline /
:0 1
TypeWashedPipeline2 D
{ 
private 
readonly 
GeometryPipeline )
output* 0
;0 1
public (
TypeWashedToGeometryPipeline +
(+ ,
SpatialPipeline, ;
output< B
)B C
{ 	
this 
. 
output 
= 
output  
;  !
} 	
public"" 
override"" 
bool"" 
IsGeography"" (
{## 	
get$$ 
{$$ 
return$$ 
false$$ 
;$$ 
}$$  !
}%% 	
internal++ 
override++ 
void++ 
SetCoordinateSystem++ 2
(++2 3
int++3 6
?++6 7
epsgId++8 >
)++> ?
{,, 	
var-- 
coordinateSystem--  
=--! "
CoordinateSystem--# 3
.--3 4
Geometry--4 <
(--< =
epsgId--= C
)--C D
;--D E
this.. 
... 
output.. 
... 
SetCoordinateSystem.. +
(..+ ,
coordinateSystem.., <
)..< =
;..= >
}// 	
internal44 
override44 
void44 
Reset44 $
(44$ %
)44% &
{55 	
output66 
.66 
Reset66 
(66 
)66 
;66 
}77 	
internal== 
override== 
void== 
BeginGeo== '
(==' (
SpatialType==( 3
type==4 8
)==8 9
{>> 	
this?? 
.?? 
output?? 
.?? 
BeginGeometry?? %
(??% &
type??& *
)??* +
;??+ ,
}@@ 	
internalII 
overrideII 
voidII 
BeginFigureII *
(II* +
doubleII+ 1
coordinate1II2 =
,II= >
doubleII? E
coordinate2IIF Q
,IIQ R
doubleIIS Y
?IIY Z
coordinate3II[ f
,IIf g
doubleIIh n
?IIn o
coordinate4IIp {
)II{ |
{JJ 	
thisKK 
.KK 
outputKK 
.KK 
BeginFigureKK #
(KK# $
newKK$ '
GeometryPositionKK( 8
(KK8 9
coordinate1KK9 D
,KKD E
coordinate2KKF Q
,KKQ R
coordinate3KKS ^
,KK^ _
coordinate4KK` k
)KKk l
)KKl m
;KKm n
}LL 	
internalUU 
overrideUU 
voidUU 
LineToUU %
(UU% &
doubleUU& ,
coordinate1UU- 8
,UU8 9
doubleUU: @
coordinate2UUA L
,UUL M
doubleUUN T
?UUT U
coordinate3UUV a
,UUa b
doubleUUc i
?UUi j
coordinate4UUk v
)UUv w
{VV 	
thisWW 
.WW 
outputWW 
.WW 
LineToWW 
(WW 
newWW "
GeometryPositionWW# 3
(WW3 4
coordinate1WW4 ?
,WW? @
coordinate2WWA L
,WWL M
coordinate3WWN Y
,WWY Z
coordinate4WW[ f
)WWf g
)WWg h
;WWh i
}XX 	
internal]] 
override]] 
void]] 
	EndFigure]] (
(]]( )
)]]) *
{^^ 	
this__ 
.__ 
output__ 
.__ 
	EndFigure__ !
(__! "
)__" #
;__# $
}`` 	
internalee 
overrideee 
voidee 
EndGeoee %
(ee% &
)ee& '
{ff 	
thisgg 
.gg 
outputgg 
.gg 
EndGeometrygg #
(gg# $
)gg$ %
;gg% &
}hh 	
}ii 
}jj ©ï
DD:\odata.net\src\Microsoft.Spatial\SpatialValidatorImplementation.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal++ 
class++ *
SpatialValidatorImplementation++ 1
:++2 3
SpatialPipeline++4 C
{,, 
internal33 
const33 
double33 
MaxLongitude33 *
=33+ ,
$num33- 2
;332 3
internal88 
const88 
double88 
MaxLatitude88 )
=88* +
$num88, .
;88. /
private== 
readonly== 
NestedValidator== (&
geographyValidatorInstance==) C
===D E
new==F I
NestedValidator==J Y
(==Y Z
)==Z [
;==[ \
privateBB 
readonlyBB 
NestedValidatorBB (%
geometryValidatorInstanceBB) B
=BBC D
newBBE H
NestedValidatorBBI X
(BBX Y
)BBY Z
;BBZ [
publicGG 
overrideGG 
GeographyPipelineGG )
GeographyPipelineGG* ;
{HH 	
getII 
{II 
returnII 
thisII 
.II &
geographyValidatorInstanceII 8
.II8 9
GeographyPipelineII9 J
;IIJ K
}IIL M
}JJ 	
publicOO 
overrideOO 
GeometryPipelineOO (
GeometryPipelineOO) 9
{PP 	
getQQ 
{QQ 
returnQQ 
thisQQ 
.QQ %
geometryValidatorInstanceQQ 7
.QQ7 8
GeometryPipelineQQ8 H
;QQH I
}QQJ K
}RR 	
private[[ 
class[[ 
NestedValidator[[ %
:[[& '
DrawBoth[[( 0
{\\ 	
private`` 
static`` 
readonly`` #
ValidatorState``$ 2
CoordinateSystem``3 C
=``D E
new``F I$
SetCoordinateSystemState``J b
(``b c
)``c d
;``d e
privateee 
staticee 
readonlyee #
ValidatorStateee$ 2
BeginSpatialee3 ?
=ee@ A
neweeB E
BeginGeoStateeeF S
(eeS T
)eeT U
;eeU V
privatejj 
staticjj 
readonlyjj #
ValidatorStatejj$ 2

PointStartjj3 =
=jj> ?
newjj@ C
PointStartStatejjD S
(jjS T
)jjT U
;jjU V
privateoo 
staticoo 
readonlyoo #
ValidatorStateoo$ 2
PointBuildingoo3 @
=ooA B
newooC F
PointBuildingStateooG Y
(ooY Z
)ooZ [
;oo[ \
privatett 
statictt 
readonlytt #
ValidatorStatett$ 2
PointEndtt3 ;
=tt< =
newtt> A
PointEndStatettB O
(ttO P
)ttP Q
;ttQ R
privateyy 
staticyy 
readonlyyy #
ValidatorStateyy$ 2
LineStringStartyy3 B
=yyC D
newyyE H 
LineStringStartStateyyI ]
(yy] ^
)yy^ _
;yy_ `
private~~ 
static~~ 
readonly~~ #
ValidatorState~~$ 2
LineStringBuilding~~3 E
=~~F G
new~~H K#
LineStringBuildingState~~L c
(~~c d
)~~d e
;~~e f
private
ÉÉ 
static
ÉÉ 
readonly
ÉÉ #
ValidatorState
ÉÉ$ 2
LineStringEnd
ÉÉ3 @
=
ÉÉA B
new
ÉÉC F 
LineStringEndState
ÉÉG Y
(
ÉÉY Z
)
ÉÉZ [
;
ÉÉ[ \
private
àà 
static
àà 
readonly
àà #
ValidatorState
àà$ 2
PolygonStart
àà3 ?
=
àà@ A
new
ààB E
PolygonStartState
ààF W
(
ààW X
)
ààX Y
;
ààY Z
private
çç 
static
çç 
readonly
çç #
ValidatorState
çç$ 2
PolygonBuilding
çç3 B
=
ççC D
new
ççE H"
PolygonBuildingState
ççI ]
(
çç] ^
)
çç^ _
;
çç_ `
private
íí 
static
íí 
readonly
íí #
ValidatorState
íí$ 2

MultiPoint
íí3 =
=
íí> ?
new
íí@ C
MultiPointState
ííD S
(
ííS T
)
ííT U
;
ííU V
private
óó 
static
óó 
readonly
óó #
ValidatorState
óó$ 2
MultiLineString
óó3 B
=
óóC D
new
óóE H"
MultiLineStringState
óóI ]
(
óó] ^
)
óó^ _
;
óó_ `
private
úú 
static
úú 
readonly
úú #
ValidatorState
úú$ 2
MultiPolygon
úú3 ?
=
úú@ A
new
úúB E
MultiPolygonState
úúF W
(
úúW X
)
úúX Y
;
úúY Z
private
°° 
static
°° 
readonly
°° #
ValidatorState
°°$ 2

Collection
°°3 =
=
°°> ?
new
°°@ C
CollectionState
°°D S
(
°°S T
)
°°T U
;
°°U V
private
¶¶ 
static
¶¶ 
readonly
¶¶ #
ValidatorState
¶¶$ 2
	FullGlobe
¶¶3 <
=
¶¶= >
new
¶¶? B
FullGlobeState
¶¶C Q
(
¶¶Q R
)
¶¶R S
;
¶¶S T
private
¨¨ 
const
¨¨ 
int
¨¨ (
MaxGeometryCollectionDepth
¨¨ 8
=
¨¨9 :
$num
¨¨; =
;
¨¨= >
private
±± 
readonly
±± 
Stack
±± "
<
±±" #
ValidatorState
±±# 1
>
±±1 2
stack
±±3 8
=
±±9 :
new
±±; >
Stack
±±? D
<
±±D E
ValidatorState
±±E S
>
±±S T
(
±±T U
$num
±±U W
)
±±W X
;
±±X Y
private
∂∂ 
CoordinateSystem
∂∂ $(
validationCoordinateSystem
∂∂% ?
;
∂∂? @
private
ªª 
int
ªª 
	ringCount
ªª !
;
ªª! "
private
¿¿ 
double
¿¿ $
initialFirstCoordinate
¿¿ 1
;
¿¿1 2
private
≈≈ 
double
≈≈ %
initialSecondCoordinate
≈≈ 2
;
≈≈2 3
private
   
double
   '
mostRecentFirstCoordinate
   4
;
  4 5
private
œœ 
double
œœ (
mostRecentSecondCoordinate
œœ 5
;
œœ5 6
private
‘‘ 
bool
‘‘ !
processingGeography
‘‘ ,
;
‘‘, -
private
‡‡ 
int
‡‡ 

pointCount
‡‡ "
;
‡‡" #
private
ÂÂ 
int
ÂÂ 
depth
ÂÂ 
;
ÂÂ 
public
ÍÍ 
NestedValidator
ÍÍ "
(
ÍÍ" #
)
ÍÍ# $
{
ÎÎ 
InitializeObject
ÏÏ  
(
ÏÏ  !
)
ÏÏ! "
;
ÏÏ" #
}
ÌÌ 
private
ÚÚ 
enum
ÚÚ 
PipelineCall
ÚÚ %
{
ÛÛ !
SetCoordinateSystem
˜˜ #
,
˜˜# $
Begin
˝˝ 
,
˝˝ 

BeginPoint
ÇÇ 
,
ÇÇ 
BeginLineString
áá 
,
áá  
BeginPolygon
åå 
,
åå 
BeginMultiPoint
ëë 
,
ëë  "
BeginMultiLineString
ññ $
,
ññ$ %
BeginMultiPolygon
õõ !
,
õõ! "
BeginCollection
†† 
,
††  
BeginFullGlobe
•• 
,
•• 
BeginFigure
™™ 
,
™™ 
LineTo
ØØ 
,
ØØ 
	EndFigure
ΩΩ 
,
ΩΩ 
End
¬¬ 
,
¬¬ 
}
√√ 
	protected
   
override
   
CoordinateSystem
   /#
OnSetCoordinateSystem
  0 E
(
  E F
CoordinateSystem
  F V
coordinateSystem
  W g
)
  g h
{
ÀÀ 
ValidatorState
ÃÃ 
currentState
ÃÃ +
=
ÃÃ, -
this
ÃÃ. 2
.
ÃÃ2 3
stack
ÃÃ3 8
.
ÃÃ8 9
Peek
ÃÃ9 =
(
ÃÃ= >
)
ÃÃ> ?
;
ÃÃ? @
Execute
ÕÕ 
(
ÕÕ 
PipelineCall
ÕÕ $
.
ÕÕ$ %!
SetCoordinateSystem
ÕÕ% 8
)
ÕÕ8 9
;
ÕÕ9 :
if
œœ 
(
œœ 
currentState
œœ  
==
œœ! #
CoordinateSystem
œœ$ 4
)
œœ4 5
{
–– 
this
—— 
.
—— (
validationCoordinateSystem
—— 3
=
——4 5
coordinateSystem
——6 F
;
——F G
}
““ 
else
”” 
if
”” 
(
”” 
this
”” 
.
”” (
validationCoordinateSystem
”” 8
!=
””9 ;
coordinateSystem
””< L
)
””L M
{
‘‘ 
throw
’’ 
new
’’ 
FormatException
’’ -
(
’’- .
Strings
’’. 5
.
’’5 6$
Validator_SridMismatch
’’6 L
)
’’L M
;
’’M N
}
÷÷ 
return
ÿÿ 
coordinateSystem
ÿÿ '
;
ÿÿ' (
}
ŸŸ 
	protected
‡‡ 
override
‡‡ 
SpatialType
‡‡ *
OnBeginGeography
‡‡+ ;
(
‡‡; <
SpatialType
‡‡< G
shape
‡‡H M
)
‡‡M N
{
·· 
if
‚‚ 
(
‚‚ 
this
‚‚ 
.
‚‚ 
depth
‚‚ 
>
‚‚  
$num
‚‚! "
&&
‚‚# %
!
‚‚& '
this
‚‚' +
.
‚‚+ ,!
processingGeography
‚‚, ?
)
‚‚? @
{
„„ 
throw
‰‰ 
new
‰‰ 
FormatException
‰‰ -
(
‰‰- .
Strings
‰‰. 5
.
‰‰5 6*
Validator_UnexpectedGeometry
‰‰6 R
)
‰‰R S
;
‰‰S T
}
ÂÂ 
this
ÁÁ 
.
ÁÁ !
processingGeography
ÁÁ (
=
ÁÁ) *
true
ÁÁ+ /
;
ÁÁ/ 0

BeginShape
ËË 
(
ËË 
shape
ËË  
)
ËË  !
;
ËË! "
return
ÍÍ 
shape
ÍÍ 
;
ÍÍ 
}
ÎÎ 
	protected
 
override
 
void
 #
OnEndGeography
$ 2
(
2 3
)
3 4
{
ÒÒ 
Execute
ÚÚ 
(
ÚÚ 
PipelineCall
ÚÚ $
.
ÚÚ$ %
End
ÚÚ% (
)
ÚÚ( )
;
ÚÚ) *
if
ÛÛ 
(
ÛÛ 
!
ÛÛ 
this
ÛÛ 
.
ÛÛ !
processingGeography
ÛÛ -
)
ÛÛ- .
{
ÙÙ 
throw
ıı 
new
ıı 
FormatException
ıı -
(
ıı- .
Strings
ıı. 5
.
ıı5 6*
Validator_UnexpectedGeometry
ıı6 R
)
ııR S
;
ııS T
}
ˆˆ 
this
¯¯ 
.
¯¯ 
depth
¯¯ 
-=
¯¯ 
$num
¯¯ 
;
¯¯  
}
˘˘ 
	protected
ÄÄ 
override
ÄÄ 
SpatialType
ÄÄ *
OnBeginGeometry
ÄÄ+ :
(
ÄÄ: ;
SpatialType
ÄÄ; F
shape
ÄÄG L
)
ÄÄL M
{
ÅÅ 
if
ÇÇ 
(
ÇÇ 
this
ÇÇ 
.
ÇÇ 
depth
ÇÇ 
>
ÇÇ  
$num
ÇÇ! "
&&
ÇÇ# %
this
ÇÇ& *
.
ÇÇ* +!
processingGeography
ÇÇ+ >
)
ÇÇ> ?
{
ÉÉ 
throw
ÑÑ 
new
ÑÑ 
FormatException
ÑÑ -
(
ÑÑ- .
Strings
ÑÑ. 5
.
ÑÑ5 6+
Validator_UnexpectedGeography
ÑÑ6 S
)
ÑÑS T
;
ÑÑT U
}
ÖÖ 
this
áá 
.
áá !
processingGeography
áá (
=
áá) *
false
áá+ 0
;
áá0 1

BeginShape
àà 
(
àà 
shape
àà  
)
àà  !
;
àà! "
return
ââ 
shape
ââ 
;
ââ 
}
ää 
	protected
èè 
override
èè 
void
èè #
OnEndGeometry
èè$ 1
(
èè1 2
)
èè2 3
{
êê 
Execute
ëë 
(
ëë 
PipelineCall
ëë $
.
ëë$ %
End
ëë% (
)
ëë( )
;
ëë) *
if
íí 
(
íí 
this
íí 
.
íí !
processingGeography
íí ,
)
íí, -
{
ìì 
throw
îî 
new
îî 
FormatException
îî -
(
îî- .
Strings
îî. 5
.
îî5 6+
Validator_UnexpectedGeography
îî6 S
)
îîS T
;
îîT U
}
ïï 
this
óó 
.
óó 
depth
óó 
-=
óó 
$num
óó 
;
óó  
}
òò 
	protected
üü 
override
üü 
GeographyPosition
üü 0
OnBeginFigure
üü1 >
(
üü> ?
GeographyPosition
üü? P
position
üüQ Y
)
üüY Z
{
†† 
BeginFigure
°° 
(
°° '
ValidateGeographyPosition
°° 5
,
°°5 6
position
°°7 ?
.
°°? @
Latitude
°°@ H
,
°°H I
position
°°J R
.
°°R S
	Longitude
°°S \
,
°°\ ]
position
°°^ f
.
°°f g
Z
°°g h
,
°°h i
position
°°j r
.
°°r s
M
°°s t
)
°°t u
;
°°u v
return
¢¢ 
position
¢¢ 
;
¢¢  
}
££ 
	protected
™™ 
override
™™ 
GeometryPosition
™™ /
OnBeginFigure
™™0 =
(
™™= >
GeometryPosition
™™> N
position
™™O W
)
™™W X
{
´´ 
BeginFigure
¨¨ 
(
¨¨ &
ValidateGeometryPosition
¨¨ 4
,
¨¨4 5
position
¨¨6 >
.
¨¨> ?
X
¨¨? @
,
¨¨@ A
position
¨¨B J
.
¨¨J K
Y
¨¨K L
,
¨¨L M
position
¨¨N V
.
¨¨V W
Z
¨¨W X
,
¨¨X Y
position
¨¨Z b
.
¨¨b c
M
¨¨c d
)
¨¨d e
;
¨¨e f
return
≠≠ 
position
≠≠ 
;
≠≠  
}
ÆÆ 
	protected
≥≥ 
override
≥≥ 
void
≥≥ #
OnEndFigure
≥≥$ /
(
≥≥/ 0
)
≥≥0 1
{
¥¥ 
Execute
µµ 
(
µµ 
PipelineCall
µµ $
.
µµ$ %
	EndFigure
µµ% .
)
µµ. /
;
µµ/ 0
}
∂∂ 
	protected
ªª 
override
ªª 
void
ªª #
OnReset
ªª$ +
(
ªª+ ,
)
ªª, -
{
ºº 
InitializeObject
ΩΩ  
(
ΩΩ  !
)
ΩΩ! "
;
ΩΩ" #
}
ææ 
	protected
≈≈ 
override
≈≈ 
GeographyPosition
≈≈ 0
OnLineTo
≈≈1 9
(
≈≈9 :
GeographyPosition
≈≈: K
position
≈≈L T
)
≈≈T U
{
∆∆ 
if
«« 
(
«« 
this
«« 
.
«« !
processingGeography
«« ,
)
««, -
{
»» '
ValidateGeographyPosition
…… -
(
……- .
position
……. 6
.
……6 7
Latitude
……7 ?
,
……? @
position
……A I
.
……I J
	Longitude
……J S
,
……S T
position
……U ]
.
……] ^
Z
……^ _
,
……_ `
position
……a i
.
……i j
M
……j k
)
……k l
;
……l m
}
   
AddControlPoint
ÃÃ 
(
ÃÃ  
position
ÃÃ  (
.
ÃÃ( )
Latitude
ÃÃ) 1
,
ÃÃ1 2
position
ÃÃ3 ;
.
ÃÃ; <
	Longitude
ÃÃ< E
)
ÃÃE F
;
ÃÃF G
if
ŒŒ 
(
ŒŒ 
!
ŒŒ 
this
ŒŒ 
.
ŒŒ !
processingGeography
ŒŒ -
)
ŒŒ- .
{
œœ 
throw
–– 
new
–– 
FormatException
–– -
(
––- .
Strings
––. 5
.
––5 6*
Validator_UnexpectedGeometry
––6 R
)
––R S
;
––S T
}
—— 
return
”” 
position
”” 
;
””  
}
‘‘ 
	protected
€€ 
override
€€ 
GeometryPosition
€€ /
OnLineTo
€€0 8
(
€€8 9
GeometryPosition
€€9 I
position
€€J R
)
€€R S
{
‹‹ 
if
›› 
(
›› 
!
›› 
this
›› 
.
›› !
processingGeography
›› -
)
››- .
{
ﬁﬁ &
ValidateGeometryPosition
ﬂﬂ ,
(
ﬂﬂ, -
position
ﬂﬂ- 5
.
ﬂﬂ5 6
X
ﬂﬂ6 7
,
ﬂﬂ7 8
position
ﬂﬂ9 A
.
ﬂﬂA B
Y
ﬂﬂB C
,
ﬂﬂC D
position
ﬂﬂE M
.
ﬂﬂM N
Z
ﬂﬂN O
,
ﬂﬂO P
position
ﬂﬂQ Y
.
ﬂﬂY Z
M
ﬂﬂZ [
)
ﬂﬂ[ \
;
ﬂﬂ\ ]
}
‡‡ 
AddControlPoint
‚‚ 
(
‚‚  
position
‚‚  (
.
‚‚( )
X
‚‚) *
,
‚‚* +
position
‚‚, 4
.
‚‚4 5
Y
‚‚5 6
)
‚‚6 7
;
‚‚7 8
if
‰‰ 
(
‰‰ 
this
‰‰ 
.
‰‰ !
processingGeography
‰‰ ,
)
‰‰, -
{
ÂÂ 
throw
ÊÊ 
new
ÊÊ 
FormatException
ÊÊ -
(
ÊÊ- .
Strings
ÊÊ. 5
.
ÊÊ5 6+
Validator_UnexpectedGeography
ÊÊ6 S
)
ÊÊS T
;
ÊÊT U
}
ÁÁ 
return
ÈÈ 
position
ÈÈ 
;
ÈÈ  
}
ÍÍ 
private
ÒÒ 
static
ÒÒ 
bool
ÒÒ 
IsFinite
ÒÒ  (
(
ÒÒ( )
double
ÒÒ) /
value
ÒÒ0 5
)
ÒÒ5 6
{
ÚÚ 
return
ÛÛ 
!
ÛÛ 
double
ÛÛ 
.
ÛÛ 
IsNaN
ÛÛ $
(
ÛÛ$ %
value
ÛÛ% *
)
ÛÛ* +
&&
ÛÛ, .
!
ÛÛ/ 0
double
ÛÛ0 6
.
ÛÛ6 7

IsInfinity
ÛÛ7 A
(
ÛÛA B
value
ÛÛB G
)
ÛÛG H
;
ÛÛH I
}
ÙÙ 
[
˛˛ 
SuppressMessage
˛˛ 
(
˛˛ 
$str
˛˛ /
,
˛˛/ 0
$str
˛˛1 9
,
˛˛9 :
Justification
˛˛; H
=
˛˛I J
$str
˛˛K c
)
˛˛c d
]
˛˛d e
private
ˇˇ 
static
ˇˇ 
bool
ˇˇ 
IsPointValid
ˇˇ  ,
(
ˇˇ, -
double
ˇˇ- 3
first
ˇˇ4 9
,
ˇˇ9 :
double
ˇˇ; A
second
ˇˇB H
,
ˇˇH I
double
ˇˇJ P
?
ˇˇP Q
z
ˇˇR S
,
ˇˇS T
double
ˇˇU [
?
ˇˇ[ \
m
ˇˇ] ^
)
ˇˇ^ _
{
ÄÄ 
return
ÅÅ 
IsFinite
ÅÅ 
(
ÅÅ  
first
ÅÅ  %
)
ÅÅ% &
&&
ÅÅ' )
IsFinite
ÅÅ* 2
(
ÅÅ2 3
second
ÅÅ3 9
)
ÅÅ9 :
&&
ÅÅ; =
(
ÅÅ> ?
z
ÅÅ? @
==
ÅÅA C
null
ÅÅD H
||
ÅÅI K
IsFinite
ÅÅL T
(
ÅÅT U
z
ÅÅU V
.
ÅÅV W
Value
ÅÅW \
)
ÅÅ\ ]
)
ÅÅ] ^
&&
ÅÅ_ a
(
ÇÇ 
m
ÇÇ 
==
ÇÇ 
null
ÇÇ !
||
ÇÇ" $
IsFinite
ÇÇ% -
(
ÇÇ- .
m
ÇÇ. /
.
ÇÇ/ 0
Value
ÇÇ0 5
)
ÇÇ5 6
)
ÇÇ6 7
;
ÇÇ7 8
}
ÉÉ 
private
åå 
static
åå 
void
åå !
ValidateOnePosition
åå  3
(
åå3 4
double
åå4 :
first
åå; @
,
åå@ A
double
ååB H
second
ååI O
,
ååO P
double
ååQ W
?
ååW X
z
ååY Z
,
ååZ [
double
åå\ b
?
ååb c
m
ååd e
)
ååe f
{
çç 
if
éé 
(
éé 
!
éé 
IsPointValid
éé !
(
éé! "
first
éé" '
,
éé' (
second
éé) /
,
éé/ 0
z
éé1 2
,
éé2 3
m
éé4 5
)
éé5 6
)
éé6 7
{
èè 
throw
êê 
new
êê 
FormatException
êê -
(
êê- .
Strings
êê. 5
.
êê5 6.
 Validator_InvalidPointCoordinate
êê6 V
(
êêV W
first
êêW \
,
êê\ ]
second
êê^ d
,
êêd e
z
êêf g
,
êêg h
m
êêi j
)
êêj k
)
êêk l
;
êêl m
}
ëë 
}
íí 
private
õõ 
static
õõ 
void
õõ '
ValidateGeographyPosition
õõ  9
(
õõ9 :
double
õõ: @
latitude
õõA I
,
õõI J
double
õõK Q
	longitude
õõR [
,
õõ[ \
double
õõ] c
?
õõc d
z
õõe f
,
õõf g
double
õõh n
?
õõn o
m
õõp q
)
õõq r
{
úú !
ValidateOnePosition
ùù #
(
ùù# $
latitude
ùù$ ,
,
ùù, -
	longitude
ùù. 7
,
ùù7 8
z
ùù9 :
,
ùù: ;
m
ùù< =
)
ùù= >
;
ùù> ?
if
ûû 
(
ûû 
!
ûû 
IsLatitudeValid
ûû $
(
ûû$ %
latitude
ûû% -
)
ûû- .
)
ûû. /
{
üü 
throw
†† 
new
†† 
FormatException
†† -
(
††- .
Strings
††. 5
.
††5 61
#Validator_InvalidLatitudeCoordinate
††6 Y
(
††Y Z
latitude
††Z b
)
††b c
)
††c d
;
††d e
}
°° 
if
££ 
(
££ 
!
££ 
IsLongitudeValid
££ %
(
££% &
	longitude
££& /
)
££/ 0
)
££0 1
{
§§ 
throw
•• 
new
•• 
FormatException
•• -
(
••- .
Strings
••. 5
.
••5 62
$Validator_InvalidLongitudeCoordinate
••6 Z
(
••Z [
	longitude
••[ d
)
••d e
)
••e f
;
••f g
}
¶¶ 
}
ßß 
private
∞∞ 
static
∞∞ 
void
∞∞ &
ValidateGeometryPosition
∞∞  8
(
∞∞8 9
double
∞∞9 ?
x
∞∞@ A
,
∞∞A B
double
∞∞C I
y
∞∞J K
,
∞∞K L
double
∞∞M S
?
∞∞S T
z
∞∞U V
,
∞∞V W
double
∞∞X ^
?
∞∞^ _
m
∞∞` a
)
∞∞a b
{
±± !
ValidateOnePosition
≤≤ #
(
≤≤# $
x
≤≤$ %
,
≤≤% &
y
≤≤' (
,
≤≤( )
z
≤≤* +
,
≤≤+ ,
m
≤≤- .
)
≤≤. /
;
≤≤/ 0
}
≥≥ 
private
∫∫ 
static
∫∫ 
bool
∫∫ 
IsLatitudeValid
∫∫  /
(
∫∫/ 0
double
∫∫0 6
latitude
∫∫7 ?
)
∫∫? @
{
ªª 
return
ºº 
latitude
ºº 
>=
ºº  "
-
ºº# $
MaxLatitude
ºº$ /
&&
ºº0 2
latitude
ºº3 ;
<=
ºº< >
MaxLatitude
ºº? J
;
ººJ K
}
ΩΩ 
private
ƒƒ 
static
ƒƒ 
bool
ƒƒ 
IsLongitudeValid
ƒƒ  0
(
ƒƒ0 1
double
ƒƒ1 7
	longitude
ƒƒ8 A
)
ƒƒA B
{
≈≈ 
return
∆∆ 
	longitude
∆∆  
>=
∆∆! #
-
∆∆$ %
MaxLongitude
∆∆% 1
&&
∆∆2 4
	longitude
∆∆5 >
<=
∆∆? A
MaxLongitude
∆∆B N
;
∆∆N O
}
«« 
private
—— 
static
—— 
void
—— &
ValidateGeographyPolygon
——  8
(
——8 9
int
““ 
numOfPoints
““ 
,
““  
double
”” $
initialFirstCoordinate
”” -
,
””- .
double
‘‘ %
initialSecondCoordinate
‘‘ .
,
‘‘. /
double
’’ '
mostRecentFirstCoordinate
’’ 0
,
’’0 1
double
÷÷ (
mostRecentSecondCoordinate
÷÷ 1
)
÷÷1 2
{
◊◊ 
if
ÿÿ 
(
ÿÿ 
numOfPoints
ÿÿ 
<
ÿÿ  !
$num
ÿÿ" #
||
ÿÿ$ &$
initialFirstCoordinate
ÿÿ' =
!=
ÿÿ> @'
mostRecentFirstCoordinate
ÿÿA Z
||
ÿÿ[ ]
!
ŸŸ  
AreLongitudesEqual
ŸŸ '
(
ŸŸ' (%
initialSecondCoordinate
ŸŸ( ?
,
ŸŸ? @(
mostRecentSecondCoordinate
ŸŸA [
)
ŸŸ[ \
)
ŸŸ\ ]
{
⁄⁄ 
throw
€€ 
new
€€ 
FormatException
€€ -
(
€€- .
Strings
€€. 5
.
€€5 6,
Validator_InvalidPolygonPoints
€€6 T
)
€€T U
;
€€U V
}
‹‹ 
}
›› 
private
ÁÁ 
static
ÁÁ 
void
ÁÁ %
ValidateGeometryPolygon
ÁÁ  7
(
ÁÁ7 8
int
ËË 
numOfPoints
ËË 
,
ËË  
double
ÈÈ $
initialFirstCoordinate
ÈÈ -
,
ÈÈ- .
double
ÍÍ %
initialSecondCoordinate
ÍÍ .
,
ÍÍ. /
double
ÎÎ '
mostRecentFirstCoordinate
ÎÎ 0
,
ÎÎ0 1
double
ÏÏ (
mostRecentSecondCoordinate
ÏÏ 1
)
ÏÏ1 2
{
ÌÌ 
if
ÓÓ 
(
ÓÓ 
numOfPoints
ÓÓ 
<
ÓÓ  !
$num
ÓÓ" #
||
ÓÓ$ &$
initialFirstCoordinate
ÓÓ' =
!=
ÓÓ> @'
mostRecentFirstCoordinate
ÓÓA Z
||
ÓÓ[ ]%
initialSecondCoordinate
ÔÔ +
!=
ÔÔ, .(
mostRecentSecondCoordinate
ÔÔ/ I
)
ÔÔI J
{
 
throw
ÒÒ 
new
ÒÒ 
FormatException
ÒÒ -
(
ÒÒ- .
Strings
ÒÒ. 5
.
ÒÒ5 6,
Validator_InvalidPolygonPoints
ÒÒ6 T
)
ÒÒT U
;
ÒÒU V
}
ÚÚ 
}
ÛÛ 
private
˚˚ 
static
˚˚ 
bool
˚˚  
AreLongitudesEqual
˚˚  2
(
˚˚2 3
double
˚˚3 9
left
˚˚: >
,
˚˚> ?
double
˚˚@ F
right
˚˚G L
)
˚˚L M
{
¸¸ 
return
˝˝ 
left
˝˝ 
==
˝˝ 
right
˝˝ $
||
˝˝% '
(
˝˝( )
left
˝˝) -
-
˝˝. /
right
˝˝0 5
)
˝˝5 6
%
˝˝7 8
$num
˝˝9 <
==
˝˝= ?
$num
˝˝@ A
;
˝˝A B
}
˛˛ 
private
àà 
void
àà 
BeginFigure
àà $
(
àà$ %
Action
àà% +
<
àà+ ,
double
àà, 2
,
àà2 3
double
àà4 :
,
àà: ;
double
àà< B
?
ààB C
,
ààC D
double
ààE K
?
ààK L
>
ààL M
validate
ààN V
,
ààV W
double
ààX ^
x
àà_ `
,
àà` a
double
ààb h
y
àài j
,
ààj k
double
ààl r
?
ààr s
z
ààt u
,
ààu v
double
ààw }
?
àà} ~
màà Ä
)ààÄ Å
{
ââ 
validate
ää 
(
ää 
x
ää 
,
ää 
y
ää 
,
ää 
z
ää  
,
ää  !
m
ää" #
)
ää# $
;
ää$ %
this
ãã 
.
ãã 
Execute
ãã 
(
ãã 
PipelineCall
ãã )
.
ãã) *
BeginFigure
ãã* 5
)
ãã5 6
;
ãã6 7
this
åå 
.
åå 

pointCount
åå 
=
åå  !
$num
åå" #
;
åå# $
this
çç 
.
çç 
TrackPosition
çç "
(
çç" #
x
çç# $
,
çç$ %
y
çç& '
)
çç' (
;
çç( )
}
éé 
private
îî 
void
îî 

BeginShape
îî #
(
îî# $
SpatialType
îî$ /
type
îî0 4
)
îî4 5
{
ïï 
this
ññ 
.
ññ 
depth
ññ 
+=
ññ 
$num
ññ 
;
ññ  
switch
òò 
(
òò 
type
òò 
)
òò 
{
ôô 
case
öö 
SpatialType
öö $
.
öö$ %
Point
öö% *
:
öö* +
Execute
õõ 
(
õõ  
PipelineCall
õõ  ,
.
õõ, -

BeginPoint
õõ- 7
)
õõ7 8
;
õõ8 9
break
úú 
;
úú 
case
ùù 
SpatialType
ùù $
.
ùù$ %

LineString
ùù% /
:
ùù/ 0
Execute
ûû 
(
ûû  
PipelineCall
ûû  ,
.
ûû, -
BeginLineString
ûû- <
)
ûû< =
;
ûû= >
break
üü 
;
üü 
case
†† 
SpatialType
†† $
.
††$ %
Polygon
††% ,
:
††, -
Execute
°° 
(
°°  
PipelineCall
°°  ,
.
°°, -
BeginPolygon
°°- 9
)
°°9 :
;
°°: ;
break
¢¢ 
;
¢¢ 
case
££ 
SpatialType
££ $
.
££$ %

MultiPoint
££% /
:
££/ 0
Execute
§§ 
(
§§  
PipelineCall
§§  ,
.
§§, -
BeginMultiPoint
§§- <
)
§§< =
;
§§= >
break
•• 
;
•• 
case
¶¶ 
SpatialType
¶¶ $
.
¶¶$ %
MultiLineString
¶¶% 4
:
¶¶4 5
Execute
ßß 
(
ßß  
PipelineCall
ßß  ,
.
ßß, -"
BeginMultiLineString
ßß- A
)
ßßA B
;
ßßB C
break
®® 
;
®® 
case
©© 
SpatialType
©© $
.
©©$ %
MultiPolygon
©©% 1
:
©©1 2
Execute
™™ 
(
™™  
PipelineCall
™™  ,
.
™™, -
BeginMultiPolygon
™™- >
)
™™> ?
;
™™? @
break
´´ 
;
´´ 
case
¨¨ 
SpatialType
¨¨ $
.
¨¨$ %

Collection
¨¨% /
:
¨¨/ 0
Execute
≠≠ 
(
≠≠  
PipelineCall
≠≠  ,
.
≠≠, -
BeginCollection
≠≠- <
)
≠≠< =
;
≠≠= >
break
ÆÆ 
;
ÆÆ 
case
ØØ 
SpatialType
ØØ $
.
ØØ$ %
	FullGlobe
ØØ% .
:
ØØ. /
if
∞∞ 
(
∞∞ 
!
∞∞ 
this
∞∞ !
.
∞∞! "!
processingGeography
∞∞" 5
)
∞∞5 6
{
±± 
throw
≤≤ !
new
≤≤" %
FormatException
≤≤& 5
(
≤≤5 6
Strings
≤≤6 =
.
≤≤= >#
Validator_InvalidType
≤≤> S
(
≤≤S T
type
≤≤T X
)
≤≤X Y
)
≤≤Y Z
;
≤≤Z [
}
≥≥ 
Execute
µµ 
(
µµ  
PipelineCall
µµ  ,
.
µµ, -
BeginFullGlobe
µµ- ;
)
µµ; <
;
µµ< =
break
∂∂ 
;
∂∂ 
default
ƒƒ 
:
ƒƒ 
throw
≈≈ 
new
≈≈ !
FormatException
≈≈" 1
(
≈≈1 2
Strings
≈≈2 9
.
≈≈9 :#
Validator_InvalidType
≈≈: O
(
≈≈O P
type
≈≈P T
)
≈≈T U
)
≈≈U V
;
≈≈V W
}
∆∆ 
}
«« 
private
ŒŒ 
void
ŒŒ 
AddControlPoint
ŒŒ (
(
ŒŒ( )
double
ŒŒ) /
first
ŒŒ0 5
,
ŒŒ5 6
double
ŒŒ7 =
second
ŒŒ> D
)
ŒŒD E
{
œœ 
Execute
–– 
(
–– 
PipelineCall
–– $
.
––$ %
LineTo
––% +
)
––+ ,
;
––, -
TrackPosition
““ 
(
““ 
first
““ #
,
““# $
second
““% +
)
““+ ,
;
““, -
}
”” 
private
⁄⁄ 
void
⁄⁄ 
TrackPosition
⁄⁄ &
(
⁄⁄& '
double
⁄⁄' -
first
⁄⁄. 3
,
⁄⁄3 4
double
⁄⁄5 ;
second
⁄⁄< B
)
⁄⁄B C
{
€€ 
if
‹‹ 
(
‹‹ 
this
‹‹ 
.
‹‹ 

pointCount
‹‹ #
==
‹‹$ &
$num
‹‹' (
)
‹‹( )
{
›› 
this
ﬁﬁ 
.
ﬁﬁ $
initialFirstCoordinate
ﬁﬁ /
=
ﬁﬁ0 1
first
ﬁﬁ2 7
;
ﬁﬁ7 8
this
ﬂﬂ 
.
ﬂﬂ %
initialSecondCoordinate
ﬂﬂ 0
=
ﬂﬂ1 2
second
ﬂﬂ3 9
;
ﬂﬂ9 :
}
‡‡ 
this
‚‚ 
.
‚‚ '
mostRecentFirstCoordinate
‚‚ .
=
‚‚/ 0
first
‚‚1 6
;
‚‚6 7
this
„„ 
.
„„ (
mostRecentSecondCoordinate
„„ /
=
„„0 1
second
„„2 8
;
„„8 9
this
ÁÁ 
.
ÁÁ 

pointCount
ÁÁ 
+=
ÁÁ  "
$num
ÁÁ# $
;
ÁÁ$ %
}
ËË 
private
ÓÓ 
void
ÓÓ 
Execute
ÓÓ  
(
ÓÓ  !
PipelineCall
ÓÓ! -

transition
ÓÓ. 8
)
ÓÓ8 9
{
ÔÔ 
ValidatorState
 
state
 $
=
% &
this
' +
.
+ ,
stack
, 1
.
1 2
Peek
2 6
(
6 7
)
7 8
;
8 9
state
ÒÒ 
.
ÒÒ  
ValidateTransition
ÒÒ (
(
ÒÒ( )

transition
ÒÒ) 3
,
ÒÒ3 4
this
ÒÒ5 9
)
ÒÒ9 :
;
ÒÒ: ;
}
ÚÚ 
private
˜˜ 
void
˜˜ 
InitializeObject
˜˜ )
(
˜˜) *
)
˜˜* +
{
¯¯ 
this
˘˘ 
.
˘˘ 
depth
˘˘ 
=
˘˘ 
default
˘˘ $
(
˘˘$ %
int
˘˘% (
)
˘˘( )
;
˘˘) *
this
˙˙ 
.
˙˙ $
initialFirstCoordinate
˙˙ +
=
˙˙, -
default
˙˙. 5
(
˙˙5 6
double
˙˙6 <
)
˙˙< =
;
˙˙= >
this
˚˚ 
.
˚˚ %
initialSecondCoordinate
˚˚ ,
=
˚˚- .
default
˚˚/ 6
(
˚˚6 7
double
˚˚7 =
)
˚˚= >
;
˚˚> ?
this
¸¸ 
.
¸¸ '
mostRecentFirstCoordinate
¸¸ .
=
¸¸/ 0
default
¸¸1 8
(
¸¸8 9
double
¸¸9 ?
)
¸¸? @
;
¸¸@ A
this
˝˝ 
.
˝˝ (
mostRecentSecondCoordinate
˝˝ /
=
˝˝0 1
default
˝˝2 9
(
˝˝9 :
double
˝˝: @
)
˝˝@ A
;
˝˝A B
this
˛˛ 
.
˛˛ 

pointCount
˛˛ 
=
˛˛  !
default
˛˛" )
(
˛˛) *
int
˛˛* -
)
˛˛- .
;
˛˛. /
this
ˇˇ 
.
ˇˇ (
validationCoordinateSystem
ˇˇ /
=
ˇˇ0 1
null
ˇˇ2 6
;
ˇˇ6 7
this
ÄÄ 
.
ÄÄ 
	ringCount
ÄÄ 
=
ÄÄ  
default
ÄÄ! (
(
ÄÄ( )
int
ÄÄ) ,
)
ÄÄ, -
;
ÄÄ- .
this
ÇÇ 
.
ÇÇ 
stack
ÇÇ 
.
ÇÇ 
Clear
ÇÇ  
(
ÇÇ  !
)
ÇÇ! "
;
ÇÇ" #
this
ÉÉ 
.
ÉÉ 
stack
ÉÉ 
.
ÉÉ 
Push
ÉÉ 
(
ÉÉ  
CoordinateSystem
ÉÉ  0
)
ÉÉ0 1
;
ÉÉ1 2
}
ÑÑ 
private
ää 
void
ää 
Call
ää 
(
ää 
ValidatorState
ää ,
state
ää- 2
)
ää2 3
{
ãã 
if
åå 
(
åå 
this
åå 
.
åå 
stack
åå 
.
åå 
Count
åå $
>
åå% &(
MaxGeometryCollectionDepth
åå' A
)
ååA B
{
çç 
throw
éé 
new
éé 
FormatException
éé -
(
éé- .
Strings
éé. 5
.
éé5 6'
Validator_NestingOverflow
éé6 O
(
ééO P(
MaxGeometryCollectionDepth
ééP j
)
ééj k
)
éék l
;
éél m
}
èè 
this
ëë 
.
ëë 
stack
ëë 
.
ëë 
Push
ëë 
(
ëë  
state
ëë  %
)
ëë% &
;
ëë& '
}
íí 
private
óó 
void
óó 
Return
óó 
(
óó  
)
óó  !
{
òò 
this
ôô 
.
ôô 
stack
ôô 
.
ôô 
Pop
ôô 
(
ôô 
)
ôô  
;
ôô  !
Debug
öö 
.
öö 
Assert
öö 
(
öö 
this
öö !
.
öö! "
stack
öö" '
.
öö' (
Count
öö( -
>
öö. /
$num
öö0 1
,
öö1 2
$str
öö3 n
)
öön o
;
ööo p
}
õõ 
private
°° 
void
°° 
Jump
°° 
(
°° 
ValidatorState
°° ,
state
°°- 2
)
°°2 3
{
¢¢ 
this
££ 
.
££ 
stack
££ 
.
££ 
Pop
££ 
(
££ 
)
££  
;
££  !
Debug
§§ 
.
§§ 
Assert
§§ 
(
§§ 
this
§§ !
.
§§! "
stack
§§" '
.
§§' (
Count
§§( -
>
§§. /
$num
§§0 1
,
§§1 2
$str
§§3 n
)
§§n o
;
§§o p
this
•• 
.
•• 
stack
•• 
.
•• 
Push
•• 
(
••  
state
••  %
)
••% &
;
••& '
}
¶¶ 
private
≠≠ 
abstract
≠≠ 
class
≠≠ "
ValidatorState
≠≠# 1
{
ÆÆ 
internal
¥¥ 
abstract
¥¥ !
void
¥¥" & 
ValidateTransition
¥¥' 9
(
¥¥9 :
PipelineCall
µµ  

transition
µµ! +
,
µµ+ ,
NestedValidator
∂∂ #
	validator
∂∂$ -
)
∂∂- .
;
∂∂. /
	protected
ΩΩ 
static
ΩΩ  
void
ΩΩ! %
ThrowExpected
ΩΩ& 3
(
ΩΩ3 4
PipelineCall
ΩΩ4 @

transition
ΩΩA K
,
ΩΩK L
PipelineCall
ΩΩM Y
actual
ΩΩZ `
)
ΩΩ` a
{
ææ 
throw
øø 
new
øø 
FormatException
øø -
(
øø- .
Strings
øø. 5
.
øø5 6&
Validator_UnexpectedCall
øø6 N
(
øøN O

transition
øøO Y
,
øøY Z
actual
øø[ a
)
øøa b
)
øøb c
;
øøc d
}
¿¿ 
	protected
»» 
static
»»  
void
»»! %
ThrowExpected
»»& 3
(
»»3 4
PipelineCall
……  
transition1
……! ,
,
……, -
PipelineCall
    
transition2
  ! ,
,
  , -
PipelineCall
ÀÀ  
actual
ÀÀ! '
)
ÀÀ' (
{
ÃÃ 
throw
ÕÕ 
new
ÕÕ 
FormatException
ÕÕ -
(
ÕÕ- .
Strings
ÕÕ. 5
.
ÕÕ5 6'
Validator_UnexpectedCall2
ÕÕ6 O
(
ÕÕO P
transition1
ÕÕP [
,
ÕÕ[ \
transition2
ÕÕ] h
,
ÕÕh i
actual
ÕÕj p
)
ÕÕp q
)
ÕÕq r
;
ÕÕr s
}
ŒŒ 
	protected
◊◊ 
static
◊◊  
void
◊◊! %
ThrowExpected
◊◊& 3
(
◊◊3 4
PipelineCall
ÿÿ  
transition1
ÿÿ! ,
,
ÿÿ, -
PipelineCall
ŸŸ  
transition2
ŸŸ! ,
,
ŸŸ, -
PipelineCall
⁄⁄  
transition3
⁄⁄! ,
,
⁄⁄, -
PipelineCall
€€  
actual
€€! '
)
€€' (
{
‹‹ 
throw
›› 
new
›› 
FormatException
›› -
(
››- .
Strings
››. 5
.
››5 6'
Validator_UnexpectedCall2
››6 O
(
››O P
transition1
››P [
+
››\ ]
$str
››^ b
+
››c d
transition2
››e p
,
››p q
transition3
››r }
,
››} ~
actual›› Ö
)››Ö Ü
)››Ü á
;››á à
}
ﬁﬁ 
}
ﬂﬂ 
private
ÂÂ 
class
ÂÂ &
SetCoordinateSystemState
ÂÂ 2
:
ÂÂ3 4
ValidatorState
ÂÂ5 C
{
ÊÊ 
internal
ÏÏ 
override
ÏÏ !
void
ÏÏ" & 
ValidateTransition
ÏÏ' 9
(
ÏÏ9 :
PipelineCall
ÌÌ  

transition
ÌÌ! +
,
ÌÌ+ ,
NestedValidator
ÓÓ #
	validator
ÓÓ$ -
)
ÓÓ- .
{
ÔÔ 
switch
 
(
 

transition
 &
)
& '
{
ÒÒ 
case
ÚÚ 
PipelineCall
ÚÚ )
.
ÚÚ) *!
SetCoordinateSystem
ÚÚ* =
:
ÚÚ= >
	validator
ÛÛ %
.
ÛÛ% &
Call
ÛÛ& *
(
ÛÛ* +
BeginSpatial
ÛÛ+ 7
)
ÛÛ7 8
;
ÛÛ8 9
return
ÙÙ "
;
ÙÙ" #
default
ıı 
:
ıı  
ThrowExpected
ˆˆ )
(
ˆˆ) *
PipelineCall
ˆˆ* 6
.
ˆˆ6 7!
SetCoordinateSystem
ˆˆ7 J
,
ˆˆJ K

transition
ˆˆL V
)
ˆˆV W
;
ˆˆW X
return
˜˜ "
;
˜˜" #
}
¯¯ 
}
˘˘ 
}
˙˙ 
private
ÄÄ 
class
ÄÄ 
BeginGeoState
ÄÄ '
:
ÄÄ( )
ValidatorState
ÄÄ* 8
{
ÅÅ 
internal
áá 
override
áá !
void
áá" & 
ValidateTransition
áá' 9
(
áá9 :
PipelineCall
àà  

transition
àà! +
,
àà+ ,
NestedValidator
ââ #
	validator
ââ$ -
)
ââ- .
{
ää 
switch
ãã 
(
ãã 

transition
ãã &
)
ãã& '
{
åå 
case
çç 
PipelineCall
çç )
.
çç) *

BeginPoint
çç* 4
:
çç4 5
	validator
éé %
.
éé% &
Jump
éé& *
(
éé* +

PointStart
éé+ 5
)
éé5 6
;
éé6 7
return
èè "
;
èè" #
case
êê 
PipelineCall
êê )
.
êê) *
BeginLineString
êê* 9
:
êê9 :
	validator
ëë %
.
ëë% &
Jump
ëë& *
(
ëë* +
LineStringStart
ëë+ :
)
ëë: ;
;
ëë; <
return
íí "
;
íí" #
case
ìì 
PipelineCall
ìì )
.
ìì) *
BeginPolygon
ìì* 6
:
ìì6 7
	validator
îî %
.
îî% &
Jump
îî& *
(
îî* +
PolygonStart
îî+ 7
)
îî7 8
;
îî8 9
return
ïï "
;
ïï" #
case
ññ 
PipelineCall
ññ )
.
ññ) *
BeginMultiPoint
ññ* 9
:
ññ9 :
	validator
óó %
.
óó% &
Jump
óó& *
(
óó* +

MultiPoint
óó+ 5
)
óó5 6
;
óó6 7
return
òò "
;
òò" #
case
ôô 
PipelineCall
ôô )
.
ôô) *"
BeginMultiLineString
ôô* >
:
ôô> ?
	validator
öö %
.
öö% &
Jump
öö& *
(
öö* +
MultiLineString
öö+ :
)
öö: ;
;
öö; <
return
õõ "
;
õõ" #
case
úú 
PipelineCall
úú )
.
úú) *
BeginMultiPolygon
úú* ;
:
úú; <
	validator
ùù %
.
ùù% &
Jump
ùù& *
(
ùù* +
MultiPolygon
ùù+ 7
)
ùù7 8
;
ùù8 9
return
ûû "
;
ûû" #
case
üü 
PipelineCall
üü )
.
üü) *
BeginCollection
üü* 9
:
üü9 :
	validator
†† %
.
††% &
Jump
††& *
(
††* +

Collection
††+ 5
)
††5 6
;
††6 7
return
°° "
;
°°" #
case
¢¢ 
PipelineCall
¢¢ )
.
¢¢) *
BeginFullGlobe
¢¢* 8
:
¢¢8 9
if
££ 
(
££  
	validator
££  )
.
££) *
depth
££* /
!=
££0 2
$num
££3 4
)
££4 5
{
§§ 
throw
••  %
new
••& )
FormatException
••* 9
(
••9 :
Strings
••: A
.
••A B-
Validator_FullGlobeInCollection
••B a
)
••a b
;
••b c
}
¶¶ 
	validator
®® %
.
®®% &
Jump
®®& *
(
®®* +
	FullGlobe
®®+ 4
)
®®4 5
;
®®5 6
return
©© "
;
©©" #
default
µµ 
:
µµ  
ThrowExpected
∂∂ )
(
∂∂) *
PipelineCall
∂∂* 6
.
∂∂6 7
Begin
∂∂7 <
,
∂∂< =

transition
∂∂> H
)
∂∂H I
;
∂∂I J
return
∑∑ "
;
∑∑" #
}
∏∏ 
}
ππ 
}
∫∫ 
private
¿¿ 
class
¿¿ 
PointStartState
¿¿ )
:
¿¿* +
ValidatorState
¿¿, :
{
¡¡ 
internal
«« 
override
«« !
void
««" & 
ValidateTransition
««' 9
(
««9 :
PipelineCall
««: F

transition
««G Q
,
««Q R
NestedValidator
««S b
	validator
««c l
)
««l m
{
»» 
switch
…… 
(
…… 

transition
…… &
)
……& '
{
   
case
ÀÀ 
PipelineCall
ÀÀ )
.
ÀÀ) *
BeginFigure
ÀÀ* 5
:
ÀÀ5 6
	validator
ÃÃ %
.
ÃÃ% &
Jump
ÃÃ& *
(
ÃÃ* +
PointBuilding
ÃÃ+ 8
)
ÃÃ8 9
;
ÃÃ9 :
return
ÕÕ "
;
ÕÕ" #
case
ŒŒ 
PipelineCall
ŒŒ )
.
ŒŒ) *
End
ŒŒ* -
:
ŒŒ- .
	validator
œœ %
.
œœ% &
Return
œœ& ,
(
œœ, -
)
œœ- .
;
œœ. /
return
–– "
;
––" #
default
—— 
:
——  
ThrowExpected
““ )
(
““) *
PipelineCall
““* 6
.
““6 7
BeginFigure
““7 B
,
““B C
PipelineCall
““D P
.
““P Q
End
““Q T
,
““T U

transition
““V `
)
““` a
;
““a b
return
”” "
;
””" #
}
‘‘ 
}
’’ 
}
÷÷ 
private
‹‹ 
class
‹‹  
PointBuildingState
‹‹ ,
:
‹‹- .
ValidatorState
‹‹/ =
{
›› 
internal
„„ 
override
„„ !
void
„„" & 
ValidateTransition
„„' 9
(
„„9 :
PipelineCall
„„: F

transition
„„G Q
,
„„Q R
NestedValidator
„„S b
	validator
„„c l
)
„„l m
{
‰‰ 
switch
ÂÂ 
(
ÂÂ 

transition
ÂÂ &
)
ÂÂ& '
{
ÊÊ 
case
ÁÁ 
PipelineCall
ÁÁ )
.
ÁÁ) *
LineTo
ÁÁ* 0
:
ÁÁ0 1
if
ËË 
(
ËË  
	validator
ËË  )
.
ËË) *

pointCount
ËË* 4
!=
ËË5 7
$num
ËË8 9
)
ËË9 :
{
ÈÈ 
ThrowExpected
ÍÍ  -
(
ÍÍ- .
PipelineCall
ÍÍ. :
.
ÍÍ: ;
	EndFigure
ÍÍ; D
,
ÍÍD E

transition
ÍÍF P
)
ÍÍP Q
;
ÍÍQ R
}
ÎÎ 
return
ÌÌ "
;
ÌÌ" #
case
ÔÔ 
PipelineCall
ÔÔ )
.
ÔÔ) *
	EndFigure
ÔÔ* 3
:
ÔÔ3 4
if
 
(
  
	validator
  )
.
) *

pointCount
* 4
==
5 7
$num
8 9
)
9 :
{
ÒÒ 
ThrowExpected
ÚÚ  -
(
ÚÚ- .
PipelineCall
ÚÚ. :
.
ÚÚ: ;
BeginFigure
ÚÚ; F
,
ÚÚF G

transition
ÚÚH R
)
ÚÚR S
;
ÚÚS T
}
ÛÛ 
	validator
ıı %
.
ıı% &
Jump
ıı& *
(
ıı* +
PointEnd
ıı+ 3
)
ıı3 4
;
ıı4 5
return
ˆˆ "
;
ˆˆ" #
default
¯¯ 
:
¯¯  
ThrowExpected
˘˘ )
(
˘˘) *
PipelineCall
˘˘* 6
.
˘˘6 7
	EndFigure
˘˘7 @
,
˘˘@ A

transition
˘˘B L
)
˘˘L M
;
˘˘M N
return
˙˙ "
;
˙˙" #
}
˚˚ 
}
¸¸ 
}
˝˝ 
private
ÉÉ 
class
ÉÉ 
PointEndState
ÉÉ '
:
ÉÉ( )
ValidatorState
ÉÉ* 8
{
ÑÑ 
internal
ää 
override
ää !
void
ää" & 
ValidateTransition
ää' 9
(
ää9 :
PipelineCall
ää: F

transition
ääG Q
,
ääQ R
NestedValidator
ääS b
	validator
ääc l
)
ääl m
{
ãã 
switch
åå 
(
åå 

transition
åå &
)
åå& '
{
çç 
case
éé 
PipelineCall
éé )
.
éé) *
End
éé* -
:
éé- .
	validator
èè %
.
èè% &
Return
èè& ,
(
èè, -
)
èè- .
;
èè. /
return
êê "
;
êê" #
default
ëë 
:
ëë  
ThrowExpected
íí )
(
íí) *
PipelineCall
íí* 6
.
íí6 7
End
íí7 :
,
íí: ;

transition
íí< F
)
ííF G
;
ííG H
return
ìì "
;
ìì" #
}
îî 
}
ïï 
}
ññ 
private
úú 
class
úú "
LineStringStartState
úú .
:
úú/ 0
ValidatorState
úú1 ?
{
ùù 
internal
££ 
override
££ !
void
££" & 
ValidateTransition
££' 9
(
££9 :
PipelineCall
££: F

transition
££G Q
,
££Q R
NestedValidator
££S b
	validator
££c l
)
££l m
{
§§ 
switch
•• 
(
•• 

transition
•• &
)
••& '
{
¶¶ 
case
ßß 
PipelineCall
ßß )
.
ßß) *
BeginFigure
ßß* 5
:
ßß5 6
	validator
®® %
.
®®% &
Jump
®®& *
(
®®* + 
LineStringBuilding
®®+ =
)
®®= >
;
®®> ?
return
©© "
;
©©" #
case
™™ 
PipelineCall
™™ )
.
™™) *
End
™™* -
:
™™- .
	validator
´´ %
.
´´% &
Return
´´& ,
(
´´, -
)
´´- .
;
´´. /
return
¨¨ "
;
¨¨" #
default
≠≠ 
:
≠≠  
ThrowExpected
ÆÆ )
(
ÆÆ) *
PipelineCall
ÆÆ* 6
.
ÆÆ6 7
BeginFigure
ÆÆ7 B
,
ÆÆB C
PipelineCall
ÆÆD P
.
ÆÆP Q
End
ÆÆQ T
,
ÆÆT U

transition
ÆÆV `
)
ÆÆ` a
;
ÆÆa b
return
ØØ "
;
ØØ" #
}
∞∞ 
}
±± 
}
≤≤ 
private
ππ 
class
ππ %
LineStringBuildingState
ππ 1
:
ππ2 3
ValidatorState
ππ4 B
{
∫∫ 
internal
¿¿ 
override
¿¿ !
void
¿¿" & 
ValidateTransition
¿¿' 9
(
¿¿9 :
PipelineCall
¿¿: F

transition
¿¿G Q
,
¿¿Q R
NestedValidator
¿¿S b
	validator
¿¿c l
)
¿¿l m
{
¡¡ 
switch
¬¬ 
(
¬¬ 

transition
¬¬ &
)
¬¬& '
{
√√ 
case
ƒƒ 
PipelineCall
ƒƒ )
.
ƒƒ) *
LineTo
ƒƒ* 0
:
ƒƒ0 1
return
≈≈ "
;
≈≈" #
case
∆∆ 
PipelineCall
∆∆ )
.
∆∆) *
	EndFigure
∆∆* 3
:
∆∆3 4
if
«« 
(
««  
	validator
««  )
.
««) *

pointCount
««* 4
<
««5 6
$num
««7 8
)
««8 9
{
»» 
throw
……  %
new
……& )
FormatException
……* 9
(
……9 :
Strings
……: A
.
……A B0
"Validator_LineStringNeedsTwoPoints
……B d
)
……d e
;
……e f
}
   
	validator
ÃÃ %
.
ÃÃ% &
Jump
ÃÃ& *
(
ÃÃ* +
LineStringEnd
ÃÃ+ 8
)
ÃÃ8 9
;
ÃÃ9 :
return
ÕÕ "
;
ÕÕ" #
default
ŒŒ 
:
ŒŒ  
ThrowExpected
œœ )
(
œœ) *
PipelineCall
œœ* 6
.
œœ6 7
LineTo
œœ7 =
,
œœ= >
PipelineCall
œœ? K
.
œœK L
	EndFigure
œœL U
,
œœU V

transition
œœW a
)
œœa b
;
œœb c
return
–– "
;
––" #
}
—— 
}
““ 
}
”” 
private
⁄⁄ 
class
⁄⁄  
LineStringEndState
⁄⁄ ,
:
⁄⁄- .
ValidatorState
⁄⁄/ =
{
€€ 
internal
·· 
override
·· !
void
··" & 
ValidateTransition
··' 9
(
··9 :
PipelineCall
··: F

transition
··G Q
,
··Q R
NestedValidator
··S b
	validator
··c l
)
··l m
{
‚‚ 
switch
„„ 
(
„„ 

transition
„„ &
)
„„& '
{
‰‰ 
case
ÂÂ 
PipelineCall
ÂÂ )
.
ÂÂ) *
End
ÂÂ* -
:
ÂÂ- .
	validator
ÊÊ %
.
ÊÊ% &
Return
ÊÊ& ,
(
ÊÊ, -
)
ÊÊ- .
;
ÊÊ. /
return
ÁÁ "
;
ÁÁ" #
default
ËË 
:
ËË  
ThrowExpected
ÈÈ )
(
ÈÈ) *
PipelineCall
ÈÈ* 6
.
ÈÈ6 7
End
ÈÈ7 :
,
ÈÈ: ;

transition
ÈÈ< F
)
ÈÈF G
;
ÈÈG H
return
ÍÍ "
;
ÍÍ" #
}
ÎÎ 
}
ÏÏ 
}
ÌÌ 
private
ÛÛ 
class
ÛÛ 
PolygonStartState
ÛÛ +
:
ÛÛ, -
ValidatorState
ÛÛ. <
{
ÙÙ 
internal
˙˙ 
override
˙˙ !
void
˙˙" & 
ValidateTransition
˙˙' 9
(
˙˙9 :
PipelineCall
˙˙: F

transition
˙˙G Q
,
˙˙Q R
NestedValidator
˙˙S b
	validator
˙˙c l
)
˙˙l m
{
˚˚ 
switch
¸¸ 
(
¸¸ 

transition
¸¸ &
)
¸¸& '
{
˝˝ 
case
˛˛ 
PipelineCall
˛˛ )
.
˛˛) *
BeginFigure
˛˛* 5
:
˛˛5 6
	validator
ˇˇ %
.
ˇˇ% &
Jump
ˇˇ& *
(
ˇˇ* +
PolygonBuilding
ˇˇ+ :
)
ˇˇ: ;
;
ˇˇ; <
return
Ä	Ä	 "
;
Ä	Ä	" #
case
Å	Å	 
PipelineCall
Å	Å	 )
.
Å	Å	) *
End
Å	Å	* -
:
Å	Å	- .
	validator
Ç	Ç	 %
.
Ç	Ç	% &
	ringCount
Ç	Ç	& /
=
Ç	Ç	0 1
$num
Ç	Ç	2 3
;
Ç	Ç	3 4
	validator
É	É	 %
.
É	É	% &
Return
É	É	& ,
(
É	É	, -
)
É	É	- .
;
É	É	. /
return
Ñ	Ñ	 "
;
Ñ	Ñ	" #
default
Ö	Ö	 
:
Ö	Ö	  
ThrowExpected
Ü	Ü	 )
(
Ü	Ü	) *
PipelineCall
Ü	Ü	* 6
.
Ü	Ü	6 7
BeginFigure
Ü	Ü	7 B
,
Ü	Ü	B C
PipelineCall
Ü	Ü	D P
.
Ü	Ü	P Q
End
Ü	Ü	Q T
,
Ü	Ü	T U

transition
Ü	Ü	V `
)
Ü	Ü	` a
;
Ü	Ü	a b
return
á	á	 "
;
á	á	" #
}
à	à	 
}
â	â	 
}
ä	ä	 
private
ê	ê	 
class
ê	ê	 "
PolygonBuildingState
ê	ê	 .
:
ê	ê	/ 0
ValidatorState
ê	ê	1 ?
{
ë	ë	 
internal
ó	ó	 
override
ó	ó	 !
void
ó	ó	" & 
ValidateTransition
ó	ó	' 9
(
ó	ó	9 :
PipelineCall
ó	ó	: F

transition
ó	ó	G Q
,
ó	ó	Q R
NestedValidator
ó	ó	S b
	validator
ó	ó	c l
)
ó	ó	l m
{
ò	ò	 
switch
ô	ô	 
(
ô	ô	 

transition
ô	ô	 &
)
ô	ô	& '
{
ö	ö	 
case
õ	õ	 
PipelineCall
õ	õ	 )
.
õ	õ	) *
LineTo
õ	õ	* 0
:
õ	õ	0 1
return
ú	ú	 "
;
ú	ú	" #
case
ù	ù	 
PipelineCall
ù	ù	 )
.
ù	ù	) *
	EndFigure
ù	ù	* 3
:
ù	ù	3 4
	validator
û	û	 %
.
û	û	% &
	ringCount
û	û	& /
+=
û	û	0 2
$num
û	û	3 4
;
û	û	4 5
if
ü	ü	 
(
ü	ü	  
	validator
ü	ü	  )
.
ü	ü	) *!
processingGeography
ü	ü	* =
)
ü	ü	= >
{
†	†	 &
ValidateGeographyPolygon
°	°	  8
(
°	°	8 9
	validator
¢	¢	$ -
.
¢	¢	- .

pointCount
¢	¢	. 8
,
¢	¢	8 9
	validator
£	£	$ -
.
£	£	- .$
initialFirstCoordinate
£	£	. D
,
£	£	D E
	validator
§	§	$ -
.
§	§	- .%
initialSecondCoordinate
§	§	. E
,
§	§	E F
	validator
•	•	$ -
.
•	•	- .'
mostRecentFirstCoordinate
•	•	. G
,
•	•	G H
	validator
¶	¶	$ -
.
¶	¶	- .(
mostRecentSecondCoordinate
¶	¶	. H
)
¶	¶	H I
;
¶	¶	I J
}
ß	ß	 
else
®	®	  
{
©	©	 %
ValidateGeometryPolygon
™	™	  7
(
™	™	7 8
	validator
´	´	$ -
.
´	´	- .

pointCount
´	´	. 8
,
´	´	8 9
	validator
¨	¨	$ -
.
¨	¨	- .$
initialFirstCoordinate
¨	¨	. D
,
¨	¨	D E
	validator
≠	≠	$ -
.
≠	≠	- .%
initialSecondCoordinate
≠	≠	. E
,
≠	≠	E F
	validator
Æ	Æ	$ -
.
Æ	Æ	- .'
mostRecentFirstCoordinate
Æ	Æ	. G
,
Æ	Æ	G H
	validator
Ø	Ø	$ -
.
Ø	Ø	- .(
mostRecentSecondCoordinate
Ø	Ø	. H
)
Ø	Ø	H I
;
Ø	Ø	I J
}
∞	∞	 
	validator
≤	≤	 %
.
≤	≤	% &
Jump
≤	≤	& *
(
≤	≤	* +
PolygonStart
≤	≤	+ 7
)
≤	≤	7 8
;
≤	≤	8 9
return
≥	≥	 "
;
≥	≥	" #
default
¥	¥	 
:
¥	¥	  
ThrowExpected
µ	µ	 )
(
µ	µ	) *
PipelineCall
µ	µ	* 6
.
µ	µ	6 7
LineTo
µ	µ	7 =
,
µ	µ	= >
PipelineCall
µ	µ	? K
.
µ	µ	K L
	EndFigure
µ	µ	L U
,
µ	µ	U V

transition
µ	µ	W a
)
µ	µ	a b
;
µ	µ	b c
return
∂	∂	 "
;
∂	∂	" #
}
∑	∑	 
}
∏	∏	 
}
π	π	 
private
ø	ø	 
class
ø	ø	 
MultiPointState
ø	ø	 )
:
ø	ø	* +
ValidatorState
ø	ø	, :
{
¿	¿	 
internal
∆	∆	 
override
∆	∆	 !
void
∆	∆	" & 
ValidateTransition
∆	∆	' 9
(
∆	∆	9 :
PipelineCall
∆	∆	: F

transition
∆	∆	G Q
,
∆	∆	Q R
NestedValidator
∆	∆	S b
	validator
∆	∆	c l
)
∆	∆	l m
{
«	«	 
switch
»	»	 
(
»	»	 

transition
»	»	 &
)
»	»	& '
{
…	…	 
case
 	 	 
PipelineCall
 	 	 )
.
 	 	) *!
SetCoordinateSystem
 	 	* =
:
 	 	= >
return
À	À	 "
;
À	À	" #
case
Ã	Ã	 
PipelineCall
Ã	Ã	 )
.
Ã	Ã	) *

BeginPoint
Ã	Ã	* 4
:
Ã	Ã	4 5
	validator
Õ	Õ	 %
.
Õ	Õ	% &
Call
Õ	Õ	& *
(
Õ	Õ	* +

PointStart
Õ	Õ	+ 5
)
Õ	Õ	5 6
;
Õ	Õ	6 7
return
Œ	Œ	 "
;
Œ	Œ	" #
case
œ	œ	 
PipelineCall
œ	œ	 )
.
œ	œ	) *
End
œ	œ	* -
:
œ	œ	- .
	validator
–	–	 %
.
–	–	% &
Return
–	–	& ,
(
–	–	, -
)
–	–	- .
;
–	–	. /
return
—	—	 "
;
—	—	" #
default
“	“	 
:
“	“	  
ThrowExpected
”	”	 )
(
”	”	) *
PipelineCall
”	”	* 6
.
”	”	6 7!
SetCoordinateSystem
”	”	7 J
,
”	”	J K
PipelineCall
”	”	L X
.
”	”	X Y

BeginPoint
”	”	Y c
,
”	”	c d
PipelineCall
”	”	e q
.
”	”	q r
End
”	”	r u
,
”	”	u v

transition”	”	w Å
)”	”	Å Ç
;”	”	Ç É
return
‘	‘	 "
;
‘	‘	" #
}
’	’	 
}
÷	÷	 
}
◊	◊	 
private
›	›	 
class
›	›	 "
MultiLineStringState
›	›	 .
:
›	›	/ 0
ValidatorState
›	›	1 ?
{
ﬁ	ﬁ	 
internal
‰	‰	 
override
‰	‰	 !
void
‰	‰	" & 
ValidateTransition
‰	‰	' 9
(
‰	‰	9 :
PipelineCall
‰	‰	: F

transition
‰	‰	G Q
,
‰	‰	Q R
NestedValidator
‰	‰	S b
	validator
‰	‰	c l
)
‰	‰	l m
{
Â	Â	 
switch
Ê	Ê	 
(
Ê	Ê	 

transition
Ê	Ê	 &
)
Ê	Ê	& '
{
Á	Á	 
case
Ë	Ë	 
PipelineCall
Ë	Ë	 )
.
Ë	Ë	) *!
SetCoordinateSystem
Ë	Ë	* =
:
Ë	Ë	= >
return
È	È	 "
;
È	È	" #
case
Í	Í	 
PipelineCall
Í	Í	 )
.
Í	Í	) *
BeginLineString
Í	Í	* 9
:
Í	Í	9 :
	validator
Î	Î	 %
.
Î	Î	% &
Call
Î	Î	& *
(
Î	Î	* +
LineStringStart
Î	Î	+ :
)
Î	Î	: ;
;
Î	Î	; <
return
Ï	Ï	 "
;
Ï	Ï	" #
case
Ì	Ì	 
PipelineCall
Ì	Ì	 )
.
Ì	Ì	) *
End
Ì	Ì	* -
:
Ì	Ì	- .
	validator
Ó	Ó	 %
.
Ó	Ó	% &
Return
Ó	Ó	& ,
(
Ó	Ó	, -
)
Ó	Ó	- .
;
Ó	Ó	. /
return
Ô	Ô	 "
;
Ô	Ô	" #
default
		 
:
		  
ThrowExpected
Ò	Ò	 )
(
Ò	Ò	) *
PipelineCall
Ò	Ò	* 6
.
Ò	Ò	6 7!
SetCoordinateSystem
Ò	Ò	7 J
,
Ò	Ò	J K
PipelineCall
Ò	Ò	L X
.
Ò	Ò	X Y
BeginLineString
Ò	Ò	Y h
,
Ò	Ò	h i
PipelineCall
Ò	Ò	j v
.
Ò	Ò	v w
End
Ò	Ò	w z
,
Ò	Ò	z {

transitionÒ	Ò	| Ü
)Ò	Ò	Ü á
;Ò	Ò	á à
return
Ú	Ú	 "
;
Ú	Ú	" #
}
Û	Û	 
}
Ù	Ù	 
}
ı	ı	 
private
˚	˚	 
class
˚	˚	 
MultiPolygonState
˚	˚	 +
:
˚	˚	, -
ValidatorState
˚	˚	. <
{
¸	¸	 
internal
Ç
Ç
 
override
Ç
Ç
 !
void
Ç
Ç
" & 
ValidateTransition
Ç
Ç
' 9
(
Ç
Ç
9 :
PipelineCall
Ç
Ç
: F

transition
Ç
Ç
G Q
,
Ç
Ç
Q R
NestedValidator
Ç
Ç
S b
	validator
Ç
Ç
c l
)
Ç
Ç
l m
{
É
É
 
switch
Ñ
Ñ
 
(
Ñ
Ñ
 

transition
Ñ
Ñ
 &
)
Ñ
Ñ
& '
{
Ö
Ö
 
case
Ü
Ü
 
PipelineCall
Ü
Ü
 )
.
Ü
Ü
) *!
SetCoordinateSystem
Ü
Ü
* =
:
Ü
Ü
= >
return
á
á
 "
;
á
á
" #
case
à
à
 
PipelineCall
à
à
 )
.
à
à
) *
BeginPolygon
à
à
* 6
:
à
à
6 7
	validator
â
â
 %
.
â
â
% &
Call
â
â
& *
(
â
â
* +
PolygonStart
â
â
+ 7
)
â
â
7 8
;
â
â
8 9
return
ä
ä
 "
;
ä
ä
" #
case
ã
ã
 
PipelineCall
ã
ã
 )
.
ã
ã
) *
End
ã
ã
* -
:
ã
ã
- .
	validator
å
å
 %
.
å
å
% &
Return
å
å
& ,
(
å
å
, -
)
å
å
- .
;
å
å
. /
return
ç
ç
 "
;
ç
ç
" #
default
é
é
 
:
é
é
  
ThrowExpected
è
è
 )
(
è
è
) *
PipelineCall
è
è
* 6
.
è
è
6 7!
SetCoordinateSystem
è
è
7 J
,
è
è
J K
PipelineCall
è
è
L X
.
è
è
X Y
BeginPolygon
è
è
Y e
,
è
è
e f
PipelineCall
è
è
g s
.
è
è
s t
End
è
è
t w
,
è
è
w x

transitionè
è
y É
)è
è
É Ñ
;è
è
Ñ Ö
return
ê
ê
 "
;
ê
ê
" #
}
ë
ë
 
}
í
í
 
}
ì
ì
 
private
ô
ô
 
class
ô
ô
 
CollectionState
ô
ô
 )
:
ô
ô
* +
ValidatorState
ô
ô
, :
{
ö
ö
 
internal
†
†
 
override
†
†
 !
void
†
†
" & 
ValidateTransition
†
†
' 9
(
†
†
9 :
PipelineCall
†
†
: F

transition
†
†
G Q
,
†
†
Q R
NestedValidator
†
†
S b
	validator
†
†
c l
)
†
†
l m
{
°
°
 
switch
¢
¢
 
(
¢
¢
 

transition
¢
¢
 &
)
¢
¢
& '
{
£
£
 
case
§
§
 
PipelineCall
§
§
 )
.
§
§
) *!
SetCoordinateSystem
§
§
* =
:
§
§
= >
return
•
•
 "
;
•
•
" #
case
¶
¶
 
PipelineCall
¶
¶
 )
.
¶
¶
) *

BeginPoint
¶
¶
* 4
:
¶
¶
4 5
	validator
ß
ß
 %
.
ß
ß
% &
Call
ß
ß
& *
(
ß
ß
* +

PointStart
ß
ß
+ 5
)
ß
ß
5 6
;
ß
ß
6 7
return
®
®
 "
;
®
®
" #
case
©
©
 
PipelineCall
©
©
 )
.
©
©
) *
BeginLineString
©
©
* 9
:
©
©
9 :
	validator
™
™
 %
.
™
™
% &
Call
™
™
& *
(
™
™
* +
LineStringStart
™
™
+ :
)
™
™
: ;
;
™
™
; <
return
´
´
 "
;
´
´
" #
case
¨
¨
 
PipelineCall
¨
¨
 )
.
¨
¨
) *
BeginPolygon
¨
¨
* 6
:
¨
¨
6 7
	validator
≠
≠
 %
.
≠
≠
% &
Call
≠
≠
& *
(
≠
≠
* +
PolygonStart
≠
≠
+ 7
)
≠
≠
7 8
;
≠
≠
8 9
return
Æ
Æ
 "
;
Æ
Æ
" #
case
Ø
Ø
 
PipelineCall
Ø
Ø
 )
.
Ø
Ø
) *
BeginMultiPoint
Ø
Ø
* 9
:
Ø
Ø
9 :
	validator
∞
∞
 %
.
∞
∞
% &
Call
∞
∞
& *
(
∞
∞
* +

MultiPoint
∞
∞
+ 5
)
∞
∞
5 6
;
∞
∞
6 7
return
±
±
 "
;
±
±
" #
case
≤
≤
 
PipelineCall
≤
≤
 )
.
≤
≤
) *"
BeginMultiLineString
≤
≤
* >
:
≤
≤
> ?
	validator
≥
≥
 %
.
≥
≥
% &
Call
≥
≥
& *
(
≥
≥
* +
MultiLineString
≥
≥
+ :
)
≥
≥
: ;
;
≥
≥
; <
return
¥
¥
 "
;
¥
¥
" #
case
µ
µ
 
PipelineCall
µ
µ
 )
.
µ
µ
) *
BeginMultiPolygon
µ
µ
* ;
:
µ
µ
; <
	validator
∂
∂
 %
.
∂
∂
% &
Call
∂
∂
& *
(
∂
∂
* +
MultiPolygon
∂
∂
+ 7
)
∂
∂
7 8
;
∂
∂
8 9
return
∑
∑
 "
;
∑
∑
" #
case
∏
∏
 
PipelineCall
∏
∏
 )
.
∏
∏
) *
BeginCollection
∏
∏
* 9
:
∏
∏
9 :
	validator
π
π
 %
.
π
π
% &
Call
π
π
& *
(
π
π
* +

Collection
π
π
+ 5
)
π
π
5 6
;
π
π
6 7
return
∫
∫
 "
;
∫
∫
" #
case
ª
ª
 
PipelineCall
ª
ª
 )
.
ª
ª
) *
End
ª
ª
* -
:
ª
ª
- .
	validator
º
º
 %
.
º
º
% &
Return
º
º
& ,
(
º
º
, -
)
º
º
- .
;
º
º
. /
return
Ω
Ω
 "
;
Ω
Ω
" #
case
æ
æ
 
PipelineCall
æ
æ
 )
.
æ
æ
) *
BeginFullGlobe
æ
æ
* 8
:
æ
æ
8 9
throw
ø
ø
 !
new
ø
ø
" %
FormatException
ø
ø
& 5
(
ø
ø
5 6
Strings
ø
ø
6 =
.
ø
ø
= >-
Validator_FullGlobeInCollection
ø
ø
> ]
)
ø
ø
] ^
;
ø
ø
^ _
default
Õ
Õ
 
:
Õ
Õ
  
ThrowExpected
Œ
Œ
 )
(
Œ
Œ
) *
PipelineCall
Œ
Œ
* 6
.
Œ
Œ
6 7!
SetCoordinateSystem
Œ
Œ
7 J
,
Œ
Œ
J K
PipelineCall
Œ
Œ
L X
.
Œ
Œ
X Y
Begin
Œ
Œ
Y ^
,
Œ
Œ
^ _
PipelineCall
Œ
Œ
` l
.
Œ
Œ
l m
End
Œ
Œ
m p
,
Œ
Œ
p q

transition
Œ
Œ
r |
)
Œ
Œ
| }
;
Œ
Œ
} ~
return
œ
œ
 "
;
œ
œ
" #
}
–
–
 
}
—
—
 
}
“
“
 
private
ÿ
ÿ
 
class
ÿ
ÿ
 
FullGlobeState
ÿ
ÿ
 (
:
ÿ
ÿ
) *
ValidatorState
ÿ
ÿ
+ 9
{
Ÿ
Ÿ
 
internal
ﬂ
ﬂ
 
override
ﬂ
ﬂ
 !
void
ﬂ
ﬂ
" & 
ValidateTransition
ﬂ
ﬂ
' 9
(
ﬂ
ﬂ
9 :
PipelineCall
ﬂ
ﬂ
: F

transition
ﬂ
ﬂ
G Q
,
ﬂ
ﬂ
Q R
NestedValidator
ﬂ
ﬂ
S b
	validator
ﬂ
ﬂ
c l
)
ﬂ
ﬂ
l m
{
‡
‡
 
switch
·
·
 
(
·
·
 

transition
·
·
 &
)
·
·
& '
{
‚
‚
 
case
„
„
 
PipelineCall
„
„
 )
.
„
„
) *
End
„
„
* -
:
„
„
- .
	validator
‰
‰
 %
.
‰
‰
% &
Return
‰
‰
& ,
(
‰
‰
, -
)
‰
‰
- .
;
‰
‰
. /
return
Â
Â
 "
;
Â
Â
" #
default
Ê
Ê
 
:
Ê
Ê
  
throw
Á
Á
 !
new
Á
Á
" %
FormatException
Á
Á
& 5
(
Á
Á
5 6
Strings
Á
Á
6 =
.
Á
Á
= >3
%Validator_FullGlobeCannotHaveElements
Á
Á
> c
)
Á
Á
c d
;
Á
Á
d e
}
Ë
Ë
 
}
È
È
 
}
Í
Í
 
}
Ì
Ì
 	
}
Ó
Ó
 
}Ô
Ô
 ø
6D:\odata.net\src\Microsoft.Spatial\ExtensionMethods.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class 
ExtensionMethods *
{ 
public 
static 
void 
WriteRoundtrippable .
(. /
this/ 3

TextWriter4 >
writer? E
,E F
doubleG M
dN O
)O P
{ 	
writer 
. 
Write 
( 
d 
. 
ToString #
(# $
$str$ '
,' (
CultureInfo) 4
.4 5
InvariantCulture5 E
)E F
)F G
;G H
} 	
internal$$ 
static$$ 
TResult$$ 
?$$  $
IfValidReturningNullable$$! 9
<$$9 :
TArg$$: >
,$$> ?
TResult$$@ G
>$$G H
($$H I
this$$I M
TArg$$N R
arg$$S V
,$$V W
Func$$X \
<$$\ ]
TArg$$] a
,$$a b
TResult$$c j
>$$j k
op$$l n
)$$n o
where%% 
TArg%% 
:%% 
class%% 
where&& 
TResult&& 
:&& 
struct&& "
{'' 	
return(( 
arg(( 
==(( 
null(( 
?((  
(((! "
TResult((" )
?(() *
)((* +
null((+ /
:((0 1
op((2 4
(((4 5
arg((5 8
)((8 9
;((9 :
})) 	
internal33 
static33 
TResult33 
IfValid33  '
<33' (
TArg33( ,
,33, -
TResult33. 5
>335 6
(336 7
this337 ;
TArg33< @
arg33A D
,33D E
Func33F J
<33J K
TArg33K O
,33O P
TResult33Q X
>33X Y
op33Z \
)33\ ]
where44 
TArg44 
:44 
class44 
where55 
TResult55 
:55 
class55 !
{66 	
return77 
arg77 
==77 
null77 
?77  
default77! (
(77( )
TResult77) 0
)770 1
:772 3
op774 6
(776 7
arg777 :
)77: ;
;77; <
}88 	
}99 
}:: ◊
0D:\odata.net\src\Microsoft.Spatial\LexerToken.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 

LexerToken 
{ 
public 
string 
Text 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Type 
{ 
get 
; 
set "
;" #
}$ %
public!! 
bool!! 

MatchToken!! 
(!! 
int!! "

targetType!!# -
,!!- .
String!!/ 5

targetText!!6 @
,!!@ A
StringComparison!!B R

comparison!!S ]
)!!] ^
{"" 	
return## 
(## 
this## 
.## 
Type## 
==##  

targetType##! +
)##+ ,
&&##- /
(##0 1
String##1 7
.##7 8
IsNullOrEmpty##8 E
(##E F

targetText##F P
)##P Q
||##R T
this##U Y
.##Y Z
Text##Z ^
.##^ _
Equals##_ e
(##e f

targetText##f p
,##p q

comparison##r |
)##| }
)##} ~
;##~ 
}$$ 	
public** 
override** 
string** 
ToString** '
(**' (
)**( )
{++ 	
return,, 
$str,, 
+,, 
this,, "
.,," #
Type,,# '
+,,( )
$str,,* 4
+,,5 6
this,,7 ;
.,,; <
Text,,< @
+,,A B
$str,,C F
;,,F G
}-- 	
}.. 
}// ÿ8
3D:\odata.net\src\Microsoft.Spatial\TextLexerBase.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
abstract 
class 
TextLexerBase )
{ 
private 

TextReader 
reader !
;! "
private 

LexerToken 
currentToken '
;' (
private 

LexerToken 
	peekToken $
;$ %
	protected%% 
TextLexerBase%% 
(%%  

TextReader%%  *
text%%+ /
)%%/ 0
{&& 	
this'' 
.'' 
reader'' 
='' 
text'' 
;'' 
}(( 	
public-- 

LexerToken-- 
CurrentToken-- &
{.. 	
get// 
{// 
return// 
this// 
.// 
currentToken// *
;//* +
}//, -
}00 	
public77 
bool77 
Peek77 
(77 
out77 

LexerToken77 '
token77( -
)77- .
{88 	
if<< 
(<< 
this<< 
.<< 
	peekToken<< 
!=<< !
null<<" &
)<<& '
{== 
token?? 
=?? 
this?? 
.?? 
	peekToken?? &
;??& '
return@@ 
true@@ 
;@@ 
}AA 

LexerTokenDD 
tempDD 
=DD 
thisDD "
.DD" #
currentTokenDD# /
;DD/ 0
ifGG 
(GG 
thisGG 
.GG 
NextGG 
(GG 
)GG 
)GG 
{HH 
thisII 
.II 
	peekTokenII 
=II  
thisII! %
.II% &
currentTokenII& 2
;II2 3
tokenJJ 
=JJ 
thisJJ 
.JJ 
currentTokenJJ )
;JJ) *
thisMM 
.MM 
currentTokenMM !
=MM" #
tempMM$ (
;MM( )
returnNN 
trueNN 
;NN 
}OO 
elsePP 
{QQ 
thisRR 
.RR 
	peekTokenRR 
=RR  
nullRR! %
;RR% &
tokenSS 
=SS 
nullSS 
;SS 
thisVV 
.VV 
currentTokenVV !
=VV" #
tempVV$ (
;VV( )
returnWW 
falseWW 
;WW 
}XX 
}YY 	
public__ 
bool__ 
Next__ 
(__ 
)__ 
{`` 	
ifoo 
(oo 
thisoo 
.oo 
	peekTokenoo 
!=oo !
nulloo" &
)oo& '
{pp 
thisqq 
.qq 
currentTokenqq !
=qq" #
thisqq$ (
.qq( )
	peekTokenqq) 2
;qq2 3
thisrr 
.rr 
	peekTokenrr 
=rr  
nullrr! %
;rr% &
returnss 
truess 
;ss 
}tt 

LexerTokenvv 
originalTokenvv $
=vv% &
thisvv' +
.vv+ ,
CurrentTokenvv, 8
;vv8 9
intww 
?ww 
currentTokenTypeww !
=ww" #
nullww$ (
;ww( )
intxx 
	textValuexx 
;xx 
StringBuilderyy 
nextTokenTextyy '
=yy( )
nullyy* .
;yy. /
boolzz 
isDelimiterzz 
=zz 
falsezz $
;zz$ %
while|| 
(|| 
!|| 
isDelimiter|| 
&&||  "
(||# $
	textValue||$ -
=||. /
this||0 4
.||4 5
reader||5 ;
.||; <
Peek||< @
(||@ A
)||A B
)||B C
>=||D F
$num||G H
)||H I
{}} 
char~~ 
currentChar~~  
=~~! "
(~~# $
char~~$ (
)~~( )
	textValue~~) 2
;~~2 3
int 
newTokenType  
;  !
isDelimiter
ÄÄ 
=
ÄÄ 
this
ÄÄ "
.
ÄÄ" #
MatchTokenType
ÄÄ# 1
(
ÄÄ1 2
currentChar
ÄÄ2 =
,
ÄÄ= >
currentTokenType
ÄÄ? O
,
ÄÄO P
out
ÄÄQ T
newTokenType
ÄÄU a
)
ÄÄa b
;
ÄÄb c
if
ÇÇ 
(
ÇÇ 
!
ÇÇ 
currentTokenType
ÇÇ %
.
ÇÇ% &
HasValue
ÇÇ& .
)
ÇÇ. /
{
ÉÉ 
currentTokenType
ÖÖ $
=
ÖÖ% &
newTokenType
ÖÖ' 3
;
ÖÖ3 4
nextTokenText
ÜÜ !
=
ÜÜ" #
new
ÜÜ$ '
StringBuilder
ÜÜ( 5
(
ÜÜ5 6
)
ÜÜ6 7
;
ÜÜ7 8
nextTokenText
áá !
.
áá! "
Append
áá" (
(
áá( )
currentChar
áá) 4
)
áá4 5
;
áá5 6
this
àà 
.
àà 
reader
àà 
.
àà  
Read
àà  $
(
àà$ %
)
àà% &
;
àà& '
}
ââ 
else
ää 
{
ãã 
if
çç 
(
çç 
currentTokenType
çç (
==
çç) +
newTokenType
çç, 8
)
çç8 9
{
éé 
nextTokenText
êê %
.
êê% &
Append
êê& ,
(
êê, -
currentChar
êê- 8
)
êê8 9
;
êê9 :
this
ëë 
.
ëë 
reader
ëë #
.
ëë# $
Read
ëë$ (
(
ëë( )
)
ëë) *
;
ëë* +
}
íí 
else
ìì 
{
îî 
isDelimiter
ññ #
=
ññ$ %
true
ññ& *
;
ññ* +
}
óó 
}
òò 
}
ôô 
if
úú 
(
úú 
currentTokenType
úú  
.
úú  !
HasValue
úú! )
)
úú) *
{
ùù 
Debug
ûû 
.
ûû 
Assert
ûû 
(
ûû 
nextTokenText
ûû *
!=
ûû+ -
null
ûû. 2
,
ûû2 3
$str
ûû4 s
)
ûûs t
;
ûût u
this
üü 
.
üü 
currentToken
üü !
=
üü" #
new
üü$ '

LexerToken
üü( 2
(
üü2 3
)
üü3 4
{
üü5 6
Text
üü7 ;
=
üü< =
nextTokenText
üü> K
.
üüK L
ToString
üüL T
(
üüT U
)
üüU V
,
üüV W
Type
üüX \
=
üü] ^
currentTokenType
üü_ o
.
üüo p
Value
üüp u
}
üüv w
;
üüw x
}
†† 
return
¢¢ 
originalToken
¢¢  
!=
¢¢! #
this
¢¢$ (
.
¢¢( )
currentToken
¢¢) 5
;
¢¢5 6
}
££ 	
	protected
¨¨ 
abstract
¨¨ 
bool
¨¨ 
MatchTokenType
¨¨  .
(
¨¨. /
char
¨¨/ 3
nextChar
¨¨4 <
,
¨¨< =
int
¨¨> A
?
¨¨A B
currentType
¨¨C N
,
¨¨N O
out
¨¨P S
int
¨¨T W
type
¨¨X \
)
¨¨\ ]
;
¨¨] ^
}
≠≠ 
}ÆÆ ¥ˇ
<D:\odata.net\src\Microsoft.Spatial\WellKnownTextSqlReader.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class "
WellKnownTextSqlReader )
:* +
SpatialReader, 9
<9 :

TextReader: D
>D E
{ 
private 
bool "
allowOnlyTwoDimensions +
;+ ,
public   "
WellKnownTextSqlReader   %
(  % &
SpatialPipeline  & 5
destination  6 A
)  A B
:!! 
this!! 
(!! 
destination!! 
,!! 
false!!  %
)!!% &
{"" 	
}## 	
public** "
WellKnownTextSqlReader** %
(**% &
SpatialPipeline**& 5
destination**6 A
,**A B
bool**C G"
allowOnlyTwoDimensions**H ^
)**^ _
:++ 
base++ 
(++ 
destination++ 
)++ 
{,, 	
this-- 
.-- "
allowOnlyTwoDimensions-- '
=--( )"
allowOnlyTwoDimensions--* @
;--@ A
}.. 	
	protected44 
override44 
void44 '
ReadGeographyImplementation44  ;
(44; <

TextReader44< F
input44G L
)44L M
{55 	
new77 
Parser77 
(77 
input77 
,77 
new77 !0
$TypeWashedToGeographyLongLatPipeline77" F
(77F G
this77G K
.77K L
Destination77L W
)77W X
,77X Y"
allowOnlyTwoDimensions77Z p
)77p q
.77q r
Read77r v
(77v w
)77w x
;77x y
}88 	
	protected>> 
override>> 
void>> &
ReadGeometryImplementation>>  :
(>>: ;

TextReader>>; E
input>>F K
)>>K L
{?? 	
new@@ 
Parser@@ 
(@@ 
input@@ 
,@@ 
new@@ !(
TypeWashedToGeometryPipeline@@" >
(@@> ?
this@@? C
.@@C D
Destination@@D O
)@@O P
,@@P Q"
allowOnlyTwoDimensions@@R h
)@@h i
.@@i j
Read@@j n
(@@n o
)@@o p
;@@p q
}AA 	
privateFF 
classFF 
ParserFF 
{GG 	
privateKK 
readonlyKK 
boolKK !"
allowOnlyTwoDimensionsKK" 8
;KK8 9
privatePP 
readonlyPP 
TextLexerBasePP *
lexerPP+ 0
;PP0 1
privateUU 
readonlyUU 
TypeWashedPipelineUU /
pipelineUU0 8
;UU8 9
public]] 
Parser]] 
(]] 

TextReader]] $
reader]]% +
,]]+ ,
TypeWashedPipeline]]- ?
pipeline]]@ H
,]]H I
bool]]J N"
allowOnlyTwoDimensions]]O e
)]]e f
{^^ 
this__ 
.__ 
lexer__ 
=__ 
new__  
WellKnownTextLexer__! 3
(__3 4
reader__4 :
)__: ;
;__; <
this`` 
.`` 
pipeline`` 
=`` 
pipeline``  (
;``( )
thisaa 
.aa "
allowOnlyTwoDimensionsaa +
=aa, -"
allowOnlyTwoDimensionsaa. D
;aaD E
}bb 
publicgg 
voidgg 
Readgg 
(gg 
)gg 
{hh 
thisii 
.ii 
	ParseSRIDii 
(ii 
)ii  
;ii  !
thisjj 
.jj 
ParseTaggedTextjj $
(jj$ %
)jj% &
;jj& '
}kk 
privatess 
boolss 
IsTokenMatchss %
(ss% &"
WellKnownTextTokenTypess& <
typess= A
,ssA B
StringssC I
textssJ N
)ssN O
{tt 
returnuu 
thisuu 
.uu 
lexeruu !
.uu! "
CurrentTokenuu" .
.uu. /

MatchTokenuu/ 9
(uu9 :
(uu: ;
intuu; >
)uu> ?
typeuu? C
,uuC D
textuuE I
,uuI J
StringComparisonuuK [
.uu[ \
OrdinalIgnoreCaseuu\ m
)uum n
;uun o
}vv 
private|| 
bool|| 
	NextToken|| "
(||" #
)||# $
{}} 
while~~ 
(~~ 
this~~ 
.~~ 
lexer~~ !
.~~! "
Next~~" &
(~~& '
)~~' (
)~~( )
{ 
if
ÄÄ 
(
ÄÄ 
!
ÄÄ 
this
ÄÄ 
.
ÄÄ 
lexer
ÄÄ #
.
ÄÄ# $
CurrentToken
ÄÄ$ 0
.
ÄÄ0 1

MatchToken
ÄÄ1 ;
(
ÄÄ; <
(
ÄÄ< =
int
ÄÄ= @
)
ÄÄ@ A$
WellKnownTextTokenType
ÄÄA W
.
ÄÄW X

WhiteSpace
ÄÄX b
,
ÄÄb c
String
ÄÄd j
.
ÄÄj k
Empty
ÄÄk p
,
ÄÄp q
StringComparisonÄÄr Ç
.ÄÄÇ É
OrdinalÄÄÉ ä
)ÄÄä ã
)ÄÄã å
{
ÅÅ 
return
ÇÇ 
true
ÇÇ #
;
ÇÇ# $
}
ÉÉ 
}
ÑÑ 
return
ÜÜ 
false
ÜÜ 
;
ÜÜ 
}
áá 
private
åå 
void
åå !
ParseCollectionText
åå ,
(
åå, -
)
åå- .
{
çç 
if
èè 
(
èè 
!
èè 
this
èè 
.
èè 
ReadEmptySet
èè &
(
èè& '
)
èè' (
)
èè( )
{
êê 
this
ëë 
.
ëë 
	ReadToken
ëë "
(
ëë" #$
WellKnownTextTokenType
ëë# 9
.
ëë9 :
	LeftParen
ëë: C
,
ëëC D
null
ëëE I
)
ëëI J
;
ëëJ K
this
íí 
.
íí 
ParseTaggedText
íí (
(
íí( )
)
íí) *
;
íí* +
while
ìì 
(
ìì 
this
ìì 
.
ìì  
ReadOptionalToken
ìì  1
(
ìì1 2$
WellKnownTextTokenType
ìì2 H
.
ììH I
Comma
ììI N
,
ììN O
null
ììP T
)
ììT U
)
ììU V
{
îî 
this
ïï 
.
ïï 
ParseTaggedText
ïï ,
(
ïï, -
)
ïï- .
;
ïï. /
}
ññ 
this
òò 
.
òò 
	ReadToken
òò "
(
òò" #$
WellKnownTextTokenType
òò# 9
.
òò9 :

RightParen
òò: D
,
òòD E
null
òòF J
)
òòJ K
;
òòK L
}
ôô 
}
öö 
private
üü 
void
üü !
ParseLineStringText
üü ,
(
üü, -
)
üü- .
{
†† 
if
¢¢ 
(
¢¢ 
!
¢¢ 
this
¢¢ 
.
¢¢ 
ReadEmptySet
¢¢ &
(
¢¢& '
)
¢¢' (
)
¢¢( )
{
££ 
this
§§ 
.
§§ 
	ReadToken
§§ "
(
§§" #$
WellKnownTextTokenType
§§# 9
.
§§9 :
	LeftParen
§§: C
,
§§C D
null
§§E I
)
§§I J
;
§§J K
this
•• 
.
•• 

ParsePoint
•• #
(
••# $
true
••$ (
)
••( )
;
••) *
while
¶¶ 
(
¶¶ 
this
¶¶ 
.
¶¶  
ReadOptionalToken
¶¶  1
(
¶¶1 2$
WellKnownTextTokenType
¶¶2 H
.
¶¶H I
Comma
¶¶I N
,
¶¶N O
null
¶¶P T
)
¶¶T U
)
¶¶U V
{
ßß 
this
®® 
.
®® 

ParsePoint
®® '
(
®®' (
false
®®( -
)
®®- .
;
®®. /
}
©© 
this
´´ 
.
´´ 
	ReadToken
´´ "
(
´´" #$
WellKnownTextTokenType
´´# 9
.
´´9 :

RightParen
´´: D
,
´´D E
null
´´F J
)
´´J K
;
´´K L
this
¨¨ 
.
¨¨ 
pipeline
¨¨ !
.
¨¨! "
	EndFigure
¨¨" +
(
¨¨+ ,
)
¨¨, -
;
¨¨- .
}
≠≠ 
}
ÆÆ 
private
µµ 
void
µµ 
ParseMultiGeoText
µµ *
(
µµ* +
SpatialType
µµ+ 6
	innerType
µµ7 @
,
µµ@ A
Action
µµB H
innerReader
µµI T
)
µµT U
{
∂∂ 
if
∫∫ 
(
∫∫ 
!
∫∫ 
this
∫∫ 
.
∫∫ 
ReadEmptySet
∫∫ &
(
∫∫& '
)
∫∫' (
)
∫∫( )
{
ªª 
this
ºº 
.
ºº 
	ReadToken
ºº "
(
ºº" #$
WellKnownTextTokenType
ºº# 9
.
ºº9 :
	LeftParen
ºº: C
,
ººC D
null
ººE I
)
ººI J
;
ººJ K
this
ΩΩ 
.
ΩΩ 
pipeline
ΩΩ !
.
ΩΩ! "
BeginGeo
ΩΩ" *
(
ΩΩ* +
	innerType
ΩΩ+ 4
)
ΩΩ4 5
;
ΩΩ5 6
innerReader
ææ 
(
ææ  
)
ææ  !
;
ææ! "
this
øø 
.
øø 
pipeline
øø !
.
øø! "
EndGeo
øø" (
(
øø( )
)
øø) *
;
øø* +
while
¡¡ 
(
¡¡ 
this
¡¡ 
.
¡¡  
ReadOptionalToken
¡¡  1
(
¡¡1 2$
WellKnownTextTokenType
¡¡2 H
.
¡¡H I
Comma
¡¡I N
,
¡¡N O
null
¡¡P T
)
¡¡T U
)
¡¡U V
{
¬¬ 
this
√√ 
.
√√ 
pipeline
√√ %
.
√√% &
BeginGeo
√√& .
(
√√. /
	innerType
√√/ 8
)
√√8 9
;
√√9 :
innerReader
ƒƒ #
(
ƒƒ# $
)
ƒƒ$ %
;
ƒƒ% &
this
≈≈ 
.
≈≈ 
pipeline
≈≈ %
.
≈≈% &
EndGeo
≈≈& ,
(
≈≈, -
)
≈≈- .
;
≈≈. /
}
∆∆ 
this
»» 
.
»» 
	ReadToken
»» "
(
»»" #$
WellKnownTextTokenType
»»# 9
.
»»9 :

RightParen
»»: D
,
»»D E
null
»»F J
)
»»J K
;
»»K L
}
…… 
}
   
private
–– 
void
–– 

ParsePoint
–– #
(
––# $
bool
––$ (
firstFigure
––) 4
)
––4 5
{
—— 
double
““ 
x
““ 
=
““ 
this
““ 
.
““  

ReadDouble
““  *
(
““* +
)
““+ ,
;
““, -
double
”” 
y
”” 
=
”” 
this
”” 
.
””  

ReadDouble
””  *
(
””* +
)
””+ ,
;
””, -
double
‘‘ 
?
‘‘ 
z
‘‘ 
;
‘‘ 
double
’’ 
?
’’ 
m
’’ 
;
’’ 
if
◊◊ 
(
◊◊ 
this
◊◊ 
.
◊◊ +
TryReadOptionalNullableDouble
◊◊ 6
(
◊◊6 7
out
◊◊7 :
z
◊◊; <
)
◊◊< =
&&
◊◊> @$
allowOnlyTwoDimensions
◊◊A W
)
◊◊W X
{
ÿÿ 
throw
ŸŸ 
new
ŸŸ 
FormatException
ŸŸ -
(
ŸŸ- .
Strings
ŸŸ. 5
.
ŸŸ5 6-
WellKnownText_TooManyDimensions
ŸŸ6 U
)
ŸŸU V
;
ŸŸV W
}
⁄⁄ 
if
‹‹ 
(
‹‹ 
this
‹‹ 
.
‹‹ +
TryReadOptionalNullableDouble
‹‹ 6
(
‹‹6 7
out
‹‹7 :
m
‹‹; <
)
‹‹< =
&&
‹‹> @$
allowOnlyTwoDimensions
‹‹A W
)
‹‹W X
{
›› 
throw
ﬁﬁ 
new
ﬁﬁ 
FormatException
ﬁﬁ -
(
ﬁﬁ- .
Strings
ﬁﬁ. 5
.
ﬁﬁ5 6-
WellKnownText_TooManyDimensions
ﬁﬁ6 U
)
ﬁﬁU V
;
ﬁﬁV W
}
ﬂﬂ 
if
·· 
(
·· 
firstFigure
·· 
)
··  
{
‚‚ 
this
„„ 
.
„„ 
pipeline
„„ !
.
„„! "
BeginFigure
„„" -
(
„„- .
x
„„. /
,
„„/ 0
y
„„1 2
,
„„2 3
z
„„4 5
,
„„5 6
m
„„7 8
)
„„8 9
;
„„9 :
}
‰‰ 
else
ÂÂ 
{
ÊÊ 
this
ÁÁ 
.
ÁÁ 
pipeline
ÁÁ !
.
ÁÁ! "
LineTo
ÁÁ" (
(
ÁÁ( )
x
ÁÁ) *
,
ÁÁ* +
y
ÁÁ, -
,
ÁÁ- .
z
ÁÁ/ 0
,
ÁÁ0 1
m
ÁÁ2 3
)
ÁÁ3 4
;
ÁÁ4 5
}
ËË 
}
ÈÈ 
private
ÓÓ 
void
ÓÓ 
ParsePointText
ÓÓ '
(
ÓÓ' (
)
ÓÓ( )
{
ÔÔ 
if
ÒÒ 
(
ÒÒ 
!
ÒÒ 
this
ÒÒ 
.
ÒÒ 
ReadEmptySet
ÒÒ &
(
ÒÒ& '
)
ÒÒ' (
)
ÒÒ( )
{
ÚÚ 
this
ÛÛ 
.
ÛÛ 
	ReadToken
ÛÛ "
(
ÛÛ" #$
WellKnownTextTokenType
ÛÛ# 9
.
ÛÛ9 :
	LeftParen
ÛÛ: C
,
ÛÛC D
null
ÛÛE I
)
ÛÛI J
;
ÛÛJ K
this
ÙÙ 
.
ÙÙ 

ParsePoint
ÙÙ #
(
ÙÙ# $
true
ÙÙ$ (
)
ÙÙ( )
;
ÙÙ) *
this
ıı 
.
ıı 
	ReadToken
ıı "
(
ıı" #$
WellKnownTextTokenType
ıı# 9
.
ıı9 :

RightParen
ıı: D
,
ııD E
null
ııF J
)
ııJ K
;
ııK L
this
ˆˆ 
.
ˆˆ 
pipeline
ˆˆ !
.
ˆˆ! "
	EndFigure
ˆˆ" +
(
ˆˆ+ ,
)
ˆˆ, -
;
ˆˆ- .
}
˜˜ 
}
¯¯ 
private
˝˝ 
void
˝˝ 
ParsePolygonText
˝˝ )
(
˝˝) *
)
˝˝* +
{
˛˛ 
if
ÄÄ 
(
ÄÄ 
!
ÄÄ 
this
ÄÄ 
.
ÄÄ 
ReadEmptySet
ÄÄ &
(
ÄÄ& '
)
ÄÄ' (
)
ÄÄ( )
{
ÅÅ 
this
ÇÇ 
.
ÇÇ 
	ReadToken
ÇÇ "
(
ÇÇ" #$
WellKnownTextTokenType
ÇÇ# 9
.
ÇÇ9 :
	LeftParen
ÇÇ: C
,
ÇÇC D
null
ÇÇE I
)
ÇÇI J
;
ÇÇJ K
this
ÉÉ 
.
ÉÉ !
ParseLineStringText
ÉÉ ,
(
ÉÉ, -
)
ÉÉ- .
;
ÉÉ. /
while
ÑÑ 
(
ÑÑ 
this
ÑÑ 
.
ÑÑ  
ReadOptionalToken
ÑÑ  1
(
ÑÑ1 2$
WellKnownTextTokenType
ÑÑ2 H
.
ÑÑH I
Comma
ÑÑI N
,
ÑÑN O
null
ÑÑP T
)
ÑÑT U
)
ÑÑU V
{
ÖÖ 
this
ÜÜ 
.
ÜÜ !
ParseLineStringText
ÜÜ 0
(
ÜÜ0 1
)
ÜÜ1 2
;
ÜÜ2 3
}
áá 
this
ââ 
.
ââ 
	ReadToken
ââ "
(
ââ" #$
WellKnownTextTokenType
ââ# 9
.
ââ9 :

RightParen
ââ: D
,
ââD E
null
ââF J
)
ââJ K
;
ââK L
}
ää 
}
ãã 
private
êê 
void
êê 
	ParseSRID
êê "
(
êê" #
)
êê# $
{
ëë 
if
ìì 
(
ìì 
this
ìì 
.
ìì 
ReadOptionalToken
ìì *
(
ìì* +$
WellKnownTextTokenType
ìì+ A
.
ììA B
Text
ììB F
,
ììF G$
WellKnownTextConstants
ììH ^
.
ìì^ _
WktSrid
ìì_ f
)
ììf g
)
ììg h
{
îî 
this
ïï 
.
ïï 
	ReadToken
ïï "
(
ïï" #$
WellKnownTextTokenType
ïï# 9
.
ïï9 :
Equals
ïï: @
,
ïï@ A
null
ïïB F
)
ïïF G
;
ïïG H
this
ññ 
.
ññ 
pipeline
ññ !
.
ññ! "!
SetCoordinateSystem
ññ" 5
(
ññ5 6
this
ññ6 :
.
ññ: ;
ReadInteger
ññ; F
(
ññF G
)
ññG H
)
ññH I
;
ññI J
this
óó 
.
óó 
	ReadToken
óó "
(
óó" #$
WellKnownTextTokenType
óó# 9
.
óó9 :
	Semicolon
óó: C
,
óóC D
null
óóE I
)
óóI J
;
óóJ K
}
òò 
else
ôô 
{
öö 
this
õõ 
.
õõ 
pipeline
õõ !
.
õõ! "!
SetCoordinateSystem
õõ" 5
(
õõ5 6
null
õõ6 :
)
õõ: ;
;
õõ; <
}
úú 
}
ùù 
private
¢¢ 
void
¢¢ 
ParseTaggedText
¢¢ (
(
¢¢( )
)
¢¢) *
{
££ 
if
≤≤ 
(
≤≤ 
!
≤≤ 
this
≤≤ 
.
≤≤ 
	NextToken
≤≤ #
(
≤≤# $
)
≤≤$ %
)
≤≤% &
{
≥≥ 
throw
¥¥ 
new
¥¥ 
FormatException
¥¥ -
(
¥¥- .
Strings
¥¥. 5
.
¥¥5 6-
WellKnownText_UnknownTaggedText
¥¥6 U
(
¥¥U V
String
¥¥V \
.
¥¥\ ]
Empty
¥¥] b
)
¥¥b c
)
¥¥c d
;
¥¥d e
}
µµ 
switch
∑∑ 
(
∑∑ 
this
∑∑ 
.
∑∑ 
lexer
∑∑ "
.
∑∑" #
CurrentToken
∑∑# /
.
∑∑/ 0
Text
∑∑0 4
.
∑∑4 5
ToUpperInvariant
∑∑5 E
(
∑∑E F
)
∑∑F G
)
∑∑G H
{
∏∏ 
case
ππ $
WellKnownTextConstants
ππ /
.
ππ/ 0
WktPoint
ππ0 8
:
ππ8 9
this
∫∫ 
.
∫∫ 
pipeline
∫∫ %
.
∫∫% &
BeginGeo
∫∫& .
(
∫∫. /
SpatialType
∫∫/ :
.
∫∫: ;
Point
∫∫; @
)
∫∫@ A
;
∫∫A B
this
ªª 
.
ªª 
ParsePointText
ªª +
(
ªª+ ,
)
ªª, -
;
ªª- .
this
ºº 
.
ºº 
pipeline
ºº %
.
ºº% &
EndGeo
ºº& ,
(
ºº, -
)
ºº- .
;
ºº. /
break
ΩΩ 
;
ΩΩ 
case
ææ $
WellKnownTextConstants
ææ /
.
ææ/ 0
WktLineString
ææ0 =
:
ææ= >
this
øø 
.
øø 
pipeline
øø %
.
øø% &
BeginGeo
øø& .
(
øø. /
SpatialType
øø/ :
.
øø: ;

LineString
øø; E
)
øøE F
;
øøF G
this
¿¿ 
.
¿¿ !
ParseLineStringText
¿¿ 0
(
¿¿0 1
)
¿¿1 2
;
¿¿2 3
this
¡¡ 
.
¡¡ 
pipeline
¡¡ %
.
¡¡% &
EndGeo
¡¡& ,
(
¡¡, -
)
¡¡- .
;
¡¡. /
break
¬¬ 
;
¬¬ 
case
√√ $
WellKnownTextConstants
√√ /
.
√√/ 0

WktPolygon
√√0 :
:
√√: ;
this
ƒƒ 
.
ƒƒ 
pipeline
ƒƒ %
.
ƒƒ% &
BeginGeo
ƒƒ& .
(
ƒƒ. /
SpatialType
ƒƒ/ :
.
ƒƒ: ;
Polygon
ƒƒ; B
)
ƒƒB C
;
ƒƒC D
this
≈≈ 
.
≈≈ 
ParsePolygonText
≈≈ -
(
≈≈- .
)
≈≈. /
;
≈≈/ 0
this
∆∆ 
.
∆∆ 
pipeline
∆∆ %
.
∆∆% &
EndGeo
∆∆& ,
(
∆∆, -
)
∆∆- .
;
∆∆. /
break
«« 
;
«« 
case
»» $
WellKnownTextConstants
»» /
.
»»/ 0
WktMultiPoint
»»0 =
:
»»= >
this
…… 
.
…… 
pipeline
…… %
.
……% &
BeginGeo
……& .
(
……. /
SpatialType
……/ :
.
……: ;

MultiPoint
……; E
)
……E F
;
……F G
this
   
.
   
ParseMultiGeoText
   .
(
  . /
SpatialType
  / :
.
  : ;
Point
  ; @
,
  @ A
this
  B F
.
  F G
ParsePointText
  G U
)
  U V
;
  V W
this
ÀÀ 
.
ÀÀ 
pipeline
ÀÀ %
.
ÀÀ% &
EndGeo
ÀÀ& ,
(
ÀÀ, -
)
ÀÀ- .
;
ÀÀ. /
break
ÃÃ 
;
ÃÃ 
case
ÕÕ $
WellKnownTextConstants
ÕÕ /
.
ÕÕ/ 0 
WktMultiLineString
ÕÕ0 B
:
ÕÕB C
this
ŒŒ 
.
ŒŒ 
pipeline
ŒŒ %
.
ŒŒ% &
BeginGeo
ŒŒ& .
(
ŒŒ. /
SpatialType
ŒŒ/ :
.
ŒŒ: ;
MultiLineString
ŒŒ; J
)
ŒŒJ K
;
ŒŒK L
this
œœ 
.
œœ 
ParseMultiGeoText
œœ .
(
œœ. /
SpatialType
œœ/ :
.
œœ: ;

LineString
œœ; E
,
œœE F
this
œœG K
.
œœK L!
ParseLineStringText
œœL _
)
œœ_ `
;
œœ` a
this
–– 
.
–– 
pipeline
–– %
.
––% &
EndGeo
––& ,
(
––, -
)
––- .
;
––. /
break
—— 
;
—— 
case
““ $
WellKnownTextConstants
““ /
.
““/ 0
WktMultiPolygon
““0 ?
:
““? @
this
”” 
.
”” 
pipeline
”” %
.
””% &
BeginGeo
””& .
(
””. /
SpatialType
””/ :
.
””: ;
MultiPolygon
””; G
)
””G H
;
””H I
this
‘‘ 
.
‘‘ 
ParseMultiGeoText
‘‘ .
(
‘‘. /
SpatialType
‘‘/ :
.
‘‘: ;
Polygon
‘‘; B
,
‘‘B C
this
‘‘D H
.
‘‘H I
ParsePolygonText
‘‘I Y
)
‘‘Y Z
;
‘‘Z [
this
’’ 
.
’’ 
pipeline
’’ %
.
’’% &
EndGeo
’’& ,
(
’’, -
)
’’- .
;
’’. /
break
÷÷ 
;
÷÷ 
case
◊◊ $
WellKnownTextConstants
◊◊ /
.
◊◊/ 0
WktCollection
◊◊0 =
:
◊◊= >
this
ÿÿ 
.
ÿÿ 
pipeline
ÿÿ %
.
ÿÿ% &
BeginGeo
ÿÿ& .
(
ÿÿ. /
SpatialType
ÿÿ/ :
.
ÿÿ: ;

Collection
ÿÿ; E
)
ÿÿE F
;
ÿÿF G
this
ŸŸ 
.
ŸŸ !
ParseCollectionText
ŸŸ 0
(
ŸŸ0 1
)
ŸŸ1 2
;
ŸŸ2 3
this
⁄⁄ 
.
⁄⁄ 
pipeline
⁄⁄ %
.
⁄⁄% &
EndGeo
⁄⁄& ,
(
⁄⁄, -
)
⁄⁄- .
;
⁄⁄. /
break
€€ 
;
€€ 
case
‹‹ $
WellKnownTextConstants
‹‹ /
.
‹‹/ 0
WktFullGlobe
‹‹0 <
:
‹‹< =
this
›› 
.
›› 
pipeline
›› %
.
››% &
BeginGeo
››& .
(
››. /
SpatialType
››/ :
.
››: ;
	FullGlobe
››; D
)
››D E
;
››E F
this
ﬁﬁ 
.
ﬁﬁ 
pipeline
ﬁﬁ %
.
ﬁﬁ% &
EndGeo
ﬁﬁ& ,
(
ﬁﬁ, -
)
ﬁﬁ- .
;
ﬁﬁ. /
break
ﬂﬂ 
;
ﬂﬂ 
default
‡‡ 
:
‡‡ 
throw
·· 
new
·· !
FormatException
··" 1
(
··1 2
Strings
··2 9
.
··9 :-
WellKnownText_UnknownTaggedText
··: Y
(
··Y Z
this
··Z ^
.
··^ _
lexer
··_ d
.
··d e
CurrentToken
··e q
.
··q r
Text
··r v
)
··v w
)
··w x
;
··x y
}
‚‚ 
}
„„ 
private
ÈÈ 
double
ÈÈ 

ReadDouble
ÈÈ %
(
ÈÈ% &
)
ÈÈ& '
{
ÍÍ 
var
ÏÏ 

numberText
ÏÏ 
=
ÏÏ  
new
ÏÏ! $
StringBuilder
ÏÏ% 2
(
ÏÏ2 3
)
ÏÏ3 4
;
ÏÏ4 5
this
ÌÌ 
.
ÌÌ 
	ReadToken
ÌÌ 
(
ÌÌ $
WellKnownTextTokenType
ÌÌ 5
.
ÌÌ5 6
Number
ÌÌ6 <
,
ÌÌ< =
null
ÌÌ> B
)
ÌÌB C
;
ÌÌC D

numberText
ÓÓ 
.
ÓÓ 
Append
ÓÓ !
(
ÓÓ! "
this
ÓÓ" &
.
ÓÓ& '
lexer
ÓÓ' ,
.
ÓÓ, -
CurrentToken
ÓÓ- 9
.
ÓÓ9 :
Text
ÓÓ: >
)
ÓÓ> ?
;
ÓÓ? @
if
ÔÔ 
(
ÔÔ 
this
ÔÔ 
.
ÔÔ 
ReadOptionalToken
ÔÔ *
(
ÔÔ* +$
WellKnownTextTokenType
ÔÔ+ A
.
ÔÔA B
Period
ÔÔB H
,
ÔÔH I
null
ÔÔJ N
)
ÔÔN O
)
ÔÔO P
{
 

numberText
ÒÒ 
.
ÒÒ 
Append
ÒÒ %
(
ÒÒ% &$
WellKnownTextConstants
ÒÒ& <
.
ÒÒ< =
	WktPeriod
ÒÒ= F
)
ÒÒF G
;
ÒÒG H
this
ÚÚ 
.
ÚÚ 
	ReadToken
ÚÚ "
(
ÚÚ" #$
WellKnownTextTokenType
ÚÚ# 9
.
ÚÚ9 :
Number
ÚÚ: @
,
ÚÚ@ A
null
ÚÚB F
)
ÚÚF G
;
ÚÚG H

numberText
ÛÛ 
.
ÛÛ 
Append
ÛÛ %
(
ÛÛ% &
this
ÛÛ& *
.
ÛÛ* +
lexer
ÛÛ+ 0
.
ÛÛ0 1
CurrentToken
ÛÛ1 =
.
ÛÛ= >
Text
ÛÛ> B
)
ÛÛB C
;
ÛÛC D
}
ÙÙ 
return
ˆˆ 
Double
ˆˆ 
.
ˆˆ 
Parse
ˆˆ #
(
ˆˆ# $

numberText
ˆˆ$ .
.
ˆˆ. /
ToString
ˆˆ/ 7
(
ˆˆ7 8
)
ˆˆ8 9
,
ˆˆ9 :
CultureInfo
ˆˆ; F
.
ˆˆF G
InvariantCulture
ˆˆG W
)
ˆˆW X
;
ˆˆX Y
}
˜˜ 
private
˝˝ 
bool
˝˝ 
ReadEmptySet
˝˝ %
(
˝˝% &
)
˝˝& '
{
˛˛ 
return
ÄÄ 
this
ÄÄ 
.
ÄÄ 
ReadOptionalToken
ÄÄ -
(
ÄÄ- .$
WellKnownTextTokenType
ÄÄ. D
.
ÄÄD E
Text
ÄÄE I
,
ÄÄI J$
WellKnownTextConstants
ÄÄK a
.
ÄÄa b
WktEmpty
ÄÄb j
)
ÄÄj k
;
ÄÄk l
}
ÅÅ 
private
áá 
Int32
áá 
ReadInteger
áá %
(
áá% &
)
áá& '
{
àà 
this
ââ 
.
ââ 
	ReadToken
ââ 
(
ââ $
WellKnownTextTokenType
ââ 5
.
ââ5 6
Number
ââ6 <
,
ââ< =
null
ââ> B
)
ââB C
;
ââC D
return
ää 

XmlConvert
ää !
.
ää! "
ToInt32
ää" )
(
ää) *
this
ää* .
.
ää. /
lexer
ää/ 4
.
ää4 5
CurrentToken
ää5 A
.
ääA B
Text
ääB F
)
ääF G
;
ääG H
}
ãã 
private
íí 
bool
íí +
TryReadOptionalNullableDouble
íí 6
(
íí6 7
out
íí7 :
double
íí; A
?
ííA B
value
ííC H
)
ííH I
{
ìì 
var
ïï 

numberText
ïï 
=
ïï  
new
ïï! $
StringBuilder
ïï% 2
(
ïï2 3
)
ïï3 4
;
ïï4 5
if
óó 
(
óó 
this
óó 
.
óó 
ReadOptionalToken
óó *
(
óó* +$
WellKnownTextTokenType
óó+ A
.
óóA B
Number
óóB H
,
óóH I
null
óóJ N
)
óóN O
)
óóO P
{
òò 

numberText
ôô 
.
ôô 
Append
ôô %
(
ôô% &
this
ôô& *
.
ôô* +
lexer
ôô+ 0
.
ôô0 1
CurrentToken
ôô1 =
.
ôô= >
Text
ôô> B
)
ôôB C
;
ôôC D
if
öö 
(
öö 
this
öö 
.
öö 
ReadOptionalToken
öö .
(
öö. /$
WellKnownTextTokenType
öö/ E
.
ööE F
Period
ööF L
,
ööL M
null
ööN R
)
ööR S
)
ööS T
{
õõ 

numberText
úú "
.
úú" #
Append
úú# )
(
úú) *$
WellKnownTextConstants
úú* @
.
úú@ A
	WktPeriod
úúA J
)
úúJ K
;
úúK L
this
ùù 
.
ùù 
	ReadToken
ùù &
(
ùù& '$
WellKnownTextTokenType
ùù' =
.
ùù= >
Number
ùù> D
,
ùùD E
null
ùùF J
)
ùùJ K
;
ùùK L

numberText
ûû "
.
ûû" #
Append
ûû# )
(
ûû) *
this
ûû* .
.
ûû. /
lexer
ûû/ 4
.
ûû4 5
CurrentToken
ûû5 A
.
ûûA B
Text
ûûB F
)
ûûF G
;
ûûG H
}
üü 
value
°° 
=
°° 
Double
°° "
.
°°" #
Parse
°°# (
(
°°( )

numberText
°°) 3
.
°°3 4
ToString
°°4 <
(
°°< =
)
°°= >
,
°°> ?
CultureInfo
°°@ K
.
°°K L
InvariantCulture
°°L \
)
°°\ ]
;
°°] ^
return
¢¢ 
true
¢¢ 
;
¢¢  
}
££ 
value
•• 
=
•• 
null
•• 
;
•• 
return
¶¶ 
this
¶¶ 
.
¶¶ 
ReadOptionalToken
¶¶ -
(
¶¶- .$
WellKnownTextTokenType
¶¶. D
.
¶¶D E
Text
¶¶E I
,
¶¶I J$
WellKnownTextConstants
¶¶K a
.
¶¶a b
WktNull
¶¶b i
)
¶¶i j
;
¶¶j k
}
ßß 
private
ØØ 
bool
ØØ 
ReadOptionalToken
ØØ *
(
ØØ* +$
WellKnownTextTokenType
ØØ+ A
expectedTokenType
ØØB S
,
ØØS T
String
ØØU [
expectedTokenText
ØØ\ m
)
ØØm n
{
∞∞ 

LexerToken
±± 
token
±±  
;
±±  !
while
≤≤ 
(
≤≤ 
this
≤≤ 
.
≤≤ 
lexer
≤≤ !
.
≤≤! "
Peek
≤≤" &
(
≤≤& '
out
≤≤' *
token
≤≤+ 0
)
≤≤0 1
)
≤≤1 2
{
≥≥ 
if
¥¥ 
(
¥¥ 
token
¥¥ 
.
¥¥ 

MatchToken
¥¥ (
(
¥¥( )
(
¥¥) *
int
¥¥* -
)
¥¥- .$
WellKnownTextTokenType
¥¥. D
.
¥¥D E

WhiteSpace
¥¥E O
,
¥¥O P
null
¥¥Q U
,
¥¥U V
StringComparison
¥¥W g
.
¥¥g h
OrdinalIgnoreCase
¥¥h y
)
¥¥y z
)
¥¥z {
{
µµ 
this
∂∂ 
.
∂∂ 
lexer
∂∂ "
.
∂∂" #
Next
∂∂# '
(
∂∂' (
)
∂∂( )
;
∂∂) *
}
∑∑ 
else
∏∏ 
if
∏∏ 
(
∏∏ 
token
∏∏ "
.
∏∏" #

MatchToken
∏∏# -
(
∏∏- .
(
∏∏. /
int
∏∏/ 2
)
∏∏2 3
expectedTokenType
∏∏3 D
,
∏∏D E
expectedTokenText
∏∏F W
,
∏∏W X
StringComparison
∏∏Y i
.
∏∏i j
OrdinalIgnoreCase
∏∏j {
)
∏∏{ |
)
∏∏| }
{
ππ 
this
∫∫ 
.
∫∫ 
lexer
∫∫ "
.
∫∫" #
Next
∫∫# '
(
∫∫' (
)
∫∫( )
;
∫∫) *
return
ªª 
true
ªª #
;
ªª# $
}
ºº 
else
ΩΩ 
{
ææ 
return
øø 
false
øø $
;
øø$ %
}
¿¿ 
}
¡¡ 
return
√√ 
false
√√ 
;
√√ 
}
ƒƒ 
private
ÀÀ 
void
ÀÀ 
	ReadToken
ÀÀ "
(
ÀÀ" #$
WellKnownTextTokenType
ÀÀ# 9
type
ÀÀ: >
,
ÀÀ> ?
String
ÀÀ@ F
text
ÀÀG K
)
ÀÀK L
{
ÃÃ 
if
ÕÕ 
(
ÕÕ 
!
ÕÕ 
(
ÕÕ 
this
ÕÕ 
.
ÕÕ 
	NextToken
ÕÕ $
(
ÕÕ$ %
)
ÕÕ% &
&&
ÕÕ' )
this
ÕÕ* .
.
ÕÕ. /
IsTokenMatch
ÕÕ/ ;
(
ÕÕ; <
type
ÕÕ< @
,
ÕÕ@ A
text
ÕÕB F
)
ÕÕF G
)
ÕÕG H
)
ÕÕH I
{
ŒŒ 
throw
œœ 
new
œœ 
FormatException
œœ -
(
œœ- .
Strings
œœ. 5
.
œœ5 6+
WellKnownText_UnexpectedToken
œœ6 S
(
œœS T
type
œœT X
,
œœX Y
text
œœZ ^
,
œœ^ _
this
œœ` d
.
œœd e
lexer
œœe j
.
œœj k
CurrentToken
œœk w
)
œœw x
)
œœx y
;
œœy z
}
–– 
}
—— 
}
““ 	
}
”” 
}‘‘ òÀ
<D:\odata.net\src\Microsoft.Spatial\WellKnownTextSqlWriter.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
sealed 
class "
WellKnownTextSqlWriter 0
:1 2
DrawBoth3 ;
{ 
private 
bool "
allowOnlyTwoDimensions +
;+ ,
private 

TextWriter 
writer !
;! "
private 
Stack 
< 
SpatialType !
>! "
parentStack# .
;. /
private$$ 
bool$$ #
coordinateSystemWritten$$ ,
;$$, -
private)) 
bool)) 
figureWritten)) "
;))" #
private.. 
bool.. 
shapeWritten.. !
;..! "
public44 "
WellKnownTextSqlWriter44 %
(44% &

TextWriter44& 0
writer441 7
)447 8
:55 	
this55
 
(55 
writer55 
,55 
false55 
)55 
{66 	
}77 	
public>> "
WellKnownTextSqlWriter>> %
(>>% &

TextWriter>>& 0
writer>>1 7
,>>7 8
bool>>9 ="
allowOnlyTwoDimensions>>> T
)>>T U
{?? 	
this@@ 
.@@ "
allowOnlyTwoDimensions@@ '
=@@( )"
allowOnlyTwoDimensions@@* @
;@@@ A
thisAA 
.AA 
writerAA 
=AA 
writerAA  
;AA  !
thisBB 
.BB 
parentStackBB 
=BB 
newBB "
StackBB# (
<BB( )
SpatialTypeBB) 4
>BB4 5
(BB5 6
)BB6 7
;BB7 8
ResetCC 
(CC 
)CC 
;CC 
}DD 	
	protectedOO 
overrideOO 
GeographyPositionOO ,
OnLineToOO- 5
(OO5 6
GeographyPositionOO6 G
positionOOH P
)OOP Q
{PP 	
thisQQ 
.QQ 
	AddLineToQQ 
(QQ 
positionQQ #
.QQ# $
	LongitudeQQ$ -
,QQ- .
positionQQ/ 7
.QQ7 8
LatitudeQQ8 @
,QQ@ A
positionQQB J
.QQJ K
ZQQK L
,QQL M
positionQQN V
.QQV W
MQQW X
)QQX Y
;QQY Z
returnRR 
positionRR 
;RR 
}SS 	
	protected\\ 
override\\ 
GeometryPosition\\ +
OnLineTo\\, 4
(\\4 5
GeometryPosition\\5 E
position\\F N
)\\N O
{]] 	
this^^ 
.^^ 
	AddLineTo^^ 
(^^ 
position^^ #
.^^# $
X^^$ %
,^^% &
position^^' /
.^^/ 0
Y^^0 1
,^^1 2
position^^3 ;
.^^; <
Z^^< =
,^^= >
position^^? G
.^^G H
M^^H I
)^^I J
;^^J K
return__ 
position__ 
;__ 
}`` 	
	protectedii 
overrideii 
SpatialTypeii &
OnBeginGeographyii' 7
(ii7 8
SpatialTypeii8 C
typeiiD H
)iiH I
{jj 	
BeginGeokk 
(kk 
typekk 
)kk 
;kk 
returnll 
typell 
;ll 
}mm 	
	protectedvv 
overridevv 
SpatialTypevv &
OnBeginGeometryvv' 6
(vv6 7
SpatialTypevv7 B
typevvC G
)vvG H
{ww 	
BeginGeoxx 
(xx 
typexx 
)xx 
;xx 
returnyy 
typeyy 
;yy 
}zz 	
	protected
ÅÅ 
override
ÅÅ 
GeographyPosition
ÅÅ ,
OnBeginFigure
ÅÅ- :
(
ÅÅ: ;
GeographyPosition
ÅÅ; L
position
ÅÅM U
)
ÅÅU V
{
ÇÇ 	
WriteFigureScope
ÉÉ 
(
ÉÉ 
position
ÉÉ %
.
ÉÉ% &
	Longitude
ÉÉ& /
,
ÉÉ/ 0
position
ÉÉ1 9
.
ÉÉ9 :
Latitude
ÉÉ: B
,
ÉÉB C
position
ÉÉD L
.
ÉÉL M
Z
ÉÉM N
,
ÉÉN O
position
ÉÉP X
.
ÉÉX Y
M
ÉÉY Z
)
ÉÉZ [
;
ÉÉ[ \
return
ÑÑ 
position
ÑÑ 
;
ÑÑ 
}
ÖÖ 	
	protected
åå 
override
åå 
GeometryPosition
åå +
OnBeginFigure
åå, 9
(
åå9 :
GeometryPosition
åå: J
position
ååK S
)
ååS T
{
çç 	
WriteFigureScope
éé 
(
éé 
position
éé %
.
éé% &
X
éé& '
,
éé' (
position
éé) 1
.
éé1 2
Y
éé2 3
,
éé3 4
position
éé5 =
.
éé= >
Z
éé> ?
,
éé? @
position
ééA I
.
ééI J
M
ééJ K
)
ééK L
;
ééL M
return
èè 
position
èè 
;
èè 
}
êê 	
	protected
ïï 
override
ïï 
void
ïï 
OnEndFigure
ïï  +
(
ïï+ ,
)
ïï, -
{
ññ 	
	EndFigure
óó 
(
óó 
)
óó 
;
óó 
}
òò 	
	protected
ùù 
override
ùù 
void
ùù 
OnEndGeography
ùù  .
(
ùù. /
)
ùù/ 0
{
ûû 	
EndGeo
üü 
(
üü 
)
üü 
;
üü 
}
†† 	
	protected
•• 
override
•• 
void
•• 
OnEndGeometry
••  -
(
••- .
)
••. /
{
¶¶ 	
EndGeo
ßß 
(
ßß 
)
ßß 
;
ßß 
}
®® 	
	protected
±± 
override
±± 
CoordinateSystem
±± +#
OnSetCoordinateSystem
±±, A
(
±±A B
CoordinateSystem
±±B R
coordinateSystem
±±S c
)
±±c d
{
≤≤ 	#
WriteCoordinateSystem
≥≥ !
(
≥≥! "
coordinateSystem
≥≥" 2
)
≥≥2 3
;
≥≥3 4
return
¥¥ 
coordinateSystem
¥¥ #
;
¥¥# $
}
µµ 	
	protected
∫∫ 
override
∫∫ 
void
∫∫ 
OnReset
∫∫  '
(
∫∫' (
)
∫∫( )
{
ªª 	
Reset
ºº 
(
ºº 
)
ºº 
;
ºº 
}
ΩΩ 	
private
ƒƒ 
void
ƒƒ #
WriteCoordinateSystem
ƒƒ *
(
ƒƒ* +
CoordinateSystem
ƒƒ+ ;
coordinateSystem
ƒƒ< L
)
ƒƒL M
{
≈≈ 	
if
∆∆ 
(
∆∆ 
!
∆∆ 
this
∆∆ 
.
∆∆ %
coordinateSystemWritten
∆∆ -
)
∆∆- .
{
«« 
this
…… 
.
…… 
writer
…… 
.
…… 
Write
…… !
(
……! "$
WellKnownTextConstants
……" 8
.
……8 9
WktSrid
……9 @
)
……@ A
;
……A B
this
   
.
   
writer
   
.
   
Write
   !
(
  ! "$
WellKnownTextConstants
  " 8
.
  8 9
	WktEquals
  9 B
)
  B C
;
  C D
this
ÀÀ 
.
ÀÀ 
writer
ÀÀ 
.
ÀÀ 
Write
ÀÀ !
(
ÀÀ! "
coordinateSystem
ÀÀ" 2
.
ÀÀ2 3
Id
ÀÀ3 5
)
ÀÀ5 6
;
ÀÀ6 7
this
ÃÃ 
.
ÃÃ 
writer
ÃÃ 
.
ÃÃ 
Write
ÃÃ !
(
ÃÃ! "$
WellKnownTextConstants
ÃÃ" 8
.
ÃÃ8 9
WktSemiColon
ÃÃ9 E
)
ÃÃE F
;
ÃÃF G
this
ŒŒ 
.
ŒŒ %
coordinateSystemWritten
ŒŒ ,
=
ŒŒ- .
true
ŒŒ/ 3
;
ŒŒ3 4
}
œœ 
}
–– 	
private
’’ 
void
’’ 
Reset
’’ 
(
’’ 
)
’’ 
{
÷÷ 	
this
◊◊ 
.
◊◊ 
figureWritten
◊◊ 
=
◊◊  !
default
◊◊" )
(
◊◊) *
bool
◊◊* .
)
◊◊. /
;
◊◊/ 0
this
ÿÿ 
.
ÿÿ 
parentStack
ÿÿ 
.
ÿÿ 
Clear
ÿÿ "
(
ÿÿ" #
)
ÿÿ# $
;
ÿÿ$ %
this
ŸŸ 
.
ŸŸ 
shapeWritten
ŸŸ 
=
ŸŸ 
default
ŸŸ  '
(
ŸŸ' (
bool
ŸŸ( ,
)
ŸŸ, -
;
ŸŸ- .
this
⁄⁄ 
.
⁄⁄ %
coordinateSystemWritten
⁄⁄ (
=
⁄⁄) *
default
⁄⁄+ 2
(
⁄⁄2 3
bool
⁄⁄3 7
)
⁄⁄7 8
;
⁄⁄8 9
}
ﬂﬂ 	
private
ÂÂ 
void
ÂÂ 
BeginGeo
ÂÂ 
(
ÂÂ 
SpatialType
ÂÂ )
type
ÂÂ* .
)
ÂÂ. /
{
ÊÊ 	
SpatialType
ÁÁ 

parentType
ÁÁ "
=
ÁÁ# $
this
ÁÁ% )
.
ÁÁ) *
parentStack
ÁÁ* 5
.
ÁÁ5 6
Count
ÁÁ6 ;
==
ÁÁ< >
$num
ÁÁ? @
?
ÁÁA B
SpatialType
ÁÁC N
.
ÁÁN O
Unknown
ÁÁO V
:
ÁÁW X
this
ÁÁY ]
.
ÁÁ] ^
parentStack
ÁÁ^ i
.
ÁÁi j
Peek
ÁÁj n
(
ÁÁn o
)
ÁÁo p
;
ÁÁp q
if
ÈÈ 
(
ÈÈ 

parentType
ÈÈ 
==
ÈÈ 
SpatialType
ÈÈ )
.
ÈÈ) *

MultiPoint
ÈÈ* 4
||
ÈÈ5 7

parentType
ÈÈ8 B
==
ÈÈC E
SpatialType
ÈÈF Q
.
ÈÈQ R
MultiLineString
ÈÈR a
||
ÈÈb d

parentType
ÈÈe o
==
ÈÈp r
SpatialType
ÈÈs ~
.
ÈÈ~ 
MultiPolygonÈÈ ã
||ÈÈå é

parentTypeÈÈè ô
==ÈÈö ú
SpatialTypeÈÈù ®
.ÈÈ® ©

CollectionÈÈ© ≥
)ÈÈ≥ ¥
{
ÍÍ 
this
ÏÏ 
.
ÏÏ 
writer
ÏÏ 
.
ÏÏ 
Write
ÏÏ !
(
ÏÏ! "
this
ÏÏ" &
.
ÏÏ& '
shapeWritten
ÏÏ' 3
?
ÏÏ4 5$
WellKnownTextConstants
ÏÏ6 L
.
ÏÏL M(
WktDelimiterWithWhiteSpace
ÏÏM g
:
ÏÏh i%
WellKnownTextConstantsÏÏj Ä
.ÏÏÄ Å
WktOpenParenÏÏÅ ç
)ÏÏç é
;ÏÏé è
}
ÌÌ 
if
ÒÒ 
(
ÒÒ 

parentType
ÒÒ 
==
ÒÒ 
SpatialType
ÒÒ )
.
ÒÒ) *
Unknown
ÒÒ* 1
||
ÒÒ2 4

parentType
ÒÒ5 ?
==
ÒÒ@ B
SpatialType
ÒÒC N
.
ÒÒN O

Collection
ÒÒO Y
)
ÒÒY Z
{
ÚÚ 
this
ÛÛ 
.
ÛÛ 
WriteTaggedText
ÛÛ $
(
ÛÛ$ %
type
ÛÛ% )
)
ÛÛ) *
;
ÛÛ* +
}
ÙÙ 
this
ˆˆ 
.
ˆˆ 
figureWritten
ˆˆ 
=
ˆˆ  
false
ˆˆ! &
;
ˆˆ& '
this
˜˜ 
.
˜˜ 
parentStack
˜˜ 
.
˜˜ 
Push
˜˜ !
(
˜˜! "
type
˜˜" &
)
˜˜& '
;
˜˜' (
}
¯¯ 	
private
ÅÅ 
void
ÅÅ 
	AddLineTo
ÅÅ 
(
ÅÅ 
double
ÅÅ %
x
ÅÅ& '
,
ÅÅ' (
double
ÅÅ) /
y
ÅÅ0 1
,
ÅÅ1 2
double
ÅÅ3 9
?
ÅÅ9 :
z
ÅÅ; <
,
ÅÅ< =
double
ÅÅ> D
?
ÅÅD E
m
ÅÅF G
)
ÅÅG H
{
ÇÇ 	
this
ÉÉ 
.
ÉÉ 
writer
ÉÉ 
.
ÉÉ 
Write
ÉÉ 
(
ÉÉ $
WellKnownTextConstants
ÉÉ 4
.
ÉÉ4 5(
WktDelimiterWithWhiteSpace
ÉÉ5 O
)
ÉÉO P
;
ÉÉP Q
this
ÑÑ 
.
ÑÑ 

WritePoint
ÑÑ 
(
ÑÑ 
x
ÑÑ 
,
ÑÑ 
y
ÑÑ  
,
ÑÑ  !
z
ÑÑ" #
,
ÑÑ# $
m
ÑÑ% &
)
ÑÑ& '
;
ÑÑ' (
}
ÖÖ 	
private
ää 
void
ää 
	EndFigure
ää 
(
ää 
)
ää  
{
ãã 	
this
åå 
.
åå 
writer
åå 
.
åå 
Write
åå 
(
åå $
WellKnownTextConstants
åå 4
.
åå4 5
WktCloseParen
åå5 B
)
ååB C
;
ååC D
}
çç 	
private
ìì 
void
ìì 
WriteTaggedText
ìì $
(
ìì$ %
SpatialType
ìì% 0
type
ìì1 5
)
ìì5 6
{
îî 	
switch
ïï 
(
ïï 
type
ïï 
)
ïï 
{
ññ 
case
óó 
SpatialType
óó  
.
óó  !
Point
óó! &
:
óó& '
this
òò 
.
òò 
writer
òò 
.
òò  
Write
òò  %
(
òò% &$
WellKnownTextConstants
òò& <
.
òò< =
WktPoint
òò= E
)
òòE F
;
òòF G
break
ôô 
;
ôô 
case
öö 
SpatialType
öö  
.
öö  !

LineString
öö! +
:
öö+ ,
this
õõ 
.
õõ 
writer
õõ 
.
õõ  
Write
õõ  %
(
õõ% &$
WellKnownTextConstants
õõ& <
.
õõ< =
WktLineString
õõ= J
)
õõJ K
;
õõK L
break
úú 
;
úú 
case
ùù 
SpatialType
ùù  
.
ùù  !
Polygon
ùù! (
:
ùù( )
this
ûû 
.
ûû 
writer
ûû 
.
ûû  
Write
ûû  %
(
ûû% &$
WellKnownTextConstants
ûû& <
.
ûû< =

WktPolygon
ûû= G
)
ûûG H
;
ûûH I
break
üü 
;
üü 
case
†† 
SpatialType
††  
.
††  !

Collection
††! +
:
††+ ,
this
°° 
.
°° 
shapeWritten
°° %
=
°°& '
false
°°( -
;
°°- .
this
¢¢ 
.
¢¢ 
writer
¢¢ 
.
¢¢  
Write
¢¢  %
(
¢¢% &$
WellKnownTextConstants
¢¢& <
.
¢¢< =
WktCollection
¢¢= J
)
¢¢J K
;
¢¢K L
break
££ 
;
££ 
case
§§ 
SpatialType
§§  
.
§§  !

MultiPoint
§§! +
:
§§+ ,
this
•• 
.
•• 
shapeWritten
•• %
=
••& '
false
••( -
;
••- .
this
¶¶ 
.
¶¶ 
writer
¶¶ 
.
¶¶  
Write
¶¶  %
(
¶¶% &$
WellKnownTextConstants
¶¶& <
.
¶¶< =
WktMultiPoint
¶¶= J
)
¶¶J K
;
¶¶K L
break
ßß 
;
ßß 
case
®® 
SpatialType
®®  
.
®®  !
MultiLineString
®®! 0
:
®®0 1
this
©© 
.
©© 
shapeWritten
©© %
=
©©& '
false
©©( -
;
©©- .
this
™™ 
.
™™ 
writer
™™ 
.
™™  
Write
™™  %
(
™™% &$
WellKnownTextConstants
™™& <
.
™™< = 
WktMultiLineString
™™= O
)
™™O P
;
™™P Q
break
´´ 
;
´´ 
case
¨¨ 
SpatialType
¨¨  
.
¨¨  !
MultiPolygon
¨¨! -
:
¨¨- .
this
≠≠ 
.
≠≠ 
shapeWritten
≠≠ %
=
≠≠& '
false
≠≠( -
;
≠≠- .
this
ÆÆ 
.
ÆÆ 
writer
ÆÆ 
.
ÆÆ  
Write
ÆÆ  %
(
ÆÆ% &$
WellKnownTextConstants
ÆÆ& <
.
ÆÆ< =
WktMultiPolygon
ÆÆ= L
)
ÆÆL M
;
ÆÆM N
break
ØØ 
;
ØØ 
case
∞∞ 
SpatialType
∞∞  
.
∞∞  !
	FullGlobe
∞∞! *
:
∞∞* +
this
±± 
.
±± 
writer
±± 
.
±±  
Write
±±  %
(
±±% &$
WellKnownTextConstants
±±& <
.
±±< =
WktFullGlobe
±±= I
)
±±I J
;
±±J K
break
≤≤ 
;
≤≤ 
}
≥≥ 
if
µµ 
(
µµ 
type
µµ 
!=
µµ 
SpatialType
µµ #
.
µµ# $
	FullGlobe
µµ$ -
)
µµ- .
{
∂∂ 
this
∑∑ 
.
∑∑ 
writer
∑∑ 
.
∑∑ 
Write
∑∑ !
(
∑∑! "$
WellKnownTextConstants
∑∑" 8
.
∑∑8 9
WktWhitespace
∑∑9 F
)
∑∑F G
;
∑∑G H
}
∏∏ 
}
ππ 	
private
¬¬ 
void
¬¬ 
WriteFigureScope
¬¬ %
(
¬¬% &
double
¬¬& ,
coordinate1
¬¬- 8
,
¬¬8 9
double
¬¬: @
coordinate2
¬¬A L
,
¬¬L M
double
¬¬N T
?
¬¬T U
coordinate3
¬¬V a
,
¬¬a b
double
¬¬c i
?
¬¬i j
coordinate4
¬¬k v
)
¬¬v w
{
√√ 	
Debug
ƒƒ 
.
ƒƒ 
Assert
ƒƒ 
(
ƒƒ 
this
ƒƒ 
.
ƒƒ 
parentStack
ƒƒ )
.
ƒƒ) *
Count
ƒƒ* /
>
ƒƒ0 1
$num
ƒƒ2 3
,
ƒƒ3 4
$str
ƒƒ5 R
)
ƒƒR S
;
ƒƒS T
if
∆∆ 
(
∆∆ 
this
∆∆ 
.
∆∆ 
figureWritten
∆∆ "
)
∆∆" #
{
«« 
this
»» 
.
»» 
writer
»» 
.
»» 
Write
»» !
(
»»! "$
WellKnownTextConstants
»»" 8
.
»»8 9(
WktDelimiterWithWhiteSpace
»»9 S
)
»»S T
;
»»T U
}
…… 
else
   
{
ÀÀ 
if
ÕÕ 
(
ÕÕ 
this
ÕÕ 
.
ÕÕ 
parentStack
ÕÕ $
.
ÕÕ$ %
Peek
ÕÕ% )
(
ÕÕ) *
)
ÕÕ* +
==
ÕÕ, .
SpatialType
ÕÕ/ :
.
ÕÕ: ;
Polygon
ÕÕ; B
)
ÕÕB C
{
ŒŒ 
this
–– 
.
–– 
writer
–– 
.
––  
Write
––  %
(
––% &$
WellKnownTextConstants
––& <
.
––< =
WktOpenParen
––= I
)
––I J
;
––J K
}
—— 
}
““ 
this
’’ 
.
’’ 
writer
’’ 
.
’’ 
Write
’’ 
(
’’ $
WellKnownTextConstants
’’ 4
.
’’4 5
WktOpenParen
’’5 A
)
’’A B
;
’’B C
this
÷÷ 
.
÷÷ 
figureWritten
÷÷ 
=
÷÷  
true
÷÷! %
;
÷÷% &
this
ÿÿ 
.
ÿÿ 

WritePoint
ÿÿ 
(
ÿÿ 
coordinate1
ÿÿ '
,
ÿÿ' (
coordinate2
ÿÿ) 4
,
ÿÿ4 5
coordinate3
ÿÿ6 A
,
ÿÿA B
coordinate4
ÿÿC N
)
ÿÿN O
;
ÿÿO P
}
ŸŸ 	
private
ﬁﬁ 
void
ﬁﬁ 
EndGeo
ﬁﬁ 
(
ﬁﬁ 
)
ﬁﬁ 
{
ﬂﬂ 	
switch
‡‡ 
(
‡‡ 
this
‡‡ 
.
‡‡ 
parentStack
‡‡ $
.
‡‡$ %
Pop
‡‡% (
(
‡‡( )
)
‡‡) *
)
‡‡* +
{
·· 
case
‚‚ 
SpatialType
‚‚  
.
‚‚  !
Point
‚‚! &
:
‚‚& '
case
„„ 
SpatialType
„„  
.
„„  !

LineString
„„! +
:
„„+ ,
if
‰‰ 
(
‰‰ 
!
‰‰ 
figureWritten
‰‰ &
)
‰‰& '
{
ÂÂ 
this
ÊÊ 
.
ÊÊ 
writer
ÊÊ #
.
ÊÊ# $
Write
ÊÊ$ )
(
ÊÊ) *$
WellKnownTextConstants
ÊÊ* @
.
ÊÊ@ A
WktEmpty
ÊÊA I
)
ÊÊI J
;
ÊÊJ K
}
ÁÁ 
break
ÈÈ 
;
ÈÈ 
case
ÍÍ 
SpatialType
ÍÍ  
.
ÍÍ  !
Polygon
ÍÍ! (
:
ÍÍ( )
this
ÎÎ 
.
ÎÎ 
writer
ÎÎ 
.
ÎÎ  
Write
ÎÎ  %
(
ÎÎ% &
figureWritten
ÎÎ& 3
?
ÎÎ4 5$
WellKnownTextConstants
ÎÎ6 L
.
ÎÎL M
WktCloseParen
ÎÎM Z
:
ÎÎ[ \$
WellKnownTextConstants
ÎÎ] s
.
ÎÎs t
WktEmpty
ÎÎt |
)
ÎÎ| }
;
ÎÎ} ~
break
ÏÏ 
;
ÏÏ 
case
ÌÌ 
SpatialType
ÌÌ  
.
ÌÌ  !

Collection
ÌÌ! +
:
ÌÌ+ ,
case
ÓÓ 
SpatialType
ÓÓ  
.
ÓÓ  !

MultiPoint
ÓÓ! +
:
ÓÓ+ ,
case
ÔÔ 
SpatialType
ÔÔ  
.
ÔÔ  !
MultiLineString
ÔÔ! 0
:
ÔÔ0 1
case
 
SpatialType
  
.
  !
MultiPolygon
! -
:
- .
this
ÒÒ 
.
ÒÒ 
writer
ÒÒ 
.
ÒÒ  
Write
ÒÒ  %
(
ÒÒ% &
this
ÒÒ& *
.
ÒÒ* +
shapeWritten
ÒÒ+ 7
?
ÒÒ8 9$
WellKnownTextConstants
ÒÒ: P
.
ÒÒP Q
WktCloseParen
ÒÒQ ^
:
ÒÒ_ `$
WellKnownTextConstants
ÒÒa w
.
ÒÒw x
WktEmptyÒÒx Ä
)ÒÒÄ Å
;ÒÒÅ Ç
break
ÚÚ 
;
ÚÚ 
case
ÛÛ 
SpatialType
ÛÛ  
.
ÛÛ  !
	FullGlobe
ÛÛ! *
:
ÛÛ* +
this
ÙÙ 
.
ÙÙ 
writer
ÙÙ 
.
ÙÙ  
Write
ÙÙ  %
(
ÙÙ% &$
WellKnownTextConstants
ÙÙ& <
.
ÙÙ< =
WktCloseParen
ÙÙ= J
)
ÙÙJ K
;
ÙÙK L
break
ıı 
;
ıı 
}
ˆˆ 
this
¯¯ 
.
¯¯ 
shapeWritten
¯¯ 
=
¯¯ 
true
¯¯  $
;
¯¯$ %
this
˘˘ 
.
˘˘ 
writer
˘˘ 
.
˘˘ 
Flush
˘˘ 
(
˘˘ 
)
˘˘ 
;
˘˘  
}
˙˙ 	
[
ÉÉ 	
System
ÉÉ	 
.
ÉÉ 
Diagnostics
ÉÉ 
.
ÉÉ 
CodeAnalysis
ÉÉ (
.
ÉÉ( )
SuppressMessage
ÉÉ) 8
(
ÉÉ8 9
$str
ÉÉ9 K
,
ÉÉK L
$str
ÉÉM U
,
ÉÉU V
Justification
ÉÉW d
=
ÉÉe f
$strÉÉg Ç
)ÉÉÇ É
]ÉÉÉ Ñ
private
ÑÑ 
void
ÑÑ 

WritePoint
ÑÑ 
(
ÑÑ  
double
ÑÑ  &
x
ÑÑ' (
,
ÑÑ( )
double
ÑÑ* 0
y
ÑÑ1 2
,
ÑÑ2 3
double
ÑÑ4 :
?
ÑÑ: ;
z
ÑÑ< =
,
ÑÑ= >
double
ÑÑ? E
?
ÑÑE F
m
ÑÑG H
)
ÑÑH I
{
ÖÖ 	
this
ÜÜ 
.
ÜÜ 
writer
ÜÜ 
.
ÜÜ !
WriteRoundtrippable
ÜÜ +
(
ÜÜ+ ,
x
ÜÜ, -
)
ÜÜ- .
;
ÜÜ. /
this
áá 
.
áá 
writer
áá 
.
áá 
Write
áá 
(
áá $
WellKnownTextConstants
áá 4
.
áá4 5
WktWhitespace
áá5 B
)
ááB C
;
ááC D
this
àà 
.
àà 
writer
àà 
.
àà !
WriteRoundtrippable
àà +
(
àà+ ,
y
àà, -
)
àà- .
;
àà. /
if
ää 
(
ää 
!
ää 
this
ää 
.
ää $
allowOnlyTwoDimensions
ää ,
&&
ää- /
z
ää0 1
.
ää1 2
HasValue
ää2 :
)
ää: ;
{
ãã 
this
åå 
.
åå 
writer
åå 
.
åå 
Write
åå !
(
åå! "$
WellKnownTextConstants
åå" 8
.
åå8 9
WktWhitespace
åå9 F
)
ååF G
;
ååG H
this
çç 
.
çç 
writer
çç 
.
çç !
WriteRoundtrippable
çç /
(
çç/ 0
z
çç0 1
.
çç1 2
Value
çç2 7
)
çç7 8
;
çç8 9
if
èè 
(
èè 
!
èè 
this
èè 
.
èè $
allowOnlyTwoDimensions
èè 0
&&
èè1 3
m
èè4 5
.
èè5 6
HasValue
èè6 >
)
èè> ?
{
êê 
this
ëë 
.
ëë 
writer
ëë 
.
ëë  
Write
ëë  %
(
ëë% &$
WellKnownTextConstants
ëë& <
.
ëë< =
WktWhitespace
ëë= J
)
ëëJ K
;
ëëK L
this
íí 
.
íí 
writer
íí 
.
íí  !
WriteRoundtrippable
íí  3
(
íí3 4
m
íí4 5
.
íí5 6
Value
íí6 ;
)
íí; <
;
íí< =
}
ìì 
}
îî 
else
ïï 
{
ññ 
if
óó 
(
óó 
!
óó 
this
óó 
.
óó $
allowOnlyTwoDimensions
óó 0
&&
óó1 3
m
óó4 5
.
óó5 6
HasValue
óó6 >
)
óó> ?
{
òò 
this
ôô 
.
ôô 
writer
ôô 
.
ôô  
Write
ôô  %
(
ôô% &$
WellKnownTextConstants
ôô& <
.
ôô< =
WktWhitespace
ôô= J
)
ôôJ K
;
ôôK L
this
öö 
.
öö 
writer
öö 
.
öö  
Write
öö  %
(
öö% &$
WellKnownTextConstants
öö& <
.
öö< =
WktNull
öö= D
)
ööD E
;
ööE F
this
õõ 
.
õõ 
writer
õõ 
.
õõ  
Write
õõ  %
(
õõ% &$
WellKnownTextConstants
õõ& <
.
õõ< =
WktWhitespace
õõ= J
)
õõJ K
;
õõK L
this
úú 
.
úú 
writer
úú 
.
úú  
Write
úú  %
(
úú% &
m
úú& '
.
úú' (
Value
úú( -
)
úú- .
;
úú. /
}
ùù 
}
ûû 
}
üü 	
}
†† 
}°° ÿ
3D:\odata.net\src\Microsoft.Spatial\GeoJsonMember.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
enum 
GeoJsonMember 
{ 
Type 
, 
Coordinates 
, 

Geometries 
, 
Crs   
,   

Properties%% 
,%% 
Name** 
,** 
}++ 
},, í
6D:\odata.net\src\Microsoft.Spatial\GeoJsonConstants.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
static 
class 
GeoJsonConstants *
{ 
internal 
const 
string 
TypeMemberName ,
=- .
$str/ 5
;5 6
internal 
const 
string  
TypeMemberValuePoint 2
=3 4
$str5 <
;< =
internal 
const 
string %
TypeMemberValueLineString 7
=8 9
$str: F
;F G
internal!! 
const!! 
string!! "
TypeMemberValuePolygon!! 4
=!!5 6
$str!!7 @
;!!@ A
internal&& 
const&& 
string&& %
TypeMemberValueMultiPoint&& 7
=&&8 9
$str&&: F
;&&F G
internal++ 
const++ 
string++ *
TypeMemberValueMultiLineString++ <
=++= >
$str++? P
;++P Q
internal00 
const00 
string00 '
TypeMemberValueMultiPolygon00 9
=00: ;
$str00< J
;00J K
internal55 
const55 
string55 -
!TypeMemberValueGeometryCollection55 ?
=55@ A
$str55B V
;55V W
internal:: 
const:: 
string:: !
CoordinatesMemberName:: 3
=::4 5
$str::6 C
;::C D
internal?? 
const?? 
string??  
GeometriesMemberName?? 2
=??3 4
$str??5 A
;??A B
internalDD 
constDD 
stringDD 
CrsMemberNameDD +
=DD, -
$strDD. 3
;DD3 4
internalII 
constII 
stringII 
CrsTypeMemberValueII 0
=II1 2
$strII3 9
;II9 :
internalNN 
constNN 
stringNN 
CrsNameMemberNameNN /
=NN0 1
$strNN2 8
;NN8 9
internalSS 
constSS 
stringSS #
CrsPropertiesMemberNameSS 5
=SS6 7
$strSS8 D
;SSD E
internalXX 
constXX 
stringXX 
CrsValuePrefixXX ,
=XX- .
$strXX/ 5
;XX5 6
}YY 
}ZZ ø—
7D:\odata.net\src\Microsoft.Spatial\ForwardingSegment.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
ForwardingSegment $
:% &
SpatialPipeline' 6
{ 
internal 
static 
readonly  
SpatialPipeline! 0
SpatialPipelineNoOp1 D
=E F
newG J
SpatialPipelineK Z
(Z [
new[ ^!
NoOpGeographyPipeline_ t
(t u
)u v
,v w
newx {!
NoOpGeometryPipeline	| ê
(
ê ë
)
ë í
)
í ì
;
ì î
private 
readonly 
SpatialPipeline (
current) 0
;0 1
private!! 
SpatialPipeline!! 
next!!  $
=!!% &
SpatialPipelineNoOp!!' :
;!!: ;
private&& 
GeographyForwarder&& "
geographyForwarder&&# 5
;&&5 6
private++ 
GeometryForwarder++ !
geometryForwarder++" 3
;++3 4
public11 
ForwardingSegment11  
(11  !
SpatialPipeline11! 0
current111 8
)118 9
{22 	
Debug33 
.33 
Assert33 
(33 
current33  
.33  !
GeographyPipeline33! 2
==333 5
null336 :
||33; =
!33> ?
(33? @
current33@ G
.33G H
GeographyPipeline33H Y
is33Z \
GeographyForwarder33] o
)33o p
,33p q
$str	33r û
)
33û ü
;
33ü †
Debug44 
.44 
Assert44 
(44 
current44  
.44  !
GeometryPipeline44! 1
==442 4
null445 9
||44: <
!44= >
(44> ?
current44? F
.44F G
GeometryPipeline44G W
is44X Z
GeometryForwarder44[ l
)44l m
,44m n
$str	44o õ
)
44õ ú
;
44ú ù
this55 
.55 
current55 
=55 
current55 "
;55" #
}66 	
public== 
ForwardingSegment==  
(==  !
GeographyPipeline==! 2
currentGeography==3 C
,==C D
GeometryPipeline==E U
currentGeometry==V e
)==e f
:>> 
this>> 
(>> 
new>> 
SpatialPipeline>> &
(>>& '
currentGeography>>' 7
,>>7 8
currentGeometry>>9 H
)>>H I
)>>I J
{?? 	
}@@ 	
publicEE 
overrideEE 
GeographyPipelineEE )
GeographyPipelineEE* ;
{FF 	
getGG 
{GG 
returnGG 
thisGG 
.GG 
geographyForwarderGG 0
??GG1 3
(GG4 5
thisGG5 9
.GG9 :
geographyForwarderGG: L
=GGM N
newGGO R
GeographyForwarderGGS e
(GGe f
thisGGf j
)GGj k
)GGk l
;GGl m
}GGn o
}HH 	
publicMM 
overrideMM 
GeometryPipelineMM (
GeometryPipelineMM) 9
{NN 	
getOO 
{OO 
returnOO 
thisOO 
.OO 
geometryForwarderOO /
??OO0 2
(OO3 4
thisOO4 8
.OO8 9
geometryForwarderOO9 J
=OOK L
newOOM P
GeometryForwarderOOQ b
(OOb c
thisOOc g
)OOg h
)OOh i
;OOi j
}OOk l
}PP 	
publicUU 
GeographyPipelineUU  
NextDrawGeographyUU! 2
{VV 	
getWW 
{WW 
returnWW 
thisWW 
.WW 
nextWW "
;WW" #
}WW$ %
}XX 	
public]] 
GeometryPipeline]] 
NextDrawGeometry]]  0
{^^ 	
get__ 
{__ 
return__ 
this__ 
.__ 
next__ "
;__" #
}__$ %
}`` 	
publicgg 
overridegg 
SpatialPipelinegg '
ChainTogg( /
(gg/ 0
SpatialPipelinegg0 ?
destinationgg@ K
)ggK L
{hh 	
Utilii 
.ii 
CheckArgumentNullii "
(ii" #
destinationii# .
,ii. /
$strii0 =
)ii= >
;ii> ?
stringmm 
[mm 
]mm 
spatialNamespacesmm &
=mm' (
newmm) ,
stringmm- 3
[mm3 4
]mm4 5
{mm6 7
$strmm8 K
,mmK L
$strmmM `
}mma b
;mmb c
Debugnn 
.nn 
Assertnn 
(nn 
destinationnn $
.nn$ %
GeographyPipelinenn% 6
==nn7 9
nullnn: >
||nn? A
!nnB C
spatialNamespacesnnC T
.nnT U
AnynnU X
(nnX Y
snnY Z
=>nn[ ]
snn^ _
==nn` b
destinationnnc n
.nnn o
GeographyPipeline	nno Ä
.
nnÄ Å
GetType
nnÅ à
(
nnà â
)
nnâ ä
.
nnä ã
	Namespace
nnã î
)
nnî ï
||
nnñ ò
destination
nnô §
.
nn§ •
GeographyPipeline
nn• ∂
is
nn∑ π 
GeographyForwarder
nn∫ Ã
,
nnÃ Õ
$str
nnŒ ∏
)
nn∏ π
;
nnπ ∫
Debugoo 
.oo 
Assertoo 
(oo 
destinationoo $
.oo$ %
GeometryPipelineoo% 5
==oo6 8
nulloo9 =
||oo> @
!ooA B
spatialNamespacesooB S
.ooS T
AnyooT W
(ooW X
sooX Y
=>ooZ \
soo] ^
==oo_ a
destinationoob m
.oom n
GeometryPipelineoon ~
.oo~ 
GetType	oo Ü
(
ooÜ á
)
ooá à
.
ooà â
	Namespace
ooâ í
)
ooí ì
||
ooî ñ
destination
ooó ¢
.
oo¢ £
GeometryPipeline
oo£ ≥
is
oo¥ ∂
GeometryForwarder
oo∑ »
,
oo» …
$str
oo  ¥
)
oo¥ µ
;
ooµ ∂
thisqq 
.qq 
nextqq 
=qq 
destinationqq #
;qq# $
destinationrr 
.rr 
StartingLinkrr $
=rr% &
thisrr' +
.rr+ ,
StartingLinkrr, 8
;rr8 9
returnss 
destinationss 
;ss 
}tt 	
private}} 
static}} 
void}} 
DoAction}} $
(}}$ %
Action}}% +
handler}}, 3
,}}3 4
Action}}5 ;
handlerReset}}< H
,}}H I
Action}}J P

delegation}}Q [
,}}[ \
Action}}] c
delegationReset}}d s
)}}s t
{~~ 	
try 
{
ÄÄ 
handler
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ 
	Exception
ÉÉ 
e
ÉÉ 
)
ÉÉ 
{
ÑÑ 
if
ÖÖ 
(
ÖÖ 
Util
ÖÖ 
.
ÖÖ &
IsCatchableExceptionType
ÖÖ 1
(
ÖÖ1 2
e
ÖÖ2 3
)
ÖÖ3 4
)
ÖÖ4 5
{
ÜÜ 
handlerReset
áá  
(
áá  !
)
áá! "
;
áá" #
delegationReset
àà #
(
àà# $
)
àà$ %
;
àà% &
}
ââ 
throw
ãã 
;
ãã 
}
åå 
try
éé 
{
èè 

delegation
êê 
(
êê 
)
êê 
;
êê 
}
ëë 
catch
íí 
(
íí 
	Exception
íí 
e
íí 
)
íí 
{
ìì 
if
îî 
(
îî 
Util
îî 
.
îî &
IsCatchableExceptionType
îî 1
(
îî1 2
e
îî2 3
)
îî3 4
)
îî4 5
{
ïï 
handlerReset
ññ  
(
ññ  !
)
ññ! "
;
ññ" #
}
óó 
throw
ôô 
;
ôô 
}
öö 
}
õõ 	
private
¶¶ 
static
¶¶ 
void
¶¶ 
DoAction
¶¶ $
<
¶¶$ %
T
¶¶% &
>
¶¶& '
(
¶¶' (
Action
¶¶( .
<
¶¶. /
T
¶¶/ 0
>
¶¶0 1
handler
¶¶2 9
,
¶¶9 :
Action
¶¶; A
handlerReset
¶¶B N
,
¶¶N O
Action
¶¶P V
<
¶¶V W
T
¶¶W X
>
¶¶X Y

delegation
¶¶Z d
,
¶¶d e
Action
¶¶f l
delegationReset
¶¶m |
,
¶¶| }
T
¶¶~ 
argument¶¶Ä à
)¶¶à â
{
ßß 	
try
®® 
{
©© 
handler
™™ 
(
™™ 
argument
™™  
)
™™  !
;
™™! "
}
´´ 
catch
¨¨ 
(
¨¨ 
	Exception
¨¨ 
e
¨¨ 
)
¨¨ 
{
≠≠ 
if
ÆÆ 
(
ÆÆ 
Util
ÆÆ 
.
ÆÆ &
IsCatchableExceptionType
ÆÆ 1
(
ÆÆ1 2
e
ÆÆ2 3
)
ÆÆ3 4
)
ÆÆ4 5
{
ØØ 
handlerReset
∞∞  
(
∞∞  !
)
∞∞! "
;
∞∞" #
delegationReset
±± #
(
±±# $
)
±±$ %
;
±±% &
}
≤≤ 
throw
¥¥ 
;
¥¥ 
}
µµ 
try
∑∑ 
{
∏∏ 

delegation
ππ 
(
ππ 
argument
ππ #
)
ππ# $
;
ππ$ %
}
∫∫ 
catch
ªª 
(
ªª 
	Exception
ªª 
e
ªª 
)
ªª 
{
ºº 
if
ΩΩ 
(
ΩΩ 
Util
ΩΩ 
.
ΩΩ &
IsCatchableExceptionType
ΩΩ 1
(
ΩΩ1 2
e
ΩΩ2 3
)
ΩΩ3 4
)
ΩΩ4 5
{
ææ 
handlerReset
øø  
(
øø  !
)
øø! "
;
øø" #
}
¿¿ 
throw
¬¬ 
;
¬¬ 
}
√√ 
}
ƒƒ 	
internal
…… 
class
……  
GeographyForwarder
…… )
:
……* +
GeographyPipeline
……, =
{
   	
private
œœ 
readonly
œœ 
ForwardingSegment
œœ .
segment
œœ/ 6
;
œœ6 7
public
’’  
GeographyForwarder
’’ %
(
’’% &
ForwardingSegment
’’& 7
segment
’’8 ?
)
’’? @
{
÷÷ 
this
◊◊ 
.
◊◊ 
segment
◊◊ 
=
◊◊ 
segment
◊◊ &
;
◊◊& '
}
ÿÿ 
private
›› 
GeographyPipeline
›› %
Current
››& -
{
ﬁﬁ 
get
ﬂﬂ 
{
ﬂﬂ 
return
ﬂﬂ 
this
ﬂﬂ !
.
ﬂﬂ! "
segment
ﬂﬂ" )
.
ﬂﬂ) *
current
ﬂﬂ* 1
;
ﬂﬂ1 2
}
ﬂﬂ3 4
}
‡‡ 
private
ÂÂ 
GeographyPipeline
ÂÂ %
Next
ÂÂ& *
{
ÊÊ 
get
ÁÁ 
{
ÁÁ 
return
ÁÁ 
this
ÁÁ !
.
ÁÁ! "
segment
ÁÁ" )
.
ÁÁ) *
next
ÁÁ* .
;
ÁÁ. /
}
ÁÁ0 1
}
ËË 
public
ÓÓ 
override
ÓÓ 
void
ÓÓ  !
SetCoordinateSystem
ÓÓ! 4
(
ÓÓ4 5
CoordinateSystem
ÓÓ5 E
coordinateSystem
ÓÓF V
)
ÓÓV W
{
ÔÔ 
DoAction
 
(
 
val
 
=>
 
Current
  '
.
' (!
SetCoordinateSystem
( ;
(
; <
val
< ?
)
? @
,
@ A
val
B E
=>
F H
Next
I M
.
M N!
SetCoordinateSystem
N a
(
a b
val
b e
)
e f
,
f g
coordinateSystem
h x
)
x y
;
y z
}
ÒÒ 
public
˜˜ 
override
˜˜ 
void
˜˜  
BeginGeography
˜˜! /
(
˜˜/ 0
SpatialType
˜˜0 ;
type
˜˜< @
)
˜˜@ A
{
¯¯ 
DoAction
˘˘ 
(
˘˘ 
val
˘˘ 
=>
˘˘ 
Current
˘˘  '
.
˘˘' (
BeginGeography
˘˘( 6
(
˘˘6 7
val
˘˘7 :
)
˘˘: ;
,
˘˘; <
val
˘˘= @
=>
˘˘A C
Next
˘˘D H
.
˘˘H I
BeginGeography
˘˘I W
(
˘˘W X
val
˘˘X [
)
˘˘[ \
,
˘˘\ ]
type
˘˘^ b
)
˘˘b c
;
˘˘c d
}
˙˙ 
public
ˇˇ 
override
ˇˇ 
void
ˇˇ  
EndGeography
ˇˇ! -
(
ˇˇ- .
)
ˇˇ. /
{
ÄÄ 
DoAction
ÅÅ 
(
ÅÅ 
Current
ÅÅ  
.
ÅÅ  !
EndGeography
ÅÅ! -
,
ÅÅ- .
Next
ÅÅ/ 3
.
ÅÅ3 4
EndGeography
ÅÅ4 @
)
ÅÅ@ A
;
ÅÅA B
}
ÇÇ 
public
àà 
override
àà 
void
àà  
BeginFigure
àà! ,
(
àà, -
GeographyPosition
àà- >
position
àà? G
)
ààG H
{
ââ 
Util
ää 
.
ää 
CheckArgumentNull
ää &
(
ää& '
position
ää' /
,
ää/ 0
$str
ää1 ;
)
ää; <
;
ää< =
DoAction
ãã 
(
ãã 
val
åå 
=>
åå 
Current
åå "
.
åå" #
BeginFigure
åå# .
(
åå. /
val
åå/ 2
)
åå2 3
,
åå3 4
val
çç 
=>
çç 
Next
çç 
.
çç  
BeginFigure
çç  +
(
çç+ ,
val
çç, /
)
çç/ 0
,
çç0 1
position
éé 
)
éé 
;
éé 
}
èè 
public
îî 
override
îî 
void
îî  
	EndFigure
îî! *
(
îî* +
)
îî+ ,
{
ïï 
DoAction
ññ 
(
ññ 
Current
ññ  
.
ññ  !
	EndFigure
ññ! *
,
ññ* +
Next
ññ, 0
.
ññ0 1
	EndFigure
ññ1 :
)
ññ: ;
;
ññ; <
}
óó 
public
ùù 
override
ùù 
void
ùù  
LineTo
ùù! '
(
ùù' (
GeographyPosition
ùù( 9
position
ùù: B
)
ùùB C
{
ûû 
Util
üü 
.
üü 
CheckArgumentNull
üü &
(
üü& '
position
üü' /
,
üü/ 0
$str
üü1 ;
)
üü; <
;
üü< =
DoAction
†† 
(
†† 
val
°° 
=>
°° 
Current
°° "
.
°°" #
LineTo
°°# )
(
°°) *
val
°°* -
)
°°- .
,
°°. /
val
¢¢ 
=>
¢¢ 
Next
¢¢ 
.
¢¢  
LineTo
¢¢  &
(
¢¢& '
val
¢¢' *
)
¢¢* +
,
¢¢+ ,
position
££ 
)
££ 
;
££ 
}
§§ 
public
©© 
override
©© 
void
©©  
Reset
©©! &
(
©©& '
)
©©' (
{
™™ 
DoAction
´´ 
(
´´ 
Current
´´  
.
´´  !
Reset
´´! &
,
´´& '
Next
´´( ,
.
´´, -
Reset
´´- 2
)
´´2 3
;
´´3 4
}
¨¨ 
private
µµ 
void
µµ 
DoAction
µµ !
<
µµ! "
T
µµ" #
>
µµ# $
(
µµ$ %
Action
µµ% +
<
µµ+ ,
T
µµ, -
>
µµ- .
handler
µµ/ 6
,
µµ6 7
Action
µµ8 >
<
µµ> ?
T
µµ? @
>
µµ@ A

delegation
µµB L
,
µµL M
T
µµN O
argument
µµP X
)
µµX Y
{
∂∂ 
ForwardingSegment
∑∑ !
.
∑∑! "
DoAction
∑∑" *
(
∑∑* +
handler
∑∑+ 2
,
∑∑2 3
Current
∑∑4 ;
.
∑∑; <
Reset
∑∑< A
,
∑∑A B

delegation
∑∑C M
,
∑∑M N
Next
∑∑O S
.
∑∑S T
Reset
∑∑T Y
,
∑∑Y Z
argument
∑∑[ c
)
∑∑c d
;
∑∑d e
}
∏∏ 
private
øø 
void
øø 
DoAction
øø !
(
øø! "
Action
øø" (
handler
øø) 0
,
øø0 1
Action
øø2 8

delegation
øø9 C
)
øøC D
{
¿¿ 
ForwardingSegment
¡¡ !
.
¡¡! "
DoAction
¡¡" *
(
¡¡* +
handler
¡¡+ 2
,
¡¡2 3
Current
¡¡4 ;
.
¡¡; <
Reset
¡¡< A
,
¡¡A B

delegation
¡¡C M
,
¡¡M N
Next
¡¡O S
.
¡¡S T
Reset
¡¡T Y
)
¡¡Y Z
;
¡¡Z [
}
¬¬ 
}
√√ 	
internal
»» 
class
»» 
GeometryForwarder
»» (
:
»») *
GeometryPipeline
»»+ ;
{
…… 	
private
ŒŒ 
readonly
ŒŒ 
ForwardingSegment
ŒŒ .
segment
ŒŒ/ 6
;
ŒŒ6 7
public
‘‘ 
GeometryForwarder
‘‘ $
(
‘‘$ %
ForwardingSegment
‘‘% 6
segment
‘‘7 >
)
‘‘> ?
{
’’ 
this
÷÷ 
.
÷÷ 
segment
÷÷ 
=
÷÷ 
segment
÷÷ &
;
÷÷& '
}
◊◊ 
private
‹‹ 
GeometryPipeline
‹‹ $
Current
‹‹% ,
{
›› 
get
ﬁﬁ 
{
ﬁﬁ 
return
ﬁﬁ 
this
ﬁﬁ !
.
ﬁﬁ! "
segment
ﬁﬁ" )
.
ﬁﬁ) *
current
ﬁﬁ* 1
;
ﬁﬁ1 2
}
ﬁﬁ3 4
}
ﬂﬂ 
private
‰‰ 
GeometryPipeline
‰‰ $
Next
‰‰% )
{
ÂÂ 
get
ÊÊ 
{
ÊÊ 
return
ÊÊ 
this
ÊÊ !
.
ÊÊ! "
segment
ÊÊ" )
.
ÊÊ) *
next
ÊÊ* .
;
ÊÊ. /
}
ÊÊ0 1
}
ÁÁ 
public
ÌÌ 
override
ÌÌ 
void
ÌÌ  !
SetCoordinateSystem
ÌÌ! 4
(
ÌÌ4 5
CoordinateSystem
ÌÌ5 E
coordinateSystem
ÌÌF V
)
ÌÌV W
{
ÓÓ 
DoAction
ÔÔ 
(
ÔÔ 
val
ÔÔ 
=>
ÔÔ 
Current
ÔÔ  '
.
ÔÔ' (!
SetCoordinateSystem
ÔÔ( ;
(
ÔÔ; <
val
ÔÔ< ?
)
ÔÔ? @
,
ÔÔ@ A
val
ÔÔB E
=>
ÔÔF H
Next
ÔÔI M
.
ÔÔM N!
SetCoordinateSystem
ÔÔN a
(
ÔÔa b
val
ÔÔb e
)
ÔÔe f
,
ÔÔf g
coordinateSystem
ÔÔh x
)
ÔÔx y
;
ÔÔy z
}
 
public
ˆˆ 
override
ˆˆ 
void
ˆˆ  
BeginGeometry
ˆˆ! .
(
ˆˆ. /
SpatialType
ˆˆ/ :
type
ˆˆ; ?
)
ˆˆ? @
{
˜˜ 
DoAction
¯¯ 
(
¯¯ 
val
¯¯ 
=>
¯¯ 
Current
¯¯  '
.
¯¯' (
BeginGeometry
¯¯( 5
(
¯¯5 6
val
¯¯6 9
)
¯¯9 :
,
¯¯: ;
val
¯¯< ?
=>
¯¯@ B
Next
¯¯C G
.
¯¯G H
BeginGeometry
¯¯H U
(
¯¯U V
val
¯¯V Y
)
¯¯Y Z
,
¯¯Z [
type
¯¯\ `
)
¯¯` a
;
¯¯a b
}
˘˘ 
public
˛˛ 
override
˛˛ 
void
˛˛  
EndGeometry
˛˛! ,
(
˛˛, -
)
˛˛- .
{
ˇˇ 
DoAction
ÄÄ 
(
ÄÄ 
Current
ÄÄ  
.
ÄÄ  !
EndGeometry
ÄÄ! ,
,
ÄÄ, -
Next
ÄÄ. 2
.
ÄÄ2 3
EndGeometry
ÄÄ3 >
)
ÄÄ> ?
;
ÄÄ? @
}
ÅÅ 
public
áá 
override
áá 
void
áá  
BeginFigure
áá! ,
(
áá, -
GeometryPosition
áá- =
position
áá> F
)
ááF G
{
àà 
Util
ââ 
.
ââ 
CheckArgumentNull
ââ &
(
ââ& '
position
ââ' /
,
ââ/ 0
$str
ââ1 ;
)
ââ; <
;
ââ< =
DoAction
ää 
(
ää 
val
ää 
=>
ää 
Current
ää  '
.
ää' (
BeginFigure
ää( 3
(
ää3 4
val
ää4 7
)
ää7 8
,
ää8 9
val
ää: =
=>
ää> @
Next
ääA E
.
ääE F
BeginFigure
ääF Q
(
ääQ R
val
ääR U
)
ääU V
,
ääV W
position
ääX `
)
ää` a
;
ääa b
}
ãã 
public
êê 
override
êê 
void
êê  
	EndFigure
êê! *
(
êê* +
)
êê+ ,
{
ëë 
DoAction
íí 
(
íí 
Current
íí  
.
íí  !
	EndFigure
íí! *
,
íí* +
Next
íí, 0
.
íí0 1
	EndFigure
íí1 :
)
íí: ;
;
íí; <
}
ìì 
public
ôô 
override
ôô 
void
ôô  
LineTo
ôô! '
(
ôô' (
GeometryPosition
ôô( 8
position
ôô9 A
)
ôôA B
{
öö 
Util
õõ 
.
õõ 
CheckArgumentNull
õõ &
(
õõ& '
position
õõ' /
,
õõ/ 0
$str
õõ1 ;
)
õõ; <
;
õõ< =
DoAction
úú 
(
úú 
val
úú 
=>
úú 
Current
úú  '
.
úú' (
LineTo
úú( .
(
úú. /
val
úú/ 2
)
úú2 3
,
úú3 4
val
úú5 8
=>
úú9 ;
Next
úú< @
.
úú@ A
LineTo
úúA G
(
úúG H
val
úúH K
)
úúK L
,
úúL M
position
úúN V
)
úúV W
;
úúW X
}
ùù 
public
¢¢ 
override
¢¢ 
void
¢¢  
Reset
¢¢! &
(
¢¢& '
)
¢¢' (
{
££ 
DoAction
§§ 
(
§§ 
Current
§§  
.
§§  !
Reset
§§! &
,
§§& '
Next
§§( ,
.
§§, -
Reset
§§- 2
)
§§2 3
;
§§3 4
}
•• 
private
ÆÆ 
void
ÆÆ 
DoAction
ÆÆ !
<
ÆÆ! "
T
ÆÆ" #
>
ÆÆ# $
(
ÆÆ$ %
Action
ÆÆ% +
<
ÆÆ+ ,
T
ÆÆ, -
>
ÆÆ- .
handler
ÆÆ/ 6
,
ÆÆ6 7
Action
ÆÆ8 >
<
ÆÆ> ?
T
ÆÆ? @
>
ÆÆ@ A

delegation
ÆÆB L
,
ÆÆL M
T
ÆÆN O
argument
ÆÆP X
)
ÆÆX Y
{
ØØ 
ForwardingSegment
∞∞ !
.
∞∞! "
DoAction
∞∞" *
(
∞∞* +
handler
∞∞+ 2
,
∞∞2 3
Current
∞∞4 ;
.
∞∞; <
Reset
∞∞< A
,
∞∞A B

delegation
∞∞C M
,
∞∞M N
Next
∞∞O S
.
∞∞S T
Reset
∞∞T Y
,
∞∞Y Z
argument
∞∞[ c
)
∞∞c d
;
∞∞d e
}
±± 
private
∏∏ 
void
∏∏ 
DoAction
∏∏ !
(
∏∏! "
Action
∏∏" (
handler
∏∏) 0
,
∏∏0 1
Action
∏∏2 8

delegation
∏∏9 C
)
∏∏C D
{
ππ 
ForwardingSegment
∫∫ !
.
∫∫! "
DoAction
∫∫" *
(
∫∫* +
handler
∫∫+ 2
,
∫∫2 3
Current
∫∫4 ;
.
∫∫; <
Reset
∫∫< A
,
∫∫A B

delegation
∫∫C M
,
∫∫M N
Next
∫∫O S
.
∫∫S T
Reset
∫∫T Y
)
∫∫Y Z
;
∫∫Z [
}
ªª 
}
ºº 	
private
¡¡ 
class
¡¡ #
NoOpGeographyPipeline
¡¡ +
:
¡¡, -
GeographyPipeline
¡¡. ?
{
¬¬ 	
public
«« 
override
«« 
void
««  
LineTo
««! '
(
««' (
GeographyPosition
««( 9
position
««: B
)
««B C
{
»» 
}
…… 
public
œœ 
override
œœ 
void
œœ  
BeginFigure
œœ! ,
(
œœ, -
GeographyPosition
œœ- >
position
œœ? G
)
œœG H
{
–– 
}
—— 
public
◊◊ 
override
◊◊ 
void
◊◊  
BeginGeography
◊◊! /
(
◊◊/ 0
SpatialType
◊◊0 ;
type
◊◊< @
)
◊◊@ A
{
ÿÿ 
}
ŸŸ 
public
ﬁﬁ 
override
ﬁﬁ 
void
ﬁﬁ  
	EndFigure
ﬁﬁ! *
(
ﬁﬁ* +
)
ﬁﬁ+ ,
{
ﬂﬂ 
}
‡‡ 
public
ÂÂ 
override
ÂÂ 
void
ÂÂ  
EndGeography
ÂÂ! -
(
ÂÂ- .
)
ÂÂ. /
{
ÊÊ 
}
ÁÁ 
public
ÏÏ 
override
ÏÏ 
void
ÏÏ  
Reset
ÏÏ! &
(
ÏÏ& '
)
ÏÏ' (
{
ÌÌ 
}
ÓÓ 
public
ÙÙ 
override
ÙÙ 
void
ÙÙ  !
SetCoordinateSystem
ÙÙ! 4
(
ÙÙ4 5
CoordinateSystem
ÙÙ5 E
coordinateSystem
ÙÙF V
)
ÙÙV W
{
ıı 
}
ˆˆ 
}
˜˜ 	
private
¸¸ 
class
¸¸ "
NoOpGeometryPipeline
¸¸ *
:
¸¸+ ,
GeometryPipeline
¸¸- =
{
˝˝ 	
public
ÇÇ 
override
ÇÇ 
void
ÇÇ  
LineTo
ÇÇ! '
(
ÇÇ' (
GeometryPosition
ÇÇ( 8
position
ÇÇ9 A
)
ÇÇA B
{
ÉÉ 
}
ÑÑ 
public
ää 
override
ää 
void
ää  
BeginFigure
ää! ,
(
ää, -
GeometryPosition
ää- =
position
ää> F
)
ääF G
{
ãã 
}
åå 
public
íí 
override
íí 
void
íí  
BeginGeometry
íí! .
(
íí. /
SpatialType
íí/ :
type
íí; ?
)
íí? @
{
ìì 
}
îî 
public
ôô 
override
ôô 
void
ôô  
	EndFigure
ôô! *
(
ôô* +
)
ôô+ ,
{
öö 
}
õõ 
public
†† 
override
†† 
void
††  
EndGeometry
††! ,
(
††, -
)
††- .
{
°° 
}
¢¢ 
public
ßß 
override
ßß 
void
ßß  
Reset
ßß! &
(
ßß& '
)
ßß' (
{
®® 
}
©© 
public
ØØ 
override
ØØ 
void
ØØ  !
SetCoordinateSystem
ØØ! 4
(
ØØ4 5
CoordinateSystem
ØØ5 E
coordinateSystem
ØØF V
)
ØØV W
{
∞∞ 
}
±± 
}
≤≤ 	
}
≥≥ 
}¥¥ ˛
*D:\odata.net\src\Microsoft.Spatial\Util.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
Util 
{ 
private 
static 
readonly 
Type  $
OutOfMemoryType% 4
=5 6
typeof7 =
(= >
System> D
.D E 
OutOfMemoryExceptionE Y
)Y Z
;Z [
private 
static 
readonly 
Type  $
NullReferenceType% 6
=7 8
typeof9 ?
(? @
System@ F
.F G"
NullReferenceExceptionG ]
)] ^
;^ _
private"" 
static"" 
readonly"" 
Type""  $
SecurityType""% 1
=""2 3
typeof""4 :
("": ;
System""; A
.""A B
Security""B J
.""J K
SecurityException""K \
)""\ ]
;""] ^
internal)) 
static)) 
void)) 
CheckArgumentNull)) .
()). /
[))/ 0
ValidatedNotNull))0 @
]))@ A
object))B H
arg))I L
,))L M
string))N T
errorMessage))U a
)))a b
{** 	
if++ 
(++ 
arg++ 
==++ 
null++ 
)++ 
{,, 
throw-- 
new-- !
ArgumentNullException-- /
(--/ 0
errorMessage--0 <
)--< =
;--= >
}.. 
}// 	
internal66 
static66 
bool66 $
IsCatchableExceptionType66 5
(665 6
	Exception666 ?
e66@ A
)66A B
{77 	
Type99 
type99 
=99 
e99 
.99 
GetType99 !
(99! "
)99" #
;99# $
return;; 
(;; 
(;; 
type;; 
!=;; 
OutOfMemoryType;; ,
);;, -
&&;;. 0
(AA 
typeAA 
!=AA 
NullReferenceTypeAA .
)AA. /
&&AA0 2
!BB 
SecurityTypeBB !
.BB! "
IsAssignableFromBB" 2
(BB2 3
typeBB3 7
)BB7 8
)BB8 9
;BB9 :
}CC 	
privateKK 
sealedKK 
classKK %
ValidatedNotNullAttributeKK 6
:KK7 8
	AttributeKK9 B
{LL 	
}MM 	
}NN 
}OO à
2D:\odata.net\src\Microsoft.Spatial\XmlConstants.cs
	namespace 	
	Microsoft
 
. 
Spatial 
{ 
internal 
class 
XmlConstants 
{ 
internal 
const 
string 
XmlnsNamespace ,
=- .
$str/ N
;N O
} 
} ”
8D:\odata.net\src\Microsoft.Spatial\InternalsVisibleTo.cs
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> c
+d e
AssemblyReff q
.q r
TestPublicKeyr 
)	 Ä
]
Ä Å
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> p
+q r
AssemblyRefs ~
.~ 
TestPublicKey	 å
)
å ç
]
ç é
[		 
assembly		 	
:			 

System		 
.		 
Runtime		 
.		 
CompilerServices		 *
.		* +
InternalsVisibleTo		+ =
(		= >
$str		> ]
+		^ _
AssemblyRef		` k
.		k l
TestPublicKey		l y
)		y z
]		z {
[

 
assembly

 	
:

	 

System

 
.

 
Runtime

 
.

 
CompilerServices

 *
.

* +
InternalsVisibleTo

+ =
(

= >
$str

> ^
+

_ `
AssemblyRef

a l
.

l m
TestPublicKey

m z
)

z {
]

{ |
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> W
+X Y
AssemblyRefZ e
.e f
TestPublicKeyf s
)s t
]t u
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> b
+c d
AssemblyRefe p
.p q
TestPublicKeyq ~
)~ 
]	 Ä
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> a
+b c
AssemblyRefd o
.o p
TestPublicKeyp }
)} ~
]~ 
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> b
+c d
AssemblyRefe p
.p q
TestPublicKeyq ~
)~ 
]	 Ä
[ 
assembly 	
:	 

System 
. 
Runtime 
. 
CompilerServices *
.* +
InternalsVisibleTo+ =
(= >
$str> _
+` a
AssemblyRefb m
.m n
TestPublicKeyn {
){ |
]| }∆
-D:\odata.net\src\AssemblyInfo\AssemblyKeys.cs
internal

 
static

	 
class

 
AssemblyRef

 !
{ 
internal 
const 
string 
ProductPublicKey *
=+ ,
$str	- ˚
;
˚ ¸
internal 
const 
string 
TestPublicKey '
=( )
$str	* ¯
;
¯ ˘
internal 
const 
string !
ProductPublicKeyToken /
=0 1
$str2 D
;D E
}++ Ñb
7D:\odata.net\src\Microsoft.Spatial\Microsoft.Spatial.cs
	namespace

 	
	Microsoft


 
.

 
Spatial

 
{

 
internalGG 
sealedGG 
classGG 
TextResGG !
{GG" #
internalHH 
constHH 
stringHH 8
,SpatialImplementation_NoRegisteredOperationsHH J
=HHK L
$strHHM {
;HH{ |
internalII 
constII 
stringII "
InvalidPointCoordinateII 4
=II5 6
$strII7 O
;IIO P
internalJJ 
constJJ 
stringJJ +
Point_AccessCoordinateWhenEmptyJJ =
=JJ> ?
$strJJ@ a
;JJa b
internalKK 
constKK 
stringKK 2
&SpatialBuilder_CannotCreateBeforeDrawnKK D
=KKE F
$strKKG o
;KKo p
internalLL 
constLL 
stringLL '
GmlReader_UnexpectedElementLL 9
=LL: ;
$strLL< Y
;LLY Z
internalMM 
constMM 
stringMM +
GmlReader_ExpectReaderAtElementMM =
=MM> ?
$strMM@ a
;MMa b
internalNN 
constNN 
stringNN (
GmlReader_InvalidSpatialTypeNN :
=NN; <
$strNN= [
;NN[ \
internalOO 
constOO 
stringOO *
GmlReader_EmptyRingsNotAllowedOO <
=OO= >
$strOO? _
;OO_ `
internalPP 
constPP 
stringPP '
GmlReader_PosNeedTwoNumbersPP 9
=PP: ;
$strPP< Y
;PPY Z
internalQQ 
constQQ 
stringQQ +
GmlReader_PosListNeedsEvenCountQQ =
=QQ> ?
$strQQ@ a
;QQa b
internalRR 
constRR 
stringRR $
GmlReader_InvalidSrsNameRR 6
=RR7 8
$strRR9 S
;RRS T
internalSS 
constSS 
stringSS &
GmlReader_InvalidAttributeSS 8
=SS9 :
$strSS; W
;SSW X
internalTT 
constTT 
stringTT )
WellKnownText_UnexpectedTokenTT ;
=TT< =
$strTT> ]
;TT] ^
internalUU 
constUU 
stringUU -
!WellKnownText_UnexpectedCharacterUU ?
=UU@ A
$strUUB e
;UUe f
internalVV 
constVV 
stringVV +
WellKnownText_UnknownTaggedTextVV =
=VV> ?
$strVV@ a
;VVa b
internalWW 
constWW 
stringWW +
WellKnownText_TooManyDimensionsWW =
=WW> ?
$strWW@ a
;WWa b
internalXX 
constXX 
stringXX "
Validator_SridMismatchXX 4
=XX5 6
$strXX7 O
;XXO P
internalYY 
constYY 
stringYY !
Validator_InvalidTypeYY 3
=YY4 5
$strYY6 M
;YYM N
internalZZ 
constZZ 
stringZZ +
Validator_FullGlobeInCollectionZZ =
=ZZ> ?
$strZZ@ a
;ZZa b
internal[[ 
const[[ 
string[[ .
"Validator_LineStringNeedsTwoPoints[[ @
=[[A B
$str[[C g
;[[g h
internal\\ 
const\\ 
string\\ 1
%Validator_FullGlobeCannotHaveElements\\ C
=\\D E
$str\\F m
;\\m n
internal]] 
const]] 
string]] %
Validator_NestingOverflow]] 7
=]]8 9
$str]]: U
;]]U V
internal^^ 
const^^ 
string^^ ,
 Validator_InvalidPointCoordinate^^ >
=^^? @
$str^^A c
;^^c d
internal__ 
const__ 
string__ $
Validator_UnexpectedCall__ 6
=__7 8
$str__9 S
;__S T
internal`` 
const`` 
string`` %
Validator_UnexpectedCall2`` 7
=``8 9
$str``: U
;``U V
internalaa 
constaa 
stringaa *
Validator_InvalidPolygonPointsaa <
=aa= >
$straa? _
;aa_ `
internalbb 
constbb 
stringbb /
#Validator_InvalidLatitudeCoordinatebb A
=bbB C
$strbbD i
;bbi j
internalcc 
constcc 
stringcc 0
$Validator_InvalidLongitudeCoordinatecc B
=ccC D
$strccE k
;cck l
internaldd 
constdd 
stringdd )
Validator_UnexpectedGeographydd ;
=dd< =
$strdd> ]
;dd] ^
internalee 
constee 
stringee (
Validator_UnexpectedGeometryee :
=ee; <
$stree= [
;ee[ \
internalff 
constff 
stringff /
#GeoJsonReader_MissingRequiredMemberff A
=ffB C
$strffD i
;ffi j
internalgg 
constgg 
stringgg )
GeoJsonReader_InvalidPositiongg ;
=gg< =
$strgg> ]
;gg] ^
internalhh 
consthh 
stringhh )
GeoJsonReader_InvalidTypeNamehh ;
=hh< =
$strhh> ]
;hh] ^
internalii 
constii 
stringii ,
 GeoJsonReader_InvalidNullElementii >
=ii? @
$striiA c
;iic d
internaljj 
constjj 
stringjj )
GeoJsonReader_ExpectedNumericjj ;
=jj< =
$strjj> ]
;jj] ^
internalkk 
constkk 
stringkk '
GeoJsonReader_ExpectedArraykk 9
=kk: ;
$strkk< Y
;kkY Z
internalll 
constll 
stringll (
GeoJsonReader_InvalidCrsTypell :
=ll; <
$strll= [
;ll[ \
internalmm 
constmm 
stringmm (
GeoJsonReader_InvalidCrsNamemm :
=mm; <
$strmm= [
;mm[ \
internalnn 
constnn 
stringnn @
4JsonReaderExtensions_CannotReadPropertyValueAsStringnn R
=nnS T
$str	nnU ã
;
nnã å
internaloo 
constoo 
stringoo <
0JsonReaderExtensions_CannotReadValueAsJsonObjectoo N
=ooO P
$str	ooQ É
;
ooÉ Ñ
internalpp 
constpp 
stringpp <
0PlatformHelper_DateTimeOffsetMustContainTimeZonepp N
=ppO P
$str	ppQ É
;
ppÉ Ñ
staticrr 
TextResrr 
loaderrr 
=rr 
nullrr  $
;rr$ %
ResourceManagerss 
	resourcesss !
;ss! "
internaluu 
TextResuu 
(uu 
)uu 
{uu 
	resourcesyy 
=yy 
newyy 
Systemyy "
.yy" #
	Resourcesyy# ,
.yy, -
ResourceManageryy- <
(yy< =
$stryy= P
,yyP Q
thisyyR V
.yyV W
GetTypeyyW ^
(yy^ _
)yy_ `
.yy` a
GetTypeInfoyya l
(yyl m
)yym n
.yyn o
Assemblyyyo w
)yyw x
;yyx y
}{{ 	
private}} 
static}} 
TextRes}} 
	GetLoader}} (
(}}( )
)}}) *
{}}+ ,
if~~ 
(~~ 
loader~~ 
==~~ 
null~~ 
)~~ 
{~~  !
TextRes 
sr 
= 
new  
TextRes! (
(( )
)) *
;* +
Interlocked
ÄÄ 
.
ÄÄ 
CompareExchange
ÄÄ +
(
ÄÄ+ ,
ref
ÄÄ, /
loader
ÄÄ0 6
,
ÄÄ6 7
sr
ÄÄ8 :
,
ÄÄ: ;
null
ÄÄ< @
)
ÄÄ@ A
;
ÄÄA B
}
ÅÅ 
return
ÇÇ 
loader
ÇÇ 
;
ÇÇ 
}
ÉÉ 	
private
ÖÖ 
static
ÖÖ 
CultureInfo
ÖÖ "
Culture
ÖÖ# *
{
ÖÖ+ ,
get
ÜÜ 
{
ÜÜ 
return
ÜÜ 
null
ÜÜ 
;
ÜÜZ [
}
ÜÜ\ ]
}
áá 	
public
ââ 
static
ââ 
ResourceManager
ââ %
	Resources
ââ& /
{
ââ0 1
get
ää 
{
ää 
return
ãã 
	GetLoader
ãã  
(
ãã  !
)
ãã! "
.
ãã" #
	resources
ãã# ,
;
ãã, -
}
åå 
}
çç 	
public
èè 
static
èè 
string
èè 
	GetString
èè &
(
èè& '
string
èè' -
name
èè. 2
,
èè2 3
params
èè4 :
object
èè; A
[
èèA B
]
èèB C
args
èèD H
)
èèH I
{
èèJ K
TextRes
êê 
sys
êê 
=
êê 
	GetLoader
êê #
(
êê# $
)
êê$ %
;
êê% &
if
ëë 
(
ëë 
sys
ëë 
==
ëë 
null
ëë 
)
ëë 
return
íí 
null
íí 
;
íí 
string
ìì 
res
ìì 
=
ìì 
sys
ìì 
.
ìì 
	resources
ìì &
.
ìì& '
	GetString
ìì' 0
(
ìì0 1
name
ìì1 5
,
ìì5 6
TextRes
ìì7 >
.
ìì> ?
Culture
ìì? F
)
ììF G
;
ììG H
if
ïï 
(
ïï 
args
ïï 
!=
ïï 
null
ïï 
&&
ïï 
args
ïï  $
.
ïï$ %
Length
ïï% +
>
ïï, -
$num
ïï. /
)
ïï/ 0
{
ïï1 2
for
ññ 
(
ññ 
int
ññ 
i
ññ 
=
ññ 
$num
ññ 
;
ññ 
i
ññ  !
<
ññ" #
args
ññ$ (
.
ññ( )
Length
ññ) /
;
ññ/ 0
i
ññ1 2
++
ññ3 5
)
ññ5 6
{
ññ7 8
String
óó 
value
óó  
=
óó! "
args
óó# '
[
óó' (
i
óó( )
]
óó) *
as
óó+ -
String
óó. 4
;
óó4 5
if
òò 
(
òò 
value
òò 
!=
òò  
null
òò! %
&&
òò& (
value
òò) .
.
òò. /
Length
òò/ 5
>
òò6 7
$num
òò8 <
)
òò< =
{
òò> ?
args
ôô 
[
ôô 
i
ôô 
]
ôô 
=
ôô  !
value
ôô" '
.
ôô' (
	Substring
ôô( 1
(
ôô1 2
$num
ôô2 3
,
ôô3 4
$num
ôô5 9
-
ôô: ;
$num
ôô< =
)
ôô= >
+
ôô? @
$str
ôôA F
;
ôôF G
}
öö 
}
õõ 
return
úú 
String
úú 
.
úú 
Format
úú $
(
úú$ %
CultureInfo
úú% 0
.
úú0 1
CurrentCulture
úú1 ?
,
úú? @
res
úúA D
,
úúD E
args
úúF J
)
úúJ K
;
úúK L
}
ùù 
else
ûû 
{
ûû 
return
üü 
res
üü 
;
üü 
}
†† 
}
°° 	
public
££ 
static
££ 
string
££ 
	GetString
££ &
(
££& '
string
££' -
name
££. 2
)
££2 3
{
££4 5
TextRes
§§ 
sys
§§ 
=
§§ 
	GetLoader
§§ #
(
§§# $
)
§§$ %
;
§§% &
if
•• 
(
•• 
sys
•• 
==
•• 
null
•• 
)
•• 
return
¶¶ 
null
¶¶ 
;
¶¶ 
return
ßß 
sys
ßß 
.
ßß 
	resources
ßß  
.
ßß  !
	GetString
ßß! *
(
ßß* +
name
ßß+ /
,
ßß/ 0
TextRes
ßß1 8
.
ßß8 9
Culture
ßß9 @
)
ßß@ A
;
ßßA B
}
®® 	
public
™™ 
static
™™ 
string
™™ 
	GetString
™™ &
(
™™& '
string
™™' -
name
™™. 2
,
™™2 3
out
™™4 7
bool
™™8 <
usedFallback
™™= I
)
™™I J
{
™™K L
usedFallback
¨¨ 
=
¨¨ 
false
¨¨  
;
¨¨  !
return
≠≠ 
	GetString
≠≠ 
(
≠≠ 
name
≠≠ !
)
≠≠! "
;
≠≠" #
}
ÆÆ 	
}
∑∑ 
}∏∏ ‘÷
ED:\odata.net\src\Microsoft.Spatial\Parameterized.Microsoft.Spatial.cs
	namespace

 	
	Microsoft


 
.

 
Spatial

 
{

 
internal 
static 
class 
Strings !
{" #
internal 
static 
string 8
,SpatialImplementation_NoRegisteredOperations K
{L M
get 
{ 
return 
	Microsoft  
.  !
Spatial! (
.( )
TextRes) 0
.0 1
	GetString1 :
(: ;
	Microsoft; D
.D E
SpatialE L
.L M
TextResM T
.T U9
,SpatialImplementation_NoRegisteredOperations	U Å
)
Å Ç
;
Ç É
} 
} 	
internal 
static 
string "
InvalidPointCoordinate 5
(5 6
object6 <
p0= ?
,? @
objectA G
p1H J
)J K
{L M
return 
	Microsoft 
. 
Spatial $
.$ %
TextRes% ,
., -
	GetString- 6
(6 7
	Microsoft7 @
.@ A
SpatialA H
.H I
TextResI P
.P Q"
InvalidPointCoordinateQ g
,g h
p0i k
,k l
p1m o
)o p
;p q
}   	
internal%% 
static%% 
string%% +
Point_AccessCoordinateWhenEmpty%% >
{%%? @
get&& 
{&& 
return'' 
	Microsoft''  
.''  !
Spatial''! (
.''( )
TextRes'') 0
.''0 1
	GetString''1 :
('': ;
	Microsoft''; D
.''D E
Spatial''E L
.''L M
TextRes''M T
.''T U+
Point_AccessCoordinateWhenEmpty''U t
)''t u
;''u v
}(( 
})) 	
internal.. 
static.. 
string.. 2
&SpatialBuilder_CannotCreateBeforeDrawn.. E
{..F G
get// 
{// 
return00 
	Microsoft00  
.00  !
Spatial00! (
.00( )
TextRes00) 0
.000 1
	GetString001 :
(00: ;
	Microsoft00; D
.00D E
Spatial00E L
.00L M
TextRes00M T
.00T U2
&SpatialBuilder_CannotCreateBeforeDrawn00U {
)00{ |
;00| }
}11 
}22 	
internal77 
static77 
string77 '
GmlReader_UnexpectedElement77 :
(77: ;
object77; A
p077B D
)77D E
{77F G
return88 
	Microsoft88 
.88 
Spatial88 $
.88$ %
TextRes88% ,
.88, -
	GetString88- 6
(886 7
	Microsoft887 @
.88@ A
Spatial88A H
.88H I
TextRes88I P
.88P Q'
GmlReader_UnexpectedElement88Q l
,88l m
p088n p
)88p q
;88q r
}99 	
internal>> 
static>> 
string>> +
GmlReader_ExpectReaderAtElement>> >
{>>? @
get?? 
{?? 
return@@ 
	Microsoft@@  
.@@  !
Spatial@@! (
.@@( )
TextRes@@) 0
.@@0 1
	GetString@@1 :
(@@: ;
	Microsoft@@; D
.@@D E
Spatial@@E L
.@@L M
TextRes@@M T
.@@T U+
GmlReader_ExpectReaderAtElement@@U t
)@@t u
;@@u v
}AA 
}BB 	
internalGG 
staticGG 
stringGG (
GmlReader_InvalidSpatialTypeGG ;
(GG; <
objectGG< B
p0GGC E
)GGE F
{GGG H
returnHH 
	MicrosoftHH 
.HH 
SpatialHH $
.HH$ %
TextResHH% ,
.HH, -
	GetStringHH- 6
(HH6 7
	MicrosoftHH7 @
.HH@ A
SpatialHHA H
.HHH I
TextResHHI P
.HHP Q(
GmlReader_InvalidSpatialTypeHHQ m
,HHm n
p0HHo q
)HHq r
;HHr s
}II 	
internalNN 
staticNN 
stringNN *
GmlReader_EmptyRingsNotAllowedNN =
{NN> ?
getOO 
{OO 
returnPP 
	MicrosoftPP  
.PP  !
SpatialPP! (
.PP( )
TextResPP) 0
.PP0 1
	GetStringPP1 :
(PP: ;
	MicrosoftPP; D
.PPD E
SpatialPPE L
.PPL M
TextResPPM T
.PPT U*
GmlReader_EmptyRingsNotAllowedPPU s
)PPs t
;PPt u
}QQ 
}RR 	
internalWW 
staticWW 
stringWW '
GmlReader_PosNeedTwoNumbersWW :
{WW; <
getXX 
{XX 
returnYY 
	MicrosoftYY  
.YY  !
SpatialYY! (
.YY( )
TextResYY) 0
.YY0 1
	GetStringYY1 :
(YY: ;
	MicrosoftYY; D
.YYD E
SpatialYYE L
.YYL M
TextResYYM T
.YYT U'
GmlReader_PosNeedTwoNumbersYYU p
)YYp q
;YYq r
}ZZ 
}[[ 	
internal`` 
static`` 
string`` +
GmlReader_PosListNeedsEvenCount`` >
{``? @
getaa 
{aa 
returnbb 
	Microsoftbb  
.bb  !
Spatialbb! (
.bb( )
TextResbb) 0
.bb0 1
	GetStringbb1 :
(bb: ;
	Microsoftbb; D
.bbD E
SpatialbbE L
.bbL M
TextResbbM T
.bbT U+
GmlReader_PosListNeedsEvenCountbbU t
)bbt u
;bbu v
}cc 
}dd 	
internalii 
staticii 
stringii $
GmlReader_InvalidSrsNameii 7
(ii7 8
objectii8 >
p0ii? A
)iiA B
{iiC D
returnjj 
	Microsoftjj 
.jj 
Spatialjj $
.jj$ %
TextResjj% ,
.jj, -
	GetStringjj- 6
(jj6 7
	Microsoftjj7 @
.jj@ A
SpatialjjA H
.jjH I
TextResjjI P
.jjP Q$
GmlReader_InvalidSrsNamejjQ i
,jji j
p0jjk m
)jjm n
;jjn o
}kk 	
internalpp 
staticpp 
stringpp &
GmlReader_InvalidAttributepp 9
(pp9 :
objectpp: @
p0ppA C
,ppC D
objectppE K
p1ppL N
)ppN O
{ppP Q
returnqq 
	Microsoftqq 
.qq 
Spatialqq $
.qq$ %
TextResqq% ,
.qq, -
	GetStringqq- 6
(qq6 7
	Microsoftqq7 @
.qq@ A
SpatialqqA H
.qqH I
TextResqqI P
.qqP Q&
GmlReader_InvalidAttributeqqQ k
,qqk l
p0qqm o
,qqo p
p1qqq s
)qqs t
;qqt u
}rr 	
internalww 
staticww 
stringww )
WellKnownText_UnexpectedTokenww <
(ww< =
objectww= C
p0wwD F
,wwF G
objectwwH N
p1wwO Q
,wwQ R
objectwwS Y
p2wwZ \
)ww\ ]
{ww^ _
returnxx 
	Microsoftxx 
.xx 
Spatialxx $
.xx$ %
TextResxx% ,
.xx, -
	GetStringxx- 6
(xx6 7
	Microsoftxx7 @
.xx@ A
SpatialxxA H
.xxH I
TextResxxI P
.xxP Q)
WellKnownText_UnexpectedTokenxxQ n
,xxn o
p0xxp r
,xxr s
p1xxt v
,xxv w
p2xxx z
)xxz {
;xx{ |
}yy 	
internal~~ 
static~~ 
string~~ -
!WellKnownText_UnexpectedCharacter~~ @
(~~@ A
object~~A G
p0~~H J
)~~J K
{~~L M
return 
	Microsoft 
. 
Spatial $
.$ %
TextRes% ,
., -
	GetString- 6
(6 7
	Microsoft7 @
.@ A
SpatialA H
.H I
TextResI P
.P Q-
!WellKnownText_UnexpectedCharacterQ r
,r s
p0t v
)v w
;w x
}
ÄÄ 	
internal
ÖÖ 
static
ÖÖ 
string
ÖÖ -
WellKnownText_UnknownTaggedText
ÖÖ >
(
ÖÖ> ?
object
ÖÖ? E
p0
ÖÖF H
)
ÖÖH I
{
ÖÖJ K
return
ÜÜ 
	Microsoft
ÜÜ 
.
ÜÜ 
Spatial
ÜÜ $
.
ÜÜ$ %
TextRes
ÜÜ% ,
.
ÜÜ, -
	GetString
ÜÜ- 6
(
ÜÜ6 7
	Microsoft
ÜÜ7 @
.
ÜÜ@ A
Spatial
ÜÜA H
.
ÜÜH I
TextRes
ÜÜI P
.
ÜÜP Q-
WellKnownText_UnknownTaggedText
ÜÜQ p
,
ÜÜp q
p0
ÜÜr t
)
ÜÜt u
;
ÜÜu v
}
áá 	
internal
åå 
static
åå 
string
åå -
WellKnownText_TooManyDimensions
åå >
{
åå? @
get
çç 
{
çç 
return
éé 
	Microsoft
éé  
.
éé  !
Spatial
éé! (
.
éé( )
TextRes
éé) 0
.
éé0 1
	GetString
éé1 :
(
éé: ;
	Microsoft
éé; D
.
ééD E
Spatial
ééE L
.
ééL M
TextRes
ééM T
.
ééT U-
WellKnownText_TooManyDimensions
ééU t
)
éét u
;
ééu v
}
èè 
}
êê 	
internal
ïï 
static
ïï 
string
ïï $
Validator_SridMismatch
ïï 5
{
ïï6 7
get
ññ 
{
ññ 
return
óó 
	Microsoft
óó  
.
óó  !
Spatial
óó! (
.
óó( )
TextRes
óó) 0
.
óó0 1
	GetString
óó1 :
(
óó: ;
	Microsoft
óó; D
.
óóD E
Spatial
óóE L
.
óóL M
TextRes
óóM T
.
óóT U$
Validator_SridMismatch
óóU k
)
óók l
;
óól m
}
òò 
}
ôô 	
internal
ûû 
static
ûû 
string
ûû #
Validator_InvalidType
ûû 4
(
ûû4 5
object
ûû5 ;
p0
ûû< >
)
ûû> ?
{
ûû@ A
return
üü 
	Microsoft
üü 
.
üü 
Spatial
üü $
.
üü$ %
TextRes
üü% ,
.
üü, -
	GetString
üü- 6
(
üü6 7
	Microsoft
üü7 @
.
üü@ A
Spatial
üüA H
.
üüH I
TextRes
üüI P
.
üüP Q#
Validator_InvalidType
üüQ f
,
üüf g
p0
üüh j
)
üüj k
;
üük l
}
†† 	
internal
•• 
static
•• 
string
•• -
Validator_FullGlobeInCollection
•• >
{
••? @
get
¶¶ 
{
¶¶ 
return
ßß 
	Microsoft
ßß  
.
ßß  !
Spatial
ßß! (
.
ßß( )
TextRes
ßß) 0
.
ßß0 1
	GetString
ßß1 :
(
ßß: ;
	Microsoft
ßß; D
.
ßßD E
Spatial
ßßE L
.
ßßL M
TextRes
ßßM T
.
ßßT U-
Validator_FullGlobeInCollection
ßßU t
)
ßßt u
;
ßßu v
}
®® 
}
©© 	
internal
ÆÆ 
static
ÆÆ 
string
ÆÆ 0
"Validator_LineStringNeedsTwoPoints
ÆÆ A
{
ÆÆB C
get
ØØ 
{
ØØ 
return
∞∞ 
	Microsoft
∞∞  
.
∞∞  !
Spatial
∞∞! (
.
∞∞( )
TextRes
∞∞) 0
.
∞∞0 1
	GetString
∞∞1 :
(
∞∞: ;
	Microsoft
∞∞; D
.
∞∞D E
Spatial
∞∞E L
.
∞∞L M
TextRes
∞∞M T
.
∞∞T U0
"Validator_LineStringNeedsTwoPoints
∞∞U w
)
∞∞w x
;
∞∞x y
}
±± 
}
≤≤ 	
internal
∑∑ 
static
∑∑ 
string
∑∑ 3
%Validator_FullGlobeCannotHaveElements
∑∑ D
{
∑∑E F
get
∏∏ 
{
∏∏ 
return
ππ 
	Microsoft
ππ  
.
ππ  !
Spatial
ππ! (
.
ππ( )
TextRes
ππ) 0
.
ππ0 1
	GetString
ππ1 :
(
ππ: ;
	Microsoft
ππ; D
.
ππD E
Spatial
ππE L
.
ππL M
TextRes
ππM T
.
ππT U3
%Validator_FullGlobeCannotHaveElements
ππU z
)
ππz {
;
ππ{ |
}
∫∫ 
}
ªª 	
internal
¿¿ 
static
¿¿ 
string
¿¿ '
Validator_NestingOverflow
¿¿ 8
(
¿¿8 9
object
¿¿9 ?
p0
¿¿@ B
)
¿¿B C
{
¿¿D E
return
¡¡ 
	Microsoft
¡¡ 
.
¡¡ 
Spatial
¡¡ $
.
¡¡$ %
TextRes
¡¡% ,
.
¡¡, -
	GetString
¡¡- 6
(
¡¡6 7
	Microsoft
¡¡7 @
.
¡¡@ A
Spatial
¡¡A H
.
¡¡H I
TextRes
¡¡I P
.
¡¡P Q'
Validator_NestingOverflow
¡¡Q j
,
¡¡j k
p0
¡¡l n
)
¡¡n o
;
¡¡o p
}
¬¬ 	
internal
«« 
static
«« 
string
«« .
 Validator_InvalidPointCoordinate
«« ?
(
««? @
object
««@ F
p0
««G I
,
««I J
object
««K Q
p1
««R T
,
««T U
object
««V \
p2
««] _
,
««_ `
object
««a g
p3
««h j
)
««j k
{
««l m
return
»» 
	Microsoft
»» 
.
»» 
Spatial
»» $
.
»»$ %
TextRes
»»% ,
.
»», -
	GetString
»»- 6
(
»»6 7
	Microsoft
»»7 @
.
»»@ A
Spatial
»»A H
.
»»H I
TextRes
»»I P
.
»»P Q.
 Validator_InvalidPointCoordinate
»»Q q
,
»»q r
p0
»»s u
,
»»u v
p1
»»w y
,
»»y z
p2
»»{ }
,
»»} ~
p3»» Å
)»»Å Ç
;»»Ç É
}
…… 	
internal
ŒŒ 
static
ŒŒ 
string
ŒŒ &
Validator_UnexpectedCall
ŒŒ 7
(
ŒŒ7 8
object
ŒŒ8 >
p0
ŒŒ? A
,
ŒŒA B
object
ŒŒC I
p1
ŒŒJ L
)
ŒŒL M
{
ŒŒN O
return
œœ 
	Microsoft
œœ 
.
œœ 
Spatial
œœ $
.
œœ$ %
TextRes
œœ% ,
.
œœ, -
	GetString
œœ- 6
(
œœ6 7
	Microsoft
œœ7 @
.
œœ@ A
Spatial
œœA H
.
œœH I
TextRes
œœI P
.
œœP Q&
Validator_UnexpectedCall
œœQ i
,
œœi j
p0
œœk m
,
œœm n
p1
œœo q
)
œœq r
;
œœr s
}
–– 	
internal
’’ 
static
’’ 
string
’’ '
Validator_UnexpectedCall2
’’ 8
(
’’8 9
object
’’9 ?
p0
’’@ B
,
’’B C
object
’’D J
p1
’’K M
,
’’M N
object
’’O U
p2
’’V X
)
’’X Y
{
’’Z [
return
÷÷ 
	Microsoft
÷÷ 
.
÷÷ 
Spatial
÷÷ $
.
÷÷$ %
TextRes
÷÷% ,
.
÷÷, -
	GetString
÷÷- 6
(
÷÷6 7
	Microsoft
÷÷7 @
.
÷÷@ A
Spatial
÷÷A H
.
÷÷H I
TextRes
÷÷I P
.
÷÷P Q'
Validator_UnexpectedCall2
÷÷Q j
,
÷÷j k
p0
÷÷l n
,
÷÷n o
p1
÷÷p r
,
÷÷r s
p2
÷÷t v
)
÷÷v w
;
÷÷w x
}
◊◊ 	
internal
‹‹ 
static
‹‹ 
string
‹‹ ,
Validator_InvalidPolygonPoints
‹‹ =
{
‹‹> ?
get
›› 
{
›› 
return
ﬁﬁ 
	Microsoft
ﬁﬁ  
.
ﬁﬁ  !
Spatial
ﬁﬁ! (
.
ﬁﬁ( )
TextRes
ﬁﬁ) 0
.
ﬁﬁ0 1
	GetString
ﬁﬁ1 :
(
ﬁﬁ: ;
	Microsoft
ﬁﬁ; D
.
ﬁﬁD E
Spatial
ﬁﬁE L
.
ﬁﬁL M
TextRes
ﬁﬁM T
.
ﬁﬁT U,
Validator_InvalidPolygonPoints
ﬁﬁU s
)
ﬁﬁs t
;
ﬁﬁt u
}
ﬂﬂ 
}
‡‡ 	
internal
ÂÂ 
static
ÂÂ 
string
ÂÂ 1
#Validator_InvalidLatitudeCoordinate
ÂÂ B
(
ÂÂB C
object
ÂÂC I
p0
ÂÂJ L
)
ÂÂL M
{
ÂÂN O
return
ÊÊ 
	Microsoft
ÊÊ 
.
ÊÊ 
Spatial
ÊÊ $
.
ÊÊ$ %
TextRes
ÊÊ% ,
.
ÊÊ, -
	GetString
ÊÊ- 6
(
ÊÊ6 7
	Microsoft
ÊÊ7 @
.
ÊÊ@ A
Spatial
ÊÊA H
.
ÊÊH I
TextRes
ÊÊI P
.
ÊÊP Q1
#Validator_InvalidLatitudeCoordinate
ÊÊQ t
,
ÊÊt u
p0
ÊÊv x
)
ÊÊx y
;
ÊÊy z
}
ÁÁ 	
internal
ÏÏ 
static
ÏÏ 
string
ÏÏ 2
$Validator_InvalidLongitudeCoordinate
ÏÏ C
(
ÏÏC D
object
ÏÏD J
p0
ÏÏK M
)
ÏÏM N
{
ÏÏO P
return
ÌÌ 
	Microsoft
ÌÌ 
.
ÌÌ 
Spatial
ÌÌ $
.
ÌÌ$ %
TextRes
ÌÌ% ,
.
ÌÌ, -
	GetString
ÌÌ- 6
(
ÌÌ6 7
	Microsoft
ÌÌ7 @
.
ÌÌ@ A
Spatial
ÌÌA H
.
ÌÌH I
TextRes
ÌÌI P
.
ÌÌP Q2
$Validator_InvalidLongitudeCoordinate
ÌÌQ u
,
ÌÌu v
p0
ÌÌw y
)
ÌÌy z
;
ÌÌz {
}
ÓÓ 	
internal
ÛÛ 
static
ÛÛ 
string
ÛÛ +
Validator_UnexpectedGeography
ÛÛ <
{
ÛÛ= >
get
ÙÙ 
{
ÙÙ 
return
ıı 
	Microsoft
ıı  
.
ıı  !
Spatial
ıı! (
.
ıı( )
TextRes
ıı) 0
.
ıı0 1
	GetString
ıı1 :
(
ıı: ;
	Microsoft
ıı; D
.
ııD E
Spatial
ııE L
.
ııL M
TextRes
ııM T
.
ııT U+
Validator_UnexpectedGeography
ııU r
)
ıır s
;
ııs t
}
ˆˆ 
}
˜˜ 	
internal
¸¸ 
static
¸¸ 
string
¸¸ *
Validator_UnexpectedGeometry
¸¸ ;
{
¸¸< =
get
˝˝ 
{
˝˝ 
return
˛˛ 
	Microsoft
˛˛  
.
˛˛  !
Spatial
˛˛! (
.
˛˛( )
TextRes
˛˛) 0
.
˛˛0 1
	GetString
˛˛1 :
(
˛˛: ;
	Microsoft
˛˛; D
.
˛˛D E
Spatial
˛˛E L
.
˛˛L M
TextRes
˛˛M T
.
˛˛T U*
Validator_UnexpectedGeometry
˛˛U q
)
˛˛q r
;
˛˛r s
}
ˇˇ 
}
ÄÄ 	
internal
ÖÖ 
static
ÖÖ 
string
ÖÖ 1
#GeoJsonReader_MissingRequiredMember
ÖÖ B
(
ÖÖB C
object
ÖÖC I
p0
ÖÖJ L
)
ÖÖL M
{
ÖÖN O
return
ÜÜ 
	Microsoft
ÜÜ 
.
ÜÜ 
Spatial
ÜÜ $
.
ÜÜ$ %
TextRes
ÜÜ% ,
.
ÜÜ, -
	GetString
ÜÜ- 6
(
ÜÜ6 7
	Microsoft
ÜÜ7 @
.
ÜÜ@ A
Spatial
ÜÜA H
.
ÜÜH I
TextRes
ÜÜI P
.
ÜÜP Q1
#GeoJsonReader_MissingRequiredMember
ÜÜQ t
,
ÜÜt u
p0
ÜÜv x
)
ÜÜx y
;
ÜÜy z
}
áá 	
internal
åå 
static
åå 
string
åå +
GeoJsonReader_InvalidPosition
åå <
{
åå= >
get
çç 
{
çç 
return
éé 
	Microsoft
éé  
.
éé  !
Spatial
éé! (
.
éé( )
TextRes
éé) 0
.
éé0 1
	GetString
éé1 :
(
éé: ;
	Microsoft
éé; D
.
ééD E
Spatial
ééE L
.
ééL M
TextRes
ééM T
.
ééT U+
GeoJsonReader_InvalidPosition
ééU r
)
éér s
;
éés t
}
èè 
}
êê 	
internal
ïï 
static
ïï 
string
ïï +
GeoJsonReader_InvalidTypeName
ïï <
(
ïï< =
object
ïï= C
p0
ïïD F
)
ïïF G
{
ïïH I
return
ññ 
	Microsoft
ññ 
.
ññ 
Spatial
ññ $
.
ññ$ %
TextRes
ññ% ,
.
ññ, -
	GetString
ññ- 6
(
ññ6 7
	Microsoft
ññ7 @
.
ññ@ A
Spatial
ññA H
.
ññH I
TextRes
ññI P
.
ññP Q+
GeoJsonReader_InvalidTypeName
ññQ n
,
ññn o
p0
ññp r
)
ññr s
;
ññs t
}
óó 	
internal
úú 
static
úú 
string
úú .
 GeoJsonReader_InvalidNullElement
úú ?
{
úú@ A
get
ùù 
{
ùù 
return
ûû 
	Microsoft
ûû  
.
ûû  !
Spatial
ûû! (
.
ûû( )
TextRes
ûû) 0
.
ûû0 1
	GetString
ûû1 :
(
ûû: ;
	Microsoft
ûû; D
.
ûûD E
Spatial
ûûE L
.
ûûL M
TextRes
ûûM T
.
ûûT U.
 GeoJsonReader_InvalidNullElement
ûûU u
)
ûûu v
;
ûûv w
}
üü 
}
†† 	
internal
•• 
static
•• 
string
•• +
GeoJsonReader_ExpectedNumeric
•• <
{
••= >
get
¶¶ 
{
¶¶ 
return
ßß 
	Microsoft
ßß  
.
ßß  !
Spatial
ßß! (
.
ßß( )
TextRes
ßß) 0
.
ßß0 1
	GetString
ßß1 :
(
ßß: ;
	Microsoft
ßß; D
.
ßßD E
Spatial
ßßE L
.
ßßL M
TextRes
ßßM T
.
ßßT U+
GeoJsonReader_ExpectedNumeric
ßßU r
)
ßßr s
;
ßßs t
}
®® 
}
©© 	
internal
ÆÆ 
static
ÆÆ 
string
ÆÆ )
GeoJsonReader_ExpectedArray
ÆÆ :
{
ÆÆ; <
get
ØØ 
{
ØØ 
return
∞∞ 
	Microsoft
∞∞  
.
∞∞  !
Spatial
∞∞! (
.
∞∞( )
TextRes
∞∞) 0
.
∞∞0 1
	GetString
∞∞1 :
(
∞∞: ;
	Microsoft
∞∞; D
.
∞∞D E
Spatial
∞∞E L
.
∞∞L M
TextRes
∞∞M T
.
∞∞T U)
GeoJsonReader_ExpectedArray
∞∞U p
)
∞∞p q
;
∞∞q r
}
±± 
}
≤≤ 	
internal
∑∑ 
static
∑∑ 
string
∑∑ *
GeoJsonReader_InvalidCrsType
∑∑ ;
(
∑∑; <
object
∑∑< B
p0
∑∑C E
)
∑∑E F
{
∑∑G H
return
∏∏ 
	Microsoft
∏∏ 
.
∏∏ 
Spatial
∏∏ $
.
∏∏$ %
TextRes
∏∏% ,
.
∏∏, -
	GetString
∏∏- 6
(
∏∏6 7
	Microsoft
∏∏7 @
.
∏∏@ A
Spatial
∏∏A H
.
∏∏H I
TextRes
∏∏I P
.
∏∏P Q*
GeoJsonReader_InvalidCrsType
∏∏Q m
,
∏∏m n
p0
∏∏o q
)
∏∏q r
;
∏∏r s
}
ππ 	
internal
ææ 
static
ææ 
string
ææ *
GeoJsonReader_InvalidCrsName
ææ ;
(
ææ; <
object
ææ< B
p0
ææC E
)
ææE F
{
ææG H
return
øø 
	Microsoft
øø 
.
øø 
Spatial
øø $
.
øø$ %
TextRes
øø% ,
.
øø, -
	GetString
øø- 6
(
øø6 7
	Microsoft
øø7 @
.
øø@ A
Spatial
øøA H
.
øøH I
TextRes
øøI P
.
øøP Q*
GeoJsonReader_InvalidCrsName
øøQ m
,
øøm n
p0
øøo q
)
øøq r
;
øør s
}
¿¿ 	
internal
≈≈ 
static
≈≈ 
string
≈≈ B
4JsonReaderExtensions_CannotReadPropertyValueAsString
≈≈ S
(
≈≈S T
object
≈≈T Z
p0
≈≈[ ]
,
≈≈] ^
object
≈≈_ e
p1
≈≈f h
)
≈≈h i
{
≈≈j k
return
∆∆ 
	Microsoft
∆∆ 
.
∆∆ 
Spatial
∆∆ $
.
∆∆$ %
TextRes
∆∆% ,
.
∆∆, -
	GetString
∆∆- 6
(
∆∆6 7
	Microsoft
∆∆7 @
.
∆∆@ A
Spatial
∆∆A H
.
∆∆H I
TextRes
∆∆I P
.
∆∆P QC
4JsonReaderExtensions_CannotReadPropertyValueAsString∆∆Q Ö
,∆∆Ö Ü
p0∆∆á â
,∆∆â ä
p1∆∆ã ç
)∆∆ç é
;∆∆é è
}
«« 	
internal
ÃÃ 
static
ÃÃ 
string
ÃÃ >
0JsonReaderExtensions_CannotReadValueAsJsonObject
ÃÃ O
(
ÃÃO P
object
ÃÃP V
p0
ÃÃW Y
)
ÃÃY Z
{
ÃÃ[ \
return
ÕÕ 
	Microsoft
ÕÕ 
.
ÕÕ 
Spatial
ÕÕ $
.
ÕÕ$ %
TextRes
ÕÕ% ,
.
ÕÕ, -
	GetString
ÕÕ- 6
(
ÕÕ6 7
	Microsoft
ÕÕ7 @
.
ÕÕ@ A
Spatial
ÕÕA H
.
ÕÕH I
TextRes
ÕÕI P
.
ÕÕP Q?
0JsonReaderExtensions_CannotReadValueAsJsonObjectÕÕQ Å
,ÕÕÅ Ç
p0ÕÕÉ Ö
)ÕÕÖ Ü
;ÕÕÜ á
}
ŒŒ 	
internal
”” 
static
”” 
string
”” >
0PlatformHelper_DateTimeOffsetMustContainTimeZone
”” O
(
””O P
object
””P V
p0
””W Y
)
””Y Z
{
””[ \
return
‘‘ 
	Microsoft
‘‘ 
.
‘‘ 
Spatial
‘‘ $
.
‘‘$ %
TextRes
‘‘% ,
.
‘‘, -
	GetString
‘‘- 6
(
‘‘6 7
	Microsoft
‘‘7 @
.
‘‘@ A
Spatial
‘‘A H
.
‘‘H I
TextRes
‘‘I P
.
‘‘P Q?
0PlatformHelper_DateTimeOffsetMustContainTimeZone‘‘Q Å
,‘‘Å Ç
p0‘‘É Ö
)‘‘Ö Ü
;‘‘Ü á
}
’’ 	
}
◊◊ 
internal
‹‹ 
static
‹‹ 
partial
‹‹ 
class
‹‹ !
Error
‹‹" '
{
‹‹( )
internal
·· 
static
·· 
	Exception
·· !
ArgumentNull
··" .
(
··. /
string
··/ 5
	paramName
··6 ?
)
··? @
{
··A B
return
‚‚ 
new
‚‚ #
ArgumentNullException
‚‚ ,
(
‚‚, -
	paramName
‚‚- 6
)
‚‚6 7
;
‚‚7 8
}
„„ 	
internal
ËË 
static
ËË 
	Exception
ËË ! 
ArgumentOutOfRange
ËË" 4
(
ËË4 5
string
ËË5 ;
	paramName
ËË< E
)
ËËE F
{
ËËG H
return
ÈÈ 
new
ÈÈ )
ArgumentOutOfRangeException
ÈÈ 2
(
ÈÈ2 3
	paramName
ÈÈ3 <
)
ÈÈ< =
;
ÈÈ= >
}
ÍÍ 	
internal
ÔÔ 
static
ÔÔ 
	Exception
ÔÔ !
NotImplemented
ÔÔ" 0
(
ÔÔ0 1
)
ÔÔ1 2
{
ÔÔ3 4
return
 
new
 %
NotImplementedException
 .
(
. /
)
/ 0
;
0 1
}
ÒÒ 	
internal
ˆˆ 
static
ˆˆ 
	Exception
ˆˆ !
NotSupported
ˆˆ" .
(
ˆˆ. /
)
ˆˆ/ 0
{
ˆˆ1 2
return
˜˜ 
new
˜˜ #
NotSupportedException
˜˜ ,
(
˜˜, -
)
˜˜- .
;
˜˜. /
}
¯¯ 	
}
˘˘ 
}˙˙ Ø
3D:\odata.net\src\AssemblyInfo\AssemblyInfoCommon.cs
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 2
)2 3
]3 4
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str X
)X Y
]Y Z
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str	 †
)
† °
]
° ¢
[   
assembly   	
:  	 

AssemblyCulture   
(   
$str   
)   
]   
["" 
assembly"" 	
:""	 
!
AssemblyConfiguration""  
(""  !
$str""! (
)""( )
]"") *
[(( 
assembly(( 	
:((	 

AssemblyProduct(( 
((( 
$str(( 6
)((6 7
]((7 8
[,, 
assembly,, 	
:,,	 

CLSCompliant,, 
(,, 
true,, 
),, 
],, 
[44 
assembly44 	
:44	 


ComVisible44 
(44 
false44 
)44 
]44 
[DD 
assemblyDD 	
:DD	 

SecurityTransparentDD 
]DD 
[WW 
assemblyWW 	
:WW	 
-
!NeutralResourcesLanguageAttributeWW
 +
(WW+ ,
$strWW, 3
)WW3 4
]WW4 5ì

^D:\odata.net\obj\AnyCPU\Debug\Microsoft.Spatial.csproj\.NETPortable\v4.5\AssemblyAttributes.cs
[ 
assembly 	
:	 

AssemblyDescription 
( 
$str 6
)6 7
]7 8
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 
 
AssemblyDefaultAlias 
(  
$str  7
)7 8
]8 9
[ 
assembly 	
:	 

AssemblyFileVersion 
( 
$str ,
), -
]- .
[ 
assembly 	
:	 
(
AssemblyInformationalVersion '
(' (
$str( 5
)5 6
]6 7
[		 
assembly		 	
:			 

AssemblyVersion		 
(		 
$str		 (
)		( )
]		) *
[

 
assembly

 	
:

	 
$
SatelliteContractVersion

 #
(

# $
$str

$ 1
)

1 2
]

2 3
[ 
assembly 	
:	 

AssemblyMetadata 
( 
$str )
,) *
$str+ 1
)1 2
]2 3